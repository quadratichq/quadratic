/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(5a1b4999493d49c857497ad481d73a737439f305)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var ee=["require","exports","vs/base/common/lifecycle","vs/editor/common/core/range","vs/base/common/event","vs/nls","vs/nls!vs/editor/editor.main","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/base/common/async","vs/css!vs/editor/editor.main","vs/platform/theme/common/themeService","vs/base/common/errors","vs/editor/common/core/position","vs/editor/browser/editorExtensions","vs/platform/contextkey/common/contextkey","vs/base/common/platform","vs/editor/common/modes","vs/base/common/arrays","vs/base/common/types","vs/editor/common/core/selection","vs/platform/theme/common/colorRegistry","vs/base/common/cancellation","vs/editor/common/editorContextKeys","vs/base/common/uri","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/browser/services/codeEditorService","vs/base/common/color","vs/editor/common/config/editorOptions","vs/editor/common/model/textModel","vs/base/browser/fastDomNode","vs/platform/registry/common/platform","vs/base/browser/browser","vs/platform/configuration/common/configuration","vs/platform/actions/common/actions","vs/base/common/objects","vs/editor/common/services/modeService","vs/editor/common/modes/languageConfigurationRegistry","vs/platform/notification/common/notification","vs/platform/keybinding/common/keybinding","vs/base/common/resources","vs/editor/common/services/modelService","vs/base/browser/ui/aria/aria","vs/editor/common/controller/cursorCommon","vs/base/browser/keyboardEvent","vs/base/common/map","vs/base/common/network","vs/editor/common/model","vs/editor/browser/view/viewPart","vs/base/common/actions","vs/editor/common/view/editorColorRegistry","vs/platform/opener/common/opener","vs/base/browser/ui/widget","vs/base/common/iterator","vs/base/common/keyCodes","vs/base/browser/mouseEvent","vs/base/browser/touch","vs/editor/common/core/editOperation","vs/platform/accessibility/common/accessibility","vs/platform/progress/common/progress","vs/editor/browser/config/configuration","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/viewModel/viewModel","vs/editor/common/standaloneStrings","vs/editor/common/services/resolverService","vs/editor/browser/core/editorState","vs/platform/theme/common/iconRegistry","vs/base/common/filters","vs/base/common/htmlContent","vs/platform/instantiation/common/extensions","vs/editor/common/services/editorWorkerService","vs/platform/contextview/browser/contextView","vs/platform/log/common/log","vs/platform/quickinput/common/quickInput","vs/platform/storage/common/storage","vs/base/common/linkedList","vs/base/common/path","vs/base/common/severity","vs/editor/common/modes/nullMode","vs/base/browser/ui/actionbar/actionbar","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/telemetry/common/telemetry","vs/base/common/functional","vs/base/common/stopwatch","vs/base/browser/event","vs/editor/common/core/stringBuilder","vs/editor/common/model/bracketPairs/bracketPairsTree/length","vs/editor/common/model/textModelEvents","vs/editor/common/core/lineTokens","vs/platform/clipboard/common/clipboardService","vs/platform/markers/common/markers","vs/editor/contrib/suggest/suggest","vs/base/common/decorators","vs/base/common/keybindings","vs/base/browser/globalMouseMoveMonitor","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/browser/view/dynamicViewOverlay","vs/platform/configuration/common/configurationRegistry","vs/editor/browser/core/markdownRenderer","vs/platform/quickinput/common/quickAccess","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/numbers","vs/base/common/hash","vs/base/common/iconLabels","vs/base/browser/ui/iconLabel/iconLabels","vs/base/common/mime","vs/base/browser/ui/sash/sash","vs/base/browser/ui/list/listWidget","vs/editor/common/controller/wordCharacterClassifier","vs/editor/browser/editorBrowser","vs/editor/common/model/bracketPairs/bracketPairsTree/smallImmutableSet","vs/editor/common/modes/languageConfiguration","vs/editor/common/view/renderingContext","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/common/viewModel/viewEventHandler","vs/editor/contrib/snippet/snippetParser","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/contrib/gotoSymbol/referencesModel","vs/editor/common/model/tokensStore","vs/editor/standalone/common/standaloneThemeService","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/editor/common/modes/modesRegistry","vs/editor/browser/editorDom","vs/platform/theme/common/styler","vs/platform/theme/common/theme","vs/platform/undoRedo/common/undoRedo","vs/editor/contrib/peekView/peekView","vs/base/common/idGenerator","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/uint","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/common/config/editorZoom","vs/editor/common/controller/cursorColumns","vs/editor/common/core/token","vs/editor/common/editorCommon","vs/editor/common/model/bracketPairs/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/common/model/wordHelper","vs/editor/common/modes/supports","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/codeAction/types","vs/editor/browser/services/bulkEditService","vs/editor/common/modes/languageFeatureRegistry","vs/editor/common/services/textResourceConfigurationService","vs/platform/instantiation/common/serviceCollection","vs/platform/layout/browser/layoutService","vs/editor/contrib/codeAction/codeAction","vs/editor/contrib/message/messageController","vs/platform/list/browser/listService","vs/editor/common/controller/cursorWordOperations","vs/editor/browser/controller/coreCommands","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/find/findModel","vs/base/common/lazy","vs/base/browser/canIUse","vs/base/common/extpath","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/common/labels","vs/base/browser/dnd","vs/base/browser/ui/checkbox/checkbox","vs/base/browser/ui/list/listView","vs/editor/common/config/fontInfo","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/modes/supports/richEditBrackets","vs/editor/common/standalone/standaloneEnums","vs/editor/common/view/viewEvents","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewModel/viewModelEventDispatcher","vs/editor/contrib/folding/foldingRanges","vs/editor/contrib/inlineCompletions/ghostText","vs/editor/contrib/inlineCompletions/inlineCompletionToGhostText","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/inputbox/inputBox","vs/base/common/keybindingLabels","vs/editor/common/services/markersDecorationService","vs/editor/contrib/parameterHints/provideSignatureHelp","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/commonEditorConfig","vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/common/commands/shiftCommand","vs/editor/browser/controller/mouseTarget","vs/editor/common/controller/cursorMoveOperations","vs/editor/common/controller/cursorDeleteOperations","vs/editor/common/controller/cursorTypeOperations","vs/editor/common/controller/cursorMoveCommands","vs/editor/contrib/inlineCompletions/inlineCompletionsModel","vs/platform/workspace/common/workspace","vs/editor/standalone/browser/simpleServices","vs/editor/contrib/snippet/snippetController2","vs/base/browser/iframe","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/assert","vs/base/common/collections","vs/base/common/glob","vs/base/common/marshalling","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/rgba","vs/editor/common/editorAction","vs/editor/common/model/bracketPairs/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/modes/unicodeTextModelHighlighter","vs/editor/common/standalone/standaloneBase","vs/editor/common/view/overviewZoneManager","vs/editor/common/viewModel/modelLineProjectionData","vs/editor/common/viewModel/prefixSumComputer","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/folding/syntaxRangeProvider","vs/editor/contrib/format/formattingEdit","vs/editor/contrib/gotoSymbol/link/clickLinkGesture","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/hover/hoverTypes","vs/editor/contrib/indentation/indentUtils","vs/editor/contrib/inlineCompletions/consts","vs/editor/contrib/inlineCompletions/utils","vs/editor/contrib/smartSelect/bracketSelections","vs/editor/contrib/suggest/resizable","vs/editor/standalone/common/monarch/monarchCommon","vs/base/browser/ui/findinput/findInputCheckboxes","vs/base/browser/ui/tree/objectTree","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/platform/instantiation/common/descriptors","vs/editor/common/model/bracketPairs/bracketPairsTree/tokenizer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/modes/textToHtmlTokenizer","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/contrib/documentSymbols/outlineModel","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/codelens","vs/editor/contrib/colorPicker/color","vs/editor/contrib/comment/blockCommentCommand","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/common/services/editorWorkerServiceImpl","vs/editor/contrib/suggest/suggestWidgetDetails","vs/editor/browser/viewParts/lines/viewLine","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/symbolIcons","vs/editor/standalone/browser/standaloneCodeServiceImpl","vs/editor/contrib/format/format","vs/editor/contrib/gotoSymbol/goToSymbol","vs/editor/contrib/hover/markdownHoverParticipant","vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/editor/common/controller/cursorAtomicMoveOperations","vs/editor/browser/view/viewUserInputEvents","vs/editor/common/controller/cursor","vs/editor/common/services/modelServiceImpl","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/codeAction/codeActionCommands","vs/editor/contrib/colorPicker/colorDetector","vs/editor/contrib/find/findController","vs/editor/contrib/wordOperations/wordOperations","vs/editor/contrib/gotoError/gotoError","vs/editor/contrib/gotoSymbol/peek/referencesController","vs/editor/contrib/gotoSymbol/goToCommands","vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/platform/workspace/common/workspaceTrust","vs/editor/contrib/unicodeHighlighter/unicodeHighlighter","vs/editor/standalone/browser/standaloneServices","vs/editor/contrib/snippet/snippetSession","vs/editor/contrib/suggest/suggestController","vs/editor/contrib/inlineCompletions/ghostTextController","vs/editor/contrib/hover/hover","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/navigator","vs/base/common/history","vs/base/common/process","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/common/comparers","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/fuzzyScorer","vs/base/common/search","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/markdownRenderer","vs/base/common/uuid","vs/base/parts/storage/common/storage","vs/base/worker/defaultWorkerFactory","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/base/browser/ui/table/tableWidget","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/bracketMatching","vs/css!vs/editor/contrib/codeAction/lightBulbWidget","vs/css!vs/editor/contrib/codelens/codelensWidget","vs/css!vs/editor/contrib/colorPicker/colorPicker","vs/css!vs/editor/contrib/dnd/dnd","vs/css!vs/editor/contrib/find/findWidget","vs/css!vs/editor/contrib/folding/folding","vs/css!vs/editor/contrib/gotoError/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/css!vs/editor/contrib/inlineCompletions/ghostText","vs/css!vs/editor/contrib/links/links","vs/css!vs/editor/contrib/message/messageController","vs/css!vs/editor/contrib/parameterHints/parameterHints","vs/css!vs/editor/contrib/peekView/media/peekViewWidget","vs/css!vs/editor/contrib/rename/renameInputField","vs/css!vs/editor/contrib/snippet/snippetSession","vs/css!vs/editor/contrib/suggest/media/suggest","vs/css!vs/editor/contrib/unicodeHighlighter/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/unicodeHighlighter","vs/css!vs/editor/contrib/zoneWidget/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/diff/diffComputer","vs/editor/common/model/bracketPairs/bracketPairs","vs/editor/common/model/bracketPairs/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairs/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairs/bracketPairsTree/parser","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/modes/languageSelector","vs/editor/common/modes/linkComputer","vs/editor/common/modes/supports/characterPair","vs/editor/common/modes/supports/indentRules","vs/editor/common/modes/supports/inplaceReplaceSupport","vs/editor/common/modes/supports/onEnter","vs/editor/common/modes/supports/electricCharacter","vs/editor/common/modes/supports/tokenization","vs/editor/common/modes/tokenizationRegistry","vs/editor/common/services/semanticTokensDto","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/common/view/viewContext","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/common/model/mirrorTextModel","vs/editor/common/services/editorSimpleWorker","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/moveCaretCommand","vs/editor/contrib/colorPicker/colorPickerModel","vs/editor/contrib/dnd/dragAndDropCommand","vs/editor/contrib/find/replaceAllCommand","vs/editor/contrib/find/replacePattern","vs/editor/contrib/folding/foldingModel","vs/editor/contrib/folding/intializingRangeProvider","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/copyLinesCommand","vs/editor/contrib/linesOperations/sortLinesCommand","vs/editor/contrib/smartSelect/wordSelections","vs/editor/contrib/suggest/completionModel","vs/editor/contrib/suggest/suggestCommitCharacters","vs/editor/contrib/suggest/suggestOvertypingCapturer","vs/editor/contrib/suggest/wordDistance","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/menu/menu","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/coreCommands","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/core/keybindingCancellation","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/commonEditorConfig","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/config/charWidthReader","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/modes/modesRegistry","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/view/editorColorRegistry","vs/nls!vs/editor/contrib/anchorSelect/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/caretOperations","vs/nls!vs/editor/contrib/caretOperations/transpose","vs/nls!vs/editor/contrib/clipboard/clipboard","vs/nls!vs/editor/contrib/codeAction/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/codelensController","vs/nls!vs/editor/contrib/colorPicker/colorPickerWidget","vs/nls!vs/editor/contrib/comment/comment","vs/nls!vs/editor/contrib/contextmenu/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/cursorUndo","vs/nls!vs/editor/contrib/find/findController","vs/nls!vs/editor/contrib/find/findWidget","vs/nls!vs/editor/contrib/folding/folding","vs/nls!vs/editor/contrib/folding/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/fontZoom","vs/nls!vs/editor/contrib/format/format","vs/nls!vs/editor/contrib/format/formatActions","vs/nls!vs/editor/contrib/gotoError/gotoError","vs/nls!vs/editor/contrib/gotoError/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/symbolNavigation","vs/nls!vs/editor/contrib/hover/hover","vs/nls!vs/editor/contrib/hover/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/indentation","vs/nls!vs/editor/contrib/inlineCompletions/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/nls!vs/editor/contrib/lineSelection/lineSelection","vs/nls!vs/editor/contrib/linesOperations/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/linkedEditing","vs/nls!vs/editor/contrib/links/links","vs/nls!vs/editor/contrib/message/messageController","vs/nls!vs/editor/contrib/multicursor/multicursor","vs/nls!vs/editor/contrib/parameterHints/parameterHints","vs/nls!vs/editor/contrib/parameterHints/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/peekView","vs/nls!vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/rename","vs/nls!vs/editor/contrib/rename/renameInputField","vs/nls!vs/editor/contrib/smartSelect/smartSelect","vs/nls!vs/editor/contrib/snippet/snippetController2","vs/nls!vs/editor/contrib/snippet/snippetVariables","vs/nls!vs/editor/contrib/suggest/suggest","vs/nls!vs/editor/contrib/suggest/suggestController","vs/nls!vs/editor/contrib/suggest/suggestWidget","vs/nls!vs/editor/contrib/suggest/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspaces/common/workspaces","vs/platform/browser/historyWidgetKeybindingHint","vs/platform/clipboard/browser/clipboardService","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/instantiation/common/graph","vs/editor/common/model/bracketPairs/bracketPairsTree/brackets","vs/editor/common/model/bracketPairs/bracketPairsTree/bracketPairsTree","vs/editor/common/model/bracketPairs/bracketPairsImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/model/textModelTokens","vs/editor/common/viewModel/modelLineProjection","vs/editor/contrib/folding/hiddenRangeModel","vs/editor/standalone/browser/colorizer","vs/editor/contrib/documentSymbols/documentSymbols","vs/editor/contrib/links/getLinks","vs/editor/contrib/comment/lineCommentCommand","vs/editor/contrib/parameterHints/parameterHintsModel","vs/editor/contrib/suggest/suggestAlternatives","vs/editor/contrib/suggest/wordContextKey","vs/platform/accessibility/browser/accessibilityService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/contextkey/browser/contextKeyService","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/contextview/browser/contextViewService","vs/editor/common/services/webWorker","vs/editor/contrib/gotoError/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/platform/quickinput/browser/pickerQuickAccess","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesRegistry","vs/editor/common/services/modeServiceImpl","vs/editor/contrib/hover/modesGlyphHover","vs/platform/configuration/common/configurationModels","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/codeLensCache","vs/editor/contrib/suggest/suggestMemory","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/commandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/model/bracketPairs/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsServiceImpl","vs/editor/contrib/colorPicker/colorPickerWidget","vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/editor/contrib/inlineCompletions/ghostTextWidget","vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/editor/contrib/rename/renameInputField","vs/editor/standalone/common/themes","vs/editor/browser/core/keybindingCancellation","vs/editor/browser/services/markerDecorations","vs/editor/contrib/anchorSelect/anchorSelect","vs/editor/contrib/caretOperations/caretOperations","vs/editor/contrib/clipboard/clipboard","vs/editor/contrib/codeAction/codeActionMenu","vs/editor/contrib/codeAction/codeActionModel","vs/editor/contrib/comment/comment","vs/editor/contrib/contextmenu/contextmenu","vs/editor/contrib/cursorUndo/cursorUndo","vs/editor/contrib/fontZoom/fontZoom","vs/editor/contrib/format/formatActions","vs/editor/contrib/gotoSymbol/symbolNavigation","vs/editor/contrib/hover/getHover","vs/editor/contrib/inlayHints/inlayHintsController","vs/editor/contrib/rename/rename","vs/editor/contrib/smartSelect/smartSelect","vs/editor/contrib/tokenization/tokenization","vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/browser/contextScopedHistoryWidget","vs/platform/contextview/browser/contextMenuService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputServiceImpl","vs/platform/severityIcon/common/severityIcon","vs/editor/browser/widget/diffReview","vs/editor/contrib/parameterHints/parameterHintsWidget","vs/editor/contrib/parameterHints/parameterHints","vs/editor/contrib/suggest/suggestWidgetRenderer","vs/editor/contrib/unicodeHighlighter/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/standaloneThemeServiceImpl","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/common/controller/cursorColumnSelection","vs/editor/browser/view/viewController","vs/editor/browser/view/viewImpl","vs/editor/common/controller/oneCursor","vs/editor/common/controller/cursorCollection","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/bracketMatching/bracketMatching","vs/editor/contrib/caretOperations/transpose","vs/editor/contrib/codeAction/lightBulbWidget","vs/editor/contrib/codeAction/codeActionUi","vs/editor/contrib/codeAction/codeActionContributions","vs/editor/contrib/codelens/codelensWidget","vs/editor/contrib/codelens/codelensController","vs/editor/contrib/dnd/dnd","vs/editor/contrib/find/findDecorations","vs/editor/contrib/find/findOptionsWidget","vs/editor/contrib/find/findState","vs/editor/contrib/find/findWidget","vs/editor/contrib/folding/foldingDecorations","vs/editor/contrib/folding/indentRangeProvider","vs/editor/contrib/folding/folding","vs/editor/contrib/hover/colorHoverParticipant","vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/editor/contrib/indentation/indentation","vs/editor/contrib/lineSelection/lineSelection","vs/editor/contrib/linesOperations/moveLinesCommand","vs/editor/contrib/linesOperations/linesOperations","vs/editor/contrib/linkedEditing/linkedEditing","vs/editor/contrib/links/links","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/suggest/suggestWidget","vs/editor/contrib/viewportSemanticTokens/viewportSemanticTokens","vs/editor/contrib/wordHighlighter/wordHighlighter","vs/editor/contrib/wordPartOperations/wordPartOperations","vs/editor/contrib/zoneWidget/zoneWidget","vs/editor/contrib/gotoError/gotoErrorWidget","vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/editor/contrib/hover/markerHoverParticipant","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/platform/workspaces/common/workspaces","vs/editor/contrib/snippet/snippetVariables","vs/editor/contrib/suggest/suggestModel","vs/editor/contrib/inlineCompletions/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/suggestWidgetPreviewModel","vs/editor/contrib/inlineCompletions/ghostTextModel","vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/editor/contrib/hover/modesContentHover","vs/editor/contrib/colorPicker/colorContributions","vs/editor/editor.all","vs/base/browser/dompurify/dompurify","vs/base/common/marked/marked","vs/editor/edcore.main"],te=function(q){for(var e=[],y=0,N=q.length;y<N;y++)e[y]=ee[q[y]];return e},si;(function(q){var e=function(){function N(){this._pendingLoads=0}return N.prototype.attachListeners=function(T,I,b,C){var p=function(){I.removeEventListener("load",h),I.removeEventListener("error",g)},h=function(i){p(),b()},g=function(i){p(),C(i)};I.addEventListener("load",h),I.addEventListener("error",g)},N.prototype._onLoad=function(T,I){this._pendingLoads--,I()},N.prototype._onLoadError=function(T,I,b){this._pendingLoads--,I(b)},N.prototype._insertLinkNode=function(T){this._pendingLoads++;var I=document.head||document.getElementsByTagName("head")[0];I.appendChild(T)},N.prototype.createLinkTag=function(T,I,b,C){var p=this,h=document.createElement("link");h.setAttribute("rel","stylesheet"),h.setAttribute("type","text/css"),h.setAttribute("data-name",T);var g=function(){return p._onLoad(T,b)},i=function(t){return p._onLoadError(T,C,t)};return this.attachListeners(T,h,g,i),h.setAttribute("href",I),h},N.prototype._linkTagExists=function(T,I){var b,C,p,h,g=document.getElementsByTagName("link");for(b=0,C=g.length;b<C;b++)if(p=g[b].getAttribute("data-name"),h=g[b].getAttribute("href"),p===T||h===I)return!0;return!1},N.prototype.load=function(T,I,b,C){if(this._linkTagExists(T,I)){b();return}var p=this.createLinkTag(T,I,b,C);this._insertLinkNode(p)},N}(),y=function(){function N(){this._cssLoader=new e}return N.prototype.load=function(T,I,b,C){C=C||{};var p=C["vs/css"]||{};if(p.disabled){b({});return}var h=I.toUrl(T+".css");this._cssLoader.load(T,h,function(g){b({})},function(g){typeof b.error=="function"&&b.error("Could not find "+h+" or it was empty")})},N}();q.CSSPlugin=y,define("vs/css",new y)})(si||(si={}));var ji=this&&this.__spreadArrays||function(){for(var q=0,e=0,y=arguments.length;e<y;e++)q+=arguments[e].length;for(var N=Array(q),T=0,e=0;e<y;e++)for(var I=arguments[e],b=0,C=I.length;b<C;b++,T++)N[T]=I[b];return N},oi;(function(q){var e=function(){function C(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(C.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!1,configurable:!0}),C.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},C}();function y(C,p,h){var g;return p.length===0?g=C:g=C.replace(/\{(\d+)\}/g,function(i,t){var r=t[0],c=p[r],l=i;return typeof c=="string"?l=c:(typeof c=="number"||typeof c=="boolean"||c===void 0||c===null)&&(l=String(c)),l}),h.isPseudo&&(g="\uFF3B"+g.replace(/[aouei]/g,"$&$&")+"\uFF3D"),g}function N(C,p){var h=C[p];return h||(h=C["*"],h)?h:null}function T(C,p,h){for(var g=[],i=3;i<arguments.length;i++)g[i-3]=arguments[i];return y(h,g,C)}function I(C,p){return function(h,g){var i=Array.prototype.slice.call(arguments,2);return y(C[h],i,p)}}var b=function(){function C(p){var h=this;this._env=p,this.localize=function(g,i){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return T.apply(void 0,ji([h._env,g,i],t))}}return C.prototype.setPseudoTranslation=function(p){this._env._isPseudo=p},C.prototype.create=function(p,h){return{localize:I(h[p],this._env)}},C.prototype.load=function(p,h,g,i){var t=this;if(i=i||{},!p||p.length===0)g({localize:this.localize});else{var r=i["vs/nls"]||{},c=r.availableLanguages?N(r.availableLanguages,p):null,l=".nls";c!==null&&c!==C.DEFAULT_TAG&&(l=l+"."+c);var a=function(s){Array.isArray(s)?s.localize=I(s,t._env):s.localize=I(s[p],t._env),g(s)};typeof r.loadBundle=="function"?r.loadBundle(p,c,function(s,o){s?h([p+".nls"],a):a(o)}):h([p+l],a)}},C.DEFAULT_TAG="i-default",C}();q.NLSPlugin=b,define("vs/nls",new b(new e))})(oi||(oi={}));/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function qi(q){if(Array.isArray(q)){for(var e=0,y=Array(q.length);e<q.length;e++)y[e]=q[e];return y}else return Array.from(q)}var $i=Object.hasOwnProperty,ri=Object.setPrototypeOf,Gi=Object.isFrozen,Zi=Object.getPrototypeOf,Yi=Object.getOwnPropertyDescriptor,nt=Object.freeze,gt=Object.seal,Xi=Object.create,ai=typeof Reflect!="undefined"&&Reflect,kt=ai.apply,xt=ai.construct;kt||(kt=function(e,y,N){return e.apply(y,N)}),nt||(nt=function(e){return e}),gt||(gt=function(e){return e}),xt||(xt=function(e,y){return new(Function.prototype.bind.apply(e,[null].concat(qi(y))))});var Qi=dt(Array.prototype.forEach),li=dt(Array.prototype.pop),wt=dt(Array.prototype.push),Ct=dt(String.prototype.toLowerCase),di=dt(String.prototype.match),pt=dt(String.prototype.replace),Ji=dt(String.prototype.indexOf),en=dt(String.prototype.trim),ft=dt(RegExp.prototype.test),ci=tn(TypeError);function dt(q){return function(e){for(var y=arguments.length,N=Array(y>1?y-1:0),T=1;T<y;T++)N[T-1]=arguments[T];return kt(q,e,N)}}function tn(q){return function(){for(var e=arguments.length,y=Array(e),N=0;N<e;N++)y[N]=arguments[N];return xt(q,y)}}function Xe(q,e){ri&&ri(q,null);for(var y=e.length;y--;){var N=e[y];if(typeof N=="string"){var T=Ct(N);T!==N&&(Gi(e)||(e[y]=T),N=T)}q[N]=!0}return q}function vt(q){var e=Xi(null),y=void 0;for(y in q)kt($i,q,[y])&&(e[y]=q[y]);return e}function Nt(q,e){for(;q!==null;){var y=Yi(q,e);if(y){if(y.get)return dt(y.get);if(typeof y.value=="function")return dt(y.value)}q=Zi(q)}function N(T){return console.warn("fallback value for",T),null}return N}var ui=nt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Vt=nt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),zt=nt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),nn=nt(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ht=nt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),sn=nt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),hi=nt(["#text"]),gi=nt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ut=nt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),fi=nt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Tt=nt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),on=gt(/\{\{[\s\S]*|[\s\S]*\}\}/gm),rn=gt(/<%[\s\S]*|[\s\S]*%>/gm),an=gt(/^data-[\-\w.\u00B7-\uFFFF]/),ln=gt(/^aria-[\-\w]+$/),dn=gt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),cn=gt(/^(?:\w+script|data):/i),un=gt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q};function ct(q){if(Array.isArray(q)){for(var e=0,y=Array(q.length);e<q.length;e++)y[e]=q[e];return y}else return Array.from(q)}var hn=function(){return typeof window=="undefined"?null:window},gn=function(e,y){if((typeof e=="undefined"?"undefined":yt(e))!=="object"||typeof e.createPolicy!="function")return null;var N=null,T="data-tt-policy-suffix";y.currentScript&&y.currentScript.hasAttribute(T)&&(N=y.currentScript.getAttribute(T));var I="dompurify"+(N?"#"+N:"");try{return e.createPolicy(I,{createHTML:function(C){return C}})}catch(b){return console.warn("TrustedTypes policy "+I+" could not be created."),null}};function mi(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hn(),e=function(we){return mi(we)};if(e.version="2.3.1",e.removed=[],!q||!q.document||q.document.nodeType!==9)return e.isSupported=!1,e;var y=q.document,N=q.document,T=q.DocumentFragment,I=q.HTMLTemplateElement,b=q.Node,C=q.Element,p=q.NodeFilter,h=q.NamedNodeMap,g=h===void 0?q.NamedNodeMap||q.MozNamedAttrMap:h,i=q.Text,t=q.Comment,r=q.DOMParser,c=q.trustedTypes,l=C.prototype,a=Nt(l,"cloneNode"),s=Nt(l,"nextSibling"),o=Nt(l,"childNodes"),n=Nt(l,"parentNode");if(typeof I=="function"){var d=N.createElement("template");d.content&&d.content.ownerDocument&&(N=d.content.ownerDocument)}var u=gn(c,y),f=u&&fe?u.createHTML(""):"",S=N,v=S.implementation,m=S.createNodeIterator,_=S.createDocumentFragment,L=S.getElementsByTagName,w=y.importNode,k={};try{k=vt(N).documentMode?N.documentMode:{}}catch(ye){}var D={};e.isSupported=typeof n=="function"&&v&&typeof v.createHTMLDocument!="undefined"&&k!==9;var M=on,O=rn,F=an,R=ln,A=cn,P=un,E=dn,B=null,V=Xe({},[].concat(ct(ui),ct(Vt),ct(zt),ct(Ht),ct(hi))),j=null,K=Xe({},[].concat(ct(gi),ct(Ut),ct(fi),ct(Tt))),Y=null,J=null,Z=!0,ie=!0,ne=!1,G=!1,W=!1,z=!1,U=!1,x=!1,X=!1,le=!0,fe=!1,$=!0,H=!0,Q=!1,re={},ce=null,oe=Xe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),de=null,pe=Xe({},["audio","video","img","source","image","track"]),_e=null,se=Xe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ue="http://www.w3.org/1998/Math/MathML",be="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml",Se=ge,ae=!1,he=null,De=N.createElement("form"),ke=function(we){he&&he===we||((!we||(typeof we=="undefined"?"undefined":yt(we))!=="object")&&(we={}),we=vt(we),B="ALLOWED_TAGS"in we?Xe({},we.ALLOWED_TAGS):V,j="ALLOWED_ATTR"in we?Xe({},we.ALLOWED_ATTR):K,_e="ADD_URI_SAFE_ATTR"in we?Xe(vt(se),we.ADD_URI_SAFE_ATTR):se,de="ADD_DATA_URI_TAGS"in we?Xe(vt(pe),we.ADD_DATA_URI_TAGS):pe,ce="FORBID_CONTENTS"in we?Xe({},we.FORBID_CONTENTS):oe,Y="FORBID_TAGS"in we?Xe({},we.FORBID_TAGS):{},J="FORBID_ATTR"in we?Xe({},we.FORBID_ATTR):{},re="USE_PROFILES"in we?we.USE_PROFILES:!1,Z=we.ALLOW_ARIA_ATTR!==!1,ie=we.ALLOW_DATA_ATTR!==!1,ne=we.ALLOW_UNKNOWN_PROTOCOLS||!1,G=we.SAFE_FOR_TEMPLATES||!1,W=we.WHOLE_DOCUMENT||!1,x=we.RETURN_DOM||!1,X=we.RETURN_DOM_FRAGMENT||!1,le=we.RETURN_DOM_IMPORT!==!1,fe=we.RETURN_TRUSTED_TYPE||!1,U=we.FORCE_BODY||!1,$=we.SANITIZE_DOM!==!1,H=we.KEEP_CONTENT!==!1,Q=we.IN_PLACE||!1,E=we.ALLOWED_URI_REGEXP||E,Se=we.NAMESPACE||ge,G&&(ie=!1),X&&(x=!0),re&&(B=Xe({},[].concat(ct(hi))),j=[],re.html===!0&&(Xe(B,ui),Xe(j,gi)),re.svg===!0&&(Xe(B,Vt),Xe(j,Ut),Xe(j,Tt)),re.svgFilters===!0&&(Xe(B,zt),Xe(j,Ut),Xe(j,Tt)),re.mathMl===!0&&(Xe(B,Ht),Xe(j,fi),Xe(j,Tt))),we.ADD_TAGS&&(B===V&&(B=vt(B)),Xe(B,we.ADD_TAGS)),we.ADD_ATTR&&(j===K&&(j=vt(j)),Xe(j,we.ADD_ATTR)),we.ADD_URI_SAFE_ATTR&&Xe(_e,we.ADD_URI_SAFE_ATTR),we.FORBID_CONTENTS&&(ce===oe&&(ce=vt(ce)),Xe(ce,we.FORBID_CONTENTS)),H&&(B["#text"]=!0),W&&Xe(B,["html","head","body"]),B.table&&(Xe(B,["tbody"]),delete Y.tbody),nt&&nt(we),he=we)},Ve=Xe({},["mi","mo","mn","ms","mtext"]),Fe=Xe({},["foreignobject","desc","title","annotation-xml"]),xe=Xe({},Vt);Xe(xe,zt),Xe(xe,nn);var Ze=Xe({},Ht);Xe(Ze,sn);var je=function(we){var Oe=n(we);(!Oe||!Oe.tagName)&&(Oe={namespaceURI:ge,tagName:"template"});var Re=Ct(we.tagName),We=Ct(Oe.tagName);if(we.namespaceURI===be)return Oe.namespaceURI===ge?Re==="svg":Oe.namespaceURI===ue?Re==="svg"&&(We==="annotation-xml"||Ve[We]):Boolean(xe[Re]);if(we.namespaceURI===ue)return Oe.namespaceURI===ge?Re==="math":Oe.namespaceURI===be?Re==="math"&&Fe[We]:Boolean(Ze[Re]);if(we.namespaceURI===ge){if(Oe.namespaceURI===be&&!Fe[We]||Oe.namespaceURI===ue&&!Ve[We])return!1;var Ke=Xe({},["title","style","font","a","script"]);return!Ze[Re]&&(Ke[Re]||!xe[Re])}return!1},$e=function(we){wt(e.removed,{element:we});try{we.parentNode.removeChild(we)}catch(Oe){try{we.outerHTML=f}catch(Re){we.remove()}}},Le=function(we,Oe){try{wt(e.removed,{attribute:Oe.getAttributeNode(we),from:Oe})}catch(Re){wt(e.removed,{attribute:null,from:Oe})}if(Oe.removeAttribute(we),we==="is"&&!j[we])if(x||X)try{$e(Oe)}catch(Re){}else try{Oe.setAttribute(we,"")}catch(Re){}},Ee=function(we){var Oe=void 0,Re=void 0;if(U)we="<remove></remove>"+we;else{var We=di(we,/^[\r\n\t ]+/);Re=We&&We[0]}var Ke=u?u.createHTML(we):we;if(Se===ge)try{Oe=new r().parseFromString(Ke,"text/html")}catch(Ge){}if(!Oe||!Oe.documentElement){Oe=v.createDocument(Se,"template",null);try{Oe.documentElement.innerHTML=ae?"":Ke}catch(Ge){}}var He=Oe.body||Oe.documentElement;return we&&Re&&He.insertBefore(N.createTextNode(Re),He.childNodes[0]||null),Se===ge?L.call(Oe,W?"html":"body")[0]:W?Oe.documentElement:He},Pe=function(we){return m.call(we.ownerDocument||we,we,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT,null,!1)},ze=function(we){return we instanceof i||we instanceof t?!1:typeof we.nodeName!="string"||typeof we.textContent!="string"||typeof we.removeChild!="function"||!(we.attributes instanceof g)||typeof we.removeAttribute!="function"||typeof we.setAttribute!="function"||typeof we.namespaceURI!="string"||typeof we.insertBefore!="function"},Te=function(we){return(typeof b=="undefined"?"undefined":yt(b))==="object"?we instanceof b:we&&(typeof we=="undefined"?"undefined":yt(we))==="object"&&typeof we.nodeType=="number"&&typeof we.nodeName=="string"},Ne=function(we,Oe,Re){!D[we]||Qi(D[we],function(We){We.call(e,Oe,Re,he)})},Me=function(we){var Oe=void 0;if(Ne("beforeSanitizeElements",we,null),ze(we)||di(we.nodeName,/[\u0080-\uFFFF]/))return $e(we),!0;var Re=Ct(we.nodeName);if(Ne("uponSanitizeElement",we,{tagName:Re,allowedTags:B}),!Te(we.firstElementChild)&&(!Te(we.content)||!Te(we.content.firstElementChild))&&ft(/<[/\w]/g,we.innerHTML)&&ft(/<[/\w]/g,we.textContent)||Re==="select"&&ft(/<template/i,we.innerHTML))return $e(we),!0;if(!B[Re]||Y[Re]){if(H&&!ce[Re]){var We=n(we)||we.parentNode,Ke=o(we)||we.childNodes;if(Ke&&We)for(var He=Ke.length,Ge=He-1;Ge>=0;--Ge)We.insertBefore(a(Ke[Ge],!0),s(we))}return $e(we),!0}return we instanceof C&&!je(we)||(Re==="noscript"||Re==="noembed")&&ft(/<\/no(script|embed)/i,we.innerHTML)?($e(we),!0):(G&&we.nodeType===3&&(Oe=we.textContent,Oe=pt(Oe,M," "),Oe=pt(Oe,O," "),we.textContent!==Oe&&(wt(e.removed,{element:we.cloneNode()}),we.textContent=Oe)),Ne("afterSanitizeElements",we,null),!1)},me=function(we,Oe,Re){if($&&(Oe==="id"||Oe==="name")&&(Re in N||Re in De))return!1;if(!(ie&&!J[Oe]&&ft(F,Oe))){if(!(Z&&ft(R,Oe))){if(!j[Oe]||J[Oe])return!1;if(!_e[Oe]){if(!ft(E,pt(Re,P,""))){if(!((Oe==="src"||Oe==="xlink:href"||Oe==="href")&&we!=="script"&&Ji(Re,"data:")===0&&de[we])){if(!(ne&&!ft(A,pt(Re,P,"")))){if(Re)return!1}}}}}}return!0},ve=function(we){var Oe=void 0,Re=void 0,We=void 0,Ke=void 0;Ne("beforeSanitizeAttributes",we,null);var He=we.attributes;if(!!He){var Ge={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j};for(Ke=He.length;Ke--;){Oe=He[Ke];var qe=Oe,Ue=qe.name,Qe=qe.namespaceURI;if(Re=en(Oe.value),We=Ct(Ue),Ge.attrName=We,Ge.attrValue=Re,Ge.keepAttr=!0,Ge.forceKeepAttr=void 0,Ne("uponSanitizeAttribute",we,Ge),Re=Ge.attrValue,!Ge.forceKeepAttr&&(Le(Ue,we),!!Ge.keepAttr)){if(ft(/\/>/i,Re)){Le(Ue,we);continue}G&&(Re=pt(Re,M," "),Re=pt(Re,O," "));var Ye=we.nodeName.toLowerCase();if(!!me(Ye,We,Re))try{Qe?we.setAttributeNS(Qe,Ue,Re):we.setAttribute(Ue,Re),li(e.removed)}catch(et){}}}Ne("afterSanitizeAttributes",we,null)}},Ie=function ye(we){var Oe=void 0,Re=Pe(we);for(Ne("beforeSanitizeShadowDOM",we,null);Oe=Re.nextNode();)Ne("uponSanitizeShadowNode",Oe,null),!Me(Oe)&&(Oe.content instanceof T&&ye(Oe.content),ve(Oe));Ne("afterSanitizeShadowDOM",we,null)};return e.sanitize=function(ye,we){var Oe=void 0,Re=void 0,We=void 0,Ke=void 0,He=void 0;if(ae=!ye,ae&&(ye="<!-->"),typeof ye!="string"&&!Te(ye)){if(typeof ye.toString!="function")throw ci("toString is not a function");if(ye=ye.toString(),typeof ye!="string")throw ci("dirty is not a string, aborting")}if(!e.isSupported){if(yt(q.toStaticHTML)==="object"||typeof q.toStaticHTML=="function"){if(typeof ye=="string")return q.toStaticHTML(ye);if(Te(ye))return q.toStaticHTML(ye.outerHTML)}return ye}if(z||ke(we),e.removed=[],typeof ye=="string"&&(Q=!1),!Q)if(ye instanceof b)Oe=Ee("<!---->"),Re=Oe.ownerDocument.importNode(ye,!0),Re.nodeType===1&&Re.nodeName==="BODY"||Re.nodeName==="HTML"?Oe=Re:Oe.appendChild(Re);else{if(!x&&!G&&!W&&ye.indexOf("<")===-1)return u&&fe?u.createHTML(ye):ye;if(Oe=Ee(ye),!Oe)return x?null:f}Oe&&U&&$e(Oe.firstChild);for(var Ge=Pe(Q?ye:Oe);We=Ge.nextNode();)We.nodeType===3&&We===Ke||Me(We)||(We.content instanceof T&&Ie(We.content),ve(We),Ke=We);if(Ke=null,Q)return ye;if(x){if(X)for(He=_.call(Oe.ownerDocument);Oe.firstChild;)He.appendChild(Oe.firstChild);else He=Oe;return le&&(He=w.call(y,He,!0)),He}var qe=W?Oe.outerHTML:Oe.innerHTML;return G&&(qe=pt(qe,M," "),qe=pt(qe,O," ")),u&&fe?u.createHTML(qe):qe},e.setConfig=function(ye){ke(ye),z=!0},e.clearConfig=function(){he=null,z=!1},e.isValidAttribute=function(ye,we,Oe){he||ke({});var Re=Ct(ye),We=Ct(we);return me(Re,We,Oe)},e.addHook=function(ye,we){typeof we=="function"&&(D[ye]=D[ye]||[],wt(D[ye],we))},e.removeHook=function(ye){D[ye]&&li(D[ye])},e.removeHooks=function(ye){D[ye]&&(D[ye]=[])},e.removeAllHooks=function(){D={}},e}var fn=mi();define("vs/base/browser/dompurify/dompurify",function(){return fn}),define(ee[32],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class y{constructor(I){this.domNode=I,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(I){this._maxWidth!==I&&(this._maxWidth=I,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(I){this._width!==I&&(this._width=I,this.domNode.style.width=this._width+"px")}setHeight(I){this._height!==I&&(this._height=I,this.domNode.style.height=this._height+"px")}setTop(I){this._top!==I&&(this._top=I,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(I){this._left!==I&&(this._left=I,this.domNode.style.left=this._left+"px")}setBottom(I){this._bottom!==I&&(this._bottom=I,this.domNode.style.bottom=this._bottom+"px")}setRight(I){this._right!==I&&(this._right=I,this.domNode.style.right=this._right+"px")}setFontFamily(I){this._fontFamily!==I&&(this._fontFamily=I,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(I){this._fontWeight!==I&&(this._fontWeight=I,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(I){this._fontSize!==I&&(this._fontSize=I,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(I){this._fontFeatureSettings!==I&&(this._fontFeatureSettings=I,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(I){this._lineHeight!==I&&(this._lineHeight=I,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(I){this._letterSpacing!==I&&(this._letterSpacing=I,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(I){this._className!==I&&(this._className=I,this.domNode.className=this._className)}toggleClassName(I,b){this.domNode.classList.toggle(I,b),this._className=this.domNode.className}setDisplay(I){this._display!==I&&(this._display=I,this.domNode.style.display=this._display)}setPosition(I){this._position!==I&&(this._position=I,this.domNode.style.position=this._position)}setVisibility(I){this._visibility!==I&&(this._visibility=I,this.domNode.style.visibility=this._visibility)}setBackgroundColor(I){this._backgroundColor!==I&&(this._backgroundColor=I,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(I){this._layerHint!==I&&(this._layerHint=I,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(I){this._boxShadow!==I&&(this._boxShadow=I,this.domNode.style.boxShadow=I)}setContain(I){this._contain!==I&&(this._contain=I,this.domNode.style.contain=this._contain)}setAttribute(I,b){this.domNode.setAttribute(I,b)}removeAttribute(I){this.domNode.removeAttribute(I)}appendChild(I){this.domNode.appendChild(I.domNode)}removeChild(I){this.domNode.removeChild(I.domNode)}}e.FastDomNode=y;function N(T){return new y(T)}e.createFastDomNode=N}),define(ee[204],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let y=!1,N=null;function T(b){if(!b.parent||b.parent===b)return null;try{let C=b.location,p=b.parent.location;if(C.origin!=="null"&&p.origin!=="null"&&C.origin!==p.origin)return y=!0,null}catch(C){return y=!0,null}return b.parent}class I{static getSameOriginWindowChain(){if(!N){N=[];let C=window,p;do p=T(C),p?N.push({window:C,iframeElement:C.frameElement||null}):N.push({window:C,iframeElement:null}),C=p;while(C)}return N.slice(0)}static hasDifferentOriginAncestor(){return N||this.getSameOriginWindowChain(),y}static getPositionOfChildWindowRelativeToAncestorWindow(C,p){if(!p||C===p)return{top:0,left:0};let h=0,g=0,i=this.getSameOriginWindowChain();for(const t of i){if(h+=t.window.scrollY,g+=t.window.scrollX,t.window===p||!t.iframeElement)break;let r=t.iframeElement.getBoundingClientRect();h+=r.top,g+=r.left}return{top:h,left:g}}}e.IframeUtils=I}),define(ee[300],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class y extends Error{constructor(T,I){super(`ListError [${T}] ${I}`)}}e.ListError=y}),define(ee[301],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class y{constructor(T){this.spliceables=T}splice(T,I,b){this.spliceables.forEach(C=>C.splice(T,I,b))}}e.CombinedSpliceable=y}),define(ee[205],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const y=20;class N{constructor(I,b,C,p,h,g){this._scrollbarSize=Math.round(b),this._oppositeScrollbarSize=Math.round(C),this._arrowSize=Math.round(I),this._visibleSize=p,this._scrollSize=h,this._scrollPosition=g,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new N(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(I){const b=Math.round(I);return this._visibleSize!==b?(this._visibleSize=b,this._refreshComputedValues(),!0):!1}setScrollSize(I){const b=Math.round(I);return this._scrollSize!==b?(this._scrollSize=b,this._refreshComputedValues(),!0):!1}setScrollPosition(I){const b=Math.round(I);return this._scrollPosition!==b?(this._scrollPosition=b,this._refreshComputedValues(),!0):!1}setScrollbarSize(I){this._scrollbarSize=Math.round(I)}setOppositeScrollbarSize(I){this._oppositeScrollbarSize=Math.round(I)}static _computeValues(I,b,C,p,h){const g=Math.max(0,C-I),i=Math.max(0,g-2*b),t=p>0&&p>C;if(!t)return{computedAvailableSize:Math.round(g),computedIsNeeded:t,computedSliderSize:Math.round(i),computedSliderRatio:0,computedSliderPosition:0};const r=Math.round(Math.max(y,Math.floor(C*i/p))),c=(i-r)/(p-C),l=h*c;return{computedAvailableSize:Math.round(g),computedIsNeeded:t,computedSliderSize:Math.round(r),computedSliderRatio:c,computedSliderPosition:Math.round(l)}}_refreshComputedValues(){const I=N._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=I.computedAvailableSize,this._computedIsNeeded=I.computedIsNeeded,this._computedSliderSize=I.computedSliderSize,this._computedSliderRatio=I.computedSliderRatio,this._computedSliderPosition=I.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(I){if(!this._computedIsNeeded)return 0;const b=I-this._arrowSize-this._computedSliderSize/2;return Math.round(b/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(I){if(!this._computedIsNeeded)return 0;const b=I-this._arrowSize;let C=this._scrollPosition;return b<this._computedSliderPosition?C-=this._visibleSize:C+=this._visibleSize,C}getDesiredScrollPositionFromDelta(I){if(!this._computedIsNeeded)return 0;const b=this._computedSliderPosition+I;return Math.round(b/this._computedSliderRatio)}}e.ScrollbarState=N}),define(ee[103],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var y;(function(I){I[I.Unknown=0]="Unknown",I[I.Twistie=1]="Twistie",I[I.Element=2]="Element"})(y=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class N extends Error{constructor(b,C){super(`TreeError [${b}] ${C}`)}}e.TreeError=N;class T{constructor(b){this.fn=b,this._map=new WeakMap}map(b){let C=this._map.get(b);return C||(C=this.fn(b),this._map.set(b,C)),C}}e.WeakMapper=T}),define(ee[19],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.splice=e.insertInto=e.asArray=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.flatten=e.firstOrDefault=e.lastIndex=e.findLast=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function y(_,L=0){return _[_.length-(1+L)]}e.tail=y;function N(_){if(_.length===0)throw new Error("Invalid tail call");return[_.slice(0,_.length-1),_[_.length-1]]}e.tail2=N;function T(_,L,w=(k,D)=>k===D){if(_===L)return!0;if(!_||!L||_.length!==L.length)return!1;for(let k=0,D=_.length;k<D;k++)if(!w(_[k],L[k]))return!1;return!0}e.equals=T;function I(_,L,w){let k=0,D=_.length-1;for(;k<=D;){const M=(k+D)/2|0,O=w(_[M],L);if(O<0)k=M+1;else if(O>0)D=M-1;else return M}return-(k+1)}e.binarySearch=I;function b(_,L){let w=0,k=_.length;if(k===0)return 0;for(;w<k;){const D=Math.floor((w+k)/2);L(_[D])?k=D:w=D+1}return w}e.findFirstInSorted=b;function C(_,L,w){if(_=_|0,_>=L.length)throw new TypeError("invalid index");let k=L[Math.floor(L.length*Math.random())],D=[],M=[],O=[];for(let F of L){const R=w(F,k);R<0?D.push(F):R>0?M.push(F):O.push(F)}return _<D.length?C(_,D,w):_<D.length+O.length?O[0]:C(_-(D.length+O.length),M,w)}e.quickSelect=C;function p(_,L){const w=[];let k;for(const D of _.slice(0).sort(L))!k||L(k[0],D)!==0?(k=[D],w.push(k)):k.push(D);return w}e.groupBy=p;function h(_){return _.filter(L=>!!L)}e.coalesce=h;function g(_){return!Array.isArray(_)||_.length===0}e.isFalsyOrEmpty=g;function i(_){return Array.isArray(_)&&_.length>0}e.isNonEmptyArray=i;function t(_,L=w=>w){const w=new Set;return _.filter(k=>{const D=L(k);return w.has(D)?!1:(w.add(D),!0)})}e.distinct=t;function r(_,L){const w=c(_,L);if(w!==-1)return _[w]}e.findLast=r;function c(_,L){for(let w=_.length-1;w>=0;w--){const k=_[w];if(L(k))return w}return-1}e.lastIndex=c;function l(_,L){return _.length>0?_[0]:L}e.firstOrDefault=l;function a(_){return[].concat(..._)}e.flatten=a;function s(_,L){let w=typeof L=="number"?_:0;typeof L=="number"?w=_:(w=0,L=_);const k=[];if(w<=L)for(let D=w;D<L;D++)k.push(D);else for(let D=w;D>L;D--)k.push(D);return k}e.range=s;function o(_,L,w){const k=_.slice(0,L),D=_.slice(L);return k.concat(w,D)}e.arrayInsert=o;function n(_,L){const w=_.indexOf(L);w>-1&&(_.splice(w,1),_.unshift(L))}e.pushToStart=n;function d(_,L){const w=_.indexOf(L);w>-1&&(_.splice(w,1),_.push(L))}e.pushToEnd=d;function u(_){return Array.isArray(_)?_:[_]}e.asArray=u;function f(_,L,w){const k=v(_,L),D=_.length,M=w.length;_.length=D+M;for(let O=D-1;O>=k;O--)_[O+M]=_[O];for(let O=0;O<M;O++)_[O+k]=w[O]}e.insertInto=f;function S(_,L,w,k){const D=v(_,L),M=_.splice(D,w);return f(_,D,k),M}e.splice=S;function v(_,L){return L<0?Math.max(L+_.length,0):Math.min(L,_.length)}class m{constructor(L){this.items=L,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(L){let w=this.firstIdx;for(;w<this.items.length&&L(this.items[w]);)w++;const k=w===this.firstIdx?null:this.items.slice(this.firstIdx,w);return this.firstIdx=w,k}takeFromEndWhile(L){let w=this.lastIdx;for(;w>=0&&L(this.items[w]);)w--;const k=w===this.lastIdx?null:this.items.slice(w+1,this.lastIdx+1);return this.lastIdx=w,k}peek(){return this.items[this.firstIdx]}dequeue(){const L=this.items[this.firstIdx];return this.firstIdx++,L}takeCount(L){const w=this.items.slice(this.firstIdx,this.firstIdx+L);return this.firstIdx+=L,w}}e.ArrayQueue=m}),define(ee[206],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function y(N,T){if(!N)throw new Error(T?`Assertion failed (${T})`:"Assertion Failed")}e.ok=y}),define(ee[104],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const y=typeof Buffer!="undefined";let N;class T{constructor(t){this.buffer=t,this.byteLength=this.buffer.byteLength}static wrap(t){return y&&!Buffer.isBuffer(t)&&(t=Buffer.from(t.buffer,t.byteOffset,t.byteLength)),new T(t)}toString(){return y?this.buffer.toString():(N||(N=new TextDecoder),N.decode(this.buffer))}}e.VSBuffer=T;function I(i,t){return i[t+0]<<0>>>0|i[t+1]<<8>>>0}e.readUInt16LE=I;function b(i,t,r){i[r+0]=t&255,t=t>>>8,i[r+1]=t&255}e.writeUInt16LE=b;function C(i,t){return i[t]*Math.pow(2,24)+i[t+1]*Math.pow(2,16)+i[t+2]*Math.pow(2,8)+i[t+3]}e.readUInt32BE=C;function p(i,t,r){i[r+3]=t,t=t>>>8,i[r+2]=t,t=t>>>8,i[r+1]=t,t=t>>>8,i[r]=t}e.writeUInt32BE=p;function h(i,t){return i[t]}e.readUInt8=h;function g(i,t,r){i[r]=t}e.writeUInt8=g}),define(ee[207],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.forEach=void 0;const y=Object.prototype.hasOwnProperty;function N(I,b){for(let C in I)if(y.call(I,C)&&b({key:C,value:I[C]},function(){delete I[C]})===!1)return}e.forEach=N;class T{constructor(){this.map=new Map}add(b,C){let p=this.map.get(b);p||(p=new Set,this.map.set(b,p)),p.add(C)}delete(b,C){const p=this.map.get(b);!p||(p.delete(C),p.size===0&&this.map.delete(b))}forEach(b,C){const p=this.map.get(b);!p||p.forEach(C)}}e.SetMap=T}),define(ee[29],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function y(C,p){const h=Math.pow(10,p);return Math.round(C*h)/h}class N{constructor(p,h,g,i=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,p))|0,this.g=Math.min(255,Math.max(0,h))|0,this.b=Math.min(255,Math.max(0,g))|0,this.a=y(Math.max(Math.min(1,i),0),3)}static equals(p,h){return p.r===h.r&&p.g===h.g&&p.b===h.b&&p.a===h.a}}e.RGBA=N;class T{constructor(p,h,g,i){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,p),0)|0,this.s=y(Math.max(Math.min(1,h),0),3),this.l=y(Math.max(Math.min(1,g),0),3),this.a=y(Math.max(Math.min(1,i),0),3)}static equals(p,h){return p.h===h.h&&p.s===h.s&&p.l===h.l&&p.a===h.a}static fromRGBA(p){const h=p.r/255,g=p.g/255,i=p.b/255,t=p.a,r=Math.max(h,g,i),c=Math.min(h,g,i);let l=0,a=0;const s=(c+r)/2,o=r-c;if(o>0){switch(a=Math.min(s<=.5?o/(2*s):o/(2-2*s),1),r){case h:l=(g-i)/o+(g<i?6:0);break;case g:l=(i-h)/o+2;break;case i:l=(h-g)/o+4;break}l*=60,l=Math.round(l)}return new T(l,a,s,t)}static _hue2rgb(p,h,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?p+(h-p)*6*g:g<1/2?h:g<2/3?p+(h-p)*(2/3-g)*6:p}static toRGBA(p){const h=p.h/360,{s:g,l:i,a:t}=p;let r,c,l;if(g===0)r=c=l=i;else{const a=i<.5?i*(1+g):i+g-i*g,s=2*i-a;r=T._hue2rgb(s,a,h+1/3),c=T._hue2rgb(s,a,h),l=T._hue2rgb(s,a,h-1/3)}return new N(Math.round(r*255),Math.round(c*255),Math.round(l*255),t)}}e.HSLA=T;class I{constructor(p,h,g,i){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,p),0)|0,this.s=y(Math.max(Math.min(1,h),0),3),this.v=y(Math.max(Math.min(1,g),0),3),this.a=y(Math.max(Math.min(1,i),0),3)}static equals(p,h){return p.h===h.h&&p.s===h.s&&p.v===h.v&&p.a===h.a}static fromRGBA(p){const h=p.r/255,g=p.g/255,i=p.b/255,t=Math.max(h,g,i),r=Math.min(h,g,i),c=t-r,l=t===0?0:c/t;let a;return c===0?a=0:t===h?a=((g-i)/c%6+6)%6:t===g?a=(i-h)/c+2:a=(h-g)/c+4,new I(Math.round(a*60),l,t,p.a)}static toRGBA(p){const{h,s:g,v:i,a:t}=p,r=i*g,c=r*(1-Math.abs(h/60%2-1)),l=i-r;let[a,s,o]=[0,0,0];return h<60?(a=r,s=c):h<120?(a=c,s=r):h<180?(s=r,o=c):h<240?(s=c,o=r):h<300?(a=c,o=r):h<=360&&(a=r,o=c),a=Math.round((a+l)*255),s=Math.round((s+l)*255),o=Math.round((o+l)*255),new N(a,s,o,t)}}e.HSVA=I;class b{constructor(p){if(p)if(p instanceof N)this.rgba=p;else if(p instanceof T)this._hsla=p,this.rgba=T.toRGBA(p);else if(p instanceof I)this._hsva=p,this.rgba=I.toRGBA(p);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(p){return b.Format.CSS.parseHex(p)||b.red}get hsla(){return this._hsla?this._hsla:T.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:I.fromRGBA(this.rgba)}equals(p){return!!p&&N.equals(this.rgba,p.rgba)&&T.equals(this.hsla,p.hsla)&&I.equals(this.hsva,p.hsva)}getRelativeLuminance(){const p=b._relativeLuminanceForComponent(this.rgba.r),h=b._relativeLuminanceForComponent(this.rgba.g),g=b._relativeLuminanceForComponent(this.rgba.b),i=.2126*p+.7152*h+.0722*g;return y(i,4)}static _relativeLuminanceForComponent(p){const h=p/255;return h<=.03928?h/12.92:Math.pow((h+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(p){const h=this.getRelativeLuminance(),g=p.getRelativeLuminance();return h>g}isDarkerThan(p){const h=this.getRelativeLuminance(),g=p.getRelativeLuminance();return h<g}lighten(p){return new b(new T(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*p,this.hsla.a))}darken(p){return new b(new T(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*p,this.hsla.a))}transparent(p){const{r:h,g,b:i,a:t}=this.rgba;return new b(new N(h,g,i,t*p))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new b(new N(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=b.Format.CSS.format(this)),this._toString}static getLighterColor(p,h,g){if(p.isLighterThan(h))return p;g=g||.5;const i=p.getRelativeLuminance(),t=h.getRelativeLuminance();return g=g*(t-i)/t,p.lighten(g)}static getDarkerColor(p,h,g){if(p.isDarkerThan(h))return p;g=g||.5;const i=p.getRelativeLuminance(),t=h.getRelativeLuminance();return g=g*(i-t)/i,p.darken(g)}}e.Color=b,b.white=new b(new N(255,255,255,1)),b.black=new b(new N(0,0,0,1)),b.red=new b(new N(255,0,0,1)),b.blue=new b(new N(0,0,255,1)),b.cyan=new b(new N(0,255,255,1)),b.lightgrey=new b(new N(211,211,211,1)),b.transparent=new b(new N(0,0,0,0)),function(C){let p;(function(h){let g;(function(i){function t(f){return f.rgba.a===1?`rgb(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b})`:C.Format.CSS.formatRGBA(f)}i.formatRGB=t;function r(f){return`rgba(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b}, ${+f.rgba.a.toFixed(2)})`}i.formatRGBA=r;function c(f){return f.hsla.a===1?`hsl(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%)`:C.Format.CSS.formatHSLA(f)}i.formatHSL=c;function l(f){return`hsla(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%, ${f.hsla.a.toFixed(2)})`}i.formatHSLA=l;function a(f){const S=f.toString(16);return S.length!==2?"0"+S:S}function s(f){return`#${a(f.rgba.r)}${a(f.rgba.g)}${a(f.rgba.b)}`}i.formatHex=s;function o(f,S=!1){return S&&f.rgba.a===1?C.Format.CSS.formatHex(f):`#${a(f.rgba.r)}${a(f.rgba.g)}${a(f.rgba.b)}${a(Math.round(f.rgba.a*255))}`}i.formatHexA=o;function n(f){return f.isOpaque()?C.Format.CSS.formatHex(f):C.Format.CSS.formatRGBA(f)}i.format=n;function d(f){const S=f.length;if(S===0||f.charCodeAt(0)!==35)return null;if(S===7){const v=16*u(f.charCodeAt(1))+u(f.charCodeAt(2)),m=16*u(f.charCodeAt(3))+u(f.charCodeAt(4)),_=16*u(f.charCodeAt(5))+u(f.charCodeAt(6));return new C(new N(v,m,_,1))}if(S===9){const v=16*u(f.charCodeAt(1))+u(f.charCodeAt(2)),m=16*u(f.charCodeAt(3))+u(f.charCodeAt(4)),_=16*u(f.charCodeAt(5))+u(f.charCodeAt(6)),L=16*u(f.charCodeAt(7))+u(f.charCodeAt(8));return new C(new N(v,m,_,L/255))}if(S===4){const v=u(f.charCodeAt(1)),m=u(f.charCodeAt(2)),_=u(f.charCodeAt(3));return new C(new N(16*v+v,16*m+m,16*_+_))}if(S===5){const v=u(f.charCodeAt(1)),m=u(f.charCodeAt(2)),_=u(f.charCodeAt(3)),L=u(f.charCodeAt(4));return new C(new N(16*v+v,16*m+m,16*_+_,(16*L+L)/255))}return null}i.parseHex=d;function u(f){switch(f){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(g=h.CSS||(h.CSS={}))})(p=C.Format||(C.Format={}))}(b=e.Color||(e.Color={}))}),define(ee[94],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function y(N,T,I){let b=null,C=null;if(typeof I.value=="function"?(b="value",C=I.value,C.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof I.get=="function"&&(b="get",C=I.get),!C)throw new Error("not supported");const p=`$memoize$${T}`;I[b]=function(...h){return this.hasOwnProperty(p)||Object.defineProperty(this,p,{configurable:!1,enumerable:!1,writable:!1,value:C.apply(this,h)}),this[p]}}e.memoize=y}),define(ee[302],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class y{constructor(T,I,b,C){this.originalStart=T,this.originalLength=I,this.modifiedStart=b,this.modifiedLength=C}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=y}),define(ee[13],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.isPromiseCanceledError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class y{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(r){setTimeout(()=>{throw r.stack?new Error(r.message+`

`+r.stack):r},0)}}emit(r){this.listeners.forEach(c=>{c(r)})}onUnexpectedError(r){this.unexpectedErrorHandler(r),this.emit(r)}onUnexpectedExternalError(r){this.unexpectedErrorHandler(r)}}e.ErrorHandler=y,e.errorHandler=new y;function N(t){C(t)||e.errorHandler.onUnexpectedError(t)}e.onUnexpectedError=N;function T(t){C(t)||e.errorHandler.onUnexpectedExternalError(t)}e.onUnexpectedExternalError=T;function I(t){if(t instanceof Error){let{name:r,message:c}=t;const l=t.stacktrace||t.stack;return{$isError:!0,name:r,message:c,stack:l}}return t}e.transformErrorForSerialization=I;const b="Canceled";function C(t){return t instanceof Error&&t.name===b&&t.message===b}e.isPromiseCanceledError=C;function p(){const t=new Error(b);return t.name=t.message,t}e.canceled=p;function h(t){return t?new Error(`Illegal argument: ${t}`):new Error("Illegal argument")}e.illegalArgument=h;function g(t){return t?new Error(`Illegal state: ${t}`):new Error("Illegal state")}e.illegalState=g;class i extends Error{constructor(r){super("NotSupported");r&&(this.message=r)}}e.NotSupportedError=i}),define(ee[84],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function y(N){const T=this;let I=!1,b;return function(){return I||(I=!0,b=N.apply(T,arguments)),b}}e.once=y}),define(ee[132],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class y{constructor(T){this._prefix=T,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=y,e.defaultGenerator=new y("id#")}),define(ee[55],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var y;(function(N){function T(u){return u&&typeof u=="object"&&typeof u[Symbol.iterator]=="function"}N.is=T;const I=Object.freeze([]);function b(){return I}N.empty=b;function*C(u){yield u}N.single=C;function p(u){return u||I}N.from=p;function h(u){return!u||u[Symbol.iterator]().next().done===!0}N.isEmpty=h;function g(u){return u[Symbol.iterator]().next().value}N.first=g;function i(u,f){for(const S of u)if(f(S))return!0;return!1}N.some=i;function t(u,f){for(const S of u)if(f(S))return S}N.find=t;function*r(u,f){for(const S of u)f(S)&&(yield S)}N.filter=r;function*c(u,f){let S=0;for(const v of u)yield f(v,S++)}N.map=c;function*l(...u){for(const f of u)for(const S of f)yield S}N.concat=l;function*a(u){for(const f of u)for(const S of f)yield S}N.concatNested=a;function s(u,f,S){let v=S;for(const m of u)v=f(v,m);return v}N.reduce=s;function*o(u,f,S=u.length){for(f<0&&(f+=u.length),S<0?S+=u.length:S>u.length&&(S=u.length);f<S;f++)yield u[f]}N.slice=o;function n(u,f=Number.POSITIVE_INFINITY){const S=[];if(f===0)return[S,u];const v=u[Symbol.iterator]();for(let m=0;m<f;m++){const _=v.next();if(_.done)return[S,N.empty()];S.push(_.value)}return[S,{[Symbol.iterator](){return v}}]}N.consume=n;function d(u,f,S=(v,m)=>v===m){const v=u[Symbol.iterator](),m=f[Symbol.iterator]();for(;;){const _=v.next(),L=m.next();if(_.done!==L.done)return!1;if(_.done)return!0;if(!S(_.value,L.value))return!1}}N.equals=d})(y=e.Iterable||(e.Iterable={}))}),define(ee[56],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class y{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(t,r){this._keyCodeToStr[t]=r,this._strToKeyCode[r.toLowerCase()]=t}keyCodeToStr(t){return this._keyCodeToStr[t]}strToKeyCode(t){return this._strToKeyCode[t.toLowerCase()]||0}}const N=new y,T=new y,I=new y;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const b=[],C=Object.create(null),p=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let i=0;i<=193;i++)e.IMMUTABLE_CODE_TO_KEY_CODE[i]=-1;for(let i=0;i<=126;i++)e.IMMUTABLE_KEY_CODE_TO_CODE[i]=-1;(function(){const i="",t=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",i,i],[0,1,1,"Hyper",0,i,0,i,i,i],[0,1,2,"Super",0,i,0,i,i,i],[0,1,3,"Fn",0,i,0,i,i,i],[0,1,4,"FnLock",0,i,0,i,i,i],[0,1,5,"Suspend",0,i,0,i,i,i],[0,1,6,"Resume",0,i,0,i,i,i],[0,1,7,"Turbo",0,i,0,i,i,i],[0,1,8,"Sleep",0,i,0,"VK_SLEEP",i,i],[0,1,9,"WakeUp",0,i,0,i,i,i],[31,0,10,"KeyA",31,"A",65,"VK_A",i,i],[32,0,11,"KeyB",32,"B",66,"VK_B",i,i],[33,0,12,"KeyC",33,"C",67,"VK_C",i,i],[34,0,13,"KeyD",34,"D",68,"VK_D",i,i],[35,0,14,"KeyE",35,"E",69,"VK_E",i,i],[36,0,15,"KeyF",36,"F",70,"VK_F",i,i],[37,0,16,"KeyG",37,"G",71,"VK_G",i,i],[38,0,17,"KeyH",38,"H",72,"VK_H",i,i],[39,0,18,"KeyI",39,"I",73,"VK_I",i,i],[40,0,19,"KeyJ",40,"J",74,"VK_J",i,i],[41,0,20,"KeyK",41,"K",75,"VK_K",i,i],[42,0,21,"KeyL",42,"L",76,"VK_L",i,i],[43,0,22,"KeyM",43,"M",77,"VK_M",i,i],[44,0,23,"KeyN",44,"N",78,"VK_N",i,i],[45,0,24,"KeyO",45,"O",79,"VK_O",i,i],[46,0,25,"KeyP",46,"P",80,"VK_P",i,i],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",i,i],[48,0,27,"KeyR",48,"R",82,"VK_R",i,i],[49,0,28,"KeyS",49,"S",83,"VK_S",i,i],[50,0,29,"KeyT",50,"T",84,"VK_T",i,i],[51,0,30,"KeyU",51,"U",85,"VK_U",i,i],[52,0,31,"KeyV",52,"V",86,"VK_V",i,i],[53,0,32,"KeyW",53,"W",87,"VK_W",i,i],[54,0,33,"KeyX",54,"X",88,"VK_X",i,i],[55,0,34,"KeyY",55,"Y",89,"VK_Y",i,i],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",i,i],[22,0,36,"Digit1",22,"1",49,"VK_1",i,i],[23,0,37,"Digit2",23,"2",50,"VK_2",i,i],[24,0,38,"Digit3",24,"3",51,"VK_3",i,i],[25,0,39,"Digit4",25,"4",52,"VK_4",i,i],[26,0,40,"Digit5",26,"5",53,"VK_5",i,i],[27,0,41,"Digit6",27,"6",54,"VK_6",i,i],[28,0,42,"Digit7",28,"7",55,"VK_7",i,i],[29,0,43,"Digit8",29,"8",56,"VK_8",i,i],[30,0,44,"Digit9",30,"9",57,"VK_9",i,i],[21,0,45,"Digit0",21,"0",48,"VK_0",i,i],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",i,i],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",i,i],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",i,i],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",i,i],[10,1,50,"Space",10,"Space",32,"VK_SPACE",i,i],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,i,0,i,i,i],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",i,i],[59,1,64,"F1",59,"F1",112,"VK_F1",i,i],[60,1,65,"F2",60,"F2",113,"VK_F2",i,i],[61,1,66,"F3",61,"F3",114,"VK_F3",i,i],[62,1,67,"F4",62,"F4",115,"VK_F4",i,i],[63,1,68,"F5",63,"F5",116,"VK_F5",i,i],[64,1,69,"F6",64,"F6",117,"VK_F6",i,i],[65,1,70,"F7",65,"F7",118,"VK_F7",i,i],[66,1,71,"F8",66,"F8",119,"VK_F8",i,i],[67,1,72,"F9",67,"F9",120,"VK_F9",i,i],[68,1,73,"F10",68,"F10",121,"VK_F10",i,i],[69,1,74,"F11",69,"F11",122,"VK_F11",i,i],[70,1,75,"F12",70,"F12",123,"VK_F12",i,i],[0,1,76,"PrintScreen",0,i,0,i,i,i],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",i,i],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",i,i],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",i,i],[14,1,80,"Home",14,"Home",36,"VK_HOME",i,i],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",i,i],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",i,i],[13,1,83,"End",13,"End",35,"VK_END",i,i],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",i,i],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",i],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",i],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",i],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",i],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",i,i],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",i,i],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",i,i],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",i,i],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",i,i],[3,1,94,"NumpadEnter",3,i,0,i,i,i],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",i,i],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",i,i],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",i,i],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",i,i],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",i,i],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",i,i],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",i,i],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",i,i],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",i,i],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",i,i],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",i,i],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",i,i],[58,1,107,"ContextMenu",58,"ContextMenu",93,i,i,i],[0,1,108,"Power",0,i,0,i,i,i],[0,1,109,"NumpadEqual",0,i,0,i,i,i],[71,1,110,"F13",71,"F13",124,"VK_F13",i,i],[72,1,111,"F14",72,"F14",125,"VK_F14",i,i],[73,1,112,"F15",73,"F15",126,"VK_F15",i,i],[74,1,113,"F16",74,"F16",127,"VK_F16",i,i],[75,1,114,"F17",75,"F17",128,"VK_F17",i,i],[76,1,115,"F18",76,"F18",129,"VK_F18",i,i],[77,1,116,"F19",77,"F19",130,"VK_F19",i,i],[0,1,117,"F20",0,i,0,"VK_F20",i,i],[0,1,118,"F21",0,i,0,"VK_F21",i,i],[0,1,119,"F22",0,i,0,"VK_F22",i,i],[0,1,120,"F23",0,i,0,"VK_F23",i,i],[0,1,121,"F24",0,i,0,"VK_F24",i,i],[0,1,122,"Open",0,i,0,i,i,i],[0,1,123,"Help",0,i,0,i,i,i],[0,1,124,"Select",0,i,0,i,i,i],[0,1,125,"Again",0,i,0,i,i,i],[0,1,126,"Undo",0,i,0,i,i,i],[0,1,127,"Cut",0,i,0,i,i,i],[0,1,128,"Copy",0,i,0,i,i,i],[0,1,129,"Paste",0,i,0,i,i,i],[0,1,130,"Find",0,i,0,i,i,i],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",i,i],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",i,i],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",i,i],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",i,i],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",i,i],[0,1,136,"KanaMode",0,i,0,i,i,i],[0,0,137,"IntlYen",0,i,0,i,i,i],[0,1,138,"Convert",0,i,0,i,i,i],[0,1,139,"NonConvert",0,i,0,i,i,i],[0,1,140,"Lang1",0,i,0,i,i,i],[0,1,141,"Lang2",0,i,0,i,i,i],[0,1,142,"Lang3",0,i,0,i,i,i],[0,1,143,"Lang4",0,i,0,i,i,i],[0,1,144,"Lang5",0,i,0,i,i,i],[0,1,145,"Abort",0,i,0,i,i,i],[0,1,146,"Props",0,i,0,i,i,i],[0,1,147,"NumpadParenLeft",0,i,0,i,i,i],[0,1,148,"NumpadParenRight",0,i,0,i,i,i],[0,1,149,"NumpadBackspace",0,i,0,i,i,i],[0,1,150,"NumpadMemoryStore",0,i,0,i,i,i],[0,1,151,"NumpadMemoryRecall",0,i,0,i,i,i],[0,1,152,"NumpadMemoryClear",0,i,0,i,i,i],[0,1,153,"NumpadMemoryAdd",0,i,0,i,i,i],[0,1,154,"NumpadMemorySubtract",0,i,0,i,i,i],[0,1,155,"NumpadClear",0,i,0,i,i,i],[0,1,156,"NumpadClearEntry",0,i,0,i,i,i],[5,1,0,i,5,"Ctrl",17,"VK_CONTROL",i,i],[4,1,0,i,4,"Shift",16,"VK_SHIFT",i,i],[6,1,0,i,6,"Alt",18,"VK_MENU",i,i],[57,1,0,i,57,"Meta",0,"VK_COMMAND",i,i],[5,1,157,"ControlLeft",5,i,0,"VK_LCONTROL",i,i],[4,1,158,"ShiftLeft",4,i,0,"VK_LSHIFT",i,i],[6,1,159,"AltLeft",6,i,0,"VK_LMENU",i,i],[57,1,160,"MetaLeft",57,i,0,"VK_LWIN",i,i],[5,1,161,"ControlRight",5,i,0,"VK_RCONTROL",i,i],[4,1,162,"ShiftRight",4,i,0,"VK_RSHIFT",i,i],[6,1,163,"AltRight",6,i,0,"VK_RMENU",i,i],[57,1,164,"MetaRight",57,i,0,"VK_RWIN",i,i],[0,1,165,"BrightnessUp",0,i,0,i,i,i],[0,1,166,"BrightnessDown",0,i,0,i,i,i],[0,1,167,"MediaPlay",0,i,0,i,i,i],[0,1,168,"MediaRecord",0,i,0,i,i,i],[0,1,169,"MediaFastForward",0,i,0,i,i,i],[0,1,170,"MediaRewind",0,i,0,i,i,i],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",i,i],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",i,i],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",i,i],[0,1,174,"Eject",0,i,0,i,i,i],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",i,i],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",i,i],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",i,i],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",i,i],[0,1,179,"LaunchApp1",0,i,0,"VK_MEDIA_LAUNCH_APP1",i,i],[0,1,180,"SelectTask",0,i,0,i,i,i],[0,1,181,"LaunchScreenSaver",0,i,0,i,i,i],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",i,i],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",i,i],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",i,i],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",i,i],[0,1,186,"BrowserStop",0,i,0,"VK_BROWSER_STOP",i,i],[0,1,187,"BrowserRefresh",0,i,0,"VK_BROWSER_REFRESH",i,i],[0,1,188,"BrowserFavorites",0,i,0,"VK_BROWSER_FAVORITES",i,i],[0,1,189,"ZoomToggle",0,i,0,i,i,i],[0,1,190,"MailReply",0,i,0,i,i,i],[0,1,191,"MailForward",0,i,0,i,i,i],[0,1,192,"MailSend",0,i,0,i,i,i],[109,1,0,i,109,"KeyInComposition",229,i,i,i],[111,1,0,i,111,"ABNT_C2",194,"VK_ABNT_C2",i,i],[91,1,0,i,91,"OEM_8",223,"VK_OEM_8",i,i],[0,1,0,i,0,i,0,"VK_CLEAR",i,i],[0,1,0,i,0,i,0,"VK_KANA",i,i],[0,1,0,i,0,i,0,"VK_HANGUL",i,i],[0,1,0,i,0,i,0,"VK_JUNJA",i,i],[0,1,0,i,0,i,0,"VK_FINAL",i,i],[0,1,0,i,0,i,0,"VK_HANJA",i,i],[0,1,0,i,0,i,0,"VK_KANJI",i,i],[0,1,0,i,0,i,0,"VK_CONVERT",i,i],[0,1,0,i,0,i,0,"VK_NONCONVERT",i,i],[0,1,0,i,0,i,0,"VK_ACCEPT",i,i],[0,1,0,i,0,i,0,"VK_MODECHANGE",i,i],[0,1,0,i,0,i,0,"VK_SELECT",i,i],[0,1,0,i,0,i,0,"VK_PRINT",i,i],[0,1,0,i,0,i,0,"VK_EXECUTE",i,i],[0,1,0,i,0,i,0,"VK_SNAPSHOT",i,i],[0,1,0,i,0,i,0,"VK_HELP",i,i],[0,1,0,i,0,i,0,"VK_APPS",i,i],[0,1,0,i,0,i,0,"VK_PROCESSKEY",i,i],[0,1,0,i,0,i,0,"VK_PACKET",i,i],[0,1,0,i,0,i,0,"VK_DBE_SBCSCHAR",i,i],[0,1,0,i,0,i,0,"VK_DBE_DBCSCHAR",i,i],[0,1,0,i,0,i,0,"VK_ATTN",i,i],[0,1,0,i,0,i,0,"VK_CRSEL",i,i],[0,1,0,i,0,i,0,"VK_EXSEL",i,i],[0,1,0,i,0,i,0,"VK_EREOF",i,i],[0,1,0,i,0,i,0,"VK_PLAY",i,i],[0,1,0,i,0,i,0,"VK_ZOOM",i,i],[0,1,0,i,0,i,0,"VK_NONAME",i,i],[0,1,0,i,0,i,0,"VK_PA1",i,i],[0,1,0,i,0,i,0,"VK_OEM_CLEAR",i,i]];let r=[],c=[];for(const l of t){const[a,s,o,n,d,u,f,S,v,m]=l;if(c[o]||(c[o]=!0,b[o]=n,C[n]=o,p[n.toLowerCase()]=o,s&&(e.IMMUTABLE_CODE_TO_KEY_CODE[o]=d,d!==0&&d!==3&&d!==5&&d!==4&&d!==6&&d!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[d]=o))),!r[d]){if(r[d]=!0,!u)throw new Error(`String representation missing for key code ${d} around scan code ${n}`);N.define(d,u),T.define(d,v||u),I.define(d,m||v||u)}f&&(e.EVENT_KEY_CODE_MAP[f]=d),S&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[S]=d)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var h;(function(i){function t(o){return N.keyCodeToStr(o)}i.toString=t;function r(o){return N.strToKeyCode(o)}i.fromString=r;function c(o){return T.keyCodeToStr(o)}i.toUserSettingsUS=c;function l(o){return I.keyCodeToStr(o)}i.toUserSettingsGeneral=l;function a(o){return T.strToKeyCode(o)||I.strToKeyCode(o)}i.fromUserSettings=a;function s(o){if(o>=93&&o<=108)return null;switch(o){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return N.keyCodeToStr(o)}i.toElectronAccelerator=s})(h=e.KeyCodeUtils||(e.KeyCodeUtils={}));function g(i,t){const r=(t&65535)<<16>>>0;return(i|r)>>>0}e.KeyChord=g}),define(ee[95],te([0,1,13]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ScanCodeBinding=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=void 0;function N(g,i){if(g===0)return null;const t=(g&65535)>>>0,r=(g&4294901760)>>>16;return r!==0?new b([T(t,i),T(r,i)]):new b([T(t,i)])}e.createKeybinding=N;function T(g,i){const t=!!(g&2048),r=!!(g&256),c=i===2?r:t,l=!!(g&1024),a=!!(g&512),s=i===2?t:r,o=g&255;return new I(c,l,a,s,o)}e.createSimpleKeybinding=T;class I{constructor(i,t,r,c,l){this.ctrlKey=i,this.shiftKey=t,this.altKey=r,this.metaKey=c,this.keyCode=l}equals(i){return this.ctrlKey===i.ctrlKey&&this.shiftKey===i.shiftKey&&this.altKey===i.altKey&&this.metaKey===i.metaKey&&this.keyCode===i.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new b([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=I;class b{constructor(i){if(i.length===0)throw(0,y.illegalArgument)("parts");this.parts=i}}e.ChordKeybinding=b;class C{constructor(i,t,r,c,l){this.ctrlKey=i,this.shiftKey=t,this.altKey=r,this.metaKey=c,this.scanCode=l}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeBinding=C;class p{constructor(i,t,r,c,l,a){this.ctrlKey=i,this.shiftKey=t,this.altKey=r,this.metaKey=c,this.keyLabel=l,this.keyAriaLabel=a}}e.ResolvedKeybindingPart=p;class h{}e.ResolvedKeybinding=h}),define(ee[163],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class y{constructor(T){this.executor=T,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(T){this._error=T}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=y}),define(ee[2],te([0,1,84,55]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.markAsSingleton=e.setDisposableTracker=void 0;const T=!1;let I=null;function b(u){I=u}if(e.setDisposableTracker=b,T){const u="__is_disposable_tracked__";b(new class{trackDisposable(f){const S=new Error("Potentially leaked disposable").stack;setTimeout(()=>{f[u]||console.log(S)},3e3)}setParent(f,S){if(f&&f!==o.None)try{f[u]=!0}catch(v){}}markAsDisposed(f){if(f&&f!==o.None)try{f[u]=!0}catch(S){}}markAsSingleton(f){}})}function C(u){return I==null||I.trackDisposable(u),u}function p(u){I==null||I.markAsDisposed(u)}function h(u,f){I==null||I.setParent(u,f)}function g(u,f){if(!!I)for(const S of u)I.setParent(S,f)}function i(u){return I==null||I.markAsSingleton(u),u}e.markAsSingleton=i;class t extends Error{constructor(f){super(`Encountered errors while disposing of store. Errors: [${f.join(", ")}]`);this.errors=f}}e.MultiDisposeError=t;function r(u){return typeof u.dispose=="function"&&u.dispose.length===0}e.isDisposable=r;function c(u){if(N.Iterable.is(u)){let f=[];for(const S of u)if(S)try{S.dispose()}catch(v){f.push(v)}if(f.length===1)throw f[0];if(f.length>1)throw new t(f);return Array.isArray(u)?[]:u}else if(u)return u.dispose(),u}e.dispose=c;function l(...u){const f=a(()=>c(u));return g(u,f),f}e.combinedDisposable=l;function a(u){const f=C({dispose:(0,y.once)(()=>{p(f),u()})});return f}e.toDisposable=a;class s{constructor(){this._toDispose=new Set,this._isDisposed=!1,C(this)}dispose(){this._isDisposed||(p(this),this._isDisposed=!0,this.clear())}clear(){try{c(this._toDispose.values())}finally{this._toDispose.clear()}}add(f){if(!f)return f;if(f===this)throw new Error("Cannot register a disposable on itself!");return h(f,this),this._isDisposed?s.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(f),f}}e.DisposableStore=s,s.DISABLE_DISPOSED_WARNING=!1;class o{constructor(){this._store=new s,C(this),h(this._store,this)}dispose(){p(this),this._store.dispose()}_register(f){if(f===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(f)}}e.Disposable=o,o.None=Object.freeze({dispose(){}});class n{constructor(){this._isDisposed=!1,C(this)}get value(){return this._isDisposed?void 0:this._value}set value(f){var S;this._isDisposed||f===this._value||((S=this._value)===null||S===void 0||S.dispose(),f&&h(f,this),this._value=f)}clear(){this.value=void 0}dispose(){var f;this._isDisposed=!0,p(this),(f=this._value)===null||f===void 0||f.dispose(),this._value=void 0}clearAndLeak(){const f=this._value;return this._value=void 0,f&&h(f,null),f}}e.MutableDisposable=n;class d{constructor(f){this.object=f}dispose(){}}e.ImmortalReference=d}),define(ee[77],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class y{constructor(I){this.element=I,this.next=y.Undefined,this.prev=y.Undefined}}y.Undefined=new y(void 0);class N{constructor(){this._first=y.Undefined,this._last=y.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===y.Undefined}clear(){let I=this._first;for(;I!==y.Undefined;){const b=I.next;I.prev=y.Undefined,I.next=y.Undefined,I=b}this._first=y.Undefined,this._last=y.Undefined,this._size=0}unshift(I){return this._insert(I,!1)}push(I){return this._insert(I,!0)}_insert(I,b){const C=new y(I);if(this._first===y.Undefined)this._first=C,this._last=C;else if(b){const h=this._last;this._last=C,C.prev=h,h.next=C}else{const h=this._first;this._first=C,C.next=h,h.prev=C}this._size+=1;let p=!1;return()=>{p||(p=!0,this._remove(C))}}shift(){if(this._first!==y.Undefined){const I=this._first.element;return this._remove(this._first),I}}pop(){if(this._last!==y.Undefined){const I=this._last.element;return this._remove(this._last),I}}_remove(I){if(I.prev!==y.Undefined&&I.next!==y.Undefined){const b=I.prev;b.next=I.next,I.next.prev=b}else I.prev===y.Undefined&&I.next===y.Undefined?(this._first=y.Undefined,this._last=y.Undefined):I.next===y.Undefined?(this._last=this._last.prev,this._last.next=y.Undefined):I.prev===y.Undefined&&(this._first=this._first.next,this._first.prev=y.Undefined);this._size-=1}*[Symbol.iterator](){let I=this._first;for(;I!==y.Undefined;)yield I.element,I=I.next}}e.LinkedList=N}),function(q,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define("vs/base/common/marked/marked",e):(q=typeof globalThis!="undefined"?globalThis:q||self,q.marked=e())}(this,function(){"use strict";function q(Te,Ne){for(var Me=0;Me<Ne.length;Me++){var me=Ne[Me];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(Te,me.key,me)}}function e(Te,Ne,Me){return Ne&&q(Te.prototype,Ne),Me&&q(Te,Me),Te}function y(Te,Ne){if(!!Te){if(typeof Te=="string")return N(Te,Ne);var Me=Object.prototype.toString.call(Te).slice(8,-1);if(Me==="Object"&&Te.constructor&&(Me=Te.constructor.name),Me==="Map"||Me==="Set")return Array.from(Te);if(Me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me))return N(Te,Ne)}}function N(Te,Ne){(Ne==null||Ne>Te.length)&&(Ne=Te.length);for(var Me=0,me=new Array(Ne);Me<Ne;Me++)me[Me]=Te[Me];return me}function T(Te,Ne){var Me=typeof Symbol!="undefined"&&Te[Symbol.iterator]||Te["@@iterator"];if(Me)return(Me=Me.call(Te)).next.bind(Me);if(Array.isArray(Te)||(Me=y(Te))||Ne&&Te&&typeof Te.length=="number"){Me&&(Te=Me);var me=0;return function(){return me>=Te.length?{done:!0}:{done:!1,value:Te[me++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I={exports:{}};function b(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function C(Te){I.exports.defaults=Te}I.exports={defaults:b(),getDefaults:b,changeDefaults:C};var p=/[&<>"']/,h=/[&<>"']/g,g=/[<>"']|&(?!#?\w+;)/,i=/[<>"']|&(?!#?\w+;)/g,t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r=function(Ne){return t[Ne]};function c(Te,Ne){if(Ne){if(p.test(Te))return Te.replace(h,r)}else if(g.test(Te))return Te.replace(i,r);return Te}var l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function a(Te){return Te.replace(l,function(Ne,Me){return Me=Me.toLowerCase(),Me==="colon"?":":Me.charAt(0)==="#"?Me.charAt(1)==="x"?String.fromCharCode(parseInt(Me.substring(2),16)):String.fromCharCode(+Me.substring(1)):""})}var s=/(^|[^\[])\^/g;function o(Te,Ne){Te=Te.source||Te,Ne=Ne||"";var Me={replace:function(ve,Ie){return Ie=Ie.source||Ie,Ie=Ie.replace(s,"$1"),Te=Te.replace(ve,Ie),Me},getRegex:function(){return new RegExp(Te,Ne)}};return Me}var n=/[^\w:]/g,d=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function u(Te,Ne,Me){if(Te){var me;try{me=decodeURIComponent(a(Me)).replace(n,"").toLowerCase()}catch(ve){return null}if(me.indexOf("javascript:")===0||me.indexOf("vbscript:")===0||me.indexOf("data:")===0)return null}Ne&&!d.test(Me)&&(Me=_(Ne,Me));try{Me=encodeURI(Me).replace(/%25/g,"%")}catch(ve){return null}return Me}var f={},S=/^[^:]+:\/*[^/]*$/,v=/^([^:]+:)[\s\S]*$/,m=/^([^:]+:\/*[^/]*)[\s\S]*$/;function _(Te,Ne){f[" "+Te]||(S.test(Te)?f[" "+Te]=Te+"/":f[" "+Te]=D(Te,"/",!0)),Te=f[" "+Te];var Me=Te.indexOf(":")===-1;return Ne.substring(0,2)==="//"?Me?Ne:Te.replace(v,"$1")+Ne:Ne.charAt(0)==="/"?Me?Ne:Te.replace(m,"$1")+Ne:Te+Ne}var L={exec:function(){}};function w(Te){for(var Ne=1,Me,me;Ne<arguments.length;Ne++){Me=arguments[Ne];for(me in Me)Object.prototype.hasOwnProperty.call(Me,me)&&(Te[me]=Me[me])}return Te}function k(Te,Ne){var Me=Te.replace(/\|/g,function(Ie,ye,we){for(var Oe=!1,Re=ye;--Re>=0&&we[Re]==="\\";)Oe=!Oe;return Oe?"|":" |"}),me=Me.split(/ \|/),ve=0;if(me[0].trim()||me.shift(),me[me.length-1].trim()||me.pop(),me.length>Ne)me.splice(Ne);else for(;me.length<Ne;)me.push("");for(;ve<me.length;ve++)me[ve]=me[ve].trim().replace(/\\\|/g,"|");return me}function D(Te,Ne,Me){var me=Te.length;if(me===0)return"";for(var ve=0;ve<me;){var Ie=Te.charAt(me-ve-1);if(Ie===Ne&&!Me)ve++;else if(Ie!==Ne&&Me)ve++;else break}return Te.substr(0,me-ve)}function M(Te,Ne){if(Te.indexOf(Ne[1])===-1)return-1;for(var Me=Te.length,me=0,ve=0;ve<Me;ve++)if(Te[ve]==="\\")ve++;else if(Te[ve]===Ne[0])me++;else if(Te[ve]===Ne[1]&&(me--,me<0))return ve;return-1}function O(Te){Te&&Te.sanitize&&!Te.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function F(Te,Ne){if(Ne<1)return"";for(var Me="";Ne>1;)Ne&1&&(Me+=Te),Ne>>=1,Te+=Te;return Me+Te}var R={escape:c,unescape:a,edit:o,cleanUrl:u,resolveUrl:_,noopTest:L,merge:w,splitCells:k,rtrim:D,findClosingBracket:M,checkSanitizeDeprecation:O,repeatString:F},A=I.exports.defaults,P=R.rtrim,E=R.splitCells,B=R.escape,V=R.findClosingBracket;function j(Te,Ne,Me,me){var ve=Ne.href,Ie=Ne.title?B(Ne.title):null,ye=Te[1].replace(/\\([\[\]])/g,"$1");if(Te[0].charAt(0)!=="!"){me.state.inLink=!0;var we={type:"link",raw:Me,href:ve,title:Ie,text:ye,tokens:me.inlineTokens(ye,[])};return me.state.inLink=!1,we}else return{type:"image",raw:Me,href:ve,title:Ie,text:B(ye)}}function K(Te,Ne){var Me=Te.match(/^(\s+)(?:```)/);if(Me===null)return Ne;var me=Me[1];return Ne.split(`
`).map(function(ve){var Ie=ve.match(/^\s+/);if(Ie===null)return ve;var ye=Ie[0];return ye.length>=me.length?ve.slice(me.length):ve}).join(`
`)}var Y=function(){function Te(Me){this.options=Me||A}var Ne=Te.prototype;return Ne.space=function(me){var ve=this.rules.block.newline.exec(me);if(ve)return ve[0].length>1?{type:"space",raw:ve[0]}:{raw:`
`}},Ne.code=function(me){var ve=this.rules.block.code.exec(me);if(ve){var Ie=ve[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ve[0],codeBlockStyle:"indented",text:this.options.pedantic?Ie:P(Ie,`
`)}}},Ne.fences=function(me){var ve=this.rules.block.fences.exec(me);if(ve){var Ie=ve[0],ye=K(Ie,ve[3]||"");return{type:"code",raw:Ie,lang:ve[2]?ve[2].trim():ve[2],text:ye}}},Ne.heading=function(me){var ve=this.rules.block.heading.exec(me);if(ve){var Ie=ve[2].trim();if(/#$/.test(Ie)){var ye=P(Ie,"#");(this.options.pedantic||!ye||/ $/.test(ye))&&(Ie=ye.trim())}var we={type:"heading",raw:ve[0],depth:ve[1].length,text:Ie,tokens:[]};return this.lexer.inline(we.text,we.tokens),we}},Ne.hr=function(me){var ve=this.rules.block.hr.exec(me);if(ve)return{type:"hr",raw:ve[0]}},Ne.blockquote=function(me){var ve=this.rules.block.blockquote.exec(me);if(ve){var Ie=ve[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:ve[0],tokens:this.lexer.blockTokens(Ie,[]),text:Ie}}},Ne.list=function(me){var ve=this.rules.block.list.exec(me);if(ve){var Ie,ye,we,Oe,Re,We,Ke,He,Ge,qe,Ue=ve[1].trim(),Qe=Ue.length>1,Ye={type:"list",raw:"",ordered:Qe,start:Qe?+Ue.slice(0,-1):"",loose:!1,items:[]};Ue=Qe?"\\d{1,9}\\"+Ue.slice(-1):"\\"+Ue,this.options.pedantic&&(Ue=Qe?Ue:"[*+-]");for(var et=new RegExp("^( {0,3}"+Ue+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");me&&!(this.rules.block.hr.test(me)||!(ve=et.exec(me)));){Ge=ve[2].split(`
`),this.options.pedantic?(Oe=2,qe=Ge[0].trimLeft()):(Oe=ve[2].search(/[^ ]/),Oe=ve[1].length+(Oe>4?1:Oe),qe=Ge[0].slice(Oe-ve[1].length)),We=!1,Ie=ve[0],!Ge[0]&&/^ *$/.test(Ge[1])&&(Ie=ve[1]+Ge.slice(0,2).join(`
`)+`
`,Ye.loose=!0,Ge=[]);var st=new RegExp("^ {0,"+Math.min(3,Oe-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(Re=1;Re<Ge.length;Re++){if(He=Ge[Re],this.options.pedantic&&(He=He.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),st.test(He)){Ie=ve[1]+Ge.slice(0,Re).join(`
`)+`
`;break}if(!We){He.trim()||(We=!0),He.search(/[^ ]/)>=Oe?qe+=`
`+He.slice(Oe):qe+=`
`+He;continue}if(He.search(/[^ ]/)>=Oe||!He.trim()){qe+=`
`+He.slice(Oe);continue}else{Ie=ve[1]+Ge.slice(0,Re).join(`
`)+`
`;break}}Ye.loose||(Ke?Ye.loose=!0:/\n *\n *$/.test(Ie)&&(Ke=!0)),this.options.gfm&&(ye=/^\[[ xX]\] /.exec(qe),ye&&(we=ye[0]!=="[ ] ",qe=qe.replace(/^\[[ xX]\] +/,""))),Ye.items.push({type:"list_item",raw:Ie,task:!!ye,checked:we,loose:!1,text:qe}),Ye.raw+=Ie,me=me.slice(Ie.length)}Ye.items[Ye.items.length-1].raw=Ie.trimRight(),Ye.items[Ye.items.length-1].text=qe.trimRight(),Ye.raw=Ye.raw.trimRight();var Je=Ye.items.length;for(Re=0;Re<Je;Re++)this.lexer.state.top=!1,Ye.items[Re].tokens=this.lexer.blockTokens(Ye.items[Re].text,[]),Ye.items[Re].tokens.some(function(at){return at.type==="space"})&&(Ye.loose=!0,Ye.items[Re].loose=!0);return Ye}},Ne.html=function(me){var ve=this.rules.block.html.exec(me);if(ve){var Ie={type:"html",raw:ve[0],pre:!this.options.sanitizer&&(ve[1]==="pre"||ve[1]==="script"||ve[1]==="style"),text:ve[0]};return this.options.sanitize&&(Ie.type="paragraph",Ie.text=this.options.sanitizer?this.options.sanitizer(ve[0]):B(ve[0]),Ie.tokens=[],this.lexer.inline(Ie.text,Ie.tokens)),Ie}},Ne.def=function(me){var ve=this.rules.block.def.exec(me);if(ve){ve[3]&&(ve[3]=ve[3].substring(1,ve[3].length-1));var Ie=ve[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:Ie,raw:ve[0],href:ve[2],title:ve[3]}}},Ne.table=function(me){var ve=this.rules.block.table.exec(me);if(ve){var Ie={type:"table",header:E(ve[1]).map(function(Ke){return{text:Ke}}),align:ve[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:ve[3]?ve[3].replace(/\n$/,"").split(`
`):[]};if(Ie.header.length===Ie.align.length){Ie.raw=ve[0];var ye=Ie.align.length,we,Oe,Re,We;for(we=0;we<ye;we++)/^ *-+: *$/.test(Ie.align[we])?Ie.align[we]="right":/^ *:-+: *$/.test(Ie.align[we])?Ie.align[we]="center":/^ *:-+ *$/.test(Ie.align[we])?Ie.align[we]="left":Ie.align[we]=null;for(ye=Ie.rows.length,we=0;we<ye;we++)Ie.rows[we]=E(Ie.rows[we],Ie.header.length).map(function(Ke){return{text:Ke}});for(ye=Ie.header.length,Oe=0;Oe<ye;Oe++)Ie.header[Oe].tokens=[],this.lexer.inlineTokens(Ie.header[Oe].text,Ie.header[Oe].tokens);for(ye=Ie.rows.length,Oe=0;Oe<ye;Oe++)for(We=Ie.rows[Oe],Re=0;Re<We.length;Re++)We[Re].tokens=[],this.lexer.inlineTokens(We[Re].text,We[Re].tokens);return Ie}}},Ne.lheading=function(me){var ve=this.rules.block.lheading.exec(me);if(ve){var Ie={type:"heading",raw:ve[0],depth:ve[2].charAt(0)==="="?1:2,text:ve[1],tokens:[]};return this.lexer.inline(Ie.text,Ie.tokens),Ie}},Ne.paragraph=function(me){var ve=this.rules.block.paragraph.exec(me);if(ve){var Ie={type:"paragraph",raw:ve[0],text:ve[1].charAt(ve[1].length-1)===`
`?ve[1].slice(0,-1):ve[1],tokens:[]};return this.lexer.inline(Ie.text,Ie.tokens),Ie}},Ne.text=function(me){var ve=this.rules.block.text.exec(me);if(ve){var Ie={type:"text",raw:ve[0],text:ve[0],tokens:[]};return this.lexer.inline(Ie.text,Ie.tokens),Ie}},Ne.escape=function(me){var ve=this.rules.inline.escape.exec(me);if(ve)return{type:"escape",raw:ve[0],text:B(ve[1])}},Ne.tag=function(me){var ve=this.rules.inline.tag.exec(me);if(ve)return!this.lexer.state.inLink&&/^<a /i.test(ve[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ve[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ve[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ve[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:ve[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ve[0]):B(ve[0]):ve[0]}},Ne.link=function(me){var ve=this.rules.inline.link.exec(me);if(ve){var Ie=ve[2].trim();if(!this.options.pedantic&&/^</.test(Ie)){if(!/>$/.test(Ie))return;var ye=P(Ie.slice(0,-1),"\\");if((Ie.length-ye.length)%2==0)return}else{var we=V(ve[2],"()");if(we>-1){var Oe=ve[0].indexOf("!")===0?5:4,Re=Oe+ve[1].length+we;ve[2]=ve[2].substring(0,we),ve[0]=ve[0].substring(0,Re).trim(),ve[3]=""}}var We=ve[2],Ke="";if(this.options.pedantic){var He=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(We);He&&(We=He[1],Ke=He[3])}else Ke=ve[3]?ve[3].slice(1,-1):"";return We=We.trim(),/^</.test(We)&&(this.options.pedantic&&!/>$/.test(Ie)?We=We.slice(1):We=We.slice(1,-1)),j(ve,{href:We&&We.replace(this.rules.inline._escapes,"$1"),title:Ke&&Ke.replace(this.rules.inline._escapes,"$1")},ve[0],this.lexer)}},Ne.reflink=function(me,ve){var Ie;if((Ie=this.rules.inline.reflink.exec(me))||(Ie=this.rules.inline.nolink.exec(me))){var ye=(Ie[2]||Ie[1]).replace(/\s+/g," ");if(ye=ve[ye.toLowerCase()],!ye||!ye.href){var we=Ie[0].charAt(0);return{type:"text",raw:we,text:we}}return j(Ie,ye,Ie[0],this.lexer)}},Ne.emStrong=function(me,ve,Ie){Ie===void 0&&(Ie="");var ye=this.rules.inline.emStrong.lDelim.exec(me);if(!!ye&&!(ye[3]&&Ie.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var we=ye[1]||ye[2]||"";if(!we||we&&(Ie===""||this.rules.inline.punctuation.exec(Ie))){var Oe=ye[0].length-1,Re,We,Ke=Oe,He=0,Ge=ye[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ge.lastIndex=0,ve=ve.slice(-1*me.length+Oe);(ye=Ge.exec(ve))!=null;)if(Re=ye[1]||ye[2]||ye[3]||ye[4]||ye[5]||ye[6],!!Re){if(We=Re.length,ye[3]||ye[4]){Ke+=We;continue}else if((ye[5]||ye[6])&&Oe%3&&!((Oe+We)%3)){He+=We;continue}if(Ke-=We,!(Ke>0)){if(We=Math.min(We,We+Ke+He),Math.min(Oe,We)%2){var qe=me.slice(1,Oe+ye.index+We);return{type:"em",raw:me.slice(0,Oe+ye.index+We+1),text:qe,tokens:this.lexer.inlineTokens(qe,[])}}var Ue=me.slice(2,Oe+ye.index+We-1);return{type:"strong",raw:me.slice(0,Oe+ye.index+We+1),text:Ue,tokens:this.lexer.inlineTokens(Ue,[])}}}}}},Ne.codespan=function(me){var ve=this.rules.inline.code.exec(me);if(ve){var Ie=ve[2].replace(/\n/g," "),ye=/[^ ]/.test(Ie),we=/^ /.test(Ie)&&/ $/.test(Ie);return ye&&we&&(Ie=Ie.substring(1,Ie.length-1)),Ie=B(Ie,!0),{type:"codespan",raw:ve[0],text:Ie}}},Ne.br=function(me){var ve=this.rules.inline.br.exec(me);if(ve)return{type:"br",raw:ve[0]}},Ne.del=function(me){var ve=this.rules.inline.del.exec(me);if(ve)return{type:"del",raw:ve[0],text:ve[2],tokens:this.lexer.inlineTokens(ve[2],[])}},Ne.autolink=function(me,ve){var Ie=this.rules.inline.autolink.exec(me);if(Ie){var ye,we;return Ie[2]==="@"?(ye=B(this.options.mangle?ve(Ie[1]):Ie[1]),we="mailto:"+ye):(ye=B(Ie[1]),we=ye),{type:"link",raw:Ie[0],text:ye,href:we,tokens:[{type:"text",raw:ye,text:ye}]}}},Ne.url=function(me,ve){var Ie;if(Ie=this.rules.inline.url.exec(me)){var ye,we;if(Ie[2]==="@")ye=B(this.options.mangle?ve(Ie[0]):Ie[0]),we="mailto:"+ye;else{var Oe;do Oe=Ie[0],Ie[0]=this.rules.inline._backpedal.exec(Ie[0])[0];while(Oe!==Ie[0]);ye=B(Ie[0]),Ie[1]==="www."?we="http://"+ye:we=ye}return{type:"link",raw:Ie[0],text:ye,href:we,tokens:[{type:"text",raw:ye,text:ye}]}}},Ne.inlineText=function(me,ve){var Ie=this.rules.inline.text.exec(me);if(Ie){var ye;return this.lexer.state.inRawBlock?ye=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ie[0]):B(Ie[0]):Ie[0]:ye=B(this.options.smartypants?ve(Ie[0]):Ie[0]),{type:"text",raw:Ie[0],text:ye}}},Te}(),J=R.noopTest,Z=R.edit,ie=R.merge,ne={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:J,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};ne._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,ne._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,ne.def=Z(ne.def).replace("label",ne._label).replace("title",ne._title).getRegex(),ne.bullet=/(?:[*+-]|\d{1,9}[.)])/,ne.listItemStart=Z(/^( *)(bull) */).replace("bull",ne.bullet).getRegex(),ne.list=Z(ne.list).replace(/bull/g,ne.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ne.def.source+")").getRegex(),ne._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ne._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ne.html=Z(ne.html,"i").replace("comment",ne._comment).replace("tag",ne._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ne.paragraph=Z(ne._paragraph).replace("hr",ne.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ne._tag).getRegex(),ne.blockquote=Z(ne.blockquote).replace("paragraph",ne.paragraph).getRegex(),ne.normal=ie({},ne),ne.gfm=ie({},ne.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)\\|?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ne.gfm.table=Z(ne.gfm.table).replace("hr",ne.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ne._tag).getRegex(),ne.pedantic=ie({},ne.normal,{html:Z(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ne._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:J,paragraph:Z(ne.normal._paragraph).replace("hr",ne.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ne.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var G={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:J,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:J,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};G._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",G.punctuation=Z(G.punctuation).replace(/punctuation/g,G._punctuation).getRegex(),G.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,G.escapedEmSt=/\\\*|\\_/g,G._comment=Z(ne._comment).replace("(?:-->|$)","-->").getRegex(),G.emStrong.lDelim=Z(G.emStrong.lDelim).replace(/punct/g,G._punctuation).getRegex(),G.emStrong.rDelimAst=Z(G.emStrong.rDelimAst,"g").replace(/punct/g,G._punctuation).getRegex(),G.emStrong.rDelimUnd=Z(G.emStrong.rDelimUnd,"g").replace(/punct/g,G._punctuation).getRegex(),G._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,G._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,G._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,G.autolink=Z(G.autolink).replace("scheme",G._scheme).replace("email",G._email).getRegex(),G._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,G.tag=Z(G.tag).replace("comment",G._comment).replace("attribute",G._attribute).getRegex(),G._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,G._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,G._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,G.link=Z(G.link).replace("label",G._label).replace("href",G._href).replace("title",G._title).getRegex(),G.reflink=Z(G.reflink).replace("label",G._label).getRegex(),G.reflinkSearch=Z(G.reflinkSearch,"g").replace("reflink",G.reflink).replace("nolink",G.nolink).getRegex(),G.normal=ie({},G),G.pedantic=ie({},G.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Z(/^!?\[(label)\]\((.*?)\)/).replace("label",G._label).getRegex(),reflink:Z(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",G._label).getRegex()}),G.gfm=ie({},G.normal,{escape:Z(G.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),G.gfm.url=Z(G.gfm.url,"i").replace("email",G.gfm._extended_email).getRegex(),G.breaks=ie({},G.gfm,{br:Z(G.br).replace("{2,}","*").getRegex(),text:Z(G.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var W={block:ne,inline:G},z=Y,U=I.exports.defaults,x=W.block,X=W.inline,le=R.repeatString;function fe(Te){return Te.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function $(Te){var Ne="",Me,me,ve=Te.length;for(Me=0;Me<ve;Me++)me=Te.charCodeAt(Me),Math.random()>.5&&(me="x"+me.toString(16)),Ne+="&#"+me+";";return Ne}var H=function(){function Te(Me){this.tokens=[],this.tokens.links=Object.create(null),this.options=Me||U,this.options.tokenizer=this.options.tokenizer||new z,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var me={block:x.normal,inline:X.normal};this.options.pedantic?(me.block=x.pedantic,me.inline=X.pedantic):this.options.gfm&&(me.block=x.gfm,this.options.breaks?me.inline=X.breaks:me.inline=X.gfm),this.tokenizer.rules=me}Te.lex=function(me,ve){var Ie=new Te(ve);return Ie.lex(me)},Te.lexInline=function(me,ve){var Ie=new Te(ve);return Ie.inlineTokens(me)};var Ne=Te.prototype;return Ne.lex=function(me){me=me.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(me,this.tokens);for(var ve;ve=this.inlineQueue.shift();)this.inlineTokens(ve.src,ve.tokens);return this.tokens},Ne.blockTokens=function(me,ve){var Ie=this;ve===void 0&&(ve=[]),this.options.pedantic&&(me=me.replace(/^ +$/gm,""));for(var ye,we,Oe,Re;me;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ke){return(ye=Ke.call({lexer:Ie},me,ve))?(me=me.substring(ye.raw.length),ve.push(ye),!0):!1}))){if(ye=this.tokenizer.space(me)){me=me.substring(ye.raw.length),ye.type&&ve.push(ye);continue}if(ye=this.tokenizer.code(me)){me=me.substring(ye.raw.length),we=ve[ve.length-1],we&&(we.type==="paragraph"||we.type==="text")?(we.raw+=`
`+ye.raw,we.text+=`
`+ye.text,this.inlineQueue[this.inlineQueue.length-1].src=we.text):ve.push(ye);continue}if(ye=this.tokenizer.fences(me)){me=me.substring(ye.raw.length),ve.push(ye);continue}if(ye=this.tokenizer.heading(me)){me=me.substring(ye.raw.length),ve.push(ye);continue}if(ye=this.tokenizer.hr(me)){me=me.substring(ye.raw.length),ve.push(ye);continue}if(ye=this.tokenizer.blockquote(me)){me=me.substring(ye.raw.length),ve.push(ye);continue}if(ye=this.tokenizer.list(me)){me=me.substring(ye.raw.length),ve.push(ye);continue}if(ye=this.tokenizer.html(me)){me=me.substring(ye.raw.length),ve.push(ye);continue}if(ye=this.tokenizer.def(me)){me=me.substring(ye.raw.length),we=ve[ve.length-1],we&&(we.type==="paragraph"||we.type==="text")?(we.raw+=`
`+ye.raw,we.text+=`
`+ye.raw,this.inlineQueue[this.inlineQueue.length-1].src=we.text):this.tokens.links[ye.tag]||(this.tokens.links[ye.tag]={href:ye.href,title:ye.title});continue}if(ye=this.tokenizer.table(me)){me=me.substring(ye.raw.length),ve.push(ye);continue}if(ye=this.tokenizer.lheading(me)){me=me.substring(ye.raw.length),ve.push(ye);continue}if(Oe=me,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ke=Infinity,He=me.slice(1),Ge=void 0;Ie.options.extensions.startBlock.forEach(function(qe){Ge=qe.call({lexer:this},He),typeof Ge=="number"&&Ge>=0&&(Ke=Math.min(Ke,Ge))}),Ke<Infinity&&Ke>=0&&(Oe=me.substring(0,Ke+1))}(),this.state.top&&(ye=this.tokenizer.paragraph(Oe))){we=ve[ve.length-1],Re&&we.type==="paragraph"?(we.raw+=`
`+ye.raw,we.text+=`
`+ye.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=we.text):ve.push(ye),Re=Oe.length!==me.length,me=me.substring(ye.raw.length);continue}if(ye=this.tokenizer.text(me)){me=me.substring(ye.raw.length),we=ve[ve.length-1],we&&we.type==="text"?(we.raw+=`
`+ye.raw,we.text+=`
`+ye.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=we.text):ve.push(ye);continue}if(me){var We="Infinite loop on byte: "+me.charCodeAt(0);if(this.options.silent){console.error(We);break}else throw new Error(We)}}return this.state.top=!0,ve},Ne.inline=function(me,ve){this.inlineQueue.push({src:me,tokens:ve})},Ne.inlineTokens=function(me,ve){var Ie=this;ve===void 0&&(ve=[]);var ye,we,Oe,Re=me,We,Ke,He;if(this.tokens.links){var Ge=Object.keys(this.tokens.links);if(Ge.length>0)for(;(We=this.tokenizer.rules.inline.reflinkSearch.exec(Re))!=null;)Ge.includes(We[0].slice(We[0].lastIndexOf("[")+1,-1))&&(Re=Re.slice(0,We.index)+"["+le("a",We[0].length-2)+"]"+Re.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(We=this.tokenizer.rules.inline.blockSkip.exec(Re))!=null;)Re=Re.slice(0,We.index)+"["+le("a",We[0].length-2)+"]"+Re.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(We=this.tokenizer.rules.inline.escapedEmSt.exec(Re))!=null;)Re=Re.slice(0,We.index)+"++"+Re.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;me;)if(Ke||(He=""),Ke=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Ue){return(ye=Ue.call({lexer:Ie},me,ve))?(me=me.substring(ye.raw.length),ve.push(ye),!0):!1}))){if(ye=this.tokenizer.escape(me)){me=me.substring(ye.raw.length),ve.push(ye);continue}if(ye=this.tokenizer.tag(me)){me=me.substring(ye.raw.length),we=ve[ve.length-1],we&&ye.type==="text"&&we.type==="text"?(we.raw+=ye.raw,we.text+=ye.text):ve.push(ye);continue}if(ye=this.tokenizer.link(me)){me=me.substring(ye.raw.length),ve.push(ye);continue}if(ye=this.tokenizer.reflink(me,this.tokens.links)){me=me.substring(ye.raw.length),we=ve[ve.length-1],we&&ye.type==="text"&&we.type==="text"?(we.raw+=ye.raw,we.text+=ye.text):ve.push(ye);continue}if(ye=this.tokenizer.emStrong(me,Re,He)){me=me.substring(ye.raw.length),ve.push(ye);continue}if(ye=this.tokenizer.codespan(me)){me=me.substring(ye.raw.length),ve.push(ye);continue}if(ye=this.tokenizer.br(me)){me=me.substring(ye.raw.length),ve.push(ye);continue}if(ye=this.tokenizer.del(me)){me=me.substring(ye.raw.length),ve.push(ye);continue}if(ye=this.tokenizer.autolink(me,$)){me=me.substring(ye.raw.length),ve.push(ye);continue}if(!this.state.inLink&&(ye=this.tokenizer.url(me,$))){me=me.substring(ye.raw.length),ve.push(ye);continue}if(Oe=me,this.options.extensions&&this.options.extensions.startInline&&function(){var Ue=Infinity,Qe=me.slice(1),Ye=void 0;Ie.options.extensions.startInline.forEach(function(et){Ye=et.call({lexer:this},Qe),typeof Ye=="number"&&Ye>=0&&(Ue=Math.min(Ue,Ye))}),Ue<Infinity&&Ue>=0&&(Oe=me.substring(0,Ue+1))}(),ye=this.tokenizer.inlineText(Oe,fe)){me=me.substring(ye.raw.length),ye.raw.slice(-1)!=="_"&&(He=ye.raw.slice(-1)),Ke=!0,we=ve[ve.length-1],we&&we.type==="text"?(we.raw+=ye.raw,we.text+=ye.text):ve.push(ye);continue}if(me){var qe="Infinite loop on byte: "+me.charCodeAt(0);if(this.options.silent){console.error(qe);break}else throw new Error(qe)}}return ve},e(Te,null,[{key:"rules",get:function(){return{block:x,inline:X}}}]),Te}(),Q=I.exports.defaults,re=R.cleanUrl,ce=R.escape,oe=function(){function Te(Me){this.options=Me||Q}var Ne=Te.prototype;return Ne.code=function(me,ve,Ie){var ye=(ve||"").match(/\S*/)[0];if(this.options.highlight){var we=this.options.highlight(me,ye);we!=null&&we!==me&&(Ie=!0,me=we)}return me=me.replace(/\n$/,"")+`
`,ye?'<pre><code class="'+this.options.langPrefix+ce(ye,!0)+'">'+(Ie?me:ce(me,!0))+`</code></pre>
`:"<pre><code>"+(Ie?me:ce(me,!0))+`</code></pre>
`},Ne.blockquote=function(me){return`<blockquote>
`+me+`</blockquote>
`},Ne.html=function(me){return me},Ne.heading=function(me,ve,Ie,ye){return this.options.headerIds?"<h"+ve+' id="'+this.options.headerPrefix+ye.slug(Ie)+'">'+me+"</h"+ve+`>
`:"<h"+ve+">"+me+"</h"+ve+`>
`},Ne.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Ne.list=function(me,ve,Ie){var ye=ve?"ol":"ul",we=ve&&Ie!==1?' start="'+Ie+'"':"";return"<"+ye+we+`>
`+me+"</"+ye+`>
`},Ne.listitem=function(me){return"<li>"+me+`</li>
`},Ne.checkbox=function(me){return"<input "+(me?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Ne.paragraph=function(me){return"<p>"+me+`</p>
`},Ne.table=function(me,ve){return ve&&(ve="<tbody>"+ve+"</tbody>"),`<table>
<thead>
`+me+`</thead>
`+ve+`</table>
`},Ne.tablerow=function(me){return`<tr>
`+me+`</tr>
`},Ne.tablecell=function(me,ve){var Ie=ve.header?"th":"td",ye=ve.align?"<"+Ie+' align="'+ve.align+'">':"<"+Ie+">";return ye+me+"</"+Ie+`>
`},Ne.strong=function(me){return"<strong>"+me+"</strong>"},Ne.em=function(me){return"<em>"+me+"</em>"},Ne.codespan=function(me){return"<code>"+me+"</code>"},Ne.br=function(){return this.options.xhtml?"<br/>":"<br>"},Ne.del=function(me){return"<del>"+me+"</del>"},Ne.link=function(me,ve,Ie){if(me=re(this.options.sanitize,this.options.baseUrl,me),me===null)return Ie;var ye='<a href="'+ce(me)+'"';return ve&&(ye+=' title="'+ve+'"'),ye+=">"+Ie+"</a>",ye},Ne.image=function(me,ve,Ie){if(me=re(this.options.sanitize,this.options.baseUrl,me),me===null)return Ie;var ye='<img src="'+me+'" alt="'+Ie+'"';return ve&&(ye+=' title="'+ve+'"'),ye+=this.options.xhtml?"/>":">",ye},Ne.text=function(me){return me},Te}(),de=function(){function Te(){}var Ne=Te.prototype;return Ne.strong=function(me){return me},Ne.em=function(me){return me},Ne.codespan=function(me){return me},Ne.del=function(me){return me},Ne.html=function(me){return me},Ne.text=function(me){return me},Ne.link=function(me,ve,Ie){return""+Ie},Ne.image=function(me,ve,Ie){return""+Ie},Ne.br=function(){return""},Te}(),pe=function(){function Te(){this.seen={}}var Ne=Te.prototype;return Ne.serialize=function(me){return me.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Ne.getNextSafeSlug=function(me,ve){var Ie=me,ye=0;if(this.seen.hasOwnProperty(Ie)){ye=this.seen[me];do ye++,Ie=me+"-"+ye;while(this.seen.hasOwnProperty(Ie))}return ve||(this.seen[me]=ye,this.seen[Ie]=0),Ie},Ne.slug=function(me,ve){ve===void 0&&(ve={});var Ie=this.serialize(me);return this.getNextSafeSlug(Ie,ve.dryrun)},Te}(),_e=oe,se=de,ue=pe,be=I.exports.defaults,ge=R.unescape,Se=function(){function Te(Me){this.options=Me||be,this.options.renderer=this.options.renderer||new _e,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new se,this.slugger=new ue}Te.parse=function(me,ve){var Ie=new Te(ve);return Ie.parse(me)},Te.parseInline=function(me,ve){var Ie=new Te(ve);return Ie.parseInline(me)};var Ne=Te.prototype;return Ne.parse=function(me,ve){ve===void 0&&(ve=!0);var Ie="",ye,we,Oe,Re,We,Ke,He,Ge,qe,Ue,Qe,Ye,et,st,Je,at,mt,lt,rt,ot=me.length;for(ye=0;ye<ot;ye++){if(Ue=me[ye],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ue.type]&&(rt=this.options.extensions.renderers[Ue.type].call({parser:this},Ue),rt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ue.type))){Ie+=rt||"";continue}switch(Ue.type){case"space":continue;case"hr":{Ie+=this.renderer.hr();continue}case"heading":{Ie+=this.renderer.heading(this.parseInline(Ue.tokens),Ue.depth,ge(this.parseInline(Ue.tokens,this.textRenderer)),this.slugger);continue}case"code":{Ie+=this.renderer.code(Ue.text,Ue.lang,Ue.escaped);continue}case"table":{for(Ge="",He="",Re=Ue.header.length,we=0;we<Re;we++)He+=this.renderer.tablecell(this.parseInline(Ue.header[we].tokens),{header:!0,align:Ue.align[we]});for(Ge+=this.renderer.tablerow(He),qe="",Re=Ue.rows.length,we=0;we<Re;we++){for(Ke=Ue.rows[we],He="",We=Ke.length,Oe=0;Oe<We;Oe++)He+=this.renderer.tablecell(this.parseInline(Ke[Oe].tokens),{header:!1,align:Ue.align[Oe]});qe+=this.renderer.tablerow(He)}Ie+=this.renderer.table(Ge,qe);continue}case"blockquote":{qe=this.parse(Ue.tokens),Ie+=this.renderer.blockquote(qe);continue}case"list":{for(Qe=Ue.ordered,Ye=Ue.start,et=Ue.loose,Re=Ue.items.length,qe="",we=0;we<Re;we++)Je=Ue.items[we],at=Je.checked,mt=Je.task,st="",Je.task&&(lt=this.renderer.checkbox(at),et?Je.tokens.length>0&&Je.tokens[0].type==="paragraph"?(Je.tokens[0].text=lt+" "+Je.tokens[0].text,Je.tokens[0].tokens&&Je.tokens[0].tokens.length>0&&Je.tokens[0].tokens[0].type==="text"&&(Je.tokens[0].tokens[0].text=lt+" "+Je.tokens[0].tokens[0].text)):Je.tokens.unshift({type:"text",text:lt}):st+=lt),st+=this.parse(Je.tokens,et),qe+=this.renderer.listitem(st,mt,at);Ie+=this.renderer.list(qe,Qe,Ye);continue}case"html":{Ie+=this.renderer.html(Ue.text);continue}case"paragraph":{Ie+=this.renderer.paragraph(this.parseInline(Ue.tokens));continue}case"text":{for(qe=Ue.tokens?this.parseInline(Ue.tokens):Ue.text;ye+1<ot&&me[ye+1].type==="text";)Ue=me[++ye],qe+=`
`+(Ue.tokens?this.parseInline(Ue.tokens):Ue.text);Ie+=ve?this.renderer.paragraph(qe):qe;continue}default:{var ut='Token with "'+Ue.type+'" type was not found.';if(this.options.silent){console.error(ut);return}else throw new Error(ut)}}}return Ie},Ne.parseInline=function(me,ve){ve=ve||this.renderer;var Ie="",ye,we,Oe,Re=me.length;for(ye=0;ye<Re;ye++){if(we=me[ye],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[we.type]&&(Oe=this.options.extensions.renderers[we.type].call({parser:this},we),Oe!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(we.type))){Ie+=Oe||"";continue}switch(we.type){case"escape":{Ie+=ve.text(we.text);break}case"html":{Ie+=ve.html(we.text);break}case"link":{Ie+=ve.link(we.href,we.title,this.parseInline(we.tokens,ve));break}case"image":{Ie+=ve.image(we.href,we.title,we.text);break}case"strong":{Ie+=ve.strong(this.parseInline(we.tokens,ve));break}case"em":{Ie+=ve.em(this.parseInline(we.tokens,ve));break}case"codespan":{Ie+=ve.codespan(we.text);break}case"br":{Ie+=ve.br();break}case"del":{Ie+=ve.del(this.parseInline(we.tokens,ve));break}case"text":{Ie+=ve.text(we.text);break}default:{var We='Token with "'+we.type+'" type was not found.';if(this.options.silent){console.error(We);return}else throw new Error(We)}}}return Ie},Te}(),ae=H,he=Se,De=Y,ke=oe,Ve=de,Fe=pe,xe=R.merge,Ze=R.checkSanitizeDeprecation,je=R.escape,$e=I.exports.getDefaults,Le=I.exports.changeDefaults,Ee=I.exports.defaults;function Pe(Te,Ne,Me){if(typeof Te=="undefined"||Te===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Te!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Te)+", string expected");if(typeof Ne=="function"&&(Me=Ne,Ne=null),Ne=xe({},Pe.defaults,Ne||{}),Ze(Ne),Me){var me=Ne.highlight,ve;try{ve=ae.lex(Te,Ne)}catch(Oe){return Me(Oe)}var Ie=function(Re){var We;if(!Re)try{Ne.walkTokens&&Pe.walkTokens(ve,Ne.walkTokens),We=he.parse(ve,Ne)}catch(Ke){Re=Ke}return Ne.highlight=me,Re?Me(Re):Me(null,We)};if(!me||me.length<3||(delete Ne.highlight,!ve.length))return Ie();var ye=0;Pe.walkTokens(ve,function(Oe){Oe.type==="code"&&(ye++,setTimeout(function(){me(Oe.text,Oe.lang,function(Re,We){if(Re)return Ie(Re);We!=null&&We!==Oe.text&&(Oe.text=We,Oe.escaped=!0),ye--,ye===0&&Ie()})},0))}),ye===0&&Ie();return}try{var we=ae.lex(Te,Ne);return Ne.walkTokens&&Pe.walkTokens(we,Ne.walkTokens),he.parse(we,Ne)}catch(Oe){if(Oe.message+=`
Please report this to https://github.com/markedjs/marked.`,Ne.silent)return"<p>An error occurred:</p><pre>"+je(Oe.message+"",!0)+"</pre>";throw Oe}}Pe.options=Pe.setOptions=function(Te){return xe(Pe.defaults,Te),Le(Pe.defaults),Pe},Pe.getDefaults=$e,Pe.defaults=Ee,Pe.use=function(){for(var Te=this,Ne=arguments.length,Me=new Array(Ne),me=0;me<Ne;me++)Me[me]=arguments[me];var ve=xe.apply(void 0,[{}].concat(Me)),Ie=Pe.defaults.extensions||{renderers:{},childTokens:{}},ye;Me.forEach(function(we){if(we.extensions&&(ye=!0,we.extensions.forEach(function(Re){if(!Re.name)throw new Error("extension name required");if(Re.renderer){var We=Ie.renderers?Ie.renderers[Re.name]:null;We?Ie.renderers[Re.name]=function(){for(var Ke=arguments.length,He=new Array(Ke),Ge=0;Ge<Ke;Ge++)He[Ge]=arguments[Ge];var qe=Re.renderer.apply(this,He);return qe===!1&&(qe=We.apply(this,He)),qe}:Ie.renderers[Re.name]=Re.renderer}if(Re.tokenizer){if(!Re.level||Re.level!=="block"&&Re.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Ie[Re.level]?Ie[Re.level].unshift(Re.tokenizer):Ie[Re.level]=[Re.tokenizer],Re.start&&(Re.level==="block"?Ie.startBlock?Ie.startBlock.push(Re.start):Ie.startBlock=[Re.start]:Re.level==="inline"&&(Ie.startInline?Ie.startInline.push(Re.start):Ie.startInline=[Re.start]))}Re.childTokens&&(Ie.childTokens[Re.name]=Re.childTokens)})),we.renderer&&function(){var Re=Pe.defaults.renderer||new ke,We=function(Ge){var qe=Re[Ge];Re[Ge]=function(){for(var Ue=arguments.length,Qe=new Array(Ue),Ye=0;Ye<Ue;Ye++)Qe[Ye]=arguments[Ye];var et=we.renderer[Ge].apply(Re,Qe);return et===!1&&(et=qe.apply(Re,Qe)),et}};for(var Ke in we.renderer)We(Ke);ve.renderer=Re}(),we.tokenizer&&function(){var Re=Pe.defaults.tokenizer||new De,We=function(Ge){var qe=Re[Ge];Re[Ge]=function(){for(var Ue=arguments.length,Qe=new Array(Ue),Ye=0;Ye<Ue;Ye++)Qe[Ye]=arguments[Ye];var et=we.tokenizer[Ge].apply(Re,Qe);return et===!1&&(et=qe.apply(Re,Qe)),et}};for(var Ke in we.tokenizer)We(Ke);ve.tokenizer=Re}(),we.walkTokens){var Oe=Pe.defaults.walkTokens;ve.walkTokens=function(Re){we.walkTokens.call(Te,Re),Oe&&Oe(Re)}}ye&&(ve.extensions=Ie),Pe.setOptions(ve)})},Pe.walkTokens=function(Te,Ne){for(var Me=function(){var ye=ve.value;switch(Ne(ye),ye.type){case"table":{for(var we=T(ye.header),Oe;!(Oe=we()).done;){var Re=Oe.value;Pe.walkTokens(Re.tokens,Ne)}for(var We=T(ye.rows),Ke;!(Ke=We()).done;)for(var He=Ke.value,Ge=T(He),qe;!(qe=Ge()).done;){var Ue=qe.value;Pe.walkTokens(Ue.tokens,Ne)}break}case"list":{Pe.walkTokens(ye.items,Ne);break}default:Pe.defaults.extensions&&Pe.defaults.extensions.childTokens&&Pe.defaults.extensions.childTokens[ye.type]?Pe.defaults.extensions.childTokens[ye.type].forEach(function(Qe){Pe.walkTokens(ye[Qe],Ne)}):ye.tokens&&Pe.walkTokens(ye.tokens,Ne)}},me=T(Te),ve;!(ve=me()).done;)Me()},Pe.parseInline=function(Te,Ne){if(typeof Te=="undefined"||Te===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Te!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Te)+", string expected");Ne=xe({},Pe.defaults,Ne||{}),Ze(Ne);try{var Me=ae.lexInline(Te,Ne);return Ne.walkTokens&&Pe.walkTokens(Me,Ne.walkTokens),he.parseInline(Me,Ne)}catch(me){if(me.message+=`
Please report this to https://github.com/markedjs/marked.`,Ne.silent)return"<p>An error occurred:</p><pre>"+je(me.message+"",!0)+"</pre>";throw me}},Pe.Parser=he,Pe.parser=he.parse,Pe.Renderer=ke,Pe.TextRenderer=Ve,Pe.Lexer=ae,Pe.lexer=ae.lex,Pe.Tokenizer=De,Pe.Slugger=Fe,Pe.parse=Pe;var ze=Pe;return ze}),define(ee[303],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class y{constructor(T,I=0,b=T.length,C=I-1){this.items=T,this.start=I,this.end=b,this.index=C}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=y}),define(ee[304],te([0,1,303]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class N{constructor(I=[],b=10){this._initialize(I),this._limit=b,this._onChange()}getHistory(){return this._elements}add(I){this._history.delete(I),this._history.add(I),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(I){return this._history.has(I)}_onChange(){this._reduceToLimit();const I=this._elements;this._navigator=new y.ArrayNavigator(I,0,I.length,I.length)}_reduceToLimit(){const I=this._elements;I.length>this._limit&&this._initialize(I.slice(I.length-this._limit))}_currentPosition(){const I=this._navigator.current();return I?this._elements.indexOf(I):-1}_initialize(I){this._history=new Set;for(const b of I)this._history.add(b)}get _elements(){const I=[];return this._history.forEach(b=>I.push(b)),I}}e.HistoryNavigator=N}),define(ee[105],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovingAverage=e.clamp=void 0;function y(T,I,b){return Math.min(Math.max(T,I),b)}e.clamp=y;class N{constructor(){this._n=1,this._val=0}update(I){return this._val=this._val+(I-this._val)/this._n,this._n+=1,this}get value(){return this._val}}e.MovingAverage=N}),define(ee[17],te([0,1]),function(q,e){"use strict";var y;Object.defineProperty(e,"__esModule",{value:!0}),e.isLittleEndian=e.OS=e.setImmediate=e.setTimeout0=e.locale=e.language=e.userAgent=e.isIOS=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=void 0;const N="en";let T=!1,I=!1,b=!1,C=!1,p=!1,h=!1,g=!1,i=!1,t,r=N,c,l;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let a;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?a=e.globals.vscode.process:typeof process!="undefined"&&(a=process);const s=typeof((y=a==null?void 0:a.versions)===null||y===void 0?void 0:y.electron)=="string",o=s&&(a==null?void 0:a.type)==="renderer";if(typeof navigator=="object"&&!o)l=navigator.userAgent,T=l.indexOf("Windows")>=0,I=l.indexOf("Macintosh")>=0,i=(l.indexOf("Macintosh")>=0||l.indexOf("iPad")>=0||l.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,b=l.indexOf("Linux")>=0,h=!0,t=navigator.language,r=t;else if(typeof a=="object"){T=a.platform==="win32",I=a.platform==="darwin",b=a.platform==="linux",C=b&&!!a.env.SNAP&&!!a.env.SNAP_REVISION,g=s,t=N,r=N;const S=a.env.VSCODE_NLS_CONFIG;if(S)try{const v=JSON.parse(S),m=v.availableLanguages["*"];t=v.locale,r=m||N,c=v._translationsConfigFile}catch(v){}p=!0}else console.error("Unable to resolve platform.");let n=0;I?n=1:T?n=3:b&&(n=2),e.isWindows=T,e.isMacintosh=I,e.isLinux=b,e.isNative=p,e.isWeb=h,e.isIOS=i,e.userAgent=l,e.language=r,e.locale=t,e.setTimeout0=(()=>{if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let S=[];e.globals.addEventListener("message",m=>{if(m.data&&m.data.vscodeScheduleAsyncWork)for(let _=0,L=S.length;_<L;_++){const w=S[_];if(w.id===m.data.vscodeScheduleAsyncWork){S.splice(_,1),w.callback();return}}});let v=0;return m=>{const _=++v;S.push({id:_,callback:m}),e.globals.postMessage({vscodeScheduleAsyncWork:_},"*")}}return S=>setTimeout(S)})(),e.setImmediate=function(){if(e.globals.setImmediate)return e.globals.setImmediate.bind(e.globals);if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts)return e.setTimeout0;if(typeof(a==null?void 0:a.nextTick)=="function")return a.nextTick.bind(a);const v=Promise.resolve();return m=>v.then(m)}(),e.OS=I||i?2:T?1:3;let d=!0,u=!1;function f(){if(!u){u=!0;const S=new Uint8Array(2);S[0]=1,S[1]=2,d=new Uint16Array(S.buffer)[0]===(2<<8)+1}return d}e.isLittleEndian=f}),define(ee[305],te([0,1,17]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let N;if(typeof y.globals.vscode!="undefined"&&typeof y.globals.vscode.process!="undefined"){const T=y.globals.vscode.process;N={get platform(){return T.platform},get arch(){return T.arch},get env(){return T.env},cwd(){return T.cwd()}}}else typeof process!="undefined"?N={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:N={get platform(){return y.isWindows?"win32":y.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=N.cwd,e.env=N.env,e.platform=N.platform}),define(ee[78],te([0,1,305]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const N=65,T=97,I=90,b=122,C=46,p=47,h=92,g=58,i=63;class t extends Error{constructor(d,u,f){let S;typeof u=="string"&&u.indexOf("not ")===0?(S="must not be",u=u.replace(/^not /,"")):S="must be";const v=d.indexOf(".")!==-1?"property":"argument";let m=`The "${d}" ${v} ${S} of type ${u}`;m+=`. Received type ${typeof f}`,super(m),this.code="ERR_INVALID_ARG_TYPE"}}function r(n,d){if(typeof n!="string")throw new t(d,"string",n)}function c(n){return n===p||n===h}function l(n){return n===p}function a(n){return n>=N&&n<=I||n>=T&&n<=b}function s(n,d,u,f){let S="",v=0,m=-1,_=0,L=0;for(let w=0;w<=n.length;++w){if(w<n.length)L=n.charCodeAt(w);else{if(f(L))break;L=p}if(f(L)){if(!(m===w-1||_===1))if(_===2){if(S.length<2||v!==2||S.charCodeAt(S.length-1)!==C||S.charCodeAt(S.length-2)!==C){if(S.length>2){const k=S.lastIndexOf(u);k===-1?(S="",v=0):(S=S.slice(0,k),v=S.length-1-S.lastIndexOf(u)),m=w,_=0;continue}else if(S.length!==0){S="",v=0,m=w,_=0;continue}}d&&(S+=S.length>0?`${u}..`:"..",v=2)}else S.length>0?S+=`${u}${n.slice(m+1,w)}`:S=n.slice(m+1,w),v=w-m-1;m=w,_=0}else L===C&&_!==-1?++_:_=-1}return S}function o(n,d){if(d===null||typeof d!="object")throw new t("pathObject","Object",d);const u=d.dir||d.root,f=d.base||`${d.name||""}${d.ext||""}`;return u?u===d.root?`${u}${f}`:`${u}${n}${f}`:f}e.win32={resolve(...n){let d="",u="",f=!1;for(let S=n.length-1;S>=-1;S--){let v;if(S>=0){if(v=n[S],r(v,"path"),v.length===0)continue}else d.length===0?v=y.cwd():(v=y.env[`=${d}`]||y.cwd(),(v===void 0||v.slice(0,2).toLowerCase()!==d.toLowerCase()&&v.charCodeAt(2)===h)&&(v=`${d}\\`));const m=v.length;let _=0,L="",w=!1;const k=v.charCodeAt(0);if(m===1)c(k)&&(_=1,w=!0);else if(c(k))if(w=!0,c(v.charCodeAt(1))){let D=2,M=D;for(;D<m&&!c(v.charCodeAt(D));)D++;if(D<m&&D!==M){const O=v.slice(M,D);for(M=D;D<m&&c(v.charCodeAt(D));)D++;if(D<m&&D!==M){for(M=D;D<m&&!c(v.charCodeAt(D));)D++;(D===m||D!==M)&&(L=`\\\\${O}\\${v.slice(M,D)}`,_=D)}}}else _=1;else a(k)&&v.charCodeAt(1)===g&&(L=v.slice(0,2),_=2,m>2&&c(v.charCodeAt(2))&&(w=!0,_=3));if(L.length>0)if(d.length>0){if(L.toLowerCase()!==d.toLowerCase())continue}else d=L;if(f){if(d.length>0)break}else if(u=`${v.slice(_)}\\${u}`,f=w,w&&d.length>0)break}return u=s(u,!f,"\\",c),f?`${d}\\${u}`:`${d}${u}`||"."},normalize(n){r(n,"path");const d=n.length;if(d===0)return".";let u=0,f,S=!1;const v=n.charCodeAt(0);if(d===1)return l(v)?"\\":n;if(c(v))if(S=!0,c(n.charCodeAt(1))){let _=2,L=_;for(;_<d&&!c(n.charCodeAt(_));)_++;if(_<d&&_!==L){const w=n.slice(L,_);for(L=_;_<d&&c(n.charCodeAt(_));)_++;if(_<d&&_!==L){for(L=_;_<d&&!c(n.charCodeAt(_));)_++;if(_===d)return`\\\\${w}\\${n.slice(L)}\\`;_!==L&&(f=`\\\\${w}\\${n.slice(L,_)}`,u=_)}}}else u=1;else a(v)&&n.charCodeAt(1)===g&&(f=n.slice(0,2),u=2,d>2&&c(n.charCodeAt(2))&&(S=!0,u=3));let m=u<d?s(n.slice(u),!S,"\\",c):"";return m.length===0&&!S&&(m="."),m.length>0&&c(n.charCodeAt(d-1))&&(m+="\\"),f===void 0?S?`\\${m}`:m:S?`${f}\\${m}`:`${f}${m}`},isAbsolute(n){r(n,"path");const d=n.length;if(d===0)return!1;const u=n.charCodeAt(0);return c(u)||d>2&&a(u)&&n.charCodeAt(1)===g&&c(n.charCodeAt(2))},join(...n){if(n.length===0)return".";let d,u;for(let v=0;v<n.length;++v){const m=n[v];r(m,"path"),m.length>0&&(d===void 0?d=u=m:d+=`\\${m}`)}if(d===void 0)return".";let f=!0,S=0;if(typeof u=="string"&&c(u.charCodeAt(0))){++S;const v=u.length;v>1&&c(u.charCodeAt(1))&&(++S,v>2&&(c(u.charCodeAt(2))?++S:f=!1))}if(f){for(;S<d.length&&c(d.charCodeAt(S));)S++;S>=2&&(d=`\\${d.slice(S)}`)}return e.win32.normalize(d)},relative(n,d){if(r(n,"from"),r(d,"to"),n===d)return"";const u=e.win32.resolve(n),f=e.win32.resolve(d);if(u===f||(n=u.toLowerCase(),d=f.toLowerCase(),n===d))return"";let S=0;for(;S<n.length&&n.charCodeAt(S)===h;)S++;let v=n.length;for(;v-1>S&&n.charCodeAt(v-1)===h;)v--;const m=v-S;let _=0;for(;_<d.length&&d.charCodeAt(_)===h;)_++;let L=d.length;for(;L-1>_&&d.charCodeAt(L-1)===h;)L--;const w=L-_,k=m<w?m:w;let D=-1,M=0;for(;M<k;M++){const F=n.charCodeAt(S+M);if(F!==d.charCodeAt(_+M))break;F===h&&(D=M)}if(M!==k){if(D===-1)return f}else{if(w>k){if(d.charCodeAt(_+M)===h)return f.slice(_+M+1);if(M===2)return f.slice(_+M)}m>k&&(n.charCodeAt(S+M)===h?D=M:M===2&&(D=3)),D===-1&&(D=0)}let O="";for(M=S+D+1;M<=v;++M)(M===v||n.charCodeAt(M)===h)&&(O+=O.length===0?"..":"\\..");return _+=D,O.length>0?`${O}${f.slice(_,L)}`:(f.charCodeAt(_)===h&&++_,f.slice(_,L))},toNamespacedPath(n){if(typeof n!="string")return n;if(n.length===0)return"";const d=e.win32.resolve(n);if(d.length<=2)return n;if(d.charCodeAt(0)===h){if(d.charCodeAt(1)===h){const u=d.charCodeAt(2);if(u!==i&&u!==C)return`\\\\?\\UNC\\${d.slice(2)}`}}else if(a(d.charCodeAt(0))&&d.charCodeAt(1)===g&&d.charCodeAt(2)===h)return`\\\\?\\${d}`;return n},dirname(n){r(n,"path");const d=n.length;if(d===0)return".";let u=-1,f=0;const S=n.charCodeAt(0);if(d===1)return c(S)?n:".";if(c(S)){if(u=f=1,c(n.charCodeAt(1))){let _=2,L=_;for(;_<d&&!c(n.charCodeAt(_));)_++;if(_<d&&_!==L){for(L=_;_<d&&c(n.charCodeAt(_));)_++;if(_<d&&_!==L){for(L=_;_<d&&!c(n.charCodeAt(_));)_++;if(_===d)return n;_!==L&&(u=f=_+1)}}}}else a(S)&&n.charCodeAt(1)===g&&(u=d>2&&c(n.charCodeAt(2))?3:2,f=u);let v=-1,m=!0;for(let _=d-1;_>=f;--_)if(c(n.charCodeAt(_))){if(!m){v=_;break}}else m=!1;if(v===-1){if(u===-1)return".";v=u}return n.slice(0,v)},basename(n,d){d!==void 0&&r(d,"ext"),r(n,"path");let u=0,f=-1,S=!0,v;if(n.length>=2&&a(n.charCodeAt(0))&&n.charCodeAt(1)===g&&(u=2),d!==void 0&&d.length>0&&d.length<=n.length){if(d===n)return"";let m=d.length-1,_=-1;for(v=n.length-1;v>=u;--v){const L=n.charCodeAt(v);if(c(L)){if(!S){u=v+1;break}}else _===-1&&(S=!1,_=v+1),m>=0&&(L===d.charCodeAt(m)?--m==-1&&(f=v):(m=-1,f=_))}return u===f?f=_:f===-1&&(f=n.length),n.slice(u,f)}for(v=n.length-1;v>=u;--v)if(c(n.charCodeAt(v))){if(!S){u=v+1;break}}else f===-1&&(S=!1,f=v+1);return f===-1?"":n.slice(u,f)},extname(n){r(n,"path");let d=0,u=-1,f=0,S=-1,v=!0,m=0;n.length>=2&&n.charCodeAt(1)===g&&a(n.charCodeAt(0))&&(d=f=2);for(let _=n.length-1;_>=d;--_){const L=n.charCodeAt(_);if(c(L)){if(!v){f=_+1;break}continue}S===-1&&(v=!1,S=_+1),L===C?u===-1?u=_:m!==1&&(m=1):u!==-1&&(m=-1)}return u===-1||S===-1||m===0||m===1&&u===S-1&&u===f+1?"":n.slice(u,S)},format:o.bind(null,"\\"),parse(n){r(n,"path");const d={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return d;const u=n.length;let f=0,S=n.charCodeAt(0);if(u===1)return c(S)?(d.root=d.dir=n,d):(d.base=d.name=n,d);if(c(S)){if(f=1,c(n.charCodeAt(1))){let D=2,M=D;for(;D<u&&!c(n.charCodeAt(D));)D++;if(D<u&&D!==M){for(M=D;D<u&&c(n.charCodeAt(D));)D++;if(D<u&&D!==M){for(M=D;D<u&&!c(n.charCodeAt(D));)D++;D===u?f=D:D!==M&&(f=D+1)}}}}else if(a(S)&&n.charCodeAt(1)===g){if(u<=2)return d.root=d.dir=n,d;if(f=2,c(n.charCodeAt(2))){if(u===3)return d.root=d.dir=n,d;f=3}}f>0&&(d.root=n.slice(0,f));let v=-1,m=f,_=-1,L=!0,w=n.length-1,k=0;for(;w>=f;--w){if(S=n.charCodeAt(w),c(S)){if(!L){m=w+1;break}continue}_===-1&&(L=!1,_=w+1),S===C?v===-1?v=w:k!==1&&(k=1):v!==-1&&(k=-1)}return _!==-1&&(v===-1||k===0||k===1&&v===_-1&&v===m+1?d.base=d.name=n.slice(m,_):(d.name=n.slice(m,v),d.base=n.slice(m,_),d.ext=n.slice(v,_))),m>0&&m!==f?d.dir=n.slice(0,m-1):d.dir=d.root,d},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...n){let d="",u=!1;for(let f=n.length-1;f>=-1&&!u;f--){const S=f>=0?n[f]:y.cwd();r(S,"path"),S.length!==0&&(d=`${S}/${d}`,u=S.charCodeAt(0)===p)}return d=s(d,!u,"/",l),u?`/${d}`:d.length>0?d:"."},normalize(n){if(r(n,"path"),n.length===0)return".";const d=n.charCodeAt(0)===p,u=n.charCodeAt(n.length-1)===p;return n=s(n,!d,"/",l),n.length===0?d?"/":u?"./":".":(u&&(n+="/"),d?`/${n}`:n)},isAbsolute(n){return r(n,"path"),n.length>0&&n.charCodeAt(0)===p},join(...n){if(n.length===0)return".";let d;for(let u=0;u<n.length;++u){const f=n[u];r(f,"path"),f.length>0&&(d===void 0?d=f:d+=`/${f}`)}return d===void 0?".":e.posix.normalize(d)},relative(n,d){if(r(n,"from"),r(d,"to"),n===d||(n=e.posix.resolve(n),d=e.posix.resolve(d),n===d))return"";const u=1,f=n.length,S=f-u,v=1,m=d.length-v,_=S<m?S:m;let L=-1,w=0;for(;w<_;w++){const D=n.charCodeAt(u+w);if(D!==d.charCodeAt(v+w))break;D===p&&(L=w)}if(w===_)if(m>_){if(d.charCodeAt(v+w)===p)return d.slice(v+w+1);if(w===0)return d.slice(v+w)}else S>_&&(n.charCodeAt(u+w)===p?L=w:w===0&&(L=0));let k="";for(w=u+L+1;w<=f;++w)(w===f||n.charCodeAt(w)===p)&&(k+=k.length===0?"..":"/..");return`${k}${d.slice(v+L)}`},toNamespacedPath(n){return n},dirname(n){if(r(n,"path"),n.length===0)return".";const d=n.charCodeAt(0)===p;let u=-1,f=!0;for(let S=n.length-1;S>=1;--S)if(n.charCodeAt(S)===p){if(!f){u=S;break}}else f=!1;return u===-1?d?"/":".":d&&u===1?"//":n.slice(0,u)},basename(n,d){d!==void 0&&r(d,"ext"),r(n,"path");let u=0,f=-1,S=!0,v;if(d!==void 0&&d.length>0&&d.length<=n.length){if(d===n)return"";let m=d.length-1,_=-1;for(v=n.length-1;v>=0;--v){const L=n.charCodeAt(v);if(L===p){if(!S){u=v+1;break}}else _===-1&&(S=!1,_=v+1),m>=0&&(L===d.charCodeAt(m)?--m==-1&&(f=v):(m=-1,f=_))}return u===f?f=_:f===-1&&(f=n.length),n.slice(u,f)}for(v=n.length-1;v>=0;--v)if(n.charCodeAt(v)===p){if(!S){u=v+1;break}}else f===-1&&(S=!1,f=v+1);return f===-1?"":n.slice(u,f)},extname(n){r(n,"path");let d=-1,u=0,f=-1,S=!0,v=0;for(let m=n.length-1;m>=0;--m){const _=n.charCodeAt(m);if(_===p){if(!S){u=m+1;break}continue}f===-1&&(S=!1,f=m+1),_===C?d===-1?d=m:v!==1&&(v=1):d!==-1&&(v=-1)}return d===-1||f===-1||v===0||v===1&&d===f-1&&d===u+1?"":n.slice(d,f)},format:o.bind(null,"/"),parse(n){r(n,"path");const d={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return d;const u=n.charCodeAt(0)===p;let f;u?(d.root="/",f=1):f=0;let S=-1,v=0,m=-1,_=!0,L=n.length-1,w=0;for(;L>=f;--L){const k=n.charCodeAt(L);if(k===p){if(!_){v=L+1;break}continue}m===-1&&(_=!1,m=L+1),k===C?S===-1?S=L:w!==1&&(w=1):S!==-1&&(w=-1)}if(m!==-1){const k=v===0&&u?1:v;S===-1||w===0||w===1&&S===m-1&&S===v+1?d.base=d.name=n.slice(k,m):(d.name=n.slice(k,S),d.base=n.slice(k,m),d.ext=n.slice(S,m))}return v>0?d.dir=n.slice(0,v-1):u&&(d.dir="/"),d},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=y.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=y.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=y.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=y.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=y.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=y.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=y.platform==="win32"?e.win32.sep:e.posix.sep}),define(ee[133],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var y;(function(N){function T(p,h){if(p.start>=h.end||h.start>=p.end)return{start:0,end:0};const g=Math.max(p.start,h.start),i=Math.min(p.end,h.end);return i-g<=0?{start:0,end:0}:{start:g,end:i}}N.intersect=T;function I(p){return p.end-p.start<=0}N.isEmpty=I;function b(p,h){return!I(T(p,h))}N.intersects=b;function C(p,h){const g=[],i={start:p.start,end:Math.min(h.start,p.end)},t={start:Math.max(h.end,p.start),end:p.end};return I(i)||g.push(i),I(t)||g.push(t),g}N.relativeComplement=C})(y=e.Range||(e.Range={}))}),define(ee[306],te([0,1,133]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function N(p,h){const g=[];for(let i of h){if(p.start>=i.range.end)continue;if(p.end<i.range.start)break;const t=y.Range.intersect(p,i.range);y.Range.isEmpty(t)||g.push({range:t,size:i.size})}return g}e.groupIntersect=N;function T({start:p,end:h},g){return{start:p+g,end:h+g}}e.shift=T;function I(p){const h=[];let g=null;for(let i of p){const t=i.range.start,r=i.range.end,c=i.size;if(g&&c===g.size){g.range.end=r;continue}g={range:{start:t,end:r},size:c},h.push(g)}return h}e.consolidate=I;function b(...p){return I(p.reduce((h,g)=>h.concat(g),[]))}class C{constructor(){this.groups=[],this._size=0}splice(h,g,i=[]){const t=i.length-g,r=N({start:0,end:h},this.groups),c=N({start:h+g,end:Number.POSITIVE_INFINITY},this.groups).map(a=>({range:T(a.range,t),size:a.size})),l=i.map((a,s)=>({range:{start:h+s,end:h+s+1},size:a.size}));this.groups=b(r,l,c),this._size=this.groups.reduce((a,s)=>a+s.size*(s.range.end-s.range.start),0)}get count(){const h=this.groups.length;return h?this.groups[h-1].range.end:0}get size(){return this._size}indexAt(h){if(h<0)return-1;let g=0,i=0;for(let t of this.groups){const r=t.range.end-t.range.start,c=i+r*t.size;if(h<c)return g+Math.floor((h-i)/t.size);g+=r,i=c}return g}indexAfter(h){return Math.min(this.indexAt(h)+1,this.count)}positionAt(h){if(h<0)return-1;let g=0,i=0;for(let t of this.groups){const r=t.range.end-t.range.start,c=i+r;if(h<c)return g+(h-i)*t.size;g+=r*t.size,i=c}return-1}}e.RangeMap=C}),define(ee[85],te([0,1,17]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const N=y.globals.performance&&typeof y.globals.performance.now=="function";class T{constructor(b){this._highResolution=N&&b,this._startTime=this._now(),this._stopTime=-1}static create(b=!0){return new T(b)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?y.globals.performance.now():Date.now()}}e.StopWatch=T}),define(ee[4],te([0,1,13,2,77,85]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.DebounceEmitter=e.PauseableEmitter=e.Emitter=e.Event=void 0;var b;(function(l){l.None=()=>N.Disposable.None;function a(F){return(R,A=null,P)=>{let E=!1,B;return B=F(V=>{if(!E)return B?B.dispose():E=!0,R.call(A,V)},null,P),E&&B.dispose(),B}}l.once=a;function s(F,R){return S((A,P=null,E)=>F(B=>A.call(P,R(B)),null,E))}l.map=s;function o(F,R){return S((A,P=null,E)=>F(B=>{R(B),A.call(P,B)},null,E))}l.forEach=o;function n(F,R){return S((A,P=null,E)=>F(B=>R(B)&&A.call(P,B),null,E))}l.filter=n;function d(F){return F}l.signal=d;function u(...F){return(R,A=null,P)=>(0,N.combinedDisposable)(...F.map(E=>E(B=>R.call(A,B),null,P)))}l.any=u;function f(F,R,A){let P=A;return s(F,E=>(P=R(P,E),P))}l.reduce=f;function S(F){let R;const A=new g({onFirstListenerAdd(){R=F(A.fire,A)},onLastListenerRemove(){R.dispose()}});return A.event}function v(F,R,A=100,P=!1,E){let B,V,j,K=0;const Y=new g({leakWarningThreshold:E,onFirstListenerAdd(){B=F(J=>{K++,V=R(V,J),P&&!j&&(Y.fire(V),V=void 0),clearTimeout(j),j=setTimeout(()=>{const Z=V;V=void 0,j=void 0,(!P||K>1)&&Y.fire(Z),K=0},A)})},onLastListenerRemove(){B.dispose()}});return Y.event}l.debounce=v;function m(F,R=(A,P)=>A===P){let A=!0,P;return n(F,E=>{const B=A||!R(E,P);return A=!1,P=E,B})}l.latch=m;function _(F,R){return[l.filter(F,R),l.filter(F,A=>!R(A))]}l.split=_;function L(F,R=!1,A=[]){let P=A.slice(),E=F(j=>{P?P.push(j):V.fire(j)});const B=()=>{P&&P.forEach(j=>V.fire(j)),P=null},V=new g({onFirstListenerAdd(){E||(E=F(j=>V.fire(j)))},onFirstListenerDidAdd(){P&&(R?setTimeout(B):B())},onLastListenerRemove(){E&&E.dispose(),E=null}});return V.event}l.buffer=L;class w{constructor(R){this.event=R}map(R){return new w(s(this.event,R))}forEach(R){return new w(o(this.event,R))}filter(R){return new w(n(this.event,R))}reduce(R,A){return new w(f(this.event,R,A))}latch(){return new w(m(this.event))}debounce(R,A=100,P=!1,E){return new w(v(this.event,R,A,P,E))}on(R,A,P){return this.event(R,A,P)}once(R,A,P){return a(this.event)(R,A,P)}}function k(F){return new w(F)}l.chain=k;function D(F,R,A=P=>P){const P=(...j)=>V.fire(A(...j)),E=()=>F.on(R,P),B=()=>F.removeListener(R,P),V=new g({onFirstListenerAdd:E,onLastListenerRemove:B});return V.event}l.fromNodeEventEmitter=D;function M(F,R,A=P=>P){const P=(...j)=>V.fire(A(...j)),E=()=>F.addEventListener(R,P),B=()=>F.removeEventListener(R,P),V=new g({onFirstListenerAdd:E,onLastListenerRemove:B});return V.event}l.fromDOMEventEmitter=M;function O(F){return new Promise(R=>a(F)(R))}l.toPromise=O})(b=e.Event||(e.Event={}));class C{constructor(a){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${a}_${C._idPool++}`}start(a){this._stopWatch=new I.StopWatch(!0),this._listenerCount=a}stop(){if(this._stopWatch){const a=this._stopWatch.elapsed();this._elapsedOverall+=a,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${a.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}C._idPool=0;let p=-1;class h{constructor(a,s=Math.random().toString(18).slice(2,5)){this.customThreshold=a,this.name=s,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(a){let s=p;if(typeof this.customThreshold=="number"&&(s=this.customThreshold),s<=0||a<s)return;this._stacks||(this._stacks=new Map);const o=new Error().stack.split(`
`).slice(3).join(`
`),n=this._stacks.get(o)||0;if(this._stacks.set(o,n+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=s*.5;let d,u=0;for(const[f,S]of this._stacks)(!d||u<S)&&(d=f,u=S);console.warn(`[${this.name}] potential listener LEAK detected, having ${a} listeners already. MOST frequent listener (${u}):`),console.warn(d)}return()=>{const d=this._stacks.get(o)||0;this._stacks.set(o,d-1)}}}class g{constructor(a){var s;this._disposed=!1,this._options=a,this._leakageMon=p>0?new h(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((s=this._options)===null||s===void 0?void 0:s._profName)?new C(this._options._profName):void 0}get event(){return this._event||(this._event=(a,s,o)=>{var n;this._listeners||(this._listeners=new T.LinkedList);const d=this._listeners.isEmpty();d&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const u=this._listeners.push(s?[a,s]:a);d&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,a,s);const f=(n=this._leakageMon)===null||n===void 0?void 0:n.check(this._listeners.size),S=(0,N.toDisposable)(()=>{f&&f(),this._disposed||(u(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return o instanceof N.DisposableStore?o.add(S):Array.isArray(o)&&o.push(S),S}),this._event}fire(a){var s,o;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new T.LinkedList);for(let n of this._listeners)this._deliveryQueue.push([n,a]);for((s=this._perfMon)===null||s===void 0||s.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[n,d]=this._deliveryQueue.shift();try{typeof n=="function"?n.call(void 0,d):n[0].call(n[1],d)}catch(u){(0,y.onUnexpectedError)(u)}}(o=this._perfMon)===null||o===void 0||o.stop()}}dispose(){var a,s,o,n,d;this._disposed||(this._disposed=!0,(a=this._listeners)===null||a===void 0||a.clear(),(s=this._deliveryQueue)===null||s===void 0||s.clear(),(n=(o=this._options)===null||o===void 0?void 0:o.onLastListenerRemove)===null||n===void 0||n.call(o),(d=this._leakageMon)===null||d===void 0||d.dispose())}}e.Emitter=g;class i extends g{constructor(a){super(a);this._isPaused=0,this._eventQueue=new T.LinkedList,this._mergeFn=a==null?void 0:a.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const a=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(a))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(a){this._listeners&&(this._isPaused!==0?this._eventQueue.push(a):super.fire(a))}}e.PauseableEmitter=i;class t extends i{constructor(a){var s;super(a);this._delay=(s=a.delay)!==null&&s!==void 0?s:100}fire(a){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(a)}}e.DebounceEmitter=t;class r{constructor(){this.buffers=[]}wrapEvent(a){return(s,o,n)=>a(d=>{const u=this.buffers[this.buffers.length-1];u?u.push(()=>s.call(o,d)):s.call(o,d)},void 0,n)}bufferEvents(a){const s=[];this.buffers.push(s);const o=a();return this.buffers.pop(),s.forEach(n=>n()),o}}e.EventBufferer=r;class c{constructor(){this.listening=!1,this.inputEvent=b.None,this.inputEventListener=N.Disposable.None,this.emitter=new g({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(a){this.inputEvent=a,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=a(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=c}),define(ee[34],te([0,1,4]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isEdgeLegacyWebView=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getPixelRatio=e.getZoomFactor=e.onDidChangeZoomLevel=e.getTimeSinceLastZoomLevelChanged=e.getZoomLevel=void 0;class N{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new y.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let i=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,r=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1;return t/r}}N.INSTANCE=new N;function T(){return N.INSTANCE.getZoomLevel()}e.getZoomLevel=T;function I(){return N.INSTANCE.getTimeSinceLastZoomLevelChanged()}e.getTimeSinceLastZoomLevelChanged=I;function b(g){return N.INSTANCE.onDidChangeZoomLevel(g)}e.onDidChangeZoomLevel=b;function C(){return N.INSTANCE.getZoomFactor()}e.getZoomFactor=C;function p(){return N.INSTANCE.getPixelRatio()}e.getPixelRatio=p;const h=navigator.userAgent;e.isFirefox=h.indexOf("Firefox")>=0,e.isWebKit=h.indexOf("AppleWebKit")>=0,e.isChrome=h.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&h.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isEdgeLegacyWebView=h.indexOf("Edge/")>=0&&h.indexOf("WebView/")>=0,e.isElectron=h.indexOf("Electron/")>=0,e.isAndroid=h.indexOf("Android")>=0,e.isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches}),define(ee[164],te([0,1,34,17]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:N.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:N.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>N.isNative||y.isStandalone?0:navigator.keyboard||y.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(ee[86],te([0,1,4]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stopEvent=e.DomEmitter=void 0;class N{constructor(b,C,p){const h=g=>this.emitter.fire(g);this.emitter=new y.Emitter({onFirstListenerAdd:()=>b.addEventListener(C,h,p),onLastListenerRemove:()=>b.removeEventListener(C,h,p)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}e.DomEmitter=N;function T(I){return I.preventDefault(),I.stopPropagation(),I}e.stopEvent=T}),define(ee[46],te([0,1,34,56,95,17]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function b(t){if(t.charCode){let c=String.fromCharCode(t.charCode).toUpperCase();return N.KeyCodeUtils.fromString(c)}const r=t.keyCode;if(r===3)return 7;if(y.isFirefox){if(r===59)return 80;if(r===107)return 81;if(r===109)return 83;if(I.isMacintosh&&r===224)return 57}else if(y.isWebKit){if(r===91)return 57;if(I.isMacintosh&&r===93)return 57;if(!I.isMacintosh&&r===92)return 57}return N.EVENT_KEY_CODE_MAP[r]||0}const C=I.isMacintosh?256:2048,p=512,h=1024,g=I.isMacintosh?2048:256;class i{constructor(r){this._standardKeyboardEventBrand=!0;let c=r;this.browserEvent=c,this.target=c.target,this.ctrlKey=c.ctrlKey,this.shiftKey=c.shiftKey,this.altKey=c.altKey,this.metaKey=c.metaKey,this.keyCode=b(c),this.code=c.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(r){return this._asKeybinding===r}_computeKeybinding(){let r=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(r=this.keyCode);let c=0;return this.ctrlKey&&(c|=C),this.altKey&&(c|=p),this.shiftKey&&(c|=h),this.metaKey&&(c|=g),c|=r,c}_computeRuntimeKeybinding(){let r=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(r=this.keyCode),new T.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,r)}}e.StandardKeyboardEvent=i}),define(ee[57],te([0,1,34,204,17]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class I{constructor(p){this.timestamp=Date.now(),this.browserEvent=p,this.leftButton=p.button===0,this.middleButton=p.button===1,this.rightButton=p.button===2,this.buttons=p.buttons,this.target=p.target,this.detail=p.detail||1,p.type==="dblclick"&&(this.detail=2),this.ctrlKey=p.ctrlKey,this.shiftKey=p.shiftKey,this.altKey=p.altKey,this.metaKey=p.metaKey,typeof p.pageX=="number"?(this.posx=p.pageX,this.posy=p.pageY):(this.posx=p.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=p.clientY+document.body.scrollTop+document.documentElement.scrollTop);let h=N.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,p.view);this.posx-=h.left,this.posy-=h.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=I;class b{constructor(p,h=0,g=0){if(this.browserEvent=p||null,this.target=p?p.target||p.targetNode||p.srcElement:null,this.deltaY=g,this.deltaX=h,p){let i=p,t=p;if(typeof i.wheelDeltaY!="undefined")this.deltaY=i.wheelDeltaY/120;else if(typeof t.VERTICAL_AXIS!="undefined"&&t.axis===t.VERTICAL_AXIS)this.deltaY=-t.detail/3;else if(p.type==="wheel"){const r=p;r.deltaMode===r.DOM_DELTA_LINE?y.isFirefox&&!T.isMacintosh?this.deltaY=-p.deltaY/3:this.deltaY=-p.deltaY:this.deltaY=-p.deltaY/40}if(typeof i.wheelDeltaX!="undefined")y.isSafari&&T.isWindows?this.deltaX=-(i.wheelDeltaX/120):this.deltaX=i.wheelDeltaX/120;else if(typeof t.HORIZONTAL_AXIS!="undefined"&&t.axis===t.HORIZONTAL_AXIS)this.deltaX=-p.detail/3;else if(p.type==="wheel"){const r=p;r.deltaMode===r.DOM_DELTA_LINE?y.isFirefox&&!T.isMacintosh?this.deltaX=-p.deltaX/3:this.deltaX=-p.deltaX:this.deltaX=-p.deltaX/40}this.deltaY===0&&this.deltaX===0&&p.wheelDelta&&(this.deltaY=p.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=b}),define(ee[23],te([0,1,4]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const N=Object.freeze(function(C,p){const h=setTimeout(C.bind(p),0);return{dispose(){clearTimeout(h)}}});var T;(function(C){function p(h){return h===C.None||h===C.Cancelled||h instanceof I?!0:!h||typeof h!="object"?!1:typeof h.isCancellationRequested=="boolean"&&typeof h.onCancellationRequested=="function"}C.isCancellationToken=p,C.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:y.Event.None}),C.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:N})})(T=e.CancellationToken||(e.CancellationToken={}));class I{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?N:(this._emitter||(this._emitter=new y.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class b{constructor(p){this._token=void 0,this._parentListener=void 0,this._parentListener=p&&p.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new I),this._token}cancel(){this._token?this._token instanceof I&&this._token.cancel():this._token=T.Cancelled}dispose(p=!1){p&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof I&&this._token.dispose():this._token=T.None}}e.CancellationTokenSource=b});var Ae=this&&this.__awaiter||function(q,e,y,N){function T(I){return I instanceof y?I:new y(function(b){b(I)})}return new(y||(y=Promise))(function(I,b){function C(g){try{h(N.next(g))}catch(i){b(i)}}function p(g){try{h(N.throw(g))}catch(i){b(i)}}function h(g){g.done?I(g.value):T(g.value).then(C,p)}h((N=N.apply(q,e||[])).next())})},_t=this&&this.__asyncValues||function(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=q[Symbol.asyncIterator],y;return e?e.call(q):(q=typeof __values=="function"?__values(q):q[Symbol.iterator](),y={},N("next"),N("throw"),N("return"),y[Symbol.asyncIterator]=function(){return this},y);function N(I){y[I]=q[I]&&function(b){return new Promise(function(C,p){b=q[I](b),T(C,p,b.done,b.value)})}}function T(I,b,C,p){Promise.resolve(p).then(function(h){I({value:h,done:C})},b)}};define(ee[10],te([0,1,23,13,4,2,17]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function C(m){return!!m&&typeof m.then=="function"}e.isThenable=C;function p(m){const _=new y.CancellationTokenSource,L=m(_.token),w=new Promise((k,D)=>{const M=_.token.onCancellationRequested(()=>{M.dispose(),_.dispose(),D((0,N.canceled)())});Promise.resolve(L).then(O=>{M.dispose(),_.dispose(),k(O)},O=>{M.dispose(),_.dispose(),D(O)})});return new class{cancel(){_.cancel()}then(k,D){return w.then(k,D)}catch(k){return this.then(void 0,k)}finally(k){return w.finally(k)}}}e.createCancelablePromise=p;function h(m,_,L){return Promise.race([m,new Promise(w=>_.onCancellationRequested(()=>w(L)))])}e.raceCancellation=h;class g{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(_){if(this.activePromise){if(this.queuedPromiseFactory=_,!this.queuedPromise){const L=()=>{this.queuedPromise=null;const w=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,w};this.queuedPromise=new Promise(w=>{this.activePromise.then(L,L).then(w)})}return new Promise((L,w)=>{this.queuedPromise.then(L,w)})}return this.activePromise=_(),new Promise((L,w)=>{this.activePromise.then(k=>{this.activePromise=null,L(k)},k=>{this.activePromise=null,w(k)})})}}e.Throttler=g;class i{constructor(_){this.defaultDelay=_,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(_,L=this.defaultDelay){return this.task=_,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((w,k)=>{this.doResolve=w,this.doReject=k}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const w=this.task;return this.task=null,w()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},L),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,N.canceled)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}e.Delayer=i;class t{constructor(_){this.delayer=new i(_),this.throttler=new g}trigger(_,L){return this.delayer.trigger(()=>this.throttler.queue(_),L)}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=t;function r(m,_){return _?new Promise((L,w)=>{const k=setTimeout(()=>{D.dispose(),L()},m),D=_.onCancellationRequested(()=>{clearTimeout(k),D.dispose(),w((0,N.canceled)())})}):p(L=>r(m,L))}e.timeout=r;function c(m,_=0){const L=setTimeout(m,_);return(0,I.toDisposable)(()=>clearTimeout(L))}e.disposableTimeout=c;function l(m,_=w=>!!w,L=null){let w=0;const k=m.length,D=()=>{if(w>=k)return Promise.resolve(L);const M=m[w++];return Promise.resolve(M()).then(F=>_(F)?Promise.resolve(F):D())};return D()}e.first=l;class a{constructor(_,L){this._token=-1,typeof _=="function"&&typeof L=="number"&&this.setIfNotSet(_,L)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(_,L){this.cancel(),this._token=setTimeout(()=>{this._token=-1,_()},L)}setIfNotSet(_,L){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,_()},L))}}e.TimeoutTimer=a;class s{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(_,L){this.cancel(),this._token=setInterval(()=>{_()},L)}}e.IntervalTimer=s;class o{constructor(_,L){this.timeoutToken=-1,this.runner=_,this.timeout=L,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(_=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,_)}get delay(){return this.timeout}set delay(_){this.timeout=_}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=o,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=m=>{(0,b.setTimeout0)(()=>{if(_)return;const L=Date.now()+3;m(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,L-Date.now())}}))});let _=!1;return{dispose(){_||(_=!0)}}}:e.runWhenIdle=(m,_)=>{const L=requestIdleCallback(m,typeof _=="number"?{timeout:_}:void 0);let w=!1;return{dispose(){w||(w=!0,cancelIdleCallback(L))}}}}();class n{constructor(_){this._didRun=!1,this._executor=()=>{try{this._value=_()}catch(L){this._error=L}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=n;class d{constructor(){this.resolved=!1,this.p=new Promise((_,L)=>{this.completeCallback=_,this.errorCallback=L})}complete(_){return new Promise(L=>{this.completeCallback(_),this.resolved=!0,L()})}}e.DeferredPromise=d;var u;(function(m){function _(w){return Ae(this,void 0,void 0,function*(){let k;const D=yield Promise.all(w.map(M=>M.then(O=>O,O=>{k||(k=O)})));if(typeof k!="undefined")throw k;return D})}m.settled=_;function L(w){return new Promise((k,D)=>Ae(this,void 0,void 0,function*(){try{yield w(k,D)}catch(M){D(M)}}))}m.withAsyncBody=L})(u=e.Promises||(e.Promises={}));class f{constructor(_){this._state=0,this._results=[],this._error=null,this._onStateChanged=new T.Emitter,queueMicrotask(()=>Ae(this,void 0,void 0,function*(){const L={emitOne:w=>this.emitOne(w),emitMany:w=>this.emitMany(w),reject:w=>this.reject(w)};try{yield Promise.resolve(_(L)),this.resolve()}catch(w){this.reject(w)}finally{L.emitOne=void 0,L.emitMany=void 0,L.reject=void 0}}))}static fromArray(_){return new f(L=>{L.emitMany(_)})}static fromPromise(_){return new f(L=>Ae(this,void 0,void 0,function*(){L.emitMany(yield _)}))}static fromPromises(_){return new f(L=>Ae(this,void 0,void 0,function*(){yield Promise.all(_.map(w=>Ae(this,void 0,void 0,function*(){return L.emitOne(yield w)})))}))}static merge(_){return new f(L=>Ae(this,void 0,void 0,function*(){yield Promise.all(_.map(w=>{var k,D;return Ae(this,void 0,void 0,function*(){var M,O;try{for(k=_t(w);D=yield k.next(),!D.done;){const F=D.value;L.emitOne(F)}}catch(F){M={error:F}}finally{try{D&&!D.done&&(O=k.return)&&(yield O.call(k))}finally{if(M)throw M.error}}})}))}))}[Symbol.asyncIterator](){let _=0;return{next:()=>Ae(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(_<this._results.length)return{done:!1,value:this._results[_++]};if(this._state===1)return{done:!0,value:void 0};yield T.Event.toPromise(this._onStateChanged.event)}while(!0)})}}static map(_,L){return new f(w=>Ae(this,void 0,void 0,function*(){var k,D;try{for(var M=_t(_),O;O=yield M.next(),!O.done;){const F=O.value;w.emitOne(L(F))}}catch(F){k={error:F}}finally{try{O&&!O.done&&(D=M.return)&&(yield D.call(M))}finally{if(k)throw k.error}}}))}map(_){return f.map(this,_)}static filter(_,L){return new f(w=>Ae(this,void 0,void 0,function*(){var k,D;try{for(var M=_t(_),O;O=yield M.next(),!O.done;){const F=O.value;L(F)&&w.emitOne(F)}}catch(F){k={error:F}}finally{try{O&&!O.done&&(D=M.return)&&(yield D.call(M))}finally{if(k)throw k.error}}}))}filter(_){return f.filter(this,_)}static coalesce(_){return f.filter(_,L=>!!L)}coalesce(){return f.coalesce(this)}static toPromise(_){var L,w,k,D;return Ae(this,void 0,void 0,function*(){const M=[];try{for(L=_t(_);w=yield L.next(),!w.done;){const O=w.value;M.push(O)}}catch(O){k={error:O}}finally{try{w&&!w.done&&(D=L.return)&&(yield D.call(L))}finally{if(k)throw k.error}}return M})}toPromise(){return f.toPromise(this)}emitOne(_){this._state===0&&(this._results.push(_),this._onStateChanged.fire())}emitMany(_){this._state===0&&(this._results=this._results.concat(_),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(_){this._state===0&&(this._state=2,this._error=_,this._onStateChanged.fire())}}e.AsyncIterableObject=f,f.EMPTY=f.fromArray([]);class S extends f{constructor(_,L){super(L);this._source=_}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=S;function v(m){const _=new y.CancellationTokenSource,L=m(_.token);return new S(_,w=>Ae(this,void 0,void 0,function*(){var k,D;const M=_.token.onCancellationRequested(()=>{M.dispose(),_.dispose(),w.reject((0,N.canceled)())});try{try{for(var O=_t(L),F;F=yield O.next(),!F.done;){const R=F.value;if(_.token.isCancellationRequested)return;w.emitOne(R)}}catch(R){k={error:R}}finally{try{F&&!F.done&&(D=O.return)&&(yield D.call(O))}finally{if(k)throw k.error}}M.dispose(),_.dispose()}catch(R){M.dispose(),_.dispose(),w.reject(R)}}))}e.createCancelableAsyncIterable=v}),define(ee[307],te([0,1,10,2]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class T extends N.Disposable{constructor(b,C,p){super();this._visibility=b,this._visibleClassName=C,this._invisibleClassName=p,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new y.TimeoutTimer)}setVisibility(b){this._visibility!==b&&(this._visibility=b,this._updateShouldBeVisible())}setShouldBeVisible(b){this._rawShouldBeVisible=b,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const b=this._applyVisibilitySetting();this._shouldBeVisible!==b&&(this._shouldBeVisible=b,this.ensureVisibility())}setIsNeeded(b){this._isNeeded!==b&&(this._isNeeded=b,this.ensureVisibility())}setDomNode(b){this._domNode=b,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(b){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(b?" fade":"")))}}e.ScrollbarVisibilityController=T}),define(ee[27],te([0,1,4]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.getCodiconAriaLabel=e.iconRegistry=void 0;class N{constructor(){this._icons=new Map,this._onDidRegister=new y.Emitter}add(h){const g=this._icons.get(h.id);g?h.description?g.description=h.description:console.error(`Duplicate registration of codicon ${h.id}`):(this._icons.set(h.id,h),this._onDidRegister.fire(h))}get(h){return this._icons.get(h)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const T=new N;e.iconRegistry=T;function I(p){return p?p.replace(/\$\((.*?)\)/g,(h,g)=>` ${g} `).trim():""}e.getCodiconAriaLabel=I;class b{constructor(h,g,i){this.id=h,this.definition=g,this.description=i,T.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}e.Codicon=b,b.add=new b("add",{fontCharacter:"\\ea60"}),b.lightBulb=new b("light-bulb",{fontCharacter:"\\ea61"}),b.warning=new b("warning",{fontCharacter:"\\ea6c"}),b.info=new b("info",{fontCharacter:"\\ea74"}),b.close=new b("close",{fontCharacter:"\\ea76"}),b.sync=new b("sync",{fontCharacter:"\\ea77"}),b.symbolFolder=new b("symbol-folder",{fontCharacter:"\\ea83"}),b.symbolEvent=new b("symbol-event",{fontCharacter:"\\ea86"}),b.error=new b("error",{fontCharacter:"\\ea87"}),b.symbolVariable=new b("symbol-variable",{fontCharacter:"\\ea88"}),b.symbolArray=new b("symbol-array",{fontCharacter:"\\ea8a"}),b.symbolModule=new b("symbol-module",{fontCharacter:"\\ea8b"}),b.symbolPackage=new b("symbol-package",{fontCharacter:"\\ea8b"}),b.symbolNamespace=new b("symbol-namespace",{fontCharacter:"\\ea8b"}),b.symbolObject=new b("symbol-object",{fontCharacter:"\\ea8b"}),b.symbolMethod=new b("symbol-method",{fontCharacter:"\\ea8c"}),b.symbolFunction=new b("symbol-function",{fontCharacter:"\\ea8c"}),b.symbolConstructor=new b("symbol-constructor",{fontCharacter:"\\ea8c"}),b.symbolBoolean=new b("symbol-boolean",{fontCharacter:"\\ea8f"}),b.symbolNull=new b("symbol-null",{fontCharacter:"\\ea8f"}),b.symbolNumber=new b("symbol-number",{fontCharacter:"\\ea90"}),b.symbolStruct=new b("symbol-struct",{fontCharacter:"\\ea91"}),b.symbolTypeParameter=new b("symbol-type-parameter",{fontCharacter:"\\ea92"}),b.symbolKey=new b("symbol-key",{fontCharacter:"\\ea93"}),b.symbolText=new b("symbol-text",{fontCharacter:"\\ea93"}),b.symbolReference=new b("symbol-reference",{fontCharacter:"\\ea94"}),b.symbolEnum=new b("symbol-enum",{fontCharacter:"\\ea95"}),b.symbolValue=new b("symbol-value",{fontCharacter:"\\ea95"}),b.symbolUnit=new b("symbol-unit",{fontCharacter:"\\ea96"}),b.arrowDown=new b("arrow-down",{fontCharacter:"\\ea9a"}),b.arrowLeft=new b("arrow-left",{fontCharacter:"\\ea9b"}),b.arrowUp=new b("arrow-up",{fontCharacter:"\\eaa1"}),b.caseSensitive=new b("case-sensitive",{fontCharacter:"\\eab1"}),b.check=new b("check",{fontCharacter:"\\eab2"}),b.chevronDown=new b("chevron-down",{fontCharacter:"\\eab4"}),b.chevronRight=new b("chevron-right",{fontCharacter:"\\eab6"}),b.chevronUp=new b("chevron-up",{fontCharacter:"\\eab7"}),b.lightbulbAutofix=new b("lightbulb-autofix",{fontCharacter:"\\eb13"}),b.loading=new b("loading",{fontCharacter:"\\eb19"}),b.preserveCase=new b("preserve-case",{fontCharacter:"\\eb2e"}),b.regex=new b("regex",{fontCharacter:"\\eb38"}),b.remove=new b("remove",{fontCharacter:"\\eb3b"}),b.replaceAll=new b("replace-all",{fontCharacter:"\\eb3c"}),b.replace=new b("replace",{fontCharacter:"\\eb3d"}),b.splitHorizontal=new b("split-horizontal",{fontCharacter:"\\eb56"}),b.splitVertical=new b("split-vertical",{fontCharacter:"\\eb57"}),b.symbolClass=new b("symbol-class",{fontCharacter:"\\eb5b"}),b.symbolColor=new b("symbol-color",{fontCharacter:"\\eb5c"}),b.symbolConstant=new b("symbol-constant",{fontCharacter:"\\eb5d"}),b.symbolEnumMember=new b("symbol-enum-member",{fontCharacter:"\\eb5e"}),b.symbolField=new b("symbol-field",{fontCharacter:"\\eb5f"}),b.symbolFile=new b("symbol-file",{fontCharacter:"\\eb60"}),b.symbolInterface=new b("symbol-interface",{fontCharacter:"\\eb61"}),b.symbolKeyword=new b("symbol-keyword",{fontCharacter:"\\eb62"}),b.symbolOperator=new b("symbol-operator",{fontCharacter:"\\eb64"}),b.symbolProperty=new b("symbol-property",{fontCharacter:"\\eb65"}),b.symbolSnippet=new b("symbol-snippet",{fontCharacter:"\\eb66"}),b.triangleDown=new b("triangle-down",{fontCharacter:"\\eb6e"}),b.triangleLeft=new b("triangle-left",{fontCharacter:"\\eb6f"}),b.triangleRight=new b("triangle-right",{fontCharacter:"\\eb70"}),b.triangleUp=new b("triangle-up",{fontCharacter:"\\eb71"}),b.wholeWord=new b("whole-word",{fontCharacter:"\\eb7e"}),b.listFilter=new b("list-filter",{fontCharacter:"\\eb83"}),b.listSelection=new b("list-selection",{fontCharacter:"\\eb85"}),b.selection=new b("selection",{fontCharacter:"\\eb85"}),b.symbolString=new b("symbol-string",{fontCharacter:"\\eb8d"}),b.treeItemExpanded=new b("tree-item-expanded",b.chevronDown.definition),b.treeFilterOnTypeOn=new b("tree-filter-on-type-on",b.listFilter.definition),b.treeFilterOnTypeOff=new b("tree-filter-on-type-off",b.listSelection.definition),b.treeFilterClear=new b("tree-filter-clear",b.close.definition),b.treeItemLoading=new b("tree-item-loading",b.loading.definition),b.menuSelection=new b("menu-selection",b.check.definition),b.menuSubmenu=new b("menu-submenu",b.chevronRight.definition),b.scrollbarButtonLeft=new b("scrollbar-button-left",b.triangleLeft.definition),b.scrollbarButtonRight=new b("scrollbar-button-right",b.triangleRight.definition),b.scrollbarButtonUp=new b("scrollbar-button-up",b.triangleUp.definition),b.scrollbarButtonDown=new b("scrollbar-button-down",b.triangleDown.definition),b.quickInputBack=new b("quick-input-back",b.arrowLeft.definition);var C;(function(p){p.iconNameSegment="[A-Za-z0-9]+",p.iconNameExpression="[A-Za-z0-9-]+",p.iconModifierExpression="~[A-Za-z]+",p.iconNameCharacter="[A-Za-z0-9~-]";const h=new RegExp(`^(${p.iconNameExpression})(${p.iconModifierExpression})?$`);function g(r){if(r instanceof b)return["codicon","codicon-"+r.id];const c=h.exec(r.id);if(!c)return g(b.error);let[,l,a]=c;const s=["codicon","codicon-"+l];return a&&s.push("codicon-modifier-"+a.substr(1)),s}p.asClassNameArray=g;function i(r){return g(r).join(" ")}p.asClassName=i;function t(r){return"."+g(r).join(".")}p.asCSSSelector=t})(C=e.CSSIcon||(e.CSSIcon={}))}),define(ee[308],te([0,1,10]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const N=new y.IdleValue(()=>{const C=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:C,collatorIsNumeric:C.resolvedOptions().numeric}});function T(C,p,h=!1){const g=C||"",i=p||"",t=N.value.collator.compare(g,i);return N.value.collatorIsNumeric&&t===0&&g!==i?g<i?-1:1:t}e.compareFileNames=T;function I(C,p,h){const g=C.toLowerCase(),i=p.toLowerCase(),t=b(C,p,h);if(t)return t;const r=g.endsWith(h),c=i.endsWith(h);if(r!==c)return r?-1:1;const l=T(g,i);return l!==0?l:g.localeCompare(i)}e.compareAnything=I;function b(C,p,h){const g=C.toLowerCase(),i=p.toLowerCase(),t=g.startsWith(h),r=i.startsWith(h);if(t!==r)return t?-1:1;if(t&&r){if(g.length<i.length)return-1;if(g.length>i.length)return 1}return 0}e.compareByPrefix=b}),define(ee[134],te([0,1,4,2]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class T{constructor(r,c,l,a,s,o){this._scrollStateBrand=void 0,r=r|0,c=c|0,l=l|0,a=a|0,s=s|0,o=o|0,this.rawScrollLeft=l,this.rawScrollTop=o,r<0&&(r=0),l+r>c&&(l=c-r),l<0&&(l=0),a<0&&(a=0),o+a>s&&(o=s-a),o<0&&(o=0),this.width=r,this.scrollWidth=c,this.scrollLeft=l,this.height=a,this.scrollHeight=s,this.scrollTop=o}equals(r){return this.rawScrollLeft===r.rawScrollLeft&&this.rawScrollTop===r.rawScrollTop&&this.width===r.width&&this.scrollWidth===r.scrollWidth&&this.scrollLeft===r.scrollLeft&&this.height===r.height&&this.scrollHeight===r.scrollHeight&&this.scrollTop===r.scrollTop}withScrollDimensions(r,c){return new T(typeof r.width!="undefined"?r.width:this.width,typeof r.scrollWidth!="undefined"?r.scrollWidth:this.scrollWidth,c?this.rawScrollLeft:this.scrollLeft,typeof r.height!="undefined"?r.height:this.height,typeof r.scrollHeight!="undefined"?r.scrollHeight:this.scrollHeight,c?this.rawScrollTop:this.scrollTop)}withScrollPosition(r){return new T(this.width,this.scrollWidth,typeof r.scrollLeft!="undefined"?r.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof r.scrollTop!="undefined"?r.scrollTop:this.rawScrollTop)}createScrollEvent(r,c){const l=this.width!==r.width,a=this.scrollWidth!==r.scrollWidth,s=this.scrollLeft!==r.scrollLeft,o=this.height!==r.height,n=this.scrollHeight!==r.scrollHeight,d=this.scrollTop!==r.scrollTop;return{inSmoothScrolling:c,oldWidth:r.width,oldScrollWidth:r.scrollWidth,oldScrollLeft:r.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:r.height,oldScrollHeight:r.scrollHeight,oldScrollTop:r.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:l,scrollWidthChanged:a,scrollLeftChanged:s,heightChanged:o,scrollHeightChanged:n,scrollTopChanged:d}}}e.ScrollState=T;class I extends N.Disposable{constructor(r,c){super();this._scrollableBrand=void 0,this._onScroll=this._register(new y.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=r,this._scheduleAtNextAnimationFrame=c,this._state=new T(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(r){this._smoothScrollDuration=r}validateScrollPosition(r){return this._state.withScrollPosition(r)}getScrollDimensions(){return this._state}setScrollDimensions(r,c){const l=this._state.withScrollDimensions(r,c);this._setState(l,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(r){const c=this._state.withScrollPosition(r);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(c,!1)}setScrollPositionSmooth(r,c){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(r);if(this._smoothScrolling){r={scrollLeft:typeof r.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:r.scrollLeft,scrollTop:typeof r.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:r.scrollTop};const l=this._state.withScrollPosition(r);if(this._smoothScrolling.to.scrollLeft===l.scrollLeft&&this._smoothScrolling.to.scrollTop===l.scrollTop)return;let a;c?a=new h(this._smoothScrolling.from,l,this._smoothScrolling.startTime,this._smoothScrolling.duration):a=this._smoothScrolling.combine(this._state,l,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=a}else{const l=this._state.withScrollPosition(r);this._smoothScrolling=h.start(this._state,l,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const r=this._smoothScrolling.tick(),c=this._state.withScrollPosition(r);if(this._setState(c,!0),!!this._smoothScrolling){if(r.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(r,c){const l=this._state;l.equals(r)||(this._state=r,this._onScroll.fire(this._state.createScrollEvent(l,c)))}}e.Scrollable=I;class b{constructor(r,c,l){this.scrollLeft=r,this.scrollTop=c,this.isDone=l}}e.SmoothScrollingUpdate=b;function C(t,r){const c=r-t;return function(l){return t+c*i(l)}}function p(t,r,c){return function(l){return l<c?t(l/c):r((l-c)/(1-c))}}class h{constructor(r,c,l,a){this.from=r,this.to=c,this.duration=a,this.startTime=l,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(r,c,l){if(Math.abs(r-c)>2.5*l){let s,o;return r<c?(s=r+.75*l,o=c-.75*l):(s=r-.75*l,o=c+.75*l),p(C(r,s),C(o,c),.33)}return C(r,c)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(r){this.to=r.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(r){const c=(r-this.startTime)/this.duration;if(c<1){const l=this.scrollLeft(c),a=this.scrollTop(c);return new b(l,a,!1)}return new b(this.to.scrollLeft,this.to.scrollTop,!0)}combine(r,c,l){return h.start(r,c,l)}static start(r,c,l){l=l+10;const a=Date.now()-10;return new h(r,c,a,l)}}e.SmoothScrollingOperation=h;function g(t){return Math.pow(t,3)}function i(t){return 1-g(1-t)}}),define(ee[8],te([0,1,17]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.breakBetweenGraphemeBreakType=e.getGraphemeBreakType=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsEmoji=e.containsRTL=e.prevCharLength=e.nextCharLength=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function N(oe){return!oe||typeof oe!="string"?!0:oe.trim().length===0}e.isFalsyOrWhitespace=N;const T=/{(\d+)}/g;function I(oe,...de){return de.length===0?oe:oe.replace(T,function(pe,_e){const se=parseInt(_e,10);return isNaN(se)||se<0||se>=de.length?pe:de[se]})}e.format=I;function b(oe){return oe.replace(/[<>&]/g,function(de){switch(de){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return de}})}e.escape=b;function C(oe){return oe.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=C;function p(oe,de=" "){const pe=h(oe,de);return g(pe,de)}e.trim=p;function h(oe,de){if(!oe||!de)return oe;const pe=de.length;if(pe===0||oe.length===0)return oe;let _e=0;for(;oe.indexOf(de,_e)===_e;)_e=_e+pe;return oe.substring(_e)}e.ltrim=h;function g(oe,de){if(!oe||!de)return oe;const pe=de.length,_e=oe.length;if(pe===0||_e===0)return oe;let se=_e,ue=-1;for(;ue=oe.lastIndexOf(de,se-1),!(ue===-1||ue+pe!==se);){if(ue===0)return"";se=ue}return oe.substring(0,se)}e.rtrim=g;function i(oe){return oe.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=i;function t(oe){return oe.replace(/\*/g,"")}e.stripWildcards=t;function r(oe,de,pe={}){if(!oe)throw new Error("Cannot create regex from empty string");de||(oe=C(oe)),pe.wholeWord&&(/\B/.test(oe.charAt(0))||(oe="\\b"+oe),/\B/.test(oe.charAt(oe.length-1))||(oe=oe+"\\b"));let _e="";return pe.global&&(_e+="g"),pe.matchCase||(_e+="i"),pe.multiline&&(_e+="m"),pe.unicode&&(_e+="u"),new RegExp(oe,_e)}e.createRegExp=r;function c(oe){return oe.source==="^"||oe.source==="^$"||oe.source==="$"||oe.source==="^\\s*$"?!1:!!(oe.exec("")&&oe.lastIndex===0)}e.regExpLeadsToEndlessLoop=c;function l(oe){return(oe.global?"g":"")+(oe.ignoreCase?"i":"")+(oe.multiline?"m":"")+(oe.unicode?"u":"")}e.regExpFlags=l;function a(oe){return oe.split(/\r\n|\r|\n/)}e.splitLines=a;function s(oe){for(let de=0,pe=oe.length;de<pe;de++){const _e=oe.charCodeAt(de);if(_e!==32&&_e!==9)return de}return-1}e.firstNonWhitespaceIndex=s;function o(oe,de=0,pe=oe.length){for(let _e=de;_e<pe;_e++){const se=oe.charCodeAt(_e);if(se!==32&&se!==9)return oe.substring(de,_e)}return oe.substring(de,pe)}e.getLeadingWhitespace=o;function n(oe,de=oe.length-1){for(let pe=de;pe>=0;pe--){const _e=oe.charCodeAt(pe);if(_e!==32&&_e!==9)return pe}return-1}e.lastNonWhitespaceIndex=n;function d(oe,de){return oe<de?-1:oe>de?1:0}e.compare=d;function u(oe,de,pe=0,_e=oe.length,se=0,ue=de.length){for(;pe<_e&&se<ue;pe++,se++){let Se=oe.charCodeAt(pe),ae=de.charCodeAt(se);if(Se<ae)return-1;if(Se>ae)return 1}const be=_e-pe,ge=ue-se;return be<ge?-1:be>ge?1:0}e.compareSubstring=u;function f(oe,de){return S(oe,de,0,oe.length,0,de.length)}e.compareIgnoreCase=f;function S(oe,de,pe=0,_e=oe.length,se=0,ue=de.length){for(;pe<_e&&se<ue;pe++,se++){let Se=oe.charCodeAt(pe),ae=de.charCodeAt(se);if(Se===ae)continue;if(Se>=128||ae>=128)return u(oe.toLowerCase(),de.toLowerCase(),pe,_e,se,ue);v(Se)&&(Se-=32),v(ae)&&(ae-=32);const he=Se-ae;if(he!==0)return he}const be=_e-pe,ge=ue-se;return be<ge?-1:be>ge?1:0}e.compareSubstringIgnoreCase=S;function v(oe){return oe>=97&&oe<=122}e.isLowerAsciiLetter=v;function m(oe){return oe>=65&&oe<=90}e.isUpperAsciiLetter=m;function _(oe,de){return oe.length===de.length&&S(oe,de)===0}e.equalsIgnoreCase=_;function L(oe,de){const pe=de.length;return de.length>oe.length?!1:S(oe,de,0,pe)===0}e.startsWithIgnoreCase=L;function w(oe,de){let pe,_e=Math.min(oe.length,de.length);for(pe=0;pe<_e;pe++)if(oe.charCodeAt(pe)!==de.charCodeAt(pe))return pe;return _e}e.commonPrefixLength=w;function k(oe,de){let pe,_e=Math.min(oe.length,de.length);const se=oe.length-1,ue=de.length-1;for(pe=0;pe<_e;pe++)if(oe.charCodeAt(se-pe)!==de.charCodeAt(ue-pe))return pe;return _e}e.commonSuffixLength=k;function D(oe){return 55296<=oe&&oe<=56319}e.isHighSurrogate=D;function M(oe){return 56320<=oe&&oe<=57343}e.isLowSurrogate=M;function O(oe,de){return(oe-55296<<10)+(de-56320)+65536}e.computeCodePoint=O;function F(oe,de,pe){const _e=oe.charCodeAt(pe);if(D(_e)&&pe+1<de){const se=oe.charCodeAt(pe+1);if(M(se))return O(_e,se)}return _e}e.getNextCodePoint=F;function R(oe,de){const pe=oe.charCodeAt(de-1);if(M(pe)&&de>1){const _e=oe.charCodeAt(de-2);if(D(_e))return O(_e,pe)}return pe}function A(oe,de){const pe=X.getInstance(),_e=de,se=oe.length,ue=F(oe,se,de);de+=ue>=65536?2:1;let be=pe.getGraphemeBreakType(ue);for(;de<se;){const ge=F(oe,se,de),Se=pe.getGraphemeBreakType(ge);if(x(be,Se))break;de+=ge>=65536?2:1,be=Se}return de-_e}e.nextCharLength=A;function P(oe,de){const pe=X.getInstance(),_e=de,se=R(oe,de);de-=se>=65536?2:1;let ue=pe.getGraphemeBreakType(se);for(;de>0;){const be=R(oe,de),ge=pe.getGraphemeBreakType(be);if(x(ge,ue))break;de-=be>=65536?2:1,ue=ge}return _e-de}e.prevCharLength=P;const E=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function B(oe){return E.test(oe)}e.containsRTL=B;const V=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFF0]|\uD83E[\uDD00-\uDDFF\uDE70-\uDEF6])/;function j(oe){return V.test(oe)}e.containsEmoji=j;const K=/^[\t\n\r\x20-\x7E]*$/;function Y(oe){return K.test(oe)}e.isBasicASCII=Y,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function J(oe){return e.UNUSUAL_LINE_TERMINATORS.test(oe)}e.containsUnusualLineTerminators=J;function Z(oe){for(let de=0,pe=oe.length;de<pe;de++)if(ie(oe.charCodeAt(de)))return!0;return!1}e.containsFullWidthCharacter=Z;function ie(oe){return oe>=11904&&oe<=55215||oe>=63744&&oe<=64255||oe>=65281&&oe<=65374}e.isFullWidthCharacter=ie;function ne(oe){return oe>=127462&&oe<=127487||oe===8986||oe===8987||oe===9200||oe===9203||oe>=9728&&oe<=10175||oe===11088||oe===11093||oe>=127744&&oe<=128591||oe>=128640&&oe<=128764||oe>=128992&&oe<=129008||oe>=129280&&oe<=129535||oe>=129648&&oe<=129782}e.isEmojiImprecise=ne,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function G(oe){return!!(oe&&oe.length>0&&oe.charCodeAt(0)===65279)}e.startsWithUTF8BOM=G;function W(oe,de=!1){return oe?(de&&(oe=oe.replace(/\\./g,"")),oe.toLowerCase()!==oe):!1}e.containsUppercaseCharacter=W;function z(oe){const de=90-65+1;return oe=oe%(2*de),oe<de?String.fromCharCode(97+oe):String.fromCharCode(65+oe-de)}e.singleLetterHash=z;function U(oe){return X.getInstance().getGraphemeBreakType(oe)}e.getGraphemeBreakType=U;function x(oe,de){return oe===0?de!==5&&de!==7:oe===2&&de===3?!1:oe===4||oe===2||oe===3||de===4||de===2||de===3?!0:!(oe===8&&(de===8||de===9||de===11||de===12)||(oe===11||oe===9)&&(de===9||de===10)||(oe===12||oe===10)&&de===10||de===5||de===13||de===7||oe===1||oe===13&&de===14||oe===6&&de===6)}e.breakBetweenGraphemeBreakType=x;class X{constructor(){this._data=le()}static getInstance(){return X._INSTANCE||(X._INSTANCE=new X),X._INSTANCE}getGraphemeBreakType(de){if(de<32)return de===10?3:de===13?2:4;if(de<127)return 0;const pe=this._data,_e=pe.length/3;let se=1;for(;se<=_e;)if(de<pe[3*se])se=2*se;else if(de>pe[3*se+1])se=2*se+1;else return pe[3*se+2];return 0}}X._INSTANCE=null;function le(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function fe(oe,de){if(oe===0)return 0;const pe=$(oe,de);if(pe!==void 0)return pe;const _e=R(de,oe);return oe-=H(_e),oe}e.getLeftDeleteOffset=fe;function $(oe,de){let pe=R(de,oe);for(oe-=H(pe);Q(pe)||pe===65039||pe===8419;){if(oe===0)return;pe=R(de,oe),oe-=H(pe)}if(!!ne(pe)){if(oe>=0){const _e=R(de,oe);_e===8205&&(oe-=H(_e))}return oe}}function H(oe){return oe>=65536?2:1}function Q(oe){return 127995<=oe&&oe<=127999}e.noBreakWhitespace="\xA0";class re{static getData(){return JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,40,10088,40,10098,40,12308,40,64830,40,65341,41,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,124,8739,124,9213,124,65512,124,1633,124,1777,124,66336,124,125127,124,120783,124,120793,124,120803,124,120813,124,120823,124,130033,124,65321,124,8544,124,8464,124,8465,124,119816,124,119868,124,119920,124,120024,124,120128,124,120180,124,120232,124,120284,124,120336,124,120388,124,120440,124,406,124,65356,124,8572,124,8467,124,119845,124,119897,124,119949,124,120001,124,120053,124,120105,124,120157,124,120209,124,120261,124,120313,124,120365,124,120417,124,120469,124,448,124,120496,124,120554,124,120612,124,120670,124,120728,124,11410,124,1030,124,1216,124,1493,124,1503,124,1575,124,126464,124,126592,124,65166,124,65165,124,1994,124,11599,124,5825,124,42226,124,93992,124,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90],"_default":[160,32,8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"cs":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89],"de":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89],"es":[8211,45,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"fr":[65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"it":[160,32,8211,45,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"ko":[8211,45,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"pl":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"pt-BR":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"qps-ploc":[160,32,8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"ru":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,124,1009,112,215,120],"tr":[160,32,8211,45,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"zh-hans":[65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"zh-hant":[8211,45,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89]}')}static getConfusablesForCurrentLocale(){if(!re.map){let _e=function(be){const ge=new Map;for(let Se=0;Se<be.length;Se+=2)ge.set(be[Se],be[Se+1]);return ge};const de=re.getData();let pe=y.locale;(!pe||!(pe in de))&&(pe=y.language),(!pe||!(pe in de))&&(pe="_default");const se=_e(de._common),ue=_e(de[pe]);for(const[be,ge]of ue)se.set(be,ge);re.map=se}return re.map}static isAmbiguous(de){return re.getConfusablesForCurrentLocale().has(de)}static getPrimaryConfusable(de){return re.getConfusablesForCurrentLocale().get(de)}static getPrimaryConfusableCodePoints(){return new Set(re.getConfusablesForCurrentLocale().keys())}}e.AmbiguousCharacters=re;class ce{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(ce.getRawData())),this._data}static isInvisibleCharacter(de){return ce.getData().has(de)}static get codePoints(){return ce.getData()}}e.InvisibleCharacters=ce,ce._data=void 0}),define(ee[165],te([0,1,78,17,8]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isRootOrDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function I(r){return r===47||r===92}e.isPathSeparator=I;function b(r){return r.replace(/[\\/]/g,y.posix.sep)}e.toSlashes=b;function C(r){return r.indexOf("/")===-1&&(r=b(r)),/^[a-zA-Z]:(\/|$)/.test(r)&&(r="/"+r),r}e.toPosixPath=C;function p(r,c=y.posix.sep){if(!r)return"";const l=r.length,a=r.charCodeAt(0);if(I(a)){if(I(r.charCodeAt(1))&&!I(r.charCodeAt(2))){let o=3;const n=o;for(;o<l&&!I(r.charCodeAt(o));o++);if(n!==o&&!I(r.charCodeAt(o+1))){for(o+=1;o<l;o++)if(I(r.charCodeAt(o)))return r.slice(0,o+1).replace(/[\\/]/g,c)}}return c}else if(g(a)&&r.charCodeAt(1)===58)return I(r.charCodeAt(2))?r.slice(0,2)+c:r.slice(0,2);let s=r.indexOf("://");if(s!==-1){for(s+=3;s<l;s++)if(I(r.charCodeAt(s)))return r.slice(0,s+1)}return""}e.getRoot=p;function h(r,c,l,a=y.sep){if(r===c)return!0;if(!r||!c||c.length>r.length)return!1;if(l){if(!(0,T.startsWithIgnoreCase)(r,c))return!1;if(c.length===r.length)return!0;let o=c.length;return c.charAt(c.length-1)===a&&o--,r.charAt(o)===a}return c.charAt(c.length-1)!==a&&(c+=a),r.indexOf(c)===0}e.isEqualOrParent=h;function g(r){return r>=65&&r<=90||r>=97&&r<=122}e.isWindowsDriveLetter=g;function i(r){const c=(0,y.normalize)(r);return N.isWindows?r.length>3?!1:t(c)&&(r.length===2||c.charCodeAt(2)===92):c===y.posix.sep}e.isRootOrDriveLetter=i;function t(r,c){return(c!==void 0?c:N.isWindows)?g(r.charCodeAt(0))&&r.charCodeAt(1)===58:!1}e.hasDriveLetter=t}),define(ee[106],te([0,1,8]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function N(l){return T(l,0)}e.hash=N;function T(l,a){switch(typeof l){case"object":return l===null?I(349,a):Array.isArray(l)?p(l,a):h(l,a);case"string":return C(l,a);case"boolean":return b(l,a);case"number":return I(l,a);case"undefined":return I(937,a);default:return I(617,a)}}e.doHash=T;function I(l,a){return(a<<5)-a+l|0}e.numberHash=I;function b(l,a){return I(l?433:863,a)}function C(l,a){a=I(149417,a);for(let s=0,o=l.length;s<o;s++)a=I(l.charCodeAt(s),a);return a}e.stringHash=C;function p(l,a){return a=I(104579,a),l.reduce((s,o)=>T(o,s),a)}function h(l,a){return a=I(181387,a),Object.keys(l).sort().reduce((s,o)=>(s=C(o,s),T(l[o],s)),a)}function g(l,a,s=32){const o=s-a,n=~((1<<o)-1);return(l<<a|(n&l)>>>o)>>>0}function i(l,a=0,s=l.byteLength,o=0){for(let n=0;n<s;n++)l[a+n]=o}function t(l,a,s="0"){for(;l.length<a;)l=s+l;return l}function r(l,a=32){return l instanceof ArrayBuffer?Array.from(new Uint8Array(l)).map(s=>s.toString(16).padStart(2,"0")).join(""):t((l>>>0).toString(16),a/4)}e.toHexString=r;class c{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(a){const s=a.length;if(s===0)return;const o=this._buff;let n=this._buffLen,d=this._leftoverHighSurrogate,u,f;for(d!==0?(u=d,f=-1,d=0):(u=a.charCodeAt(0),f=0);;){let S=u;if(y.isHighSurrogate(u))if(f+1<s){const v=a.charCodeAt(f+1);y.isLowSurrogate(v)?(f++,S=y.computeCodePoint(u,v)):S=65533}else{d=u;break}else y.isLowSurrogate(u)&&(S=65533);if(n=this._push(o,n,S),f++,f<s)u=a.charCodeAt(f);else break}this._buffLen=n,this._leftoverHighSurrogate=d}_push(a,s,o){return o<128?a[s++]=o:o<2048?(a[s++]=192|(o&1984)>>>6,a[s++]=128|(o&63)>>>0):o<65536?(a[s++]=224|(o&61440)>>>12,a[s++]=128|(o&4032)>>>6,a[s++]=128|(o&63)>>>0):(a[s++]=240|(o&1835008)>>>18,a[s++]=128|(o&258048)>>>12,a[s++]=128|(o&4032)>>>6,a[s++]=128|(o&63)>>>0),s>=64&&(this._step(),s-=64,this._totalLen+=64,a[0]=a[64+0],a[1]=a[64+1],a[2]=a[64+2]),s}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),r(this._h0)+r(this._h1)+r(this._h2)+r(this._h3)+r(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,i(this._buff,this._buffLen),this._buffLen>56&&(this._step(),i(this._buff));const a=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(a/4294967296),!1),this._buffDV.setUint32(60,a%4294967296,!1),this._step()}_step(){const a=c._bigBlock32,s=this._buffDV;for(let _=0;_<64;_+=4)a.setUint32(_,s.getUint32(_,!1),!1);for(let _=64;_<320;_+=4)a.setUint32(_,g(a.getUint32(_-12,!1)^a.getUint32(_-32,!1)^a.getUint32(_-56,!1)^a.getUint32(_-64,!1),1),!1);let o=this._h0,n=this._h1,d=this._h2,u=this._h3,f=this._h4,S,v,m;for(let _=0;_<80;_++)_<20?(S=n&d|~n&u,v=1518500249):_<40?(S=n^d^u,v=1859775393):_<60?(S=n&d|n&u|d&u,v=2400959708):(S=n^d^u,v=3395469782),m=g(o,5)+S+f+v+a.getUint32(_*4,!1)&4294967295,f=u,u=d,d=g(n,30),n=o,o=m;this._h0=this._h0+o&4294967295,this._h1=this._h1+n&4294967295,this._h2=this._h2+d&4294967295,this._h3=this._h3+u&4294967295,this._h4=this._h4+f&4294967295}}e.StringSHA1=c,c._bigBlock32=new DataView(new ArrayBuffer(320))}),define(ee[135],te([0,1,302,106]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class T{constructor(i){this.source=i}getElements(){const i=this.source,t=new Int32Array(i.length);for(let r=0,c=i.length;r<c;r++)t[r]=i.charCodeAt(r);return t}}e.StringDiffSequence=T;function I(g,i,t){return new h(new T(g),new T(i)).ComputeDiff(t).changes}e.stringDiff=I;class b{static Assert(i,t){if(!i)throw new Error(t)}}e.Debug=b;class C{static Copy(i,t,r,c,l){for(let a=0;a<l;a++)r[c+a]=i[t+a]}static Copy2(i,t,r,c,l){for(let a=0;a<l;a++)r[c+a]=i[t+a]}}e.MyArray=C;class p{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new y.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(i,t){this.m_originalStart=Math.min(this.m_originalStart,i),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(i,t){this.m_originalStart=Math.min(this.m_originalStart,i),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class h{constructor(i,t,r=null){this.ContinueProcessingPredicate=r,this._originalSequence=i,this._modifiedSequence=t;const[c,l,a]=h._getElements(i),[s,o,n]=h._getElements(t);this._hasStrings=a&&n,this._originalStringElements=c,this._originalElementsOrHash=l,this._modifiedStringElements=s,this._modifiedElementsOrHash=o,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(i){return i.length>0&&typeof i[0]=="string"}static _getElements(i){const t=i.getElements();if(h._isStringArray(t)){const r=new Int32Array(t.length);for(let c=0,l=t.length;c<l;c++)r[c]=(0,N.stringHash)(t[c],0);return[t,r,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(i,t){return this._originalElementsOrHash[i]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[i]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(i,t){if(!this.ElementsAreEqual(i,t))return!1;const r=h._getStrictElement(this._originalSequence,i),c=h._getStrictElement(this._modifiedSequence,t);return r===c}static _getStrictElement(i,t){return typeof i.getStrictElement=="function"?i.getStrictElement(t):null}OriginalElementsAreEqual(i,t){return this._originalElementsOrHash[i]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[i]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(i,t){return this._modifiedElementsOrHash[i]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[i]===this._modifiedStringElements[t]:!0}ComputeDiff(i){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,i)}_ComputeDiff(i,t,r,c,l){const a=[!1];let s=this.ComputeDiffRecursive(i,t,r,c,a);return l&&(s=this.PrettifyChanges(s)),{quitEarly:a[0],changes:s}}ComputeDiffRecursive(i,t,r,c,l){for(l[0]=!1;i<=t&&r<=c&&this.ElementsAreEqual(i,r);)i++,r++;for(;t>=i&&c>=r&&this.ElementsAreEqual(t,c);)t--,c--;if(i>t||r>c){let u;return r<=c?(b.Assert(i===t+1,"originalStart should only be one more than originalEnd"),u=[new y.DiffChange(i,0,r,c-r+1)]):i<=t?(b.Assert(r===c+1,"modifiedStart should only be one more than modifiedEnd"),u=[new y.DiffChange(i,t-i+1,r,0)]):(b.Assert(i===t+1,"originalStart should only be one more than originalEnd"),b.Assert(r===c+1,"modifiedStart should only be one more than modifiedEnd"),u=[]),u}const a=[0],s=[0],o=this.ComputeRecursionPoint(i,t,r,c,a,s,l),n=a[0],d=s[0];if(o!==null)return o;if(!l[0]){const u=this.ComputeDiffRecursive(i,n,r,d,l);let f=[];return l[0]?f=[new y.DiffChange(n+1,t-(n+1)+1,d+1,c-(d+1)+1)]:f=this.ComputeDiffRecursive(n+1,t,d+1,c,l),this.ConcatenateChanges(u,f)}return[new y.DiffChange(i,t-i+1,r,c-r+1)]}WALKTRACE(i,t,r,c,l,a,s,o,n,d,u,f,S,v,m,_,L,w){let k=null,D=null,M=new p,O=t,F=r,R=S[0]-_[0]-c,A=-1073741824,P=this.m_forwardHistory.length-1;do{const E=R+i;E===O||E<F&&n[E-1]<n[E+1]?(u=n[E+1],v=u-R-c,u<A&&M.MarkNextChange(),A=u,M.AddModifiedElement(u+1,v),R=E+1-i):(u=n[E-1]+1,v=u-R-c,u<A&&M.MarkNextChange(),A=u-1,M.AddOriginalElement(u,v+1),R=E-1-i),P>=0&&(n=this.m_forwardHistory[P],i=n[0],O=1,F=n.length-1)}while(--P>=-1);if(k=M.getReverseChanges(),w[0]){let E=S[0]+1,B=_[0]+1;if(k!==null&&k.length>0){const V=k[k.length-1];E=Math.max(E,V.getOriginalEnd()),B=Math.max(B,V.getModifiedEnd())}D=[new y.DiffChange(E,f-E+1,B,m-B+1)]}else{M=new p,O=a,F=s,R=S[0]-_[0]-o,A=1073741824,P=L?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const E=R+l;E===O||E<F&&d[E-1]>=d[E+1]?(u=d[E+1]-1,v=u-R-o,u>A&&M.MarkNextChange(),A=u+1,M.AddOriginalElement(u+1,v+1),R=E+1-l):(u=d[E-1],v=u-R-o,u>A&&M.MarkNextChange(),A=u,M.AddModifiedElement(u+1,v+1),R=E-1-l),P>=0&&(d=this.m_reverseHistory[P],l=d[0],O=1,F=d.length-1)}while(--P>=-1);D=M.getChanges()}return this.ConcatenateChanges(k,D)}ComputeRecursionPoint(i,t,r,c,l,a,s){let o=0,n=0,d=0,u=0,f=0,S=0;i--,r--,l[0]=0,a[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const v=t-i+(c-r),m=v+1,_=new Int32Array(m),L=new Int32Array(m),w=c-r,k=t-i,D=i-r,M=t-c,F=(k-w)%2==0;_[w]=i,L[k]=t,s[0]=!1;for(let R=1;R<=v/2+1;R++){let A=0,P=0;d=this.ClipDiagonalBound(w-R,R,w,m),u=this.ClipDiagonalBound(w+R,R,w,m);for(let B=d;B<=u;B+=2){B===d||B<u&&_[B-1]<_[B+1]?o=_[B+1]:o=_[B-1]+1,n=o-(B-w)-D;const V=o;for(;o<t&&n<c&&this.ElementsAreEqual(o+1,n+1);)o++,n++;if(_[B]=o,o+n>A+P&&(A=o,P=n),!F&&Math.abs(B-k)<=R-1&&o>=L[B])return l[0]=o,a[0]=n,V<=L[B]&&1447>0&&R<=1447+1?this.WALKTRACE(w,d,u,D,k,f,S,M,_,L,o,t,l,n,c,a,F,s):null}const E=(A-i+(P-r)-R)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(A,E))return s[0]=!0,l[0]=A,a[0]=P,E>0&&1447>0&&R<=1447+1?this.WALKTRACE(w,d,u,D,k,f,S,M,_,L,o,t,l,n,c,a,F,s):(i++,r++,[new y.DiffChange(i,t-i+1,r,c-r+1)]);f=this.ClipDiagonalBound(k-R,R,k,m),S=this.ClipDiagonalBound(k+R,R,k,m);for(let B=f;B<=S;B+=2){B===f||B<S&&L[B-1]>=L[B+1]?o=L[B+1]-1:o=L[B-1],n=o-(B-k)-M;const V=o;for(;o>i&&n>r&&this.ElementsAreEqual(o,n);)o--,n--;if(L[B]=o,F&&Math.abs(B-w)<=R&&o<=_[B])return l[0]=o,a[0]=n,V>=_[B]&&1447>0&&R<=1447+1?this.WALKTRACE(w,d,u,D,k,f,S,M,_,L,o,t,l,n,c,a,F,s):null}if(R<=1447){let B=new Int32Array(u-d+2);B[0]=w-d+1,C.Copy2(_,d,B,1,u-d+1),this.m_forwardHistory.push(B),B=new Int32Array(S-f+2),B[0]=k-f+1,C.Copy2(L,f,B,1,S-f+1),this.m_reverseHistory.push(B)}}return this.WALKTRACE(w,d,u,D,k,f,S,M,_,L,o,t,l,n,c,a,F,s)}PrettifyChanges(i){for(let t=0;t<i.length;t++){const r=i[t],c=t<i.length-1?i[t+1].originalStart:this._originalElementsOrHash.length,l=t<i.length-1?i[t+1].modifiedStart:this._modifiedElementsOrHash.length,a=r.originalLength>0,s=r.modifiedLength>0;for(;r.originalStart+r.originalLength<c&&r.modifiedStart+r.modifiedLength<l&&(!a||this.OriginalElementsAreEqual(r.originalStart,r.originalStart+r.originalLength))&&(!s||this.ModifiedElementsAreEqual(r.modifiedStart,r.modifiedStart+r.modifiedLength));){const n=this.ElementsAreStrictEqual(r.originalStart,r.modifiedStart);if(this.ElementsAreStrictEqual(r.originalStart+r.originalLength,r.modifiedStart+r.modifiedLength)&&!n)break;r.originalStart++,r.modifiedStart++}let o=[null];if(t<i.length-1&&this.ChangesOverlap(i[t],i[t+1],o)){i[t]=o[0],i.splice(t+1,1),t--;continue}}for(let t=i.length-1;t>=0;t--){const r=i[t];let c=0,l=0;if(t>0){const u=i[t-1];c=u.originalStart+u.originalLength,l=u.modifiedStart+u.modifiedLength}const a=r.originalLength>0,s=r.modifiedLength>0;let o=0,n=this._boundaryScore(r.originalStart,r.originalLength,r.modifiedStart,r.modifiedLength);for(let u=1;;u++){const f=r.originalStart-u,S=r.modifiedStart-u;if(f<c||S<l||a&&!this.OriginalElementsAreEqual(f,f+r.originalLength)||s&&!this.ModifiedElementsAreEqual(S,S+r.modifiedLength))break;const m=(f===c&&S===l?5:0)+this._boundaryScore(f,r.originalLength,S,r.modifiedLength);m>n&&(n=m,o=u)}r.originalStart-=o,r.modifiedStart-=o;const d=[null];if(t>0&&this.ChangesOverlap(i[t-1],i[t],d)){i[t-1]=d[0],i.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,r=i.length;t<r;t++){const c=i[t-1],l=i[t],a=l.originalStart-c.originalStart-c.originalLength,s=c.originalStart,o=l.originalStart+l.originalLength,n=o-s,d=c.modifiedStart,u=l.modifiedStart+l.modifiedLength,f=u-d;if(a<5&&n<20&&f<20){const S=this._findBetterContiguousSequence(s,n,d,f,a);if(S){const[v,m]=S;(v!==c.originalStart+c.originalLength||m!==c.modifiedStart+c.modifiedLength)&&(c.originalLength=v-c.originalStart,c.modifiedLength=m-c.modifiedStart,l.originalStart=v+a,l.modifiedStart=m+a,l.originalLength=o-l.originalStart,l.modifiedLength=u-l.modifiedStart)}}}return i}_findBetterContiguousSequence(i,t,r,c,l){if(t<l||c<l)return null;const a=i+t-l+1,s=r+c-l+1;let o=0,n=0,d=0;for(let u=i;u<a;u++)for(let f=r;f<s;f++){const S=this._contiguousSequenceScore(u,f,l);S>0&&S>o&&(o=S,n=u,d=f)}return o>0?[n,d]:null}_contiguousSequenceScore(i,t,r){let c=0;for(let l=0;l<r;l++){if(!this.ElementsAreEqual(i+l,t+l))return 0;c+=this._originalStringElements[i+l].length}return c}_OriginalIsBoundary(i){return i<=0||i>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[i])}_OriginalRegionIsBoundary(i,t){if(this._OriginalIsBoundary(i)||this._OriginalIsBoundary(i-1))return!0;if(t>0){const r=i+t;if(this._OriginalIsBoundary(r-1)||this._OriginalIsBoundary(r))return!0}return!1}_ModifiedIsBoundary(i){return i<=0||i>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[i])}_ModifiedRegionIsBoundary(i,t){if(this._ModifiedIsBoundary(i)||this._ModifiedIsBoundary(i-1))return!0;if(t>0){const r=i+t;if(this._ModifiedIsBoundary(r-1)||this._ModifiedIsBoundary(r))return!0}return!1}_boundaryScore(i,t,r,c){const l=this._OriginalRegionIsBoundary(i,t)?1:0,a=this._ModifiedRegionIsBoundary(r,c)?1:0;return l+a}ConcatenateChanges(i,t){let r=[];if(i.length===0||t.length===0)return t.length>0?t:i;if(this.ChangesOverlap(i[i.length-1],t[0],r)){const c=new Array(i.length+t.length-1);return C.Copy(i,0,c,0,i.length-1),c[i.length-1]=r[0],C.Copy(t,1,c,i.length,t.length-1),c}else{const c=new Array(i.length+t.length);return C.Copy(i,0,c,0,i.length),C.Copy(t,0,c,i.length,t.length),c}}ChangesOverlap(i,t,r){if(b.Assert(i.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),b.Assert(i.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),i.originalStart+i.originalLength>=t.originalStart||i.modifiedStart+i.modifiedLength>=t.modifiedStart){const c=i.originalStart;let l=i.originalLength;const a=i.modifiedStart;let s=i.modifiedLength;return i.originalStart+i.originalLength>=t.originalStart&&(l=t.originalStart+t.originalLength-i.originalStart),i.modifiedStart+i.modifiedLength>=t.modifiedStart&&(s=t.modifiedStart+t.modifiedLength-i.modifiedStart),r[0]=new y.DiffChange(c,l,a,s),!0}else return r[0]=null,!1}ClipDiagonalBound(i,t,r,c){if(i>=0&&i<c)return i;const l=r,a=c-r-1,s=t%2==0;if(i<0){const o=l%2==0;return s===o?0:1}else{const o=a%2==0;return s===o?c-1:c-2}}}e.LcsDiff=h}),define(ee[166],te([0,1,103,19,135,4,55]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function C(i){return typeof i=="object"&&"visibility"in i&&"data"in i}e.isFilterResult=C;function p(i){switch(i){case!0:return 1;case!1:return 0;default:return i}}e.getVisibleState=p;function h(i){return typeof i.collapsible=="boolean"}class g{constructor(t,r,c,l={}){this.user=t,this.list=r,this.rootRef=[],this.eventBufferer=new I.EventBufferer,this._onDidChangeCollapseState=new I.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new I.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new I.Emitter,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof l.collapseByDefault=="undefined"?!1:l.collapseByDefault,this.filter=l.filter,this.autoExpandSingleChildren=typeof l.autoExpandSingleChildren=="undefined"?!1:l.autoExpandSingleChildren,this.root={parent:void 0,element:c,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(t,r,c=b.Iterable.empty(),l={}){if(t.length===0)throw new y.TreeError(this.user,"Invalid tree location");l.diffIdentityProvider?this.spliceSmart(l.diffIdentityProvider,t,r,c,l):this.spliceSimple(t,r,c,l)}spliceSmart(t,r,c,l,a,s){var o;l===void 0&&(l=b.Iterable.empty()),s===void 0&&(s=(o=a.diffDepth)!==null&&o!==void 0?o:0);const{parentNode:n}=this.getParentNodeWithListIndex(r);if(!n.lastDiffIds)return this.spliceSimple(r,c,l,a);const d=[...l],u=r[r.length-1],f=new T.LcsDiff({getElements:()=>n.lastDiffIds},{getElements:()=>[...n.children.slice(0,u),...d,...n.children.slice(u+c)].map(L=>t.getId(L.element).toString())}).ComputeDiff(!1);if(f.quitEarly)return n.lastDiffIds=void 0,this.spliceSimple(r,c,d,a);const S=r.slice(0,-1),v=(L,w,k)=>{if(s>0)for(let D=0;D<k;D++)L--,w--,this.spliceSmart(t,[...S,L,0],Number.MAX_SAFE_INTEGER,d[w].children,a,s-1)};let m=Math.min(n.children.length,u+c),_=d.length;for(const L of f.changes.sort((w,k)=>k.originalStart-w.originalStart))v(m,_,m-(L.originalStart+L.originalLength)),m=L.originalStart,_=L.modifiedStart-u,this.spliceSimple([...S,m],L.originalLength,b.Iterable.slice(d,_,_+L.modifiedLength),a);v(m,_,m)}spliceSimple(t,r,c=b.Iterable.empty(),{onDidCreateNode:l,onDidDeleteNode:a,diffIdentityProvider:s}){const{parentNode:o,listIndex:n,revealed:d,visible:u}=this.getParentNodeWithListIndex(t),f=[],S=b.Iterable.map(c,R=>this.createTreeNode(R,o,o.visible?1:0,d,f,l)),v=t[t.length-1],m=o.children.length>0;let _=0;for(let R=v;R>=0&&R<o.children.length;R--){const A=o.children[R];if(A.visible){_=A.visibleChildIndex;break}}const L=[];let w=0,k=0;for(const R of S)L.push(R),k+=R.renderNodeCount,R.visible&&(R.visibleChildIndex=_+w++);const D=(0,N.splice)(o.children,v,r,L);s?o.lastDiffIds?(0,N.splice)(o.lastDiffIds,v,r,L.map(R=>s.getId(R.element).toString())):o.lastDiffIds=o.children.map(R=>s.getId(R.element).toString()):o.lastDiffIds=void 0;let M=0;for(const R of D)R.visible&&M++;if(M!==0)for(let R=v+L.length;R<o.children.length;R++){const A=o.children[R];A.visible&&(A.visibleChildIndex-=M)}if(o.visibleChildrenCount+=w-M,d&&u){const R=D.reduce((A,P)=>A+(P.visible?P.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(o,k-R),this.list.splice(n,R,f)}if(D.length>0&&a){const R=A=>{a(A),A.children.forEach(R)};D.forEach(R)}const O=o.children.length>0;m!==O&&this.setCollapsible(t.slice(0,-1),O),this._onDidSplice.fire({insertedNodes:L,deletedNodes:D});let F=o;for(;F;){if(F.visibility===2){this.refilter();break}F=F.parent}}rerender(t){if(t.length===0)throw new y.TreeError(this.user,"Invalid tree location");const{node:r,listIndex:c,revealed:l}=this.getTreeNodeWithListIndex(t);r.visible&&l&&this.list.splice(c,1,[r])}has(t){return this.hasTreeNode(t)}getListIndex(t){const{listIndex:r,visible:c,revealed:l}=this.getTreeNodeWithListIndex(t);return c&&l?r:-1}getListRenderCount(t){return this.getTreeNode(t).renderNodeCount}isCollapsible(t){return this.getTreeNode(t).collapsible}setCollapsible(t,r){const c=this.getTreeNode(t);typeof r=="undefined"&&(r=!c.collapsible);const l={collapsible:r};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,l))}isCollapsed(t){return this.getTreeNode(t).collapsed}setCollapsed(t,r,c){const l=this.getTreeNode(t);typeof r=="undefined"&&(r=!l.collapsed);const a={collapsed:r,recursive:c||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,a))}_setCollapseState(t,r){const{node:c,listIndex:l,revealed:a}=this.getTreeNodeWithListIndex(t),s=this._setListNodeCollapseState(c,l,a,r);if(c!==this.root&&this.autoExpandSingleChildren&&s&&!h(r)&&c.collapsible&&!c.collapsed&&!r.recursive){let o=-1;for(let n=0;n<c.children.length;n++)if(c.children[n].visible)if(o>-1){o=-1;break}else o=n;o>-1&&this._setCollapseState([...t,o],r)}return s}_setListNodeCollapseState(t,r,c,l){const a=this._setNodeCollapseState(t,l,!1);if(!c||!t.visible||!a)return a;const s=t.renderNodeCount,o=this.updateNodeAfterCollapseChange(t),n=s-(r===-1?0:1);return this.list.splice(r+1,n,o.slice(1)),a}_setNodeCollapseState(t,r,c){let l;if(t===this.root?l=!1:(h(r)?(l=t.collapsible!==r.collapsible,t.collapsible=r.collapsible):t.collapsible?(l=t.collapsed!==r.collapsed,t.collapsed=r.collapsed):l=!1,l&&this._onDidChangeCollapseState.fire({node:t,deep:c})),!h(r)&&r.recursive)for(const a of t.children)l=this._setNodeCollapseState(a,r,!0)||l;return l}expandTo(t){this.eventBufferer.bufferEvents(()=>{let r=this.getTreeNode(t);for(;r.parent;)r=r.parent,t=t.slice(0,t.length-1),r.collapsed&&this._setCollapseState(t,{collapsed:!1,recursive:!1})})}refilter(){const t=this.root.renderNodeCount,r=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,r)}createTreeNode(t,r,c,l,a,s){const o={parent:r,element:t.element,children:[],depth:r.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:typeof t.collapsed!="undefined",collapsed:typeof t.collapsed=="undefined"?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},n=this._filterNode(o,c);o.visibility=n,l&&a.push(o);const d=t.children||b.Iterable.empty(),u=l&&n!==0&&!o.collapsed,f=b.Iterable.map(d,m=>this.createTreeNode(m,o,n,u,a,s));let S=0,v=1;for(const m of f)o.children.push(m),v+=m.renderNodeCount,m.visible&&(m.visibleChildIndex=S++);return o.collapsible=o.collapsible||o.children.length>0,o.visibleChildrenCount=S,o.visible=n===2?S>0:n===1,o.visible?o.collapsed||(o.renderNodeCount=v):(o.renderNodeCount=0,l&&a.pop()),s&&s(o),o}updateNodeAfterCollapseChange(t){const r=t.renderNodeCount,c=[];return this._updateNodeAfterCollapseChange(t,c),this._updateAncestorsRenderNodeCount(t.parent,c.length-r),c}_updateNodeAfterCollapseChange(t,r){if(t.visible===!1)return 0;if(r.push(t),t.renderNodeCount=1,!t.collapsed)for(const c of t.children)t.renderNodeCount+=this._updateNodeAfterCollapseChange(c,r);return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount}updateNodeAfterFilterChange(t){const r=t.renderNodeCount,c=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,c),this._updateAncestorsRenderNodeCount(t.parent,c.length-r),c}_updateNodeAfterFilterChange(t,r,c,l=!0){let a;if(t!==this.root){if(a=this._filterNode(t,r),a===0)return t.visible=!1,t.renderNodeCount=0,!1;l&&c.push(t)}const s=c.length;t.renderNodeCount=t===this.root?0:1;let o=!1;if(!t.collapsed||a!==0){let n=0;for(const d of t.children)o=this._updateNodeAfterFilterChange(d,a,c,l&&!t.collapsed)||o,d.visible&&(d.visibleChildIndex=n++);t.visibleChildrenCount=n}else t.visibleChildrenCount=0;return t!==this.root&&(t.visible=a===2?o:a===1,t.visibility=a),t.visible?t.collapsed||(t.renderNodeCount+=c.length-s):(t.renderNodeCount=0,l&&c.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible}_updateAncestorsRenderNodeCount(t,r){if(r!==0)for(;t;)t.renderNodeCount+=r,this._onDidChangeRenderNodeCount.fire(t),t=t.parent}_filterNode(t,r){const c=this.filter?this.filter.filter(t.element,r):1;return typeof c=="boolean"?(t.filterData=void 0,c?1:0):C(c)?(t.filterData=c.data,p(c.visibility)):(t.filterData=void 0,p(c))}hasTreeNode(t,r=this.root){if(!t||t.length===0)return!0;const[c,...l]=t;return c<0||c>r.children.length?!1:this.hasTreeNode(l,r.children[c])}getTreeNode(t,r=this.root){if(!t||t.length===0)return r;const[c,...l]=t;if(c<0||c>r.children.length)throw new y.TreeError(this.user,"Invalid tree location");return this.getTreeNode(l,r.children[c])}getTreeNodeWithListIndex(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:r,listIndex:c,revealed:l,visible:a}=this.getParentNodeWithListIndex(t),s=t[t.length-1];if(s<0||s>r.children.length)throw new y.TreeError(this.user,"Invalid tree location");const o=r.children[s];return{node:o,listIndex:c,revealed:l,visible:a&&o.visible}}getParentNodeWithListIndex(t,r=this.root,c=0,l=!0,a=!0){const[s,...o]=t;if(s<0||s>r.children.length)throw new y.TreeError(this.user,"Invalid tree location");for(let n=0;n<s;n++)c+=r.children[n].renderNodeCount;return l=l&&!r.collapsed,a=a&&r.visible,o.length===0?{parentNode:r,listIndex:c,revealed:l,visible:a}:this.getParentNodeWithListIndex(o,r.children[s],c+1,l,a)}getNode(t=[]){return this.getTreeNode(t)}getNodeLocation(t){const r=[];let c=t;for(;c.parent;)r.push(c.parent.children.indexOf(c)),c=c.parent;return r.reverse()}getParentNodeLocation(t){if(t.length!==0)return t.length===1?[]:(0,N.tail2)(t)[0]}getFirstElementChild(t){const r=this.getTreeNode(t);if(r.children.length!==0)return r.children[0].element}}e.IndexTreeModel=g}),define(ee[167],te([0,1,166,103,55]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class I{constructor(C,p,h={}){this.user=C,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new y.IndexTreeModel(C,p,null,h),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,h.sorter&&(this.sorter={compare(g,i){return h.sorter.compare(g.element,i.element)}}),this.identityProvider=h.identityProvider}setChildren(C,p=T.Iterable.empty(),h={}){const g=this.getElementLocation(C);this._setChildren(g,this.preserveCollapseState(p),h)}_setChildren(C,p=T.Iterable.empty(),h){const g=new Set,i=new Set,t=c=>{var l;if(c.element===null)return;const a=c;if(g.add(a.element),this.nodes.set(a.element,a),this.identityProvider){const s=this.identityProvider.getId(a.element).toString();i.add(s),this.nodesByIdentity.set(s,a)}(l=h.onDidCreateNode)===null||l===void 0||l.call(h,a)},r=c=>{var l;if(c.element===null)return;const a=c;if(g.has(a.element)||this.nodes.delete(a.element),this.identityProvider){const s=this.identityProvider.getId(a.element).toString();i.has(s)||this.nodesByIdentity.delete(s)}(l=h.onDidDeleteNode)===null||l===void 0||l.call(h,a)};this.model.splice([...C,0],Number.MAX_VALUE,p,Object.assign(Object.assign({},h),{onDidCreateNode:t,onDidDeleteNode:r}))}preserveCollapseState(C=T.Iterable.empty()){return this.sorter&&(C=[...C].sort(this.sorter.compare.bind(this.sorter))),T.Iterable.map(C,p=>{let h=this.nodes.get(p.element);if(!h&&this.identityProvider){const t=this.identityProvider.getId(p.element).toString();h=this.nodesByIdentity.get(t)}if(!h)return Object.assign(Object.assign({},p),{children:this.preserveCollapseState(p.children)});const g=typeof p.collapsible=="boolean"?p.collapsible:h.collapsible,i=typeof p.collapsed!="undefined"?p.collapsed:h.collapsed;return Object.assign(Object.assign({},p),{collapsible:g,collapsed:i,children:this.preserveCollapseState(p.children)})})}rerender(C){const p=this.getElementLocation(C);this.model.rerender(p)}getFirstElementChild(C=null){const p=this.getElementLocation(C);return this.model.getFirstElementChild(p)}has(C){return this.nodes.has(C)}getListIndex(C){const p=this.getElementLocation(C);return this.model.getListIndex(p)}getListRenderCount(C){const p=this.getElementLocation(C);return this.model.getListRenderCount(p)}isCollapsible(C){const p=this.getElementLocation(C);return this.model.isCollapsible(p)}setCollapsible(C,p){const h=this.getElementLocation(C);return this.model.setCollapsible(h,p)}isCollapsed(C){const p=this.getElementLocation(C);return this.model.isCollapsed(p)}setCollapsed(C,p,h){const g=this.getElementLocation(C);return this.model.setCollapsed(g,p,h)}expandTo(C){const p=this.getElementLocation(C);this.model.expandTo(p)}refilter(){this.model.refilter()}getNode(C=null){if(C===null)return this.model.getNode(this.model.rootRef);const p=this.nodes.get(C);if(!p)throw new N.TreeError(this.user,`Tree element not found: ${C}`);return p}getNodeLocation(C){return C.element}getParentNodeLocation(C){if(C===null)throw new N.TreeError(this.user,"Invalid getParentNodeLocation call");const p=this.nodes.get(C);if(!p)throw new N.TreeError(this.user,`Tree element not found: ${C}`);const h=this.model.getNodeLocation(p),g=this.model.getParentNodeLocation(h);return this.model.getNode(g).element}getElementLocation(C){if(C===null)return[];const p=this.nodes.get(C);if(!p)throw new N.TreeError(this.user,`Tree element not found: ${C}`);return this.model.getNodeLocation(p)}}e.ObjectTreeModel=I}),define(ee[309],te([0,1,167,103,4,55]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function b(o){const n=[o.element],d=o.incompressible||!1;return{element:{elements:n,incompressible:d},children:I.Iterable.map(I.Iterable.from(o.children),b),collapsible:o.collapsible,collapsed:o.collapsed}}function C(o){const n=[o.element],d=o.incompressible||!1;let u,f;for(;[f,u]=I.Iterable.consume(I.Iterable.from(o.children),2),!(f.length!==1||f[0].incompressible);)o=f[0],n.push(o.element);return{element:{elements:n,incompressible:d},children:I.Iterable.map(I.Iterable.concat(f,u),C),collapsible:o.collapsible,collapsed:o.collapsed}}e.compress=C;function p(o,n=0){let d;return n<o.element.elements.length-1?d=[p(o,n+1)]:d=I.Iterable.map(I.Iterable.from(o.children),u=>p(u,0)),n===0&&o.element.incompressible?{element:o.element.elements[n],children:d,incompressible:!0,collapsible:o.collapsible,collapsed:o.collapsed}:{element:o.element.elements[n],children:d,collapsible:o.collapsible,collapsed:o.collapsed}}function h(o){return p(o,0)}e.decompress=h;function g(o,n,d){return o.element===n?Object.assign(Object.assign({},o),{children:d}):Object.assign(Object.assign({},o),{children:I.Iterable.map(I.Iterable.from(o.children),u=>g(u,n,d))})}const i=o=>({getId(n){return n.elements.map(d=>o.getId(d).toString()).join("\0")}});class t{constructor(n,d,u={}){this.user=n,this.rootRef=null,this.nodes=new Map,this.model=new y.ObjectTreeModel(n,d,u),this.enabled=typeof u.compressionEnabled=="undefined"?!0:u.compressionEnabled,this.identityProvider=u.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(n,d=I.Iterable.empty(),u){const f=u.diffIdentityProvider&&i(u.diffIdentityProvider);if(n===null){const M=I.Iterable.map(d,this.enabled?C:b);this._setChildren(null,M,{diffIdentityProvider:f,diffDepth:Infinity});return}const S=this.nodes.get(n);if(!S)throw new Error("Unknown compressed tree node");const v=this.model.getNode(S),m=this.model.getParentNodeLocation(S),_=this.model.getNode(m),L=h(v),w=g(L,n,d),k=(this.enabled?C:b)(w),D=_.children.map(M=>M===v?k:M);this._setChildren(_.element,D,{diffIdentityProvider:f,diffDepth:v.depth-_.depth})}setCompressionEnabled(n){if(n===this.enabled)return;this.enabled=n;const u=this.model.getNode().children,f=I.Iterable.map(u,h),S=I.Iterable.map(f,n?C:b);this._setChildren(null,S,{diffIdentityProvider:this.identityProvider,diffDepth:Infinity})}_setChildren(n,d,u){const f=new Set,S=m=>{for(const _ of m.element.elements)f.add(_),this.nodes.set(_,m.element)},v=m=>{for(const _ of m.element.elements)f.has(_)||this.nodes.delete(_)};this.model.setChildren(n,d,Object.assign(Object.assign({},u),{onDidCreateNode:S,onDidDeleteNode:v}))}has(n){return this.nodes.has(n)}getListIndex(n){const d=this.getCompressedNode(n);return this.model.getListIndex(d)}getListRenderCount(n){const d=this.getCompressedNode(n);return this.model.getListRenderCount(d)}getNode(n){if(typeof n=="undefined")return this.model.getNode();const d=this.getCompressedNode(n);return this.model.getNode(d)}getNodeLocation(n){const d=this.model.getNodeLocation(n);return d===null?null:d.elements[d.elements.length-1]}getParentNodeLocation(n){const d=this.getCompressedNode(n),u=this.model.getParentNodeLocation(d);return u===null?null:u.elements[u.elements.length-1]}getFirstElementChild(n){const d=this.getCompressedNode(n);return this.model.getFirstElementChild(d)}isCollapsible(n){const d=this.getCompressedNode(n);return this.model.isCollapsible(d)}setCollapsible(n,d){const u=this.getCompressedNode(n);return this.model.setCollapsible(u,d)}isCollapsed(n){const d=this.getCompressedNode(n);return this.model.isCollapsed(d)}setCollapsed(n,d,u){const f=this.getCompressedNode(n);return this.model.setCollapsed(f,d,u)}expandTo(n){const d=this.getCompressedNode(n);this.model.expandTo(d)}rerender(n){const d=this.getCompressedNode(n);this.model.rerender(d)}refilter(){this.model.refilter()}getCompressedNode(n){if(n===null)return null;const d=this.nodes.get(n);if(!d)throw new N.TreeError(this.user,`Tree element not found: ${n}`);return d}}e.CompressedObjectTreeModel=t;const r=o=>o[o.length-1];e.DefaultElementMapper=r;class c{constructor(n,d){this.unwrapper=n,this.node=d}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(n=>new c(this.unwrapper,n))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function l(o,n){return{splice(d,u,f){n.splice(d,u,f.map(S=>o.map(S)))},updateElementHeight(d,u){n.updateElementHeight(d,u)}}}function a(o,n){return Object.assign(Object.assign({},n),{identityProvider:n.identityProvider&&{getId(d){return n.identityProvider.getId(o(d))}},sorter:n.sorter&&{compare(d,u){return n.sorter.compare(d.elements[0],u.elements[0])}},filter:n.filter&&{filter(d,u){return n.filter.filter(o(d),u)}}})}class s{constructor(n,d,u={}){this.rootRef=null,this.elementMapper=u.elementMapper||e.DefaultElementMapper;const f=S=>this.elementMapper(S.elements);this.nodeMapper=new N.WeakMapper(S=>new c(f,S)),this.model=new t(n,l(this.nodeMapper,d),a(f,u))}get onDidSplice(){return T.Event.map(this.model.onDidSplice,({insertedNodes:n,deletedNodes:d})=>({insertedNodes:n.map(u=>this.nodeMapper.map(u)),deletedNodes:d.map(u=>this.nodeMapper.map(u))}))}get onDidChangeCollapseState(){return T.Event.map(this.model.onDidChangeCollapseState,({node:n,deep:d})=>({node:this.nodeMapper.map(n),deep:d}))}get onDidChangeRenderNodeCount(){return T.Event.map(this.model.onDidChangeRenderNodeCount,n=>this.nodeMapper.map(n))}setChildren(n,d=I.Iterable.empty(),u={}){this.model.setChildren(n,d,u)}setCompressionEnabled(n){this.model.setCompressionEnabled(n)}has(n){return this.model.has(n)}getListIndex(n){return this.model.getListIndex(n)}getListRenderCount(n){return this.model.getListRenderCount(n)}getNode(n){return this.nodeMapper.map(this.model.getNode(n))}getNodeLocation(n){return n.element}getParentNodeLocation(n){return this.model.getParentNodeLocation(n)}getFirstElementChild(n){const d=this.model.getFirstElementChild(n);return d===null||typeof d=="undefined"?d:this.elementMapper(d.elements)}isCollapsible(n){return this.model.isCollapsible(n)}setCollapsible(n,d){return this.model.setCollapsible(n,d)}isCollapsed(n){return this.model.isCollapsed(n)}setCollapsed(n,d,u){return this.model.setCollapsed(n,d,u)}expandTo(n){return this.model.expandTo(n)}rerender(n){return this.model.rerender(n)}refilter(){return this.model.refilter()}getCompressedTreeNode(n=null){return this.model.getNode(n)}}e.CompressibleObjectTreeModel=s}),define(ee[47],te([0,1,8]),function(q,e,y){"use strict";var N,T;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class I{constructor(){this._value="",this._pos=0}reset(a){return this._value=a,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(a){const s=a.charCodeAt(0),o=this._value.charCodeAt(this._pos);return s-o}value(){return this._value[this._pos]}}e.StringIterator=I;class b{constructor(a=!0){this._caseSensitive=a}reset(a){return this._value=a,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let a=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(a)this._from++;else break;else a=!1;return this}cmp(a){return this._caseSensitive?(0,y.compareSubstring)(a,this._value,0,a.length,this._from,this._to):(0,y.compareSubstringIgnoreCase)(a,this._value,0,a.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=b;class C{constructor(a=!0,s=!0){this._splitOnBackslash=a,this._caseSensitive=s}reset(a){return this._value=a.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let a=!0;for(;this._to<this._value.length;this._to++){const s=this._value.charCodeAt(this._to);if(s===47||this._splitOnBackslash&&s===92)if(a)this._from++;else break;else a=!1}return this}cmp(a){return this._caseSensitive?(0,y.compareSubstring)(a,this._value,0,a.length,this._from,this._to):(0,y.compareSubstringIgnoreCase)(a,this._value,0,a.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=C;class p{constructor(a){this._ignorePathCasing=a,this._states=[],this._stateIdx=0}reset(a){return this._value=a,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new C(!1,!this._ignorePathCasing(a)),this._pathIterator.reset(a.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(a){if(this._states[this._stateIdx]===1)return(0,y.compareIgnoreCase)(a,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,y.compareIgnoreCase)(a,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(a);if(this._states[this._stateIdx]===4)return(0,y.compare)(a,this._value.query);if(this._states[this._stateIdx]===5)return(0,y.compare)(a,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=p;class h{constructor(){this.height=1}rotateLeft(){const a=this.right;return this.right=a.left,a.left=this,this.updateHeight(),a.updateHeight(),a}rotateRight(){const a=this.left;return this.left=a.right,a.right=this,this.updateHeight(),a.updateHeight(),a}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var a,s;return(s=(a=this.left)===null||a===void 0?void 0:a.height)!==null&&s!==void 0?s:0}get heightRight(){var a,s;return(s=(a=this.right)===null||a===void 0?void 0:a.height)!==null&&s!==void 0?s:0}}class g{constructor(a){this._iter=a}static forUris(a=()=>!1){return new g(new p(a))}static forStrings(){return new g(new I)}static forConfigKeys(){return new g(new b)}clear(){this._root=void 0}set(a,s){const o=this._iter.reset(a);let n;this._root||(this._root=new h,this._root.segment=o.value());const d=[];for(n=this._root;;){const f=o.cmp(n.segment);if(f>0)n.left||(n.left=new h,n.left.segment=o.value()),d.push([-1,n]),n=n.left;else if(f<0)n.right||(n.right=new h,n.right.segment=o.value()),d.push([1,n]),n=n.right;else if(o.hasNext())o.next(),n.mid||(n.mid=new h,n.mid.segment=o.value()),d.push([0,n]),n=n.mid;else break}const u=n.value;n.value=s,n.key=a;for(let f=d.length-1;f>=0;f--){const S=d[f][1];S.updateHeight();const v=S.balanceFactor();if(v<-1||v>1){const m=d[f][0],_=d[f+1][0];if(m===1&&_===1)d[f][1]=S.rotateLeft();else if(m===-1&&_===-1)d[f][1]=S.rotateRight();else if(m===1&&_===-1)S.right=d[f+1][1]=d[f+1][1].rotateRight(),d[f][1]=S.rotateLeft();else if(m===-1&&_===1)S.left=d[f+1][1]=d[f+1][1].rotateLeft(),d[f][1]=S.rotateRight();else throw new Error;if(f>0)switch(d[f-1][0]){case-1:d[f-1][1].left=d[f][1];break;case 1:d[f-1][1].right=d[f][1];break;case 0:d[f-1][1].mid=d[f][1];break}else this._root=d[0][1]}}return u}get(a){var s;return(s=this._getNode(a))===null||s===void 0?void 0:s.value}_getNode(a){const s=this._iter.reset(a);let o=this._root;for(;o;){const n=s.cmp(o.segment);if(n>0)o=o.left;else if(n<0)o=o.right;else if(s.hasNext())s.next(),o=o.mid;else break}return o}has(a){const s=this._getNode(a);return!((s==null?void 0:s.value)===void 0&&(s==null?void 0:s.mid)===void 0)}delete(a){return this._delete(a,!1)}deleteSuperstr(a){return this._delete(a,!0)}_delete(a,s){var o;const n=this._iter.reset(a),d=[];let u=this._root;for(;u;){const f=n.cmp(u.segment);if(f>0)d.push([-1,u]),u=u.left;else if(f<0)d.push([1,u]),u=u.right;else if(n.hasNext())n.next(),d.push([0,u]),u=u.mid;else break}if(!!u){if(s?(u.left=void 0,u.mid=void 0,u.right=void 0,u.height=1):(u.key=void 0,u.value=void 0),!u.mid&&!u.value)if(u.left&&u.right){const f=this._min(u.right),{key:S,value:v,segment:m}=f;this._delete(f.key,!1),u.key=S,u.value=v,u.segment=m}else{const f=(o=u.left)!==null&&o!==void 0?o:u.right;if(d.length>0){const[S,v]=d[d.length-1];switch(S){case-1:v.left=f;break;case 0:v.mid=f;break;case 1:v.right=f;break}}else this._root=f}for(let f=d.length-1;f>=0;f--){const S=d[f][1];S.updateHeight();const v=S.balanceFactor();if(v>1?(S.right.balanceFactor()>=0||(S.right=d[f+1][1]=d[f+1][1].rotateRight()),d[f][1]=S.rotateLeft()):v<-1&&(S.left.balanceFactor()<=0||(S.left=d[f+1][1]=d[f+1][1].rotateLeft()),d[f][1]=S.rotateRight()),f>0)switch(d[f-1][0]){case-1:d[f-1][1].left=d[f][1];break;case 1:d[f-1][1].right=d[f][1];break;case 0:d[f-1][1].mid=d[f][1];break}else this._root=d[0][1]}}}_min(a){for(;a.left;)a=a.left;return a}findSubstr(a){const s=this._iter.reset(a);let o=this._root,n;for(;o;){const d=s.cmp(o.segment);if(d>0)o=o.left;else if(d<0)o=o.right;else if(s.hasNext())s.next(),n=o.value||n,o=o.mid;else break}return o&&o.value||n}findSuperstr(a){const s=this._iter.reset(a);let o=this._root;for(;o;){const n=s.cmp(o.segment);if(n>0)o=o.left;else if(n<0)o=o.right;else if(s.hasNext())s.next(),o=o.mid;else return o.mid?this._entries(o.mid):void 0}}forEach(a){for(const[s,o]of this)a(o,s)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(a){!a||(a.left&&(yield*this._entries(a.left)),a.value&&(yield[a.key,a.value]),a.mid&&(yield*this._entries(a.mid)),a.right&&(yield*this._entries(a.right)))}}e.TernarySearchTree=g;class i{constructor(a,s){this.uri=a,this.value=s}}class t{constructor(a,s){this[N]="ResourceMap",a instanceof t?(this.map=new Map(a.map),this.toKey=s??t.defaultToKey):(this.map=new Map,this.toKey=a??t.defaultToKey)}set(a,s){return this.map.set(this.toKey(a),new i(a,s)),this}get(a){var s;return(s=this.map.get(this.toKey(a)))===null||s===void 0?void 0:s.value}has(a){return this.map.has(this.toKey(a))}get size(){return this.map.size}clear(){this.map.clear()}delete(a){return this.map.delete(this.toKey(a))}forEach(a,s){typeof s!="undefined"&&(a=a.bind(s));for(let[o,n]of this.map)a(n.value,n.uri,this)}*values(){for(let a of this.map.values())yield a.value}*keys(){for(let a of this.map.values())yield a.uri}*entries(){for(let a of this.map.values())yield[a.uri,a.value]}*[(N=Symbol.toStringTag,Symbol.iterator)](){for(let[,a]of this.map)yield[a.uri,a.value]}}e.ResourceMap=t,t.defaultToKey=l=>l.toString();class r{constructor(){this[T]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var a;return(a=this._head)===null||a===void 0?void 0:a.value}get last(){var a;return(a=this._tail)===null||a===void 0?void 0:a.value}has(a){return this._map.has(a)}get(a,s=0){const o=this._map.get(a);if(!!o)return s!==0&&this.touch(o,s),o.value}set(a,s,o=0){let n=this._map.get(a);if(n)n.value=s,o!==0&&this.touch(n,o);else{switch(n={key:a,value:s,next:void 0,previous:void 0},o){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(a,n),this._size++}return this}delete(a){return!!this.remove(a)}remove(a){const s=this._map.get(a);if(!!s)return this._map.delete(a),this.removeItem(s),this._size--,s.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const a=this._head;return this._map.delete(a.key),this.removeItem(a),this._size--,a.value}forEach(a,s){const o=this._state;let n=this._head;for(;n;){if(s?a.bind(s)(n.value,n.key,this):a(n.value,n.key,this),this._state!==o)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const a=this,s=this._state;let o=this._head;const n={[Symbol.iterator](){return n},next(){if(a._state!==s)throw new Error("LinkedMap got modified during iteration.");if(o){const d={value:o.key,done:!1};return o=o.next,d}else return{value:void 0,done:!0}}};return n}values(){const a=this,s=this._state;let o=this._head;const n={[Symbol.iterator](){return n},next(){if(a._state!==s)throw new Error("LinkedMap got modified during iteration.");if(o){const d={value:o.value,done:!1};return o=o.next,d}else return{value:void 0,done:!0}}};return n}entries(){const a=this,s=this._state;let o=this._head;const n={[Symbol.iterator](){return n},next(){if(a._state!==s)throw new Error("LinkedMap got modified during iteration.");if(o){const d={value:[o.key,o.value],done:!1};return o=o.next,d}else return{value:void 0,done:!0}}};return n}[(T=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(a){if(a>=this.size)return;if(a===0){this.clear();return}let s=this._head,o=this.size;for(;s&&o>a;)this._map.delete(s.key),s=s.next,o--;this._head=s,this._size=o,s&&(s.previous=void 0),this._state++}addItemFirst(a){if(!this._head&&!this._tail)this._tail=a;else if(this._head)a.next=this._head,this._head.previous=a;else throw new Error("Invalid list");this._head=a,this._state++}addItemLast(a){if(!this._head&&!this._tail)this._head=a;else if(this._tail)a.previous=this._tail,this._tail.next=a;else throw new Error("Invalid list");this._tail=a,this._state++}removeItem(a){if(a===this._head&&a===this._tail)this._head=void 0,this._tail=void 0;else if(a===this._head){if(!a.next)throw new Error("Invalid list");a.next.previous=void 0,this._head=a.next}else if(a===this._tail){if(!a.previous)throw new Error("Invalid list");a.previous.next=void 0,this._tail=a.previous}else{const s=a.next,o=a.previous;if(!s||!o)throw new Error("Invalid list");s.previous=o,o.next=s}a.next=void 0,a.previous=void 0,this._state++}touch(a,s){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(s!==1&&s!==2)){if(s===1){if(a===this._head)return;const o=a.next,n=a.previous;a===this._tail?(n.next=void 0,this._tail=n):(o.previous=n,n.next=o),a.previous=void 0,a.next=this._head,this._head.previous=a,this._head=a,this._state++}else if(s===2){if(a===this._tail)return;const o=a.next,n=a.previous;a===this._head?(o.previous=void 0,this._head=o):(o.previous=n,n.next=o),a.next=void 0,a.previous=this._tail,this._tail.next=a,this._tail=a,this._state++}}}toJSON(){const a=[];return this.forEach((s,o)=>{a.push([o,s])}),a}fromJSON(a){this.clear();for(const[s,o]of a)this.set(s,o)}}e.LinkedMap=r;class c extends r{constructor(a,s=1){super();this._limit=a,this._ratio=Math.min(Math.max(0,s),1)}get limit(){return this._limit}set limit(a){this._limit=a,this.checkTrim()}get(a,s=2){return super.get(a,s)}peek(a){return super.get(a,0)}set(a,s){return super.set(a,s,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=c}),define(ee[69],te([0,1,47,8]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function T(...H){return function(Q,re){for(let ce=0,oe=H.length;ce<oe;ce++){const de=H[ce](Q,re);if(de)return de}return null}}e.or=T,e.matchesStrictPrefix=I.bind(void 0,!1),e.matchesPrefix=I.bind(void 0,!0);function I(H,Q,re){if(!re||re.length<Q.length)return null;let ce;return H?ce=N.startsWithIgnoreCase(re,Q):ce=re.indexOf(Q)===0,ce?Q.length>0?[{start:0,end:Q.length}]:[]:null}function b(H,Q){const re=Q.toLowerCase().indexOf(H.toLowerCase());return re===-1?null:[{start:re,end:re+H.length}]}e.matchesContiguousSubString=b;function C(H,Q){return p(H.toLowerCase(),Q.toLowerCase(),0,0)}e.matchesSubString=C;function p(H,Q,re,ce){if(re===H.length)return[];if(ce===Q.length)return null;if(H[re]===Q[ce]){let oe=null;return(oe=p(H,Q,re+1,ce+1))?s({start:ce,end:ce+1},oe):null}return p(H,Q,re,ce+1)}function h(H){return 97<=H&&H<=122}function g(H){return 65<=H&&H<=90}e.isUpper=g;function i(H){return 48<=H&&H<=57}function t(H){return H===32||H===9||H===10||H===13}const r=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(H=>r.add(H.charCodeAt(0)));function c(H){return t(H)||r.has(H)}function l(H,Q){return H===Q||c(H)&&c(Q)}function a(H){return h(H)||g(H)||i(H)}function s(H,Q){return Q.length===0?Q=[H]:H.end===Q[0].start?Q[0].start=H.start:Q.unshift(H),Q}function o(H,Q){for(let re=Q;re<H.length;re++){const ce=H.charCodeAt(re);if(g(ce)||i(ce)||re>0&&!a(H.charCodeAt(re-1)))return re}return H.length}function n(H,Q,re,ce){if(re===H.length)return[];if(ce===Q.length)return null;if(H[re]!==Q[ce].toLowerCase())return null;{let oe=null,de=ce+1;for(oe=n(H,Q,re+1,ce+1);!oe&&(de=o(Q,de))<Q.length;)oe=n(H,Q,re+1,de),de++;return oe===null?null:s({start:ce,end:ce+1},oe)}}function d(H){let Q=0,re=0,ce=0,oe=0,de=0;for(let be=0;be<H.length;be++)de=H.charCodeAt(be),g(de)&&Q++,h(de)&&re++,a(de)&&ce++,i(de)&&oe++;const pe=Q/H.length,_e=re/H.length,se=ce/H.length,ue=oe/H.length;return{upperPercent:pe,lowerPercent:_e,alphaPercent:se,numericPercent:ue}}function u(H){const{upperPercent:Q,lowerPercent:re}=H;return re===0&&Q>.6}function f(H){const{upperPercent:Q,lowerPercent:re,alphaPercent:ce,numericPercent:oe}=H;return re>.2&&Q<.8&&ce>.6&&oe<.2}function S(H){let Q=0,re=0,ce=0,oe=0;for(let de=0;de<H.length;de++)ce=H.charCodeAt(de),g(ce)&&Q++,h(ce)&&re++,t(ce)&&oe++;return(Q===0||re===0)&&oe===0?H.length<=30:Q<=5}function v(H,Q){if(!Q||(Q=Q.trim(),Q.length===0)||!S(H)||Q.length>60)return null;const re=d(Q);if(!f(re)){if(!u(re))return null;Q=Q.toLowerCase()}let ce=null,oe=0;for(H=H.toLowerCase();oe<Q.length&&(ce=n(H,Q,0,oe))===null;)oe=o(Q,oe+1);return ce}e.matchesCamelCase=v;function m(H,Q,re=!1){if(!Q||Q.length===0)return null;let ce=null,oe=0;for(H=H.toLowerCase(),Q=Q.toLowerCase();oe<Q.length&&(ce=_(H,Q,0,oe,re))===null;)oe=L(Q,oe+1);return ce}e.matchesWords=m;function _(H,Q,re,ce,oe){if(re===H.length)return[];if(ce===Q.length)return null;if(l(H.charCodeAt(re),Q.charCodeAt(ce))){let de=null,pe=ce+1;if(de=_(H,Q,re+1,ce+1,oe),!oe)for(;!de&&(pe=L(Q,pe))<Q.length;)de=_(H,Q,re+1,pe,oe),pe++;return de===null?null:s({start:ce,end:ce+1},de)}else return null}function L(H,Q){for(let re=Q;re<H.length;re++)if(c(H.charCodeAt(re))||re>0&&c(H.charCodeAt(re-1)))return re;return H.length}const w=T(e.matchesPrefix,v,b),k=T(e.matchesPrefix,v,C),D=new y.LRUCache(1e4);function M(H,Q,re=!1){if(typeof H!="string"||typeof Q!="string")return null;let ce=D.get(H);ce||(ce=new RegExp(N.convertSimple2RegExpPattern(H),"i"),D.set(H,ce));const oe=ce.exec(Q);return oe?[{start:oe.index,end:oe.index+oe[0].length}]:re?k(H,Q):w(H,Q)}e.matchesFuzzy=M;function O(H,Q,re,ce,oe,de){const pe=Math.min(13,H.length);for(;re<pe;re++){const _e=U(H,Q,re,ce,oe,de,!1);if(_e)return _e}return[0,de]}e.anyScore=O;function F(H){if(typeof H=="undefined")return[];const Q=[],re=H[1];for(let ce=H.length-1;ce>1;ce--){const oe=H[ce]+re,de=Q[Q.length-1];de&&de.end===oe?de.end=oe+1:Q.push({start:oe,end:oe+1})}return Q}e.createMatches=F;const R=128;function A(){const H=[],Q=[];for(let re=0;re<=R;re++)Q[re]=0;for(let re=0;re<=R;re++)H.push(Q.slice(0));return H}function P(H){const Q=[];for(let re=0;re<=H;re++)Q[re]=0;return Q}const E=P(2*R),B=P(2*R),V=A(),j=A(),K=A(),Y=!1;function J(H,Q,re,ce,oe){function de(_e,se,ue=" "){for(;_e.length<se;)_e=ue+_e;return _e}let pe=` |   |${ce.split("").map(_e=>de(_e,3)).join("|")}
`;for(let _e=0;_e<=re;_e++)_e===0?pe+=" |":pe+=`${Q[_e-1]}|`,pe+=H[_e].slice(0,oe+1).map(se=>de(se.toString(),3)).join("|")+`
`;return pe}function Z(H,Q,re,ce){H=H.substr(Q),re=re.substr(ce),console.log(J(j,H,H.length,re,re.length)),console.log(J(K,H,H.length,re,re.length)),console.log(J(V,H,H.length,re,re.length))}function ie(H,Q){if(Q<0||Q>=H.length)return!1;const re=H.codePointAt(Q);switch(re){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!N.isEmojiImprecise(re)}}function ne(H,Q){if(Q<0||Q>=H.length)return!1;switch(H.charCodeAt(Q)){case 32:case 9:return!0;default:return!1}}function G(H,Q,re){return Q[H]!==re[H]}function W(H,Q,re,ce,oe,de,pe=!1){for(;Q<re&&oe<de;)H[Q]===ce[oe]&&(pe&&(E[Q]=oe),Q+=1),oe+=1;return Q===re}e.isPatternInWord=W;var z;(function(H){H.Default=[-100,0];function Q(re){return!re||re.length===2&&re[0]===-100&&re[1]===0}H.isDefault=Q})(z=e.FuzzyScore||(e.FuzzyScore={}));function U(H,Q,re,ce,oe,de,pe){const _e=H.length>R?R:H.length,se=ce.length>R?R:ce.length;if(re>=_e||de>=se||_e-re>se-de||!W(Q,re,_e,oe,de,se,!0))return;x(_e,se,re,de,Q,oe);let ue=1,be=1,ge=re,Se=de;const ae=[!1];for(ue=1,ge=re;ge<_e;ue++,ge++){const Fe=E[ge],xe=B[ge],Ze=ge+1<_e?B[ge+1]:se;for(be=Fe-de+1,Se=Fe;Se<Ze;be++,Se++){let je=Number.MIN_SAFE_INTEGER,$e=!1;Se<=xe&&(je=X(H,Q,ge,re,ce,oe,Se,se,de,V[ue-1][be-1]===0,ae));let Le=0;je!==Number.MAX_SAFE_INTEGER&&($e=!0,Le=je+j[ue-1][be-1]);const Ee=Se>Fe,Pe=Ee?j[ue][be-1]+(V[ue][be-1]>0?-5:0):0,ze=Se>Fe+1&&V[ue][be-1]>0,Te=ze?j[ue][be-2]+(V[ue][be-2]>0?-5:0):0;if(ze&&(!Ee||Te>=Pe)&&(!$e||Te>=Le))j[ue][be]=Te,K[ue][be]=3,V[ue][be]=0;else if(Ee&&(!$e||Pe>=Le))j[ue][be]=Pe,K[ue][be]=2,V[ue][be]=0;else if($e)j[ue][be]=Le,K[ue][be]=1,V[ue][be]=V[ue-1][be-1]+1;else throw new Error("not possible")}}if(Y&&Z(H,re,ce,de),!ae[0]&&!pe)return;ue--,be--;const he=[j[ue][be],de];let De=0,ke=0;for(;ue>=1;){let Fe=be;do{const xe=K[ue][Fe];if(xe===3)Fe=Fe-2;else if(xe===2)Fe=Fe-1;else break}while(Fe>=1);De>1&&Q[re+ue-1]===oe[de+be-1]&&!G(Fe+de-1,ce,oe)&&De+1>V[ue][Fe]&&(Fe=be),Fe===be?De++:De=1,ke||(ke=Fe),ue--,be=Fe-1,he.push(be)}se===_e&&(he[0]+=2);const Ve=ke-_e;return he[0]-=Ve,he}e.fuzzyScore=U;function x(H,Q,re,ce,oe,de){let pe=H-1,_e=Q-1;for(;pe>=re&&_e>=ce;)oe[pe]===de[_e]&&(B[pe]=_e,pe--),_e--}function X(H,Q,re,ce,oe,de,pe,_e,se,ue,be){if(Q[re]!==de[pe])return Number.MIN_SAFE_INTEGER;let ge=1,Se=!1;return pe===re-ce?ge=H[re]===oe[pe]?7:5:G(pe,oe,de)&&(pe===0||!G(pe-1,oe,de))?(ge=H[re]===oe[pe]?7:5,Se=!0):ie(de,pe)&&(pe===0||!ie(de,pe-1))?ge=5:(ie(de,pe-1)||ne(de,pe-1))&&(ge=5,Se=!0),ge>1&&re===ce&&(be[0]=!0),Se||(Se=G(pe,oe,de)||ie(de,pe-1)||ne(de,pe-1)),re===ce?pe>se&&(ge-=Se?3:5):ue?ge+=Se?2:0:ge+=Se?0:1,pe+1===_e&&(ge-=Se?3:5),ge}function le(H,Q,re,ce,oe,de,pe){return fe(H,Q,re,ce,oe,de,!0,pe)}e.fuzzyScoreGracefulAggressive=le;function fe(H,Q,re,ce,oe,de,pe,_e){let se=U(H,Q,re,ce,oe,de,_e);if(se&&!pe)return se;if(H.length>=3){const ue=Math.min(7,H.length-1);for(let be=re+1;be<ue;be++){const ge=$(H,be);if(ge){const Se=U(ge,ge.toLowerCase(),re,ce,oe,de,_e);Se&&(Se[0]-=3,(!se||Se[0]>se[0])&&(se=Se))}}}return se}function $(H,Q){if(Q+1>=H.length)return;const re=H[Q],ce=H[Q+1];if(re!==ce)return H.slice(0,Q)+ce+re+H.slice(Q+2)}}),define(ee[310],te([0,1,69,78,17,8]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const b=[void 0,[]];function C(o,n,d=0,u=0){const f=n;return f.values&&f.values.length>1?p(o,f.values,d,u):h(o,n,d,u)}e.scoreFuzzy2=C;function p(o,n,d,u){let f=0;const S=[];for(const v of n){const[m,_]=h(o,v,d,u);if(typeof m!="number")return b;f+=m,S.push(..._)}return[f,i(S)]}function h(o,n,d,u){const f=(0,y.fuzzyScore)(n.original,n.originalLowercase,d,o,o.toLowerCase(),u,!0);return f?[f[0],(0,y.createMatches)(f)]:b}const g=Object.freeze({score:0});function i(o){const n=o.sort((f,S)=>f.start-S.start),d=[];let u;for(const f of n)!u||!t(u,f)?(u=f,d.push(f)):(u.start=Math.min(u.start,f.start),u.end=Math.max(u.end,f.end));return d}function t(o,n){return!(o.end<n.start||n.end<o.start)}function r(o){return o.startsWith('"')&&o.endsWith('"')}const c=" ";function l(o){typeof o!="string"&&(o="");const n=o.toLowerCase(),{pathNormalized:d,normalized:u,normalizedLowercase:f}=a(o),S=d.indexOf(N.sep)>=0,v=r(o);let m;const _=o.split(c);if(_.length>1)for(const L of _){const w=r(L),{pathNormalized:k,normalized:D,normalizedLowercase:M}=a(L);D&&(m||(m=[]),m.push({original:L,originalLowercase:L.toLowerCase(),pathNormalized:k,normalized:D,normalizedLowercase:M,expectContiguousMatch:w}))}return{original:o,originalLowercase:n,pathNormalized:d,normalized:u,normalizedLowercase:f,values:m,containsPathSeparator:S,expectContiguousMatch:v}}e.prepareQuery=l;function a(o){let n;T.isWindows?n=o.replace(/\//g,N.sep):n=o.replace(/\\/g,N.sep);const d=(0,I.stripWildcards)(n).replace(/\s|"/g,"");return{pathNormalized:n,normalized:d,normalizedLowercase:d.toLowerCase()}}function s(o){return Array.isArray(o)?l(o.map(n=>n.original).join(c)):l(o.original)}e.pieceToQuery=s}),define(ee[208],te([0,1,10,165,47,78,8]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=void 0;const C="**",p="/",h="[/\\\\]",g="[^/\\\\]",i=/\//g;function t(E){switch(E){case 0:return"";case 1:return`${g}*?`;default:return`(?:${h}|${g}+${h}|${h}${g}+)*?`}}function r(E,B){if(!E)return[];const V=[];let j=!1,K=!1,Y="";for(const J of E){switch(J){case B:if(!j&&!K){V.push(Y),Y="";continue}break;case"{":j=!0;break;case"}":j=!1;break;case"[":K=!0;break;case"]":K=!1;break}Y+=J}return Y&&V.push(Y),V}e.splitGlobAware=r;function c(E){if(!E)return"";let B="";const V=r(E,p);if(V.every(j=>j===C))B=".*";else{let j=!1;V.forEach((K,Y)=>{if(K===C){j||(B+=t(2),j=!0);return}let J=!1,Z="",ie=!1,ne="";for(const G of K){if(G!=="}"&&J){Z+=G;continue}if(ie&&(G!=="]"||!ne)){let W;G==="-"?W=G:(G==="^"||G==="!")&&!ne?W="^":G===p?W="":W=b.escapeRegExpCharacters(G),ne+=W;continue}switch(G){case"{":J=!0;continue;case"[":ie=!0;continue;case"}":B+=`(?:${r(Z,",").map(U=>c(U)).join("|")})`,J=!1,Z="";break;case"]":B+="["+ne+"]",ie=!1,ne="";break;case"?":B+=g;continue;case"*":B+=t(1);continue;default:B+=b.escapeRegExpCharacters(G)}}Y<V.length-1&&(V[Y+1]!==C||Y+2<V.length)&&(B+=h),j=!1})}return B}const l=/^\*\*\/\*\.[\w\.-]+$/,a=/^\*\*\/([\w\.-]+)\/?$/,s=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,o=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,n=/^\*\*((\/[\w\.-]+)+)\/?$/,d=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,u=new T.LRUCache(1e4),f=function(){return!1},S=function(){return null};function v(E,B){if(!E)return S;let V;typeof E!="string"?V=E.pattern:V=E,V=V.trim();const j=`${V}_${!!B.trimForExclusions}`;let K=u.get(j);if(K)return m(K,E);let Y;if(l.test(V)){const J=V.substr(4);K=function(Z,ie){return typeof Z=="string"&&Z.endsWith(J)?V:null}}else(Y=a.exec(_(V,B)))?K=L(Y[1],V):(B.trimForExclusions?o:s).test(V)?K=w(V,B):(Y=n.exec(_(V,B)))?K=k(Y[1].substr(1),V,!0):(Y=d.exec(_(V,B)))?K=k(Y[1],V,!1):K=D(V);return u.set(j,K),m(K,E)}function m(E,B){return typeof B=="string"?E:function(V,j){return N.isEqualOrParent(V,B.base)?E(I.relative(B.base,V),j):null}}function _(E,B){return B.trimForExclusions&&E.endsWith("/**")?E.substr(0,E.length-2):E}function L(E,B){const V=`/${E}`,j=`\\${E}`,K=function(J,Z){return typeof J!="string"?null:Z?Z===E?B:null:J===E||J.endsWith(V)||J.endsWith(j)?B:null},Y=[E];return K.basenames=Y,K.patterns=[B],K.allBasenames=Y,K}function w(E,B){const V=P(E.slice(1,-1).split(",").map(Z=>v(Z,B)).filter(Z=>Z!==S),E),j=V.length;if(!j)return S;if(j===1)return V[0];const K=function(Z,ie){for(let ne=0,G=V.length;ne<G;ne++)if(V[ne](Z,ie))return E;return null},Y=V.find(Z=>!!Z.allBasenames);Y&&(K.allBasenames=Y.allBasenames);const J=V.reduce((Z,ie)=>ie.allPaths?Z.concat(ie.allPaths):Z,[]);return J.length&&(K.allPaths=J),K}function k(E,B,V){const j=I.sep===I.posix.sep,K=j?E:E.replace(i,I.sep),Y=I.sep+K,J=I.posix.sep+E,Z=V?function(ie,ne){return typeof ie=="string"&&(ie===K||ie.endsWith(Y)||!j&&(ie===E||ie.endsWith(J)))?B:null}:function(ie,ne){return typeof ie=="string"&&(ie===K||!j&&ie===E)?B:null};return Z.allPaths=[(V?"*/":"./")+E],Z}function D(E){try{const B=new RegExp(`^${c(E)}$`);return function(V){return B.lastIndex=0,typeof V=="string"&&B.test(V)?E:null}}catch(B){return S}}function M(E,B,V){return!E||typeof B!="string"?!1:O(E)(B,void 0,V)}e.match=M;function O(E,B={}){if(!E)return f;if(typeof E=="string"||F(E)){const V=v(E,B);if(V===S)return f;const j=function(K,Y){return!!V(K,Y)};return V.allBasenames&&(j.allBasenames=V.allBasenames),V.allPaths&&(j.allPaths=V.allPaths),j}return R(E,B)}e.parse=O;function F(E){const B=E;return B&&typeof B.base=="string"&&typeof B.pattern=="string"}e.isRelativePattern=F;function R(E,B){const V=P(Object.getOwnPropertyNames(E).map(Z=>A(Z,E[Z],B)).filter(Z=>Z!==S)),j=V.length;if(!j)return S;if(!V.some(Z=>!!Z.requiresSiblings)){if(j===1)return V[0];const Z=function(G,W){for(let z=0,U=V.length;z<U;z++){const x=V[z](G,W);if(x)return x}return null},ie=V.find(G=>!!G.allBasenames);ie&&(Z.allBasenames=ie.allBasenames);const ne=V.reduce((G,W)=>W.allPaths?G.concat(W.allPaths):G,[]);return ne.length&&(Z.allPaths=ne),Z}const K=function(Z,ie,ne){let G;for(let W=0,z=V.length;W<z;W++){const U=V[W];U.requiresSiblings&&ne&&(ie||(ie=I.basename(Z)),G||(G=ie.substr(0,ie.length-I.extname(Z).length)));const x=U(Z,ie,G,ne);if(x)return x}return null},Y=V.find(Z=>!!Z.allBasenames);Y&&(K.allBasenames=Y.allBasenames);const J=V.reduce((Z,ie)=>ie.allPaths?Z.concat(ie.allPaths):Z,[]);return J.length&&(K.allPaths=J),K}function A(E,B,V){if(B===!1)return S;const j=v(E,V);if(j===S)return S;if(typeof B=="boolean")return j;if(B){const K=B.when;if(typeof K=="string"){const Y=(J,Z,ie,ne)=>{if(!ne||!j(J,Z))return null;const G=K.replace("$(basename)",ie),W=ne(G);return(0,y.isThenable)(W)?W.then(z=>z?E:null):W?E:null};return Y.requiresSiblings=!0,Y}}return j}function P(E,B){const V=E.filter(Z=>!!Z.basenames);if(V.length<2)return E;const j=V.reduce((Z,ie)=>{const ne=ie.basenames;return ne?Z.concat(ne):Z},[]);let K;if(B){K=[];for(let Z=0,ie=j.length;Z<ie;Z++)K.push(B)}else K=V.reduce((Z,ie)=>{const ne=ie.patterns;return ne?Z.concat(ne):Z},[]);const Y=function(Z,ie){if(typeof Z!="string")return null;if(!ie){let G;for(G=Z.length;G>0;G--){const W=Z.charCodeAt(G-1);if(W===47||W===92)break}ie=Z.substr(G)}const ne=j.indexOf(ie);return ne!==-1?K[ne]:null};Y.basenames=j,Y.patterns=K,Y.allBasenames=j;const J=E.filter(Z=>!Z.basenames);return J.push(Y),J}}),define(ee[107],te([0,1,27,69,8]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const I=new RegExp(`\\$\\(${y.CSSIcon.iconNameExpression}(?:${y.CSSIcon.iconModifierExpression})?\\)`,"g"),b=new RegExp(y.CSSIcon.iconNameCharacter),C=new RegExp(`(\\\\)?${I.source}`,"g");function p(a){return a.replace(C,(s,o)=>o?s:`\\${s}`)}e.escapeIcons=p;const h=new RegExp(`\\\\${I.source}`,"g");function g(a){return a.replace(h,s=>`\\${s}`)}e.markdownEscapeEscapedIcons=g;const i=new RegExp(`(\\s)?(\\\\)?${I.source}(\\s)?`,"g");function t(a){return a.indexOf(e.iconStartMarker)===-1?a:a.replace(i,(s,o,n,d)=>n?s:o||d||"")}e.stripIcons=t;function r(a){const s=a.indexOf(e.iconStartMarker);return s===-1?{text:a}:c(a,s)}e.parseLabelWithIcons=r;function c(a,s){const o=[];let n="";function d(w){if(w){n+=w;for(const k of w)o.push(S)}}let u=-1,f="",S=0,v,m,_=s;const L=a.length;for(d(a.substr(0,s));_<L;)v=a[_],m=a[_+1],v===e.iconStartMarker[0]&&m===e.iconStartMarker[1]?(u=_,d(f),f=e.iconStartMarker,_++):v===")"&&u!==-1?(S+=_-u+1,u=-1,f=""):u!==-1?b.test(v)?f+=v:(d(f),u=-1,f=""):d(v),_++;return d(f),{text:n,iconOffsets:o}}function l(a,s,o=!1){const{text:n,iconOffsets:d}=s;if(!d||d.length===0)return(0,N.matchesFuzzy)(a,n,o);const u=(0,T.ltrim)(n," "),f=n.length-u.length,S=(0,N.matchesFuzzy)(a,u,o);if(S)for(const v of S){const m=d[v.start+f]+f;v.start+=m,v.end+=m}return S}e.matchesFuzzyIconAware=l}),define(ee[70],te([0,1,13,107]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class T{constructor(i="",t=!1){var r,c,l;if(this.value=i,typeof this.value!="string")throw(0,y.illegalArgument)("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(r=t.isTrusted)!==null&&r!==void 0?r:void 0,this.supportThemeIcons=(c=t.supportThemeIcons)!==null&&c!==void 0?c:!1,this.supportHtml=(l=t.supportHtml)!==null&&l!==void 0?l:!1)}appendText(i,t=0){return this.value+=C(this.supportThemeIcons?(0,N.escapeIcons)(i):i).replace(/([ \t]+)/g,(r,c)=>"&nbsp;".repeat(c.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(i){return this.value+=i,this}appendCodeblock(i,t){return this.value+="\n```",this.value+=i,this.value+=`
`,this.value+=t,this.value+="\n```\n",this}}e.MarkdownString=T;function I(g){return b(g)?!g.value:Array.isArray(g)?g.every(I):!0}e.isEmptyMarkdownString=I;function b(g){return g instanceof T?!0:g&&typeof g=="object"?typeof g.value=="string"&&(typeof g.isTrusted=="boolean"||g.isTrusted===void 0)&&(typeof g.supportThemeIcons=="boolean"||g.supportThemeIcons===void 0):!1}e.isMarkdownString=b;function C(g){return g.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=C;function p(g){return g&&g.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=p;function h(g){const i=[],t=g.split("|").map(c=>c.trim());g=t[0];const r=t[1];if(r){const c=/height=(\d+)/.exec(r),l=/width=(\d+)/.exec(r),a=c?c[1]:"",s=l?l[1]:"",o=isFinite(parseInt(s)),n=isFinite(parseInt(a));o&&i.push(`width="${s}"`),n&&i.push(`height="${a}"`)}return{href:g,dimensions:i}}e.parseHrefAndDimensions=h}),define(ee[311],te([0,1,8]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function N(b,C){if(b&&b[0]!==""){const p=T(b,C,"-"),h=T(b,C,"_");return p&&!h?I(b,C,"-"):!p&&h?I(b,C,"_"):b[0].toUpperCase()===b[0]?C.toUpperCase():b[0].toLowerCase()===b[0]?C.toLowerCase():y.containsUppercaseCharacter(b[0][0])&&C.length>0?C[0].toUpperCase()+C.substr(1):b[0][0].toUpperCase()!==b[0][0]&&C.length>0?C[0].toLowerCase()+C.substr(1):C}else return C}e.buildReplaceStringWithCasePreserved=N;function T(b,C,p){return b[0].indexOf(p)!==-1&&C.indexOf(p)!==-1&&b[0].split(p).length===C.split(p).length}function I(b,C,p){const h=C.split(p),g=b[0].split(p);let i="";return h.forEach((t,r)=>{i+=N([g[r]],t)+p}),i.slice(0,-1)}}),define(ee[79],te([0,1,8]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var N;(function(T){T[T.Ignore=0]="Ignore",T[T.Info=1]="Info",T[T.Warning=2]="Warning",T[T.Error=3]="Error"})(N||(N={})),function(T){const I="error",b="warning",C="warn",p="info",h="ignore";function g(t){return t?y.equalsIgnoreCase(I,t)?T.Error:y.equalsIgnoreCase(b,t)||y.equalsIgnoreCase(C,t)?T.Warning:y.equalsIgnoreCase(p,t)?T.Info:T.Ignore:T.Ignore}T.fromValue=g;function i(t){switch(t){case T.Error:return I;case T.Warning:return b;case T.Info:return p;default:return h}}T.toString=i}(N||(N={})),e.default=N}),define(ee[20],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNever=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isNumber=e.isObject=e.isString=e.isArray=void 0;function y(d){return Array.isArray(d)}e.isArray=y;function N(d){return typeof d=="string"}e.isString=N;function T(d){return typeof d=="object"&&d!==null&&!Array.isArray(d)&&!(d instanceof RegExp)&&!(d instanceof Date)}e.isObject=T;function I(d){return typeof d=="number"&&!isNaN(d)}e.isNumber=I;function b(d){return d===!0||d===!1}e.isBoolean=b;function C(d){return typeof d=="undefined"}e.isUndefined=C;function p(d){return!h(d)}e.isDefined=p;function h(d){return C(d)||d===null}e.isUndefinedOrNull=h;function g(d,u){if(!d)throw new Error(u?`Unexpected type, expected '${u}'`:"Unexpected type")}e.assertType=g;function i(d){if(h(d))throw new Error("Assertion Failed: argument is undefined or null");return d}e.assertIsDefined=i;function t(d){return typeof d=="function"}e.isFunction=t;function r(d,u){const f=Math.min(d.length,u.length);for(let S=0;S<f;S++)c(d[S],u[S])}e.validateConstraints=r;function c(d,u){if(N(u)){if(typeof d!==u)throw new Error(`argument does not match constraint: typeof ${u}`)}else if(t(u)){try{if(d instanceof u)return}catch(f){}if(!h(d)&&d.constructor===u||u.length===1&&u.call(void 0,d)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=c;function l(d){let u=[],f=Object.getPrototypeOf(d);for(;Object.prototype!==f;)u=u.concat(Object.getOwnPropertyNames(f)),f=Object.getPrototypeOf(f);return u}e.getAllPropertyNames=l;function a(d){const u=[];for(const f of l(d))typeof d[f]=="function"&&u.push(f);return u}e.getAllMethodNames=a;function s(d,u){const f=v=>function(){const m=Array.prototype.slice.call(arguments,0);return u(v,m)};let S={};for(const v of d)S[v]=f(v);return S}e.createProxyObject=s;function o(d){return d===null?void 0:d}e.withNullAsUndefined=o;function n(d,u="Unreachable"){throw new Error(u)}e.assertNever=n}),define(ee[37],te([0,1,20]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOrDefault=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function N(i){if(!i||typeof i!="object"||i instanceof RegExp)return i;const t=Array.isArray(i)?[]:{};return Object.keys(i).forEach(r=>{i[r]&&typeof i[r]=="object"?t[r]=N(i[r]):t[r]=i[r]}),t}e.deepClone=N;function T(i){if(!i||typeof i!="object")return i;const t=[i];for(;t.length>0;){const r=t.shift();Object.freeze(r);for(const c in r)if(I.call(r,c)){const l=r[c];typeof l=="object"&&!Object.isFrozen(l)&&t.push(l)}}return i}e.deepFreeze=T;const I=Object.prototype.hasOwnProperty;function b(i,t){return C(i,t,new Set)}e.cloneAndChange=b;function C(i,t,r){if((0,y.isUndefinedOrNull)(i))return i;const c=t(i);if(typeof c!="undefined")return c;if((0,y.isArray)(i)){const l=[];for(const a of i)l.push(C(a,t,r));return l}if((0,y.isObject)(i)){if(r.has(i))throw new Error("Cannot clone recursive data-structure");r.add(i);const l={};for(let a in i)I.call(i,a)&&(l[a]=C(i[a],t,r));return r.delete(i),l}return i}function p(i,t,r=!0){return(0,y.isObject)(i)?((0,y.isObject)(t)&&Object.keys(t).forEach(c=>{c in i?r&&((0,y.isObject)(i[c])&&(0,y.isObject)(t[c])?p(i[c],t[c],r):i[c]=t[c]):i[c]=t[c]}),i):t}e.mixin=p;function h(i,t){if(i===t)return!0;if(i==null||t===null||t===void 0||typeof i!=typeof t||typeof i!="object"||Array.isArray(i)!==Array.isArray(t))return!1;let r,c;if(Array.isArray(i)){if(i.length!==t.length)return!1;for(r=0;r<i.length;r++)if(!h(i[r],t[r]))return!1}else{const l=[];for(c in i)l.push(c);l.sort();const a=[];for(c in t)a.push(c);if(a.sort(),!h(l,a))return!1;for(r=0;r<l.length;r++)if(!h(i[l[r]],t[l[r]]))return!1}return!0}e.equals=h;function g(i,t,r){const c=t(i);return typeof c=="undefined"?r:c}e.getOrDefault=g}),define(ee[136],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function y(T){return T<0?0:T>255?255:T|0}e.toUint8=y;function N(T){return T<0?0:T>4294967295?4294967295:T|0}e.toUint32=N}),define(ee[25],te([0,1,78,17]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const T=/^\w[\w\d+.-]*$/,I=/^\//,b=/^\/\//;function C(v,m){if(!v.scheme&&m)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${v.authority}", path: "${v.path}", query: "${v.query}", fragment: "${v.fragment}"}`);if(v.scheme&&!T.test(v.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(v.path){if(v.authority){if(!I.test(v.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(b.test(v.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function p(v,m){return!v&&!m?"file":v}function h(v,m){switch(v){case"https":case"http":case"file":m?m[0]!==i&&(m=i+m):m=i;break}return m}const g="",i="/",t=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class r{constructor(m,_,L,w,k,D=!1){typeof m=="object"?(this.scheme=m.scheme||g,this.authority=m.authority||g,this.path=m.path||g,this.query=m.query||g,this.fragment=m.fragment||g):(this.scheme=p(m,D),this.authority=_||g,this.path=h(this.scheme,L||g),this.query=w||g,this.fragment=k||g,C(this,D))}static isUri(m){return m instanceof r?!0:m?typeof m.authority=="string"&&typeof m.fragment=="string"&&typeof m.path=="string"&&typeof m.query=="string"&&typeof m.scheme=="string"&&typeof m.fsPath=="string"&&typeof m.with=="function"&&typeof m.toString=="function":!1}get fsPath(){return n(this,!1)}with(m){if(!m)return this;let{scheme:_,authority:L,path:w,query:k,fragment:D}=m;return _===void 0?_=this.scheme:_===null&&(_=g),L===void 0?L=this.authority:L===null&&(L=g),w===void 0?w=this.path:w===null&&(w=g),k===void 0?k=this.query:k===null&&(k=g),D===void 0?D=this.fragment:D===null&&(D=g),_===this.scheme&&L===this.authority&&w===this.path&&k===this.query&&D===this.fragment?this:new l(_,L,w,k,D)}static parse(m,_=!1){const L=t.exec(m);return L?new l(L[2]||g,S(L[4]||g),S(L[5]||g),S(L[7]||g),S(L[9]||g),_):new l(g,g,g,g,g)}static file(m){let _=g;if(N.isWindows&&(m=m.replace(/\\/g,i)),m[0]===i&&m[1]===i){const L=m.indexOf(i,2);L===-1?(_=m.substring(2),m=i):(_=m.substring(2,L),m=m.substring(L)||i)}return new l("file",_,m,g,g)}static from(m){const _=new l(m.scheme,m.authority,m.path,m.query,m.fragment);return C(_,!0),_}static joinPath(m,..._){if(!m.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let L;return N.isWindows&&m.scheme==="file"?L=r.file(y.win32.join(n(m,!0),..._)).path:L=y.posix.join(m.path,..._),m.with({path:L})}toString(m=!1){return d(this,m)}toJSON(){return this}static revive(m){if(m){if(m instanceof r)return m;{const _=new l(m);return _._formatted=m.external,_._fsPath=m._sep===c?m.fsPath:null,_}}else return m}}e.URI=r;const c=N.isWindows?1:void 0;class l extends r{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=n(this,!1)),this._fsPath}toString(m=!1){return m?d(this,!0):(this._formatted||(this._formatted=d(this,!1)),this._formatted)}toJSON(){const m={$mid:1};return this._fsPath&&(m.fsPath=this._fsPath,m._sep=c),this._formatted&&(m.external=this._formatted),this.path&&(m.path=this.path),this.scheme&&(m.scheme=this.scheme),this.authority&&(m.authority=this.authority),this.query&&(m.query=this.query),this.fragment&&(m.fragment=this.fragment),m}}const a={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function s(v,m){let _,L=-1;for(let w=0;w<v.length;w++){const k=v.charCodeAt(w);if(k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===45||k===46||k===95||k===126||m&&k===47)L!==-1&&(_+=encodeURIComponent(v.substring(L,w)),L=-1),_!==void 0&&(_+=v.charAt(w));else{_===void 0&&(_=v.substr(0,w));const D=a[k];D!==void 0?(L!==-1&&(_+=encodeURIComponent(v.substring(L,w)),L=-1),_+=D):L===-1&&(L=w)}}return L!==-1&&(_+=encodeURIComponent(v.substring(L))),_!==void 0?_:v}function o(v){let m;for(let _=0;_<v.length;_++){const L=v.charCodeAt(_);L===35||L===63?(m===void 0&&(m=v.substr(0,_)),m+=a[L]):m!==void 0&&(m+=v[_])}return m!==void 0?m:v}function n(v,m){let _;return v.authority&&v.path.length>1&&v.scheme==="file"?_=`//${v.authority}${v.path}`:v.path.charCodeAt(0)===47&&(v.path.charCodeAt(1)>=65&&v.path.charCodeAt(1)<=90||v.path.charCodeAt(1)>=97&&v.path.charCodeAt(1)<=122)&&v.path.charCodeAt(2)===58?m?_=v.path.substr(1):_=v.path[1].toLowerCase()+v.path.substr(2):_=v.path,N.isWindows&&(_=_.replace(/\//g,"\\")),_}e.uriToFsPath=n;function d(v,m){const _=m?o:s;let L="",{scheme:w,authority:k,path:D,query:M,fragment:O}=v;if(w&&(L+=w,L+=":"),(k||w==="file")&&(L+=i,L+=i),k){let F=k.indexOf("@");if(F!==-1){const R=k.substr(0,F);k=k.substr(F+1),F=R.indexOf(":"),F===-1?L+=_(R,!1):(L+=_(R.substr(0,F),!1),L+=":",L+=_(R.substr(F+1),!1)),L+="@"}k=k.toLowerCase(),F=k.indexOf(":"),F===-1?L+=_(k,!1):(L+=_(k.substr(0,F),!1),L+=k.substr(F))}if(D){if(D.length>=3&&D.charCodeAt(0)===47&&D.charCodeAt(2)===58){const F=D.charCodeAt(1);F>=65&&F<=90&&(D=`/${String.fromCharCode(F+32)}:${D.substr(3)}`)}else if(D.length>=2&&D.charCodeAt(1)===58){const F=D.charCodeAt(0);F>=65&&F<=90&&(D=`${String.fromCharCode(F+32)}:${D.substr(2)}`)}L+=_(D,!0)}return M&&(L+="?",L+=_(M,!1)),O&&(L+="#",L+=m?O:s(O,!1)),L}function u(v){try{return decodeURIComponent(v)}catch(m){return v.length>3?v.substr(0,3)+u(v.substr(3)):v}}const f=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function S(v){return v.match(f)?v.replace(f,m=>u(m)):v}}),define(ee[209],te([0,1,104,25]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function T(b){let C=JSON.parse(b);return C=I(C),C}e.parse=T;function I(b,C=0){if(!b||C>200)return b;if(typeof b=="object"){switch(b.$mid){case 1:return N.URI.revive(b);case 2:return new RegExp(b.source,b.flags)}if(b instanceof y.VSBuffer||b instanceof Uint8Array)return b;if(Array.isArray(b))for(let p=0;p<b.length;++p)b[p]=I(b[p],C+1);else for(const p in b)Object.hasOwnProperty.call(b,p)&&(b[p]=I(b[p],C+1))}return b}e.revive=I}),define(ee[48],te([0,1,17,25]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var T;(function(C){C.inMemory="inmemory",C.vscode="vscode",C.internal="private",C.walkThrough="walkThrough",C.walkThroughSnippet="walkThroughSnippet",C.http="http",C.https="https",C.file="file",C.mailto="mailto",C.untitled="untitled",C.data="data",C.command="command",C.vscodeRemote="vscode-remote",C.vscodeRemoteResource="vscode-remote-resource",C.userData="vscode-userdata",C.vscodeCustomEditor="vscode-custom-editor",C.vscodeNotebook="vscode-notebook",C.vscodeNotebookCell="vscode-notebook-cell",C.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",C.vscodeNotebookCellOutput="vscode-notebook-cell-output",C.vscodeInteractive="vscode-interactive",C.vscodeInteractiveInput="vscode-interactive-input",C.vscodeSettings="vscode-settings",C.vscodeWorkspaceTrust="vscode-workspace-trust",C.vscodeTerminal="vscode-terminal",C.webviewPanel="webview-panel",C.vscodeWebview="vscode-webview",C.extension="extension",C.vscodeFileResource="vscode-file",C.tmp="tmp",C.vsls="vsls"})(T=e.Schemas||(e.Schemas={}));class I{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(p){this._preferredWebSchema=p}rewrite(p){if(this._delegate)return this._delegate(p);const h=p.authority;let g=this._hosts[h];g&&g.indexOf(":")!==-1&&(g=`[${g}]`);const i=this._ports[h],t=this._connectionTokens[h];let r=`path=${encodeURIComponent(p.path)}`;return typeof t=="string"&&(r+=`&tkn=${encodeURIComponent(t)}`),N.URI.from({scheme:y.isWeb?this._preferredWebSchema:T.vscodeRemoteResource,authority:`${g}:${i}`,path:"/vscode-remote-resource",query:r})}}e.RemoteAuthorities=new I;class b{asBrowserUri(p,h){const g=this.toUri(p,h);return g.scheme===T.vscodeRemote?e.RemoteAuthorities.rewrite(g):g.scheme===T.file&&(y.isNative||typeof y.globals.importScripts=="function"&&y.globals.origin===`${T.vscodeFileResource}://${b.FALLBACK_AUTHORITY}`)?g.with({scheme:T.vscodeFileResource,authority:g.authority||b.FALLBACK_AUTHORITY,query:null,fragment:null}):g}toUri(p,h){return N.URI.isUri(p)?p:N.URI.parse(h.toUrl(p))}}b.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new b}),define(ee[7],te([0,1,34,164,46,57,10,13,4,2,48,17]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addMatchMediaChangeListener=e.ModifierKeyEmitter=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.getElementsByTagName=e.hide=e.show=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.addDisposableThrottledListener=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.createEventEmitter=e.addDisposableNonBubblingPointerOutListener=e.addDisposableNonBubblingMouseOutListener=e.addDisposableGenericMouseUpListner=e.addDisposableGenericMouseDownListner=e.addStandardDisposableGenericMouseUpListner=e.addStandardDisposableGenericMouseDownListner=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function t(Le){for(;Le.firstChild;)Le.firstChild.remove()}e.clearNode=t;function r(Le){var Ee;return(Ee=Le==null?void 0:Le.isConnected)!==null&&Ee!==void 0?Ee:!1}e.isInDOM=r;class c{constructor(Ee,Pe,ze,Te){this._node=Ee,this._type=Pe,this._handler=ze,this._options=Te||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function l(Le,Ee,Pe,ze){return new c(Le,Ee,Pe,ze)}e.addDisposableListener=l;function a(Le){return function(Ee){return Le(new I.StandardMouseEvent(Ee))}}function s(Le){return function(Ee){return Le(new T.StandardKeyboardEvent(Ee))}}let o=function(Ee,Pe,ze,Te){let Ne=ze;return Pe==="click"||Pe==="mousedown"?Ne=a(ze):(Pe==="keydown"||Pe==="keypress"||Pe==="keyup")&&(Ne=s(ze)),l(Ee,Pe,Ne,Te)};e.addStandardDisposableListener=o;let n=function(Ee,Pe,ze){let Te=a(Pe);return u(Ee,Te,ze)};e.addStandardDisposableGenericMouseDownListner=n;let d=function(Ee,Pe,ze){let Te=a(Pe);return f(Ee,Te,ze)};e.addStandardDisposableGenericMouseUpListner=d;function u(Le,Ee,Pe){return l(Le,i.isIOS&&N.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,Ee,Pe)}e.addDisposableGenericMouseDownListner=u;function f(Le,Ee,Pe){return l(Le,i.isIOS&&N.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,Ee,Pe)}e.addDisposableGenericMouseUpListner=f;function S(Le,Ee){return l(Le,"mouseout",Pe=>{let ze=Pe.relatedTarget;for(;ze&&ze!==Le;)ze=ze.parentNode;ze!==Le&&Ee(Pe)})}e.addDisposableNonBubblingMouseOutListener=S;function v(Le,Ee){return l(Le,"pointerout",Pe=>{let ze=Pe.relatedTarget;for(;ze&&ze!==Le;)ze=ze.parentNode;ze!==Le&&Ee(Pe)})}e.addDisposableNonBubblingPointerOutListener=v;function m(Le,Ee,Pe){let ze=null;const Te=ve=>me.fire(ve),Ne=()=>{ze||(ze=new c(Le,Ee,Te,Pe))},Me=()=>{ze&&(ze.dispose(),ze=null)},me=new p.Emitter({onFirstListenerAdd:Ne,onLastListenerRemove:Me});return me}e.createEventEmitter=m;let _=null;function L(Le){if(!_){const Ee=Pe=>setTimeout(()=>Pe(new Date().getTime()),0);_=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||Ee}return _.call(self,Le)}class w{constructor(Ee,Pe=0){this._runner=Ee,this.priority=Pe,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Ee){(0,C.onUnexpectedError)(Ee)}}static sort(Ee,Pe){return Pe.priority-Ee.priority}}(function(){let Le=[],Ee=null,Pe=!1,ze=!1,Te=()=>{for(Pe=!1,Ee=Le,Le=[],ze=!0;Ee.length>0;)Ee.sort(w.sort),Ee.shift().execute();ze=!1};e.scheduleAtNextAnimationFrame=(Ne,Me=0)=>{let me=new w(Ne,Me);return Le.push(me),Pe||(Pe=!0,L(Te)),me},e.runAtThisOrScheduleAtNextAnimationFrame=(Ne,Me)=>{if(ze){let me=new w(Ne,Me);return Ee.push(me),me}else return(0,e.scheduleAtNextAnimationFrame)(Ne,Me)}})();const k=8,D=function(Le,Ee){return Ee};class M extends h.Disposable{constructor(Ee,Pe,ze,Te=D,Ne=k){super();let Me=null,me=0,ve=this._register(new b.TimeoutTimer),Ie=()=>{me=new Date().getTime(),ze(Me),Me=null};this._register(l(Ee,Pe,ye=>{Me=Te(Me,ye);let we=new Date().getTime()-me;we>=Ne?(ve.cancel(),Ie()):ve.setIfNotSet(Ie,Ne-we)}))}}function O(Le,Ee,Pe,ze,Te){return new M(Le,Ee,Pe,ze,Te)}e.addDisposableThrottledListener=O;function F(Le){return document.defaultView.getComputedStyle(Le,null)}e.getComputedStyle=F;function R(Le){if(Le!==document.body)return new P(Le.clientWidth,Le.clientHeight);if(i.isIOS&&window.visualViewport)return new P(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new P(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new P(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new P(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=R;class A{static convertToPixels(Ee,Pe){return parseFloat(Pe)||0}static getDimension(Ee,Pe,ze){let Te=F(Ee),Ne="0";return Te&&(Te.getPropertyValue?Ne=Te.getPropertyValue(Pe):Ne=Te.getAttribute(ze)),A.convertToPixels(Ee,Ne)}static getBorderLeftWidth(Ee){return A.getDimension(Ee,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Ee){return A.getDimension(Ee,"border-right-width","borderRightWidth")}static getBorderTopWidth(Ee){return A.getDimension(Ee,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Ee){return A.getDimension(Ee,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Ee){return A.getDimension(Ee,"padding-left","paddingLeft")}static getPaddingRight(Ee){return A.getDimension(Ee,"padding-right","paddingRight")}static getPaddingTop(Ee){return A.getDimension(Ee,"padding-top","paddingTop")}static getPaddingBottom(Ee){return A.getDimension(Ee,"padding-bottom","paddingBottom")}static getMarginLeft(Ee){return A.getDimension(Ee,"margin-left","marginLeft")}static getMarginTop(Ee){return A.getDimension(Ee,"margin-top","marginTop")}static getMarginRight(Ee){return A.getDimension(Ee,"margin-right","marginRight")}static getMarginBottom(Ee){return A.getDimension(Ee,"margin-bottom","marginBottom")}}class P{constructor(Ee,Pe){this.width=Ee,this.height=Pe}with(Ee=this.width,Pe=this.height){return Ee!==this.width||Pe!==this.height?new P(Ee,Pe):this}static is(Ee){return typeof Ee=="object"&&typeof Ee.height=="number"&&typeof Ee.width=="number"}static lift(Ee){return Ee instanceof P?Ee:new P(Ee.width,Ee.height)}static equals(Ee,Pe){return Ee===Pe?!0:!Ee||!Pe?!1:Ee.width===Pe.width&&Ee.height===Pe.height}}e.Dimension=P;function E(Le){let Ee=Le.offsetParent,Pe=Le.offsetTop,ze=Le.offsetLeft;for(;(Le=Le.parentNode)!==null&&Le!==document.body&&Le!==document.documentElement;){Pe-=Le.scrollTop;const Te=G(Le)?null:F(Le);Te&&(ze-=Te.direction!=="rtl"?Le.scrollLeft:-Le.scrollLeft),Le===Ee&&(ze+=A.getBorderLeftWidth(Le),Pe+=A.getBorderTopWidth(Le),Pe+=Le.offsetTop,ze+=Le.offsetLeft,Ee=Le.offsetParent)}return{left:ze,top:Pe}}e.getTopLeftOffset=E;function B(Le,Ee,Pe){typeof Ee=="number"&&(Le.style.width=`${Ee}px`),typeof Pe=="number"&&(Le.style.height=`${Pe}px`)}e.size=B;function V(Le){let Ee=Le.getBoundingClientRect();return{left:Ee.left+e.StandardWindow.scrollX,top:Ee.top+e.StandardWindow.scrollY,width:Ee.width,height:Ee.height}}e.getDomNodePagePosition=V,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function j(Le){let Ee=A.getMarginLeft(Le)+A.getMarginRight(Le);return Le.offsetWidth+Ee}e.getTotalWidth=j;function K(Le){let Ee=A.getBorderLeftWidth(Le)+A.getBorderRightWidth(Le),Pe=A.getPaddingLeft(Le)+A.getPaddingRight(Le);return Le.offsetWidth-Ee-Pe}e.getContentWidth=K;function Y(Le){let Ee=A.getBorderTopWidth(Le)+A.getBorderBottomWidth(Le),Pe=A.getPaddingTop(Le)+A.getPaddingBottom(Le);return Le.offsetHeight-Ee-Pe}e.getContentHeight=Y;function J(Le){let Ee=A.getMarginTop(Le)+A.getMarginBottom(Le);return Le.offsetHeight+Ee}e.getTotalHeight=J;function Z(Le,Ee){for(;Le;){if(Le===Ee)return!0;Le=Le.parentNode}return!1}e.isAncestor=Z;function ie(Le,Ee,Pe){for(;Le&&Le.nodeType===Le.ELEMENT_NODE;){if(Le.classList.contains(Ee))return Le;if(Pe){if(typeof Pe=="string"){if(Le.classList.contains(Pe))return null}else if(Le===Pe)return null}Le=Le.parentNode}return null}e.findParentWithClass=ie;function ne(Le,Ee,Pe){return!!ie(Le,Ee,Pe)}e.hasParentWithClass=ne;function G(Le){return Le&&!!Le.host&&!!Le.mode}e.isShadowRoot=G;function W(Le){return!!z(Le)}e.isInShadowDOM=W;function z(Le){for(;Le.parentNode;){if(Le===document.body)return null;Le=Le.parentNode}return G(Le)?Le:null}e.getShadowRoot=z;function U(){let Le=document.activeElement;for(;Le==null?void 0:Le.shadowRoot;)Le=Le.shadowRoot.activeElement;return Le}e.getActiveElement=U;function x(Le=document.getElementsByTagName("head")[0]){let Ee=document.createElement("style");return Ee.type="text/css",Ee.media="screen",Le.appendChild(Ee),Ee}e.createStyleSheet=x;let X=null;function le(){return X||(X=x()),X}function fe(Le){var Ee,Pe;return((Ee=Le==null?void 0:Le.sheet)===null||Ee===void 0?void 0:Ee.rules)?Le.sheet.rules:((Pe=Le==null?void 0:Le.sheet)===null||Pe===void 0?void 0:Pe.cssRules)?Le.sheet.cssRules:[]}function $(Le,Ee,Pe=le()){!Pe||!Ee||Pe.sheet.insertRule(Le+"{"+Ee+"}",0)}e.createCSSRule=$;function H(Le,Ee=le()){if(!Ee)return;let Pe=fe(Ee),ze=[];for(let Te=0;Te<Pe.length;Te++)Pe[Te].selectorText.indexOf(Le)!==-1&&ze.push(Te);for(let Te=ze.length-1;Te>=0;Te--)Ee.sheet.deleteRule(ze[Te])}e.removeCSSRulesContainingSelector=H;function Q(Le){return typeof HTMLElement=="object"?Le instanceof HTMLElement:Le&&typeof Le=="object"&&Le.nodeType===1&&typeof Le.nodeName=="string"}e.isHTMLElement=Q,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:y.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:y.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:y.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(Le,Ee){Le.preventDefault?Le.preventDefault():Le.returnValue=!1,Ee&&(Le.stopPropagation?Le.stopPropagation():Le.cancelBubble=!0)}};function re(Le){let Ee=[];for(let Pe=0;Le&&Le.nodeType===Le.ELEMENT_NODE;Pe++)Ee[Pe]=Le.scrollTop,Le=Le.parentNode;return Ee}e.saveParentsScrollTop=re;function ce(Le,Ee){for(let Pe=0;Le&&Le.nodeType===Le.ELEMENT_NODE;Pe++)Le.scrollTop!==Ee[Pe]&&(Le.scrollTop=Ee[Pe]),Le=Le.parentNode}e.restoreParentsScrollTop=ce;class oe extends h.Disposable{constructor(Ee){super();this._onDidFocus=this._register(new p.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new p.Emitter),this.onDidBlur=this._onDidBlur.event;let Pe=oe.hasFocusWithin(Ee),ze=!1;const Te=()=>{ze=!1,Pe||(Pe=!0,this._onDidFocus.fire())},Ne=()=>{Pe&&(ze=!0,window.setTimeout(()=>{ze&&(ze=!1,Pe=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{oe.hasFocusWithin(Ee)!==Pe&&(Pe?Ne():Te())},this._register(l(Ee,e.EventType.FOCUS,Te,!0)),this._register(l(Ee,e.EventType.BLUR,Ne,!0)),this._register(l(Ee,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(l(Ee,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(Ee){const Pe=z(Ee),ze=Pe?Pe.activeElement:document.activeElement;return Z(ze,Ee)}}function de(Le){return new oe(Le)}e.trackFocus=de;function pe(Le,...Ee){if(Le.append(...Ee),Ee.length===1&&typeof Ee[0]!="string")return Ee[0]}e.append=pe;function _e(Le,Ee){return Le.insertBefore(Ee,Le.firstChild),Ee}e.prepend=_e;function se(Le,...Ee){Le.innerText="",pe(Le,...Ee)}e.reset=se;const ue=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var be;(function(Le){Le.HTML="http://www.w3.org/1999/xhtml",Le.SVG="http://www.w3.org/2000/svg"})(be=e.Namespace||(e.Namespace={}));function ge(Le,Ee,Pe,...ze){let Te=ue.exec(Ee);if(!Te)throw new Error("Bad use of emmet");Pe=Object.assign({},Pe||{});let Ne=Te[1]||"div",Me;return Le!==be.HTML?Me=document.createElementNS(Le,Ne):Me=document.createElement(Ne),Te[3]&&(Me.id=Te[3]),Te[4]&&(Me.className=Te[4].replace(/\./g," ").trim()),Object.keys(Pe).forEach(me=>{const ve=Pe[me];typeof ve!="undefined"&&(/^on\w+$/.test(me)?Me[me]=ve:me==="selected"?ve&&Me.setAttribute(me,"true"):Me.setAttribute(me,ve))}),Me.append(...ze),Me}function Se(Le,Ee,...Pe){return ge(be.HTML,Le,Ee,...Pe)}e.$=Se,Se.SVG=function(Le,Ee,...Pe){return ge(be.SVG,Le,Ee,...Pe)};function ae(...Le){for(let Ee of Le)Ee.style.display="",Ee.removeAttribute("aria-hidden")}e.show=ae;function he(...Le){for(let Ee of Le)Ee.style.display="none",Ee.setAttribute("aria-hidden","true")}e.hide=he;function De(Le){return Array.prototype.slice.call(document.getElementsByTagName(Le),0)}e.getElementsByTagName=De;function ke(Le){const Ee=window.devicePixelRatio*Le;return Math.max(1,Math.floor(Ee))/window.devicePixelRatio}e.computeScreenAwareSize=ke;function Ve(Le){window.open(Le,"_blank","noopener")}e.windowOpenNoOpener=Ve;function Fe(Le){const Ee=()=>{Le(),Pe=(0,e.scheduleAtNextAnimationFrame)(Ee)};let Pe=(0,e.scheduleAtNextAnimationFrame)(Ee);return(0,h.toDisposable)(()=>Pe.dispose())}e.animate=Fe,g.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function xe(Le){return Le?`url('${g.FileAccess.asBrowserUri(Le).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=xe;function Ze(Le){return`'${Le.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=Ze;class je extends p.Emitter{constructor(){super();this._subscriptions=new h.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(l(window,"keydown",Ee=>{if(Ee.defaultPrevented)return;const Pe=new T.StandardKeyboardEvent(Ee);if(!(Pe.keyCode===6&&Ee.repeat)){if(Ee.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Ee.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Ee.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Ee.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Pe.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Ee.altKey,this._keyStatus.ctrlKey=Ee.ctrlKey,this._keyStatus.metaKey=Ee.metaKey,this._keyStatus.shiftKey=Ee.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Ee,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(l(window,"keyup",Ee=>{Ee.defaultPrevented||(!Ee.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Ee.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Ee.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Ee.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Ee.altKey,this._keyStatus.ctrlKey=Ee.ctrlKey,this._keyStatus.metaKey=Ee.metaKey,this._keyStatus.shiftKey=Ee.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Ee,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(l(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(l(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(l(document.body,"mousemove",Ee=>{Ee.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(l(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return je.instance||(je.instance=new je),je.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=je;function $e(Le,Ee){const Pe=window.matchMedia(Le);typeof Pe.addEventListener=="function"?Pe.addEventListener("change",Ee):Pe.addListener(Ee)}e.addMatchMediaChangeListener=$e}),define(ee[168],te([0,1,7]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function N(i,t={}){const r=I(t);return r.textContent=i,r}e.renderText=N;function T(i,t={}){const r=I(t);return C(r,p(i,!!t.renderCodeSegments),t.actionHandler,t.renderCodeSegments),r}e.renderFormattedText=T;function I(i){const t=i.inline?"span":"div",r=document.createElement(t);return i.className&&(r.className=i.className),r}e.createElement=I;class b{constructor(t){this.source=t,this.index=0}eos(){return this.index>=this.source.length}next(){const t=this.peek();return this.advance(),t}peek(){return this.source[this.index]}advance(){this.index++}}function C(i,t,r,c){let l;if(t.type===2)l=document.createTextNode(t.content||"");else if(t.type===3)l=document.createElement("b");else if(t.type===4)l=document.createElement("i");else if(t.type===7&&c)l=document.createElement("code");else if(t.type===5&&r){const a=document.createElement("a");a.href="#",r.disposables.add(y.addStandardDisposableListener(a,"click",s=>{r.callback(String(t.index),s)})),l=a}else t.type===8?l=document.createElement("br"):t.type===1&&(l=i);l&&i!==l&&i.appendChild(l),l&&Array.isArray(t.children)&&t.children.forEach(a=>{C(l,a,r,c)})}function p(i,t){const r={type:1,children:[]};let c=0,l=r;const a=[],s=new b(i);for(;!s.eos();){let o=s.next();const n=o==="\\"&&g(s.peek(),t)!==0;if(n&&(o=s.next()),!n&&h(o,t)&&o===s.peek()){s.advance(),l.type===2&&(l=a.pop());const d=g(o,t);if(l.type===d||l.type===5&&d===6)l=a.pop();else{const u={type:d,children:[]};d===5&&(u.index=c,c++),l.children.push(u),a.push(l),l=u}}else if(o===`
`)l.type===2&&(l=a.pop()),l.children.push({type:8});else if(l.type!==2){const d={type:2,content:o};l.children.push(d),a.push(l),l=d}else l.content+=o}return l.type===2&&(l=a.pop()),a.length,r}function h(i,t){return g(i,t)!==0}function g(i,t){switch(i){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return t?7:0;default:return 0}}}),define(ee[96],te([0,1,7,204,57,2,17]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalMouseMoveMonitor=e.standardMouseMoveMerger=void 0;function C(h,g){let i=new T.StandardMouseEvent(g);return i.preventDefault(),{leftButton:i.leftButton,buttons:i.buttons,posx:i.posx,posy:i.posy}}e.standardMouseMoveMerger=C;class p{constructor(){this._hooks=new I.DisposableStore,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(g,i){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const t=this._onStopCallback;this._onStopCallback=null,g&&t&&t(i)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(g,i,t,r,c){if(this.isMonitoring())return;this._mouseMoveEventMerger=t,this._mouseMoveCallback=r,this._onStopCallback=c;const l=N.IframeUtils.getSameOriginWindowChain(),a=b.isIOS?"pointermove":"mousemove",s="mouseup",o=l.map(d=>d.window.document),n=y.getShadowRoot(g);n&&o.unshift(n);for(const d of o)this._hooks.add(y.addDisposableThrottledListener(d,a,u=>{if(u.buttons!==i){this.stopMonitoring(!0);return}this._mouseMoveCallback(u)},(u,f)=>this._mouseMoveEventMerger(u,f))),this._hooks.add(y.addDisposableListener(d,s,u=>this.stopMonitoring(!0)));if(N.IframeUtils.hasDifferentOriginAncestor()){let d=l[l.length-1];this._hooks.add(y.addDisposableListener(d.window.document,"mouseout",u=>{new T.StandardMouseEvent(u).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(y.addDisposableListener(d.window.document,"mouseover",u=>{new T.StandardMouseEvent(u).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(y.addDisposableListener(d.window.document.body,"mouseleave",u=>{this.stopMonitoring(!0)}))}}}e.GlobalMouseMoveMonitor=p});var Be=this&&this.__decorate||function(q,e,y,N){var T=arguments.length,I=T<3?e:N===null?N=Object.getOwnPropertyDescriptor(e,y):N,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(q,e,y,N);else for(var C=q.length-1;C>=0;C--)(b=q[C])&&(I=(T<3?b(I):T>3?b(e,y,I):b(e,y))||I);return T>3&&I&&Object.defineProperty(e,y,I),I};define(ee[58],te([0,1,7,19,94,2]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var b;(function(p){p.Tap="-monaco-gesturetap",p.Change="-monaco-gesturechange",p.Start="-monaco-gesturestart",p.End="-monaco-gesturesend",p.Contextmenu="-monaco-gesturecontextmenu"})(b=e.EventType||(e.EventType={}));class C extends I.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(y.addDisposableListener(document,"touchstart",h=>this.onTouchStart(h),{passive:!1})),this._register(y.addDisposableListener(document,"touchend",h=>this.onTouchEnd(h))),this._register(y.addDisposableListener(document,"touchmove",h=>this.onTouchMove(h),{passive:!1}))}static addTarget(h){return C.isTouchDevice()?(C.INSTANCE||(C.INSTANCE=new C),C.INSTANCE.targets.push(h),{dispose:()=>{C.INSTANCE.targets=C.INSTANCE.targets.filter(g=>g!==h)}}):I.Disposable.None}static ignoreTarget(h){return C.isTouchDevice()?(C.INSTANCE||(C.INSTANCE=new C),C.INSTANCE.ignoreTargets.push(h),{dispose:()=>{C.INSTANCE.ignoreTargets=C.INSTANCE.ignoreTargets.filter(g=>g!==h)}}):I.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(h){let g=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,t=h.targetTouches.length;i<t;i++){let r=h.targetTouches.item(i);this.activeTouches[r.identifier]={id:r.identifier,initialTarget:r.target,initialTimeStamp:g,initialPageX:r.pageX,initialPageY:r.pageY,rollingTimestamps:[g],rollingPageX:[r.pageX],rollingPageY:[r.pageY]};let c=this.newGestureEvent(b.Start,r.target);c.pageX=r.pageX,c.pageY=r.pageY,this.dispatchEvent(c)}this.dispatched&&(h.preventDefault(),h.stopPropagation(),this.dispatched=!1)}onTouchEnd(h){let g=Date.now(),i=Object.keys(this.activeTouches).length;for(let t=0,r=h.changedTouches.length;t<r;t++){let c=h.changedTouches.item(t);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("move of an UNKNOWN touch",c);continue}let l=this.activeTouches[c.identifier],a=Date.now()-l.initialTimeStamp;if(a<C.HOLD_DELAY&&Math.abs(l.initialPageX-N.tail(l.rollingPageX))<30&&Math.abs(l.initialPageY-N.tail(l.rollingPageY))<30){let s=this.newGestureEvent(b.Tap,l.initialTarget);s.pageX=N.tail(l.rollingPageX),s.pageY=N.tail(l.rollingPageY),this.dispatchEvent(s)}else if(a>=C.HOLD_DELAY&&Math.abs(l.initialPageX-N.tail(l.rollingPageX))<30&&Math.abs(l.initialPageY-N.tail(l.rollingPageY))<30){let s=this.newGestureEvent(b.Contextmenu,l.initialTarget);s.pageX=N.tail(l.rollingPageX),s.pageY=N.tail(l.rollingPageY),this.dispatchEvent(s)}else if(i===1){let s=N.tail(l.rollingPageX),o=N.tail(l.rollingPageY),n=N.tail(l.rollingTimestamps)-l.rollingTimestamps[0],d=s-l.rollingPageX[0],u=o-l.rollingPageY[0];const f=this.targets.filter(S=>l.initialTarget instanceof Node&&S.contains(l.initialTarget));this.inertia(f,g,Math.abs(d)/n,d>0?1:-1,s,Math.abs(u)/n,u>0?1:-1,o)}this.dispatchEvent(this.newGestureEvent(b.End,l.initialTarget)),delete this.activeTouches[c.identifier]}this.dispatched&&(h.preventDefault(),h.stopPropagation(),this.dispatched=!1)}newGestureEvent(h,g){let i=document.createEvent("CustomEvent");return i.initEvent(h,!1,!0),i.initialTarget=g,i.tapCount=0,i}dispatchEvent(h){if(h.type===b.Tap){const g=new Date().getTime();let i=0;g-this._lastSetTapCountTime>C.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=g,h.tapCount=i}else(h.type===b.Change||h.type===b.Contextmenu)&&(this._lastSetTapCountTime=0);for(let g=0;g<this.ignoreTargets.length;g++)if(h.initialTarget instanceof Node&&this.ignoreTargets[g].contains(h.initialTarget))return;this.targets.forEach(g=>{h.initialTarget instanceof Node&&g.contains(h.initialTarget)&&(g.dispatchEvent(h),this.dispatched=!0)})}inertia(h,g,i,t,r,c,l,a){this.handle=y.scheduleAtNextAnimationFrame(()=>{let s=Date.now(),o=s-g,n=0,d=0,u=!0;i+=C.SCROLL_FRICTION*o,c+=C.SCROLL_FRICTION*o,i>0&&(u=!1,n=t*i*o),c>0&&(u=!1,d=l*c*o);let f=this.newGestureEvent(b.Change);f.translationX=n,f.translationY=d,h.forEach(S=>S.dispatchEvent(f)),u||this.inertia(h,s,i,t,r+n,c,l,a+d)})}onTouchMove(h){let g=Date.now();for(let i=0,t=h.changedTouches.length;i<t;i++){let r=h.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("end of an UNKNOWN touch",r);continue}let c=this.activeTouches[r.identifier],l=this.newGestureEvent(b.Change,c.initialTarget);l.translationX=r.pageX-N.tail(c.rollingPageX),l.translationY=r.pageY-N.tail(c.rollingPageY),l.pageX=r.pageX,l.pageY=r.pageY,this.dispatchEvent(l),c.rollingPageX.length>3&&(c.rollingPageX.shift(),c.rollingPageY.shift(),c.rollingTimestamps.shift()),c.rollingPageX.push(r.pageX),c.rollingPageY.push(r.pageY),c.rollingTimestamps.push(g)}this.dispatched&&(h.preventDefault(),h.stopPropagation(),this.dispatched=!1)}}C.SCROLL_FRICTION=-.005,C.HOLD_DELAY=700,C.CLEAR_TAP_COUNT_TIME=400,Be([T.memoize],C,"isTouchDevice",null),e.Gesture=C}),define(ee[108],te([0,1,7,27]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const T=new RegExp(`(\\\\)?\\$\\((${N.CSSIcon.iconNameExpression}(?:${N.CSSIcon.iconModifierExpression})?)\\)`,"g");function I(C){const p=new Array;let h,g=0,i=0;for(;(h=T.exec(C))!==null;){i=h.index||0,p.push(C.substring(g,i)),g=(h.index||0)+h[0].length;const[,t,r]=h;p.push(t?`$(${r})`:b({id:r}))}return g<C.length&&p.push(C.substring(g)),p}e.renderLabelWithIcons=I;function b(C){const p=y.$("span");return p.classList.add(...N.CSSIcon.asClassNameArray(C)),p}e.renderIcon=b}),define(ee[210],te([0,1,7,108,37]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class I{constructor(C,p){var h;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(h=p==null?void 0:p.supportIcons)!==null&&h!==void 0?h:!1,this.domNode=y.append(C,y.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(C,p=[],h="",g){C||(C=""),g&&(C=I.escapeNewLines(C,p)),!(this.didEverRender&&this.text===C&&this.title===h&&T.equals(this.highlights,p))&&(this.text=C,this.title=h,this.highlights=p,this.render())}render(){const C=[];let p=0;for(const h of this.highlights){if(h.end===h.start)continue;if(p<h.start){const t=this.text.substring(p,h.start);C.push(y.$("span",void 0,...this.supportIcons?(0,N.renderLabelWithIcons)(t):[t])),p=h.end}const g=this.text.substring(h.start,h.end),i=y.$("span.highlight",void 0,...this.supportIcons?(0,N.renderLabelWithIcons)(g):[g]);h.extraClasses&&i.classList.add(...h.extraClasses),C.push(i),p=h.end}if(p<this.text.length){const h=this.text.substring(p);C.push(y.$("span",void 0,...this.supportIcons?(0,N.renderLabelWithIcons)(h):[h]))}y.reset(this.domNode,...C),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(C,p){let h=0,g=0;return C.replace(/\r\n|\r|\n/g,(i,t)=>{g=i===`\r
`?-1:0,t+=h;for(const r of p)r.end<=t||(r.start>=t&&(r.start+=g),r.end>=t&&(r.end+=g));return h+=g,"\u23CE"})}}e.HighlightedLabel=I}),define(ee[312],te([0,1,7]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function N(I){try{I.parentElement&&I.parentElement.removeChild(I)}catch(b){}}class T{constructor(b){this.renderers=b,this.cache=new Map}alloc(b){let C=this.getTemplateCache(b).pop();if(!C){const p=(0,y.$)(".monaco-list-row"),g=this.getRenderer(b).renderTemplate(p);C={domNode:p,templateId:b,templateData:g}}return C}release(b){!b||this.releaseRow(b)}releaseRow(b){const{domNode:C,templateId:p}=b;C&&(C.classList.remove("scrolling"),N(C)),this.getTemplateCache(p).push(b)}getTemplateCache(b){let C=this.cache.get(b);return C||(C=[],this.cache.set(b,C)),C}dispose(){this.cache.forEach((b,C)=>{for(const p of b)this.getRenderer(C).disposeTemplate(p.templateData),p.templateData=null}),this.cache.clear()}getRenderer(b){const C=this.renderers.get(b);if(!C)throw new Error(`No renderer found for ${b}`);return C}}e.RowCache=T}),define(ee[54],te([0,1,7,46,57,58,2]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class C extends b.Disposable{onclick(h,g){this._register(y.addDisposableListener(h,y.EventType.CLICK,i=>g(new T.StandardMouseEvent(i))))}onmousedown(h,g){this._register(y.addDisposableListener(h,y.EventType.MOUSE_DOWN,i=>g(new T.StandardMouseEvent(i))))}onmouseover(h,g){this._register(y.addDisposableListener(h,y.EventType.MOUSE_OVER,i=>g(new T.StandardMouseEvent(i))))}onnonbubblingmouseout(h,g){this._register(y.addDisposableNonBubblingMouseOutListener(h,i=>g(new T.StandardMouseEvent(i))))}onkeydown(h,g){this._register(y.addDisposableListener(h,y.EventType.KEY_DOWN,i=>g(new N.StandardKeyboardEvent(i))))}onkeyup(h,g){this._register(y.addDisposableListener(h,y.EventType.KEY_UP,i=>g(new N.StandardKeyboardEvent(i))))}oninput(h,g){this._register(y.addDisposableListener(h,y.EventType.INPUT,g))}onblur(h,g){this._register(y.addDisposableListener(h,y.EventType.BLUR,g))}onfocus(h,g){this._register(y.addDisposableListener(h,y.EventType.FOCUS,g))}ignoreGesture(h){I.Gesture.ignoreTarget(h)}}e.Widget=C}),define(ee[169],te([0,1,96,54,10]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class I extends N.Widget{constructor(C){super();this._onActivate=C.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=C.bgWidth+"px",this.bgDomNode.style.height=C.bgHeight+"px",typeof C.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof C.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof C.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof C.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=C.className,this.domNode.classList.add(...C.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof C.top!="undefined"&&(this.domNode.style.top=C.top+"px"),typeof C.left!="undefined"&&(this.domNode.style.left=C.left+"px"),typeof C.bottom!="undefined"&&(this.domNode.style.bottom=C.bottom+"px"),typeof C.right!="undefined"&&(this.domNode.style.right=C.right+"px"),this._mouseMoveMonitor=this._register(new y.GlobalMouseMoveMonitor),this.onmousedown(this.bgDomNode,p=>this._arrowMouseDown(p)),this.onmousedown(this.domNode,p=>this._arrowMouseDown(p)),this._mousedownRepeatTimer=this._register(new T.IntervalTimer),this._mousedownScheduleRepeatTimer=this._register(new T.TimeoutTimer)}_arrowMouseDown(C){const p=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(p,200),this._mouseMoveMonitor.startMonitoring(C.target,C.buttons,y.standardMouseMoveMerger,h=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),C.preventDefault()}}e.ScrollbarArrow=I}),define(ee[211],te([0,1,7,32,96,169,307,54,17]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const h=140;class g extends C.Widget{constructor(t){super();this._lazyRender=t.lazyRender,this._host=t.host,this._scrollable=t.scrollable,this._scrollByPage=t.scrollByPage,this._scrollbarState=t.scrollbarState,this._visibilityController=this._register(new b.ScrollbarVisibilityController(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new T.GlobalMouseMoveMonitor),this._shouldRender=!0,this.domNode=(0,N.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,r=>this._domNodeMouseDown(r))}_createArrow(t){const r=this._register(new I.ScrollbarArrow(t));this.domNode.domNode.appendChild(r.bgDomNode),this.domNode.domNode.appendChild(r.domNode)}_createSlider(t,r,c,l){this.slider=(0,N.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(t),this.slider.setLeft(r),typeof c=="number"&&this.slider.setWidth(c),typeof l=="number"&&this.slider.setHeight(l),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,a=>{a.leftButton&&(a.preventDefault(),this._sliderMouseDown(a,()=>{}))}),this.onclick(this.slider.domNode,a=>{a.leftButton&&a.stopPropagation()})}_onElementSize(t){return this._scrollbarState.setVisibleSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(t){return this._scrollbarState.setScrollSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(t){return this._scrollbarState.setScrollPosition(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(t){t.target===this.domNode.domNode&&this._onMouseDown(t)}delegateMouseDown(t){const r=this.domNode.domNode.getClientRects()[0].top,c=r+this._scrollbarState.getSliderPosition(),l=r+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),a=this._sliderMousePosition(t);c<=a&&a<=l?t.leftButton&&(t.preventDefault(),this._sliderMouseDown(t,()=>{})):this._onMouseDown(t)}_onMouseDown(t){let r,c;if(t.target===this.domNode.domNode&&typeof t.browserEvent.offsetX=="number"&&typeof t.browserEvent.offsetY=="number")r=t.browserEvent.offsetX,c=t.browserEvent.offsetY;else{const a=y.getDomNodePagePosition(this.domNode.domNode);r=t.posx-a.left,c=t.posy-a.top}const l=this._mouseDownRelativePosition(r,c);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(l):this._scrollbarState.getDesiredScrollPositionFromOffset(l)),t.leftButton&&(t.preventDefault(),this._sliderMouseDown(t,()=>{}))}_sliderMouseDown(t,r){const c=this._sliderMousePosition(t),l=this._sliderOrthogonalMousePosition(t),a=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,T.standardMouseMoveMerger,s=>{const o=this._sliderOrthogonalMousePosition(s),n=Math.abs(o-l);if(p.isWindows&&n>h){this._setDesiredScrollPositionNow(a.getScrollPosition());return}const u=this._sliderMousePosition(s)-c;this._setDesiredScrollPositionNow(a.getDesiredScrollPositionFromDelta(u))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),r()}),this._host.onDragStart()}_setDesiredScrollPositionNow(t){const r={};this.writeScrollPosition(r,t),this._scrollable.setScrollPositionNow(r)}updateScrollbarSize(t){this._updateScrollbarSize(t),this._scrollbarState.setScrollbarSize(t),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=g}),define(ee[313],te([0,1,57,211,169,205,27]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class C extends N.AbstractScrollbar{constructor(h,g,i){const t=h.getScrollDimensions(),r=h.getCurrentScrollPosition();super({lazyRender:g.lazyRender,host:i,scrollbarState:new I.ScrollbarState(g.horizontalHasArrows?g.arrowSize:0,g.horizontal===2?0:g.horizontalScrollbarSize,g.vertical===2?0:g.verticalScrollbarSize,t.width,t.scrollWidth,r.scrollLeft),visibility:g.horizontal,extraScrollbarClassName:"horizontal",scrollable:h,scrollByPage:g.scrollByPage});if(g.horizontalHasArrows){const c=(g.arrowSize-T.ARROW_IMG_SIZE)/2,l=(g.horizontalScrollbarSize-T.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:b.Codicon.scrollbarButtonLeft,top:l,left:c,bottom:void 0,right:void 0,bgWidth:g.arrowSize,bgHeight:g.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:b.Codicon.scrollbarButtonRight,top:l,left:void 0,bottom:void 0,right:c,bgWidth:g.arrowSize,bgHeight:g.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((g.horizontalScrollbarSize-g.horizontalSliderSize)/2),0,void 0,g.horizontalSliderSize)}_updateSlider(h,g){this.slider.setWidth(h),this.slider.setLeft(g)}_renderDomNode(h,g){this.domNode.setWidth(h),this.domNode.setHeight(g),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(h){return this._shouldRender=this._onElementScrollSize(h.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(h.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(h.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(h,g){return h}_sliderMousePosition(h){return h.posx}_sliderOrthogonalMousePosition(h){return h.posy}_updateScrollbarSize(h){this.slider.setHeight(h)}writeScrollPosition(h,g){h.scrollLeft=g}updateOptions(h){this.updateScrollbarSize(h.horizontal===2?0:h.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(h.vertical===2?0:h.verticalScrollbarSize),this._visibilityController.setVisibility(h.horizontal),this._scrollByPage=h.scrollByPage}}e.HorizontalScrollbar=C}),define(ee[314],te([0,1,57,211,169,205,27]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class C extends N.AbstractScrollbar{constructor(h,g,i){const t=h.getScrollDimensions(),r=h.getCurrentScrollPosition();super({lazyRender:g.lazyRender,host:i,scrollbarState:new I.ScrollbarState(g.verticalHasArrows?g.arrowSize:0,g.vertical===2?0:g.verticalScrollbarSize,0,t.height,t.scrollHeight,r.scrollTop),visibility:g.vertical,extraScrollbarClassName:"vertical",scrollable:h,scrollByPage:g.scrollByPage});if(g.verticalHasArrows){const c=(g.arrowSize-T.ARROW_IMG_SIZE)/2,l=(g.verticalScrollbarSize-T.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:b.Codicon.scrollbarButtonUp,top:c,left:l,bottom:void 0,right:void 0,bgWidth:g.verticalScrollbarSize,bgHeight:g.arrowSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:b.Codicon.scrollbarButtonDown,top:void 0,left:l,bottom:c,right:void 0,bgWidth:g.verticalScrollbarSize,bgHeight:g.arrowSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((g.verticalScrollbarSize-g.verticalSliderSize)/2),g.verticalSliderSize,void 0)}_updateSlider(h,g){this.slider.setHeight(h),this.slider.setTop(g)}_renderDomNode(h,g){this.domNode.setWidth(g),this.domNode.setHeight(h),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(h){return this._shouldRender=this._onElementScrollSize(h.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(h.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(h.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(h,g){return g}_sliderMousePosition(h){return h.posy}_sliderOrthogonalMousePosition(h){return h.posx}_updateScrollbarSize(h){this.slider.setWidth(h)}writeScrollPosition(h,g){h.scrollTop=g}updateOptions(h){this.updateScrollbarSize(h.vertical===2?0:h.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(h.vertical),this._scrollByPage=h.scrollByPage}}e.VerticalScrollbar=C}),define(ee[42],te([0,1,165,48,78,17,8,25]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUri=e.ExtUri=e.originalFSPath=void 0;function p(i){return(0,C.uriToFsPath)(i,!0)}e.originalFSPath=p;class h{constructor(t){this._ignorePathCasing=t}compare(t,r,c=!1){return t===r?0:(0,b.compare)(this.getComparisonKey(t,c),this.getComparisonKey(r,c))}isEqual(t,r,c=!1){return t===r?!0:!t||!r?!1:this.getComparisonKey(t,c)===this.getComparisonKey(r,c)}getComparisonKey(t,r=!1){return t.with({path:this._ignorePathCasing(t)?t.path.toLowerCase():void 0,fragment:r?null:void 0}).toString()}isEqualOrParent(t,r,c=!1){if(t.scheme===r.scheme){if(t.scheme===N.Schemas.file)return y.isEqualOrParent(p(t),p(r),this._ignorePathCasing(t))&&t.query===r.query&&(c||t.fragment===r.fragment);if((0,e.isEqualAuthority)(t.authority,r.authority))return y.isEqualOrParent(t.path,r.path,this._ignorePathCasing(t),"/")&&t.query===r.query&&(c||t.fragment===r.fragment)}return!1}joinPath(t,...r){return C.URI.joinPath(t,...r)}basenameOrAuthority(t){return(0,e.basename)(t)||t.authority}basename(t){return T.posix.basename(t.path)}extname(t){return T.posix.extname(t.path)}dirname(t){if(t.path.length===0)return t;let r;return t.scheme===N.Schemas.file?r=C.URI.file(T.dirname(p(t))).path:(r=T.posix.dirname(t.path),t.authority&&r.length&&r.charCodeAt(0)!==47&&(console.error(`dirname("${t.toString})) resulted in a relative path`),r="/")),t.with({path:r})}normalizePath(t){if(!t.path.length)return t;let r;return t.scheme===N.Schemas.file?r=C.URI.file(T.normalize(p(t))).path:r=T.posix.normalize(t.path),t.with({path:r})}relativePath(t,r){if(t.scheme!==r.scheme||!(0,e.isEqualAuthority)(t.authority,r.authority))return;if(t.scheme===N.Schemas.file){const a=T.relative(p(t),p(r));return I.isWindows?y.toSlashes(a):a}let c=t.path||"/",l=r.path||"/";if(this._ignorePathCasing(t)){let a=0;for(const s=Math.min(c.length,l.length);a<s&&!(c.charCodeAt(a)!==l.charCodeAt(a)&&c.charAt(a).toLowerCase()!==l.charAt(a).toLowerCase());a++);c=l.substr(0,a)+c.substr(a)}return T.posix.relative(c,l)}resolvePath(t,r){if(t.scheme===N.Schemas.file){const c=C.URI.file(T.resolve(p(t),r));return t.with({authority:c.authority,path:c.path})}return r=y.toPosixPath(r),t.with({path:T.posix.resolve(t.path,r)})}isAbsolutePath(t){return!!t.path&&t.path[0]==="/"}isEqualAuthority(t,r){return t===r||t!==void 0&&r!==void 0&&(0,b.equalsIgnoreCase)(t,r)}hasTrailingPathSeparator(t,r=T.sep){if(t.scheme===N.Schemas.file){const c=p(t);return c.length>y.getRoot(c).length&&c[c.length-1]===r}else{const c=t.path;return c.length>1&&c.charCodeAt(c.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(t.fsPath)}}removeTrailingPathSeparator(t,r=T.sep){return(0,e.hasTrailingPathSeparator)(t,r)?t.with({path:t.path.substr(0,t.path.length-1)}):t}addTrailingPathSeparator(t,r=T.sep){let c=!1;if(t.scheme===N.Schemas.file){const l=p(t);c=l!==void 0&&l.length===y.getRoot(l).length&&l[l.length-1]===r}else{r="/";const l=t.path;c=l.length===1&&l.charCodeAt(l.length-1)===47}return!c&&!(0,e.hasTrailingPathSeparator)(t,r)?t.with({path:t.path+"/"}):t}}e.ExtUri=h,e.extUri=new h(()=>!1),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var g;(function(i){i.META_DATA_LABEL="label",i.META_DATA_DESCRIPTION="description",i.META_DATA_SIZE="size",i.META_DATA_MIME="mime";function t(r){const c=new Map;r.path.substring(r.path.indexOf(";")+1,r.path.lastIndexOf(";")).split(";").forEach(s=>{const[o,n]=s.split(":");o&&n&&c.set(o,n)});const a=r.path.substring(0,r.path.indexOf(";"));return a&&c.set(i.META_DATA_MIME,a),c}i.parseMetaData=t})(g=e.DataUri||(e.DataUri={}))}),define(ee[315],te([0,1,7,730,86,168,57,108,10,23,13,4,70,107,132,2,731,209,48,37,42,8,25]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;function S(_,L={},w={}){var k;const D=new l.DisposableStore;let M=!1;const O=D.add(new h.CancellationTokenSource),F=(0,I.createElement)(L),R=function(J){let Z;try{Z=(0,s.parse)(decodeURIComponent(J))}catch(ie){}return Z?(Z=(0,n.cloneAndChange)(Z,ie=>{if(_.uris&&_.uris[ie])return f.URI.revive(_.uris[ie])}),encodeURIComponent(JSON.stringify(Z))):J},A=function(J,Z){const ie=_.uris&&_.uris[J];let ne=f.URI.revive(ie);return Z?J.startsWith(o.Schemas.data+":")?J:(ne||(ne=f.URI.parse(J)),o.FileAccess.asBrowserUri(ne).toString(!0)):!ne||f.URI.parse(J).toString()===ne.toString()?J:(ne.query&&(ne=ne.with({query:R(ne.query)})),ne.toString())};let P;const E=new Promise(J=>P=J),B=new a.Renderer;if(B.image=(J,Z,ie)=>{let ne=[],G=[];return J&&({href:J,dimensions:ne}=(0,t.parseHrefAndDimensions)(J),G.push(`src="${J}"`)),ie&&G.push(`alt="${ie}"`),Z&&G.push(`title="${Z}"`),ne.length&&(G=G.concat(ne)),"<img "+G.join(" ")+">"},B.link=(J,Z,ie)=>(J===ie&&(ie=(0,t.removeMarkdownEscapes)(ie)),J=A(J,!1),L.baseUrl&&(/^\w[\w\d+.-]*:/.test(J)||(J=(0,d.resolvePath)(L.baseUrl,J).toString())),Z=(0,t.removeMarkdownEscapes)(Z),J=(0,t.removeMarkdownEscapes)(J),!J||J.match(/^data:|javascript:/i)||J.match(/^command:/i)&&!_.isTrusted||J.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?ie:(J=J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${J}" title="${Z||J}">${ie}</a>`)),B.paragraph=J=>`<p>${J}</p>`,L.codeBlockRenderer&&(B.code=(J,Z)=>{const ie=L.codeBlockRenderer(Z,J),ne=c.defaultGenerator.nextId();return(0,p.raceCancellation)(Promise.all([ie,E]),O.token).then(G=>{var W;if(!M&&G){const z=F.querySelector(`div[data-code="${ne}"]`);z&&y.reset(z,G[0]),(W=L.asyncRenderCallback)===null||W===void 0||W.call(L)}}).catch(()=>{}),`<div class="code" data-code="${ne}">${(0,u.escape)(J)}</div>`}),L.actionHandler){const J=L.actionHandler.disposables.add(new T.DomEmitter(F,"click")),Z=L.actionHandler.disposables.add(new T.DomEmitter(F,"auxclick"));L.actionHandler.disposables.add(i.Event.any(J.event,Z.event)(ie=>{const ne=new b.StandardMouseEvent(ie);if(!ne.leftButton&&!ne.middleButton)return;let G=ne.target;if(!(G.tagName!=="A"&&(G=G.parentElement,!G||G.tagName!=="A")))try{const W=G.dataset.href;W&&L.actionHandler.callback(W,ne)}catch(W){(0,g.onUnexpectedError)(W)}finally{ne.preventDefault()}}))}_.supportHtml||(w.sanitizer=J=>(_.isTrusted?J.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?J:"",w.sanitize=!0,w.silent=!0),w.renderer=B;let V=(k=_.value)!==null&&k!==void 0?k:"";V.length>1e5&&(V=`${V.substr(0,1e5)}\u2026`),_.supportThemeIcons&&(V=(0,r.markdownEscapeEscapedIcons)(V));let j=a.parse(V,w);_.supportThemeIcons&&(j=(0,C.renderLabelWithIcons)(j).map(Z=>typeof Z=="string"?Z:Z.outerHTML).join(""));const Y=new DOMParser().parseFromString(v(_,j),"text/html");if(Y.body.querySelectorAll("img").forEach(J=>{if(J.src){let Z=A(J.src,!0);try{const ie=f.URI.parse(Z);L.baseUrl&&ie.scheme===o.Schemas.file&&(Z=(0,d.resolvePath)(L.baseUrl,Z).toString())}catch(ie){}J.src=Z}}),F.innerHTML=v(_,Y.body.innerHTML),P(),L.asyncRenderCallback)for(const J of F.getElementsByTagName("img")){const Z=D.add(y.addDisposableListener(J,"load",()=>{Z.dispose(),L.asyncRenderCallback()}))}return{element:F,dispose:()=>{M=!0,O.cancel(),D.dispose()}}}e.renderMarkdown=S;function v(_,L){const{config:w,allowedSchemes:k}=m(_);N.addHook("uponSanitizeAttribute",(M,O)=>{if(O.attrName==="style"||O.attrName==="class"){if(M.tagName==="SPAN"){if(O.attrName==="style"){O.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(O.attrValue);return}else if(O.attrName==="class"){O.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(O.attrValue);return}}O.keepAttr=!1;return}});const D=document.createElement("a");N.addHook("afterSanitizeAttributes",M=>{for(const O of["href","src"])M.hasAttribute(O)&&(D.href=M.getAttribute(O),k.includes(D.protocol.replace(/:$/,""))||M.removeAttribute(O))});try{return N.sanitize(L,Object.assign(Object.assign({},w),{RETURN_TRUSTED_TYPE:!0}))}finally{N.removeHook("uponSanitizeAttribute"),N.removeHook("afterSanitizeAttributes")}}function m(_){const L=[o.Schemas.http,o.Schemas.https,o.Schemas.mailto,o.Schemas.data,o.Schemas.file,o.Schemas.vscodeFileResource,o.Schemas.vscodeRemote,o.Schemas.vscodeRemoteResource];return _.isTrusted&&L.push(o.Schemas.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:L}}}),define(ee[170],te([0,1,165,48,17,42,25]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=e.getBaseLabel=void 0;function C(g){if(!g)return;typeof g=="string"&&(g=b.URI.file(g));const i=(0,I.basename)(g)||(g.scheme===N.Schemas.file?g.fsPath:g.path);return T.isWindows&&(0,y.isRootOrDriveLetter)(i)?p(i):i}e.getBaseLabel=C;function p(g,i){return(0,y.hasDriveLetter)(g,i)?g.charAt(0).toUpperCase()+g.slice(1):g}e.normalizeDriveLetter=p;let h=Object.create(null)}),define(ee[109],te([0,1,208,48,78,42,8]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessMimeTypes=e.clearTextMimes=e.registerTextMime=e.Mimes=void 0;var C;(function(s){s.text="text/plain",s.binary="application/octet-stream",s.unknown="application/unknown",s.markdown="text/markdown",s.latex="text/latex"})(C=e.Mimes||(e.Mimes={}));let p=[],h=[],g=[];function i(s,o=!1){const n=t(s);p.push(n),n.userConfigured?g.push(n):h.push(n),o&&!n.userConfigured&&p.forEach(d=>{d.mime===n.mime||d.userConfigured||(n.extension&&d.extension===n.extension&&console.warn(`Overwriting extension <<${n.extension}>> to now point to mime <<${n.mime}>>`),n.filename&&d.filename===n.filename&&console.warn(`Overwriting filename <<${n.filename}>> to now point to mime <<${n.mime}>>`),n.filepattern&&d.filepattern===n.filepattern&&console.warn(`Overwriting filepattern <<${n.filepattern}>> to now point to mime <<${n.mime}>>`),n.firstline&&d.firstline===n.firstline&&console.warn(`Overwriting firstline <<${n.firstline}>> to now point to mime <<${n.mime}>>`))})}e.registerTextMime=i;function t(s){return{id:s.id,mime:s.mime,filename:s.filename,extension:s.extension,filepattern:s.filepattern,firstline:s.firstline,userConfigured:s.userConfigured,filenameLowercase:s.filename?s.filename.toLowerCase():void 0,extensionLowercase:s.extension?s.extension.toLowerCase():void 0,filepatternLowercase:s.filepattern?(0,y.parse)(s.filepattern.toLowerCase()):void 0,filepatternOnPath:s.filepattern?s.filepattern.indexOf(T.posix.sep)>=0:!1}}function r(s){s?(p=p.filter(o=>!o.userConfigured),g=[]):(p=[],h=[],g=[])}e.clearTextMimes=r;function c(s,o){let n;if(s)switch(s.scheme){case N.Schemas.file:n=s.fsPath;break;case N.Schemas.data:n=I.DataUri.parseMetaData(s).get(I.DataUri.META_DATA_LABEL);break;default:n=s.path}if(!n)return[C.unknown];n=n.toLowerCase();const d=(0,T.basename)(n),u=l(n,d,g);if(u)return[u,C.text];const f=l(n,d,h);if(f)return[f,C.text];if(o){const S=a(o);if(S)return[S,C.text]}return[C.unknown]}e.guessMimeTypes=c;function l(s,o,n){var d;let u=null,f=null,S=null;for(let v=n.length-1;v>=0;v--){const m=n[v];if(o===m.filenameLowercase){u=m;break}if(m.filepattern&&(!f||m.filepattern.length>f.filepattern.length)){const _=m.filepatternOnPath?s:o;((d=m.filepatternLowercase)===null||d===void 0?void 0:d.call(m,_))&&(f=m)}m.extension&&(!S||m.extension.length>S.extension.length)&&o.endsWith(m.extensionLowercase)&&(S=m)}return u?u.mime:f?f.mime:S?S.mime:null}function a(s){if((0,b.startsWithUTF8BOM)(s)&&(s=s.substr(1)),s.length>0)for(let o=p.length-1;o>=0;o--){const n=p[o];if(!n.firstline)continue;const d=s.match(n.firstline);if(d&&d.length>0)return n.mime}return null}}),define(ee[171],te([0,1,109]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DragAndDropData=e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:y.Mimes.text,TERMINALS:"Terminals"};class N{constructor(I){this.data=I}update(){}getData(){return this.data}}e.DragAndDropData=N,e.StaticDND={CurrentDragAndDropData:void 0}}),define(ee[316],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0;const y=new Uint8Array(16),N=[];for(let b=0;b<256;b++)N.push(b.toString(16).padStart(2,"0"));let T;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?T=crypto.getRandomValues.bind(crypto):T=function(b){for(let C=0;C<b.length;C++)b[C]=Math.floor(Math.random()*256);return b};function I(){T(y),y[6]=y[6]&15|64,y[8]=y[8]&63|128;let b=0,C="";return C+=N[y[b++]],C+=N[y[b++]],C+=N[y[b++]],C+=N[y[b++]],C+="-",C+=N[y[b++]],C+=N[y[b++]],C+="-",C+=N[y[b++]],C+=N[y[b++]],C+="-",C+=N[y[b++]],C+=N[y[b++]],C+="-",C+=N[y[b++]],C+=N[y[b++]],C+=N[y[b++]],C+=N[y[b++]],C+=N[y[b++]],C+=N[y[b++]],C}e.generateUuid=I}),define(ee[212],te([0,1,13,4,2,17,20,8]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const p="$initialize";let h=!1;function g(S){!I.isWeb||(h||(h=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(S.message))}e.logOnceWebWorkerWarning=g;class i{constructor(v,m,_,L){this.vsWorker=v,this.req=m,this.method=_,this.args=L,this.type=0}}class t{constructor(v,m,_,L){this.vsWorker=v,this.seq=m,this.res=_,this.err=L,this.type=1}}class r{constructor(v,m,_,L){this.vsWorker=v,this.req=m,this.eventName=_,this.arg=L,this.type=2}}class c{constructor(v,m,_){this.vsWorker=v,this.req=m,this.event=_,this.type=3}}class l{constructor(v,m){this.vsWorker=v,this.req=m,this.type=4}}class a{constructor(v){this._workerId=-1,this._handler=v,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(v){this._workerId=v}sendMessage(v,m){const _=String(++this._lastSentReq);return new Promise((L,w)=>{this._pendingReplies[_]={resolve:L,reject:w},this._send(new i(this._workerId,_,v,m))})}listen(v,m){let _=null;const L=new N.Emitter({onFirstListenerAdd:()=>{_=String(++this._lastSentReq),this._pendingEmitters.set(_,L),this._send(new r(this._workerId,_,v,m))},onLastListenerRemove:()=>{this._pendingEmitters.delete(_),this._send(new l(this._workerId,_)),_=null}});return L.event}handleMessage(v){!v||!v.vsWorker||this._workerId!==-1&&v.vsWorker!==this._workerId||this._handleMessage(v)}_handleMessage(v){switch(v.type){case 1:return this._handleReplyMessage(v);case 0:return this._handleRequestMessage(v);case 2:return this._handleSubscribeEventMessage(v);case 3:return this._handleEventMessage(v);case 4:return this._handleUnsubscribeEventMessage(v)}}_handleReplyMessage(v){if(!this._pendingReplies[v.seq]){console.warn("Got reply to unknown seq");return}let m=this._pendingReplies[v.seq];if(delete this._pendingReplies[v.seq],v.err){let _=v.err;v.err.$isError&&(_=new Error,_.name=v.err.name,_.message=v.err.message,_.stack=v.err.stack),m.reject(_);return}m.resolve(v.res)}_handleRequestMessage(v){let m=v.req;this._handler.handleMessage(v.method,v.args).then(L=>{this._send(new t(this._workerId,m,L,void 0))},L=>{L.detail instanceof Error&&(L.detail=(0,y.transformErrorForSerialization)(L.detail)),this._send(new t(this._workerId,m,void 0,(0,y.transformErrorForSerialization)(L)))})}_handleSubscribeEventMessage(v){const m=v.req,_=this._handler.handleEvent(v.eventName,v.arg)(L=>{this._send(new c(this._workerId,m,L))});this._pendingEvents.set(m,_)}_handleEventMessage(v){if(!this._pendingEmitters.has(v.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(v.req).fire(v.event)}_handleUnsubscribeEventMessage(v){if(!this._pendingEvents.has(v.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(v.req).dispose(),this._pendingEvents.delete(v.req)}_send(v){let m=[];if(v.type===0)for(let _=0;_<v.args.length;_++)v.args[_]instanceof ArrayBuffer&&m.push(v.args[_]);else v.type===1&&v.res instanceof ArrayBuffer&&m.push(v.res);this._handler.sendMessage(v,m)}}class s extends T.Disposable{constructor(v,m,_){super();let L=null;this._worker=this._register(v.create("vs/base/common/worker/simpleWorker",O=>{this._protocol.handleMessage(O)},O=>{L&&L(O)})),this._protocol=new a({sendMessage:(O,F)=>{this._worker.postMessage(O,F)},handleMessage:(O,F)=>{if(typeof _[O]!="function")return Promise.reject(new Error("Missing method "+O+" on main thread host."));try{return Promise.resolve(_[O].apply(_,F))}catch(R){return Promise.reject(R)}},handleEvent:(O,F)=>{if(n(O)){const R=_[O].call(_,F);if(typeof R!="function")throw new Error(`Missing dynamic event ${O} on main thread host.`);return R}if(o(O)){const R=_[O];if(typeof R!="function")throw new Error(`Missing event ${O} on main thread host.`);return R}throw new Error(`Malformed event name ${O}`)}}),this._protocol.setWorkerId(this._worker.getId());let w=null;typeof I.globals.require!="undefined"&&typeof I.globals.require.getConfig=="function"?w=I.globals.require.getConfig():typeof I.globals.requirejs!="undefined"&&(w=I.globals.requirejs.s.contexts._.config);const k=b.getAllMethodNames(_);this._onModuleLoaded=this._protocol.sendMessage(p,[this._worker.getId(),JSON.parse(JSON.stringify(w)),m,k]);const D=(O,F)=>this._request(O,F),M=(O,F)=>this._protocol.listen(O,F);this._lazyProxy=new Promise((O,F)=>{L=F,this._onModuleLoaded.then(R=>{O(d(R,D,M))},R=>{F(R),this._onError("Worker failed to load "+m,R)})})}getProxyObject(){return this._lazyProxy}_request(v,m){return new Promise((_,L)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(v,m).then(_,L)},L)})}_onError(v,m){console.error(v),console.info(m)}}e.SimpleWorkerClient=s;function o(S){return S[0]==="o"&&S[1]==="n"&&C.isUpperAsciiLetter(S.charCodeAt(2))}function n(S){return/^onDynamic/.test(S)&&C.isUpperAsciiLetter(S.charCodeAt(9))}function d(S,v,m){const _=k=>function(){const D=Array.prototype.slice.call(arguments,0);return v(k,D)},L=k=>function(D){return m(k,D)};let w={};for(const k of S){if(n(k)){w[k]=L(k);continue}if(o(k)){w[k]=m(k,void 0);continue}w[k]=_(k)}return w}class u{constructor(v,m){this._requestHandlerFactory=m,this._requestHandler=null,this._protocol=new a({sendMessage:(_,L)=>{v(_,L)},handleMessage:(_,L)=>this._handleMessage(_,L),handleEvent:(_,L)=>this._handleEvent(_,L)})}onmessage(v){this._protocol.handleMessage(v)}_handleMessage(v,m){if(v===p)return this.initialize(m[0],m[1],m[2],m[3]);if(!this._requestHandler||typeof this._requestHandler[v]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+v));try{return Promise.resolve(this._requestHandler[v].apply(this._requestHandler,m))}catch(_){return Promise.reject(_)}}_handleEvent(v,m){if(!this._requestHandler)throw new Error("Missing requestHandler");if(n(v)){const _=this._requestHandler[v].call(this._requestHandler,m);if(typeof _!="function")throw new Error(`Missing dynamic event ${v} on request handler.`);return _}if(o(v)){const _=this._requestHandler[v];if(typeof _!="function")throw new Error(`Missing event ${v} on request handler.`);return _}throw new Error(`Malformed event name ${v}`)}initialize(v,m,_,L){this._protocol.setWorkerId(v);const D=d(L,(M,O)=>this._protocol.sendMessage(M,O),(M,O)=>this._protocol.listen(M,O));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(D),Promise.resolve(b.getAllMethodNames(this._requestHandler))):(m&&(typeof m.baseUrl!="undefined"&&delete m.baseUrl,typeof m.paths!="undefined"&&typeof m.paths.vs!="undefined"&&delete m.paths.vs,typeof m.trustedTypesPolicy!==void 0&&delete m.trustedTypesPolicy,m.catchError=!0,I.globals.require.config(m)),new Promise((M,O)=>{(I.globals.require||q)([_],R=>{if(this._requestHandler=R.create(D),!this._requestHandler){O(new Error("No RequestHandler!"));return}M(b.getAllMethodNames(this._requestHandler))},O)}))}}e.SimpleWorkerServer=u;function f(S){return new u(S,null)}e.create=f}),define(ee[213],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var y;(function(T){T[T.Blur=1]="Blur",T[T.Gesture=2]="Gesture",T[T.Other=3]="Other"})(y=e.QuickInputHideReason||(e.QuickInputHideReason={}));var N;(function(T){T[T.NONE=0]="NONE",T[T.FIRST=1]="FIRST",T[T.SECOND=2]="SECOND",T[T.LAST=3]="LAST"})(N=e.ItemActivation||(e.ItemActivation={}))}),define(ee[317],te([0,1,10,4,2,20]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=void 0;var b;(function(h){h[h.None=0]="None",h[h.Initialized=1]="Initialized",h[h.Closed=2]="Closed"})(b||(b={}));class C extends T.Disposable{constructor(g,i=Object.create(null)){super();this.database=g,this.options=i,this._onDidChangeStorage=this._register(new N.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=b.None,this.cache=new Map,this.flushDelayer=new y.ThrottledDelayer(C.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(g=>this.onDidChangeItemsExternal(g)))}onDidChangeItemsExternal(g){var i,t;(i=g.changed)===null||i===void 0||i.forEach((r,c)=>this.accept(c,r)),(t=g.deleted)===null||t===void 0||t.forEach(r=>this.accept(r,void 0))}accept(g,i){if(this.state===b.Closed)return;let t=!1;(0,I.isUndefinedOrNull)(i)?t=this.cache.delete(g):this.cache.get(g)!==i&&(this.cache.set(g,i),t=!0),t&&this._onDidChangeStorage.fire(g)}get(g,i){const t=this.cache.get(g);return(0,I.isUndefinedOrNull)(t)?i:t}getBoolean(g,i){const t=this.get(g);return(0,I.isUndefinedOrNull)(t)?i:t==="true"}getNumber(g,i){const t=this.get(g);return(0,I.isUndefinedOrNull)(t)?i:parseInt(t,10)}set(g,i){return Ae(this,void 0,void 0,function*(){if(this.state===b.Closed)return;if((0,I.isUndefinedOrNull)(i))return this.delete(g);const t=String(i);if(this.cache.get(g)!==t)return this.cache.set(g,t),this.pendingInserts.set(g,t),this.pendingDeletes.delete(g),this._onDidChangeStorage.fire(g),this.doFlush()})}delete(g){return Ae(this,void 0,void 0,function*(){if(!(this.state===b.Closed||!this.cache.delete(g)))return this.pendingDeletes.has(g)||this.pendingDeletes.add(g),this.pendingInserts.delete(g),this._onDidChangeStorage.fire(g),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Ae(this,void 0,void 0,function*(){if(!this.hasPending)return;const g={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(g).finally(()=>{var i;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(i=this.whenFlushedCallbacks.pop())===null||i===void 0||i()})})}doFlush(g){return Ae(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),g)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=C,C.DEFAULT_FLUSH_DELAY=100;class p{constructor(){this.onDidChangeItemsExternal=N.Event.None,this.items=new Map}updateItems(g){return Ae(this,void 0,void 0,function*(){g.insert&&g.insert.forEach((i,t)=>this.items.set(t,i)),g.delete&&g.delete.forEach(i=>this.items.delete(i))})}}e.InMemoryStorageDatabase=p}),define(ee[318],te([0,1,17,212]),function(q,e,y,N){"use strict";var T;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const I=(T=window.trustedTypes)===null||T===void 0?void 0:T.createPolicy("defaultWorkerFactory",{createScriptURL:i=>i});function b(i,t){if(y.globals.MonacoEnvironment){if(typeof y.globals.MonacoEnvironment.getWorker=="function")return y.globals.MonacoEnvironment.getWorker(i,t);if(typeof y.globals.MonacoEnvironment.getWorkerUrl=="function"){const r=y.globals.MonacoEnvironment.getWorkerUrl(i,t);return new Worker(I?I.createScriptURL(r):r,{name:t})}}if(typeof q=="function"){const r=q.toUrl("./"+i),c=C(r,t);return new Worker(I?I.createScriptURL(c):c,{name:t})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function C(i,t){if(/^((http:)|(https:)|(file:))/.test(i)&&i.substring(0,self.origin.length)!==self.origin){const r="vs/base/worker/defaultWorkerFactory.js",c=q.toUrl(r).slice(0,-r.length),l=`/*${t}*/self.MonacoEnvironment={baseUrl: '${c}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${i}') ?? '${i}');/*${t}*/`,a=new Blob([l],{type:"application/javascript"});return URL.createObjectURL(a)}return i+"#"+t}e.getWorkerBootstrapUrl=C;function p(i){return typeof i.then=="function"}class h{constructor(t,r,c,l,a){this.id=r;const s=b("workerMain.js",c);p(s)?this.worker=s:this.worker=Promise.resolve(s),this.postMessage(t,[]),this.worker.then(o=>{o.onmessage=function(n){l(n.data)},o.onmessageerror=a,typeof o.addEventListener=="function"&&o.addEventListener("error",a)})}getId(){return this.id}postMessage(t,r){this.worker&&this.worker.then(c=>c.postMessage(t,r))}dispose(){this.worker&&this.worker.then(t=>t.terminate()),this.worker=null}}class g{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,r,c){let l=++g.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new h(t,l,this._label||"anonymous"+l,r,a=>{(0,N.logOnceWebWorkerWarning)(a),this._webWorkerFailedBeforeError=a,c(a)})}}e.DefaultWorkerFactory=g,g.LAST_WORKER_ID=0}),define(ee[214],te([11]),{}),define(ee[319],te([11]),{}),define(ee[44],te([0,1,7,17,319]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const T=2e4;let I,b,C,p,h;function g(c){I=document.createElement("div"),I.className="monaco-aria-container";const l=()=>{const s=document.createElement("div");return s.className="monaco-alert",s.setAttribute("role","alert"),s.setAttribute("aria-atomic","true"),I.appendChild(s),s};b=l(),C=l();const a=()=>{const s=document.createElement("div");return s.className="monaco-status",s.setAttribute("role","complementary"),s.setAttribute("aria-live","polite"),s.setAttribute("aria-atomic","true"),I.appendChild(s),s};p=a(),h=a(),c.appendChild(I)}e.setARIAContainer=g;function i(c){!I||(b.textContent!==c?(y.clearNode(C),r(b,c)):(y.clearNode(b),r(C,c)))}e.alert=i;function t(c){!I||(N.isMacintosh?i(c):p.textContent!==c?(y.clearNode(h),r(p,c)):(y.clearNode(p),r(h,c)))}e.status=t;function r(c,l){y.clearNode(c),l.length>T&&(l=l.substr(0,T)),c.textContent=l,c.style.visibility="hidden",c.style.visibility="visible"}}),define(ee[320],te([11]),{}),define(ee[321],te([0,1,7,46,58,108,29,4,2,37,320]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const g={buttonBackground:b.Color.fromHex("#0E639C"),buttonHoverBackground:b.Color.fromHex("#006BB3"),buttonForeground:b.Color.white};class i extends p.Disposable{constructor(r,c){super();this._onDidClick=this._register(new C.Emitter),this.options=c||Object.create(null),(0,h.mixin)(this.options,g,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),r.appendChild(this._element),this._register(T.Gesture.addTarget(this._element)),[y.EventType.CLICK,T.EventType.Tap].forEach(l=>{this._register((0,y.addDisposableListener)(this._element,l,a=>{if(!this.enabled){y.EventHelper.stop(a);return}this._onDidClick.fire(a)}))}),this._register((0,y.addDisposableListener)(this._element,y.EventType.KEY_DOWN,l=>{const a=new N.StandardKeyboardEvent(l);let s=!1;this.enabled&&(a.equals(3)||a.equals(10))?(this._onDidClick.fire(l),s=!0):a.equals(9)&&(this._element.blur(),s=!0),s&&y.EventHelper.stop(a,!0)})),this._register((0,y.addDisposableListener)(this._element,y.EventType.MOUSE_OVER,l=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,y.addDisposableListener)(this._element,y.EventType.MOUSE_OUT,l=>{this.applyStyles()})),this.focusTracker=this._register((0,y.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let r;this.options.secondary?r=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:r=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,r&&(this._element.style.backgroundColor=r)}style(r){this.buttonForeground=r.buttonForeground,this.buttonBackground=r.buttonBackground,this.buttonHoverBackground=r.buttonHoverBackground,this.buttonSecondaryForeground=r.buttonSecondaryForeground,this.buttonSecondaryBackground=r.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=r.buttonSecondaryHoverBackground,this.buttonBorder=r.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let r,c;this.options.secondary?(c=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",r=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(c=this.buttonForeground?this.buttonForeground.toString():"",r=this.buttonBackground?this.buttonBackground.toString():"");const l=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=c,this._element.style.backgroundColor=r,this._element.style.borderWidth=l?"1px":"",this._element.style.borderStyle=l?"solid":"",this._element.style.borderColor=l}}get element(){return this._element}set label(r){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,y.reset)(this._element,...(0,I.renderLabelWithIcons)(r)):this._element.textContent=r,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=r)}set enabled(r){r?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=i}),define(ee[322],te([11]),{}),define(ee[172],te([0,1,54,27,29,4,322]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Checkbox=void 0;const b={inputActiveOptionBorder:T.Color.fromHex("#007ACC00"),inputActiveOptionForeground:T.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:T.Color.fromHex("#0E639C50")};class C extends y.Widget{constructor(h){super();this._onChange=this._register(new I.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new I.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},b),h),this._checked=this._opts.isChecked;const g=["monaco-custom-checkbox"];this._opts.icon&&g.push(...N.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&g.push(...this._opts.actionClassName.split(" ")),this._checked&&g.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...g),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(h){this._checked=h,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(h){h.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=h.inputActiveOptionBorder),h.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=h.inputActiveOptionForeground),h.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=h.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Checkbox=C}),define(ee[323],te([11]),{}),define(ee[324],te([11]),{}),define(ee[137],te([0,1,27,323,324]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function N(T){let I=T.definition;for(;I instanceof y.Codicon;)I=I.definition;return`.codicon-${T.id}:before { content: '${I.fontCharacter}'; }`}e.formatRule=N}),define(ee[325],te([11]),{}),define(ee[215],te([0,1,164,7,2,17,133,325]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var C;(function(i){i[i.AVOID=0]="AVOID",i[i.ALIGN=1]="ALIGN"})(C=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function p(i,t,r){const c=r.mode===C.ALIGN?r.offset:r.offset+r.size,l=r.mode===C.ALIGN?r.offset+r.size:r.offset;return r.position===0?t<=i-c?c:t<=l?l-t:Math.max(i-t,0):t<=l?l-t:t<=i-c?c:0}e.layout=p;class h extends T.Disposable{constructor(t,r){super();this.container=null,this.delegate=null,this.toDisposeOnClean=T.Disposable.None,this.toDisposeOnSetContainer=T.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=N.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,N.hide(this.view),this.setContainer(t,r),this._register((0,T.toDisposable)(()=>this.setContainer(null,1)))}setContainer(t,r){var c;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(c=this.shadowRootHostElement)===null||c===void 0||c.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),t){if(this.container=t,this.useFixedPosition=r!==1,this.useShadowDOM=r===3,this.useShadowDOM){this.shadowRootHostElement=N.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const a=document.createElement("style");a.textContent=g,this.shadowRoot.appendChild(a),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(N.$("slot"))}else this.container.appendChild(this.view);const l=new T.DisposableStore;h.BUBBLE_UP_EVENTS.forEach(a=>{l.add(N.addStandardDisposableListener(this.container,a,s=>{this.onDOMEvent(s,!1)}))}),h.BUBBLE_DOWN_EVENTS.forEach(a=>{l.add(N.addStandardDisposableListener(this.container,a,s=>{this.onDOMEvent(s,!0)},!0))}),this.toDisposeOnSetContainer=l}}show(t){this.isVisible()&&this.hide(),N.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",N.show(this.view),this.toDisposeOnClean=t.render(this.view)||T.Disposable.None,this.delegate=t,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(I.isIOS&&y.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let t=this.delegate.getAnchor(),r;if(N.isHTMLElement(t)){let f=N.getDomNodePagePosition(t);r={top:f.top,left:f.left,width:f.width,height:f.height}}else r={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const c=N.getTotalWidth(this.view),l=N.getTotalHeight(this.view),a=this.delegate.anchorPosition||0,s=this.delegate.anchorAlignment||0,o=this.delegate.anchorAxisAlignment||0;let n,d;if(o===0){const f={offset:r.top-window.pageYOffset,size:r.height,position:a===0?0:1},S={offset:r.left,size:r.width,position:s===0?0:1,mode:C.ALIGN};n=p(window.innerHeight,l,f)+window.pageYOffset,b.Range.intersects({start:n,end:n+l},{start:f.offset,end:f.offset+f.size})&&(S.mode=C.AVOID),d=p(window.innerWidth,c,S)}else{const f={offset:r.left,size:r.width,position:s===0?0:1},S={offset:r.top,size:r.height,position:a===0?0:1,mode:C.ALIGN};d=p(window.innerWidth,c,f),b.Range.intersects({start:d,end:d+c},{start:f.offset,end:f.offset+f.size})&&(S.mode=C.AVOID),n=p(window.innerHeight,l,S)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(a===0?"bottom":"top"),this.view.classList.add(s===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const u=N.getDomNodePagePosition(this.container);this.view.style.top=`${n-(this.useFixedPosition?N.getDomNodePagePosition(this.view).top:u.top)}px`,this.view.style.left=`${d-(this.useFixedPosition?N.getDomNodePagePosition(this.view).left:u.left)}px`,this.view.style.width="initial"}hide(t){const r=this.delegate;this.delegate=null,(r==null?void 0:r.onHide)&&r.onHide(t),this.toDisposeOnClean.dispose(),N.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(t,r){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):r&&!N.isAncestor(t.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=h,h.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],h.BUBBLE_DOWN_EVENTS=["click"];let g=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(ee[326],te([11]),{}),define(ee[216],te([0,1,7,29,37,8,326]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const b={badgeBackground:N.Color.fromHex("#4D4D4D"),badgeForeground:N.Color.fromHex("#FFFFFF")};class C{constructor(h,g){this.count=0,this.options=g||Object.create(null),(0,T.mixin)(this.options,b,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,y.append)(h,(0,y.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(h){this.count=h,this.render()}setTitleFormat(h){this.titleFormat=h,this.render()}render(){this.element.textContent=(0,I.format)(this.countFormat,this.count),this.element.title=(0,I.format)(this.titleFormat,this.count),this.applyStyles()}style(h){this.badgeBackground=h.badgeBackground,this.badgeForeground=h.badgeForeground,this.badgeBorder=h.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const h=this.badgeBackground?this.badgeBackground.toString():"",g=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=h,this.element.style.color=g,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}}e.CountBadge=C}),define(ee[217],te([11]),{}),define(ee[218],te([11]),{}),define(ee[327],te([11]),{}),define(ee[328],te([11]),{}),define(ee[329],te([11]),{}),define(ee[330],te([11]),{}),define(ee[219],te([11]),{}),define(ee[331],te([11]),{}),define(ee[138],te([0,1,331]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(ee[332],te([11]),{}),define(ee[333],te([0,1,7,10,29,2,37,332]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const C="done",p="active",h="infinite",g="discrete",i={progressBarBackground:T.Color.fromHex("#0E70C0")};class t extends I.Disposable{constructor(c,l){super();this.options=l||Object.create(null),(0,b.mixin)(this.options,i,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new N.RunOnceScheduler(()=>(0,y.show)(this.element),0)),this.create(c)}create(c){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),c.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(p,h,g),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(c){return this.element.classList.add(C),this.element.classList.contains(h)?(this.bit.style.opacity="0",c?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",c?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(g,C),this.element.classList.add(p,h),this}getContainer(){return this.element}style(c){this.progressBarBackground=c.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const c=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=c}}}e.ProgressBar=t}),define(ee[334],te([11]),{}),define(ee[110],te([0,1,7,86,58,10,94,4,2,17,334]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;let g=!1;var i;(function(d){d.North="north",d.South="south",d.East="east",d.West="west"})(i=e.OrthogonalEdge||(e.OrthogonalEdge={}));let t=4;const r=new C.Emitter;let c=300;const l=new C.Emitter;class a{constructor(){this.disposables=new p.DisposableStore}get onPointerMove(){return this.disposables.add(new N.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new N.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Be([b.memoize],a.prototype,"onPointerMove",null),Be([b.memoize],a.prototype,"onPointerUp",null);class s{constructor(u){this.el=u,this.disposables=new p.DisposableStore}get onPointerMove(){return this.disposables.add(new N.DomEmitter(this.el,T.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new N.DomEmitter(this.el,T.EventType.End)).event}dispose(){this.disposables.dispose()}}Be([b.memoize],s.prototype,"onPointerMove",null),Be([b.memoize],s.prototype,"onPointerUp",null);class o{constructor(u){this.factory=u}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}Be([b.memoize],o.prototype,"onPointerMove",null),Be([b.memoize],o.prototype,"onPointerUp",null);class n extends p.Disposable{constructor(u,f,S){super();this.hoverDelay=c,this.hoverDelayer=this._register(new I.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new C.Emitter),this._onDidStart=this._register(new C.Emitter),this._onDidChange=this._register(new C.Emitter),this._onDidReset=this._register(new C.Emitter),this._onDidEnd=this._register(new C.Emitter),this.orthogonalStartSashDisposables=this._register(new p.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new p.DisposableStore),this.orthogonalEndSashDisposables=this._register(new p.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new p.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,y.append)(u,(0,y.$)(".monaco-sash")),S.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${S.orthogonalEdge}`),h.isMacintosh&&this.el.classList.add("mac");const v=this._register(new N.DomEmitter(this.el,"mousedown")).event;this._register(v(M=>this.onPointerStart(M,new a),this));const m=this._register(new N.DomEmitter(this.el,"dblclick")).event;this._register(m(this.onPointerDoublePress,this));const _=this._register(new N.DomEmitter(this.el,"mouseenter")).event;this._register(_(()=>n.onMouseEnter(this)));const L=this._register(new N.DomEmitter(this.el,"mouseleave")).event;this._register(L(()=>n.onMouseLeave(this))),this._register(T.Gesture.addTarget(this.el));const w=C.Event.map(this._register(new N.DomEmitter(this.el,T.EventType.Start)).event,M=>{var O;return Object.assign(Object.assign({},M),{target:(O=M.initialTarget)!==null&&O!==void 0?O:null})});this._register(w(M=>this.onPointerStart(M,new s(this.el)),this));const k=this._register(new N.DomEmitter(this.el,T.EventType.Tap)).event,D=C.Event.map(C.Event.filter(C.Event.debounce(k,(M,O)=>{var F;return{event:O,count:((F=M==null?void 0:M.count)!==null&&F!==void 0?F:0)+1}},250),({count:M})=>M===2),({event:M})=>{var O;return Object.assign(Object.assign({},M),{target:(O=M.initialTarget)!==null&&O!==void 0?O:null})});this._register(D(this.onPointerDoublePress,this)),typeof S.size=="number"?(this.size=S.size,S.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=t,this._register(r.event(M=>{this.size=M,this.layout()}))),this._register(l.event(M=>this.hoverDelay=M)),this.layoutProvider=f,this.orthogonalStartSash=S.orthogonalStartSash,this.orthogonalEndSash=S.orthogonalEndSash,this.orientation=S.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",g),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(u){this._state!==u&&(this.el.classList.toggle("disabled",u===0),this.el.classList.toggle("minimum",u===1),this.el.classList.toggle("maximum",u===2),this._state=u,this.onDidEnablementChange.fire(u))}set orthogonalStartSash(u){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),u){const f=S=>{this.orthogonalStartDragHandleDisposables.clear(),S!==0&&(this._orthogonalStartDragHandle=(0,y.append)(this.el,(0,y.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,p.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new N.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>n.onMouseEnter(u),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new N.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>n.onMouseLeave(u),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(u.onDidEnablementChange.event(f,this)),f(u.state)}this._orthogonalStartSash=u}set orthogonalEndSash(u){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),u){const f=S=>{this.orthogonalEndDragHandleDisposables.clear(),S!==0&&(this._orthogonalEndDragHandle=(0,y.append)(this.el,(0,y.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,p.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new N.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>n.onMouseEnter(u),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new N.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>n.onMouseLeave(u),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(u.onDidEnablementChange.event(f,this)),f(u.state)}this._orthogonalEndSash=u}onPointerStart(u,f){y.EventHelper.stop(u);let S=!1;if(!u.__orthogonalSashEvent){const R=this.getOrthogonalSash(u);R&&(S=!0,u.__orthogonalSashEvent=!0,R.onPointerStart(u,new o(f)))}if(this.linkedSash&&!u.__linkedSashEvent&&(u.__linkedSashEvent=!0,this.linkedSash.onPointerStart(u,new o(f))),!this.state)return;const v=(0,y.getElementsByTagName)("iframe");for(const R of v)R.style.pointerEvents="none";const m=u.pageX,_=u.pageY,L=u.altKey,w={startX:m,currentX:m,startY:_,currentY:_,altKey:L};this.el.classList.add("active"),this._onDidStart.fire(w);const k=(0,y.createStyleSheet)(this.el),D=()=>{let R="";S?R="all-scroll":this.orientation===1?this.state===1?R="s-resize":this.state===2?R="n-resize":R=h.isMacintosh?"row-resize":"ns-resize":this.state===1?R="e-resize":this.state===2?R="w-resize":R=h.isMacintosh?"col-resize":"ew-resize",k.textContent=`* { cursor: ${R} !important; }`},M=new p.DisposableStore;D(),S||this.onDidEnablementChange.event(D,null,M);const O=R=>{y.EventHelper.stop(R,!1);const A={startX:m,currentX:R.pageX,startY:_,currentY:R.pageY,altKey:L};this._onDidChange.fire(A)},F=R=>{y.EventHelper.stop(R,!1),this.el.removeChild(k),this.el.classList.remove("active"),this._onDidEnd.fire(),M.dispose();for(const A of v)A.style.pointerEvents="auto"};f.onPointerMove(O,null,M),f.onPointerUp(F,null,M),M.add(f)}onPointerDoublePress(u){const f=this.getOrthogonalSash(u);f&&f._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(u,f=!1){u.el.classList.contains("active")?(u.hoverDelayer.cancel(),u.el.classList.add("hover")):u.hoverDelayer.trigger(()=>u.el.classList.add("hover"),u.hoverDelay).then(void 0,()=>{}),!f&&u.linkedSash&&n.onMouseEnter(u.linkedSash,!0)}static onMouseLeave(u,f=!1){u.hoverDelayer.cancel(),u.el.classList.remove("hover"),!f&&u.linkedSash&&n.onMouseLeave(u.linkedSash,!0)}clearSashHoverState(){n.onMouseLeave(this)}layout(){if(this.orientation===0){const u=this.layoutProvider;this.el.style.left=u.getVerticalSashLeft(this)-this.size/2+"px",u.getVerticalSashTop&&(this.el.style.top=u.getVerticalSashTop(this)+"px"),u.getVerticalSashHeight&&(this.el.style.height=u.getVerticalSashHeight(this)+"px")}else{const u=this.layoutProvider;this.el.style.top=u.getHorizontalSashTop(this)-this.size/2+"px",u.getHorizontalSashLeft&&(this.el.style.left=u.getHorizontalSashLeft(this)+"px"),u.getHorizontalSashWidth&&(this.el.style.width=u.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(u){if(!(!u.target||!(u.target instanceof HTMLElement))&&u.target.classList.contains("orthogonal-drag-handle"))return u.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=n}),define(ee[335],te([11]),{}),define(ee[63],te([0,1,34,7,32,57,313,314,54,10,4,2,17,134,335]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const c=500,l=50,a=!0;class s{constructor(m,_,L){this.timestamp=m,this.deltaX=_,this.deltaY=L,this.score=0}}class o{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let m=1,_=0,L=1,w=this._rear;do{const k=w===this._front?m:Math.pow(2,-L);if(m-=k,_+=this._memory[w].score*k,w===this._front)break;w=(this._capacity+w-1)%this._capacity,L++}while(!0);return _<=.5}accept(m,_,L){const w=new s(m,_,L);w.score=this._computeScore(w),this._front===-1&&this._rear===-1?(this._memory[0]=w,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=w)}_computeScore(m){if(Math.abs(m.deltaX)>0&&Math.abs(m.deltaY)>0)return 1;let _=.5;const L=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(m.deltaX)||!this._isAlmostInt(m.deltaY))&&(_+=.25),Math.min(Math.max(_,0),1)}_isAlmostInt(m){return Math.abs(Math.round(m)-m)<.01}}e.MouseWheelClassifier=o,o.INSTANCE=new o;class n extends p.Widget{constructor(m,_,L){super();this._onScroll=this._register(new g.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new g.Emitter),m.style.overflow="hidden",this._options=S(_),this._scrollable=L,this._register(this._scrollable.onScroll(k=>{this._onWillScroll.fire(k),this._onDidScroll(k),this._onScroll.fire(k)}));const w={onMouseWheel:k=>this._onMouseWheel(k),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new C.VerticalScrollbar(this._scrollable,this._options,w)),this._horizontalScrollbar=this._register(new b.HorizontalScrollbar(this._scrollable,this._options,w)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(m),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,T.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,T.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,T.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,k=>this._onMouseOver(k)),this.onnonbubblingmouseout(this._listenOnDomNode,k=>this._onMouseOut(k)),this._hideTimeout=this._register(new h.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,i.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(m){this._verticalScrollbar.delegateMouseDown(m)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(m){this._scrollable.setScrollDimensions(m,!1)}updateClassName(m){this._options.className=m,t.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(m){typeof m.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=m.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof m.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=m.mouseWheelScrollSensitivity),typeof m.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=m.fastScrollSensitivity),typeof m.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=m.scrollPredominantAxis),typeof m.horizontal!="undefined"&&(this._options.horizontal=m.horizontal),typeof m.vertical!="undefined"&&(this._options.vertical=m.vertical),typeof m.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=m.horizontalScrollbarSize),typeof m.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=m.verticalScrollbarSize),typeof m.scrollByPage!="undefined"&&(this._options.scrollByPage=m.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(m){if(this._mouseWheelToDispose.length>0!==m&&(this._mouseWheelToDispose=(0,i.dispose)(this._mouseWheelToDispose),m)){const L=w=>{this._onMouseWheel(new I.StandardWheelEvent(w))};this._mouseWheelToDispose.push(N.addDisposableListener(this._listenOnDomNode,N.EventType.MOUSE_WHEEL,L,{passive:!1}))}}_onMouseWheel(m){const _=o.INSTANCE;if(a){const k=window.devicePixelRatio/(0,y.getZoomFactor)();t.isWindows||t.isLinux?_.accept(Date.now(),m.deltaX/k,m.deltaY/k):_.accept(Date.now(),m.deltaX,m.deltaY)}let L=!1;if(m.deltaY||m.deltaX){let k=m.deltaY*this._options.mouseWheelScrollSensitivity,D=m.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(k)>=Math.abs(D)?D=0:k=0),this._options.flipAxes&&([k,D]=[D,k]);const M=!t.isMacintosh&&m.browserEvent&&m.browserEvent.shiftKey;(this._options.scrollYToX||M)&&!D&&(D=k,k=0),m.browserEvent&&m.browserEvent.altKey&&(D=D*this._options.fastScrollSensitivity,k=k*this._options.fastScrollSensitivity);const O=this._scrollable.getFutureScrollPosition();let F={};if(k){const R=l*k,A=O.scrollTop-(R<0?Math.floor(R):Math.ceil(R));this._verticalScrollbar.writeScrollPosition(F,A)}if(D){const R=l*D,A=O.scrollLeft-(R<0?Math.floor(R):Math.ceil(R));this._horizontalScrollbar.writeScrollPosition(F,A)}F=this._scrollable.validateScrollPosition(F),(O.scrollLeft!==F.scrollLeft||O.scrollTop!==F.scrollTop)&&(a&&this._options.mouseWheelSmoothScroll&&_.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(F):this._scrollable.setScrollPositionNow(F),L=!0)}let w=L;!w&&this._options.alwaysConsumeMouseWheel&&(w=!0),!w&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(w=!0),w&&(m.preventDefault(),m.stopPropagation())}_onDidScroll(m){this._shouldRender=this._horizontalScrollbar.onDidScroll(m)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(m)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const m=this._scrollable.getCurrentScrollPosition(),_=m.scrollTop>0,L=m.scrollLeft>0,w=L?" left":"",k=_?" top":"",D=L||_?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${w}`),this._topShadowDomNode.setClassName(`shadow${k}`),this._topLeftShadowDomNode.setClassName(`shadow${D}${k}${w}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(m){this._mouseIsOver=!1,this._hide()}_onMouseOver(m){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),c)}}e.AbstractScrollableElement=n;class d extends n{constructor(m,_){_=_||{},_.mouseWheelSmoothScroll=!1;const L=new r.Scrollable(0,w=>N.scheduleAtNextAnimationFrame(w));super(m,_,L);this._register(L)}setScrollPosition(m){this._scrollable.setScrollPositionNow(m)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.ScrollableElement=d;class u extends n{constructor(m,_,L){super(m,_,L)}setScrollPosition(m){m.reuseAnimation?this._scrollable.setScrollPositionSmooth(m,m.reuseAnimation):this._scrollable.setScrollPositionNow(m)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=u;class f extends d{constructor(m,_){super(m,_);this._element=m,this.onScroll(L=>{L.scrollTopChanged&&(this._element.scrollTop=L.scrollTop),L.scrollLeftChanged&&(this._element.scrollLeft=L.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=f;function S(v){const m={lazyRender:typeof v.lazyRender!="undefined"?v.lazyRender:!1,className:typeof v.className!="undefined"?v.className:"",useShadows:typeof v.useShadows!="undefined"?v.useShadows:!0,handleMouseWheel:typeof v.handleMouseWheel!="undefined"?v.handleMouseWheel:!0,flipAxes:typeof v.flipAxes!="undefined"?v.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof v.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?v.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof v.alwaysConsumeMouseWheel!="undefined"?v.alwaysConsumeMouseWheel:!1,scrollYToX:typeof v.scrollYToX!="undefined"?v.scrollYToX:!1,mouseWheelScrollSensitivity:typeof v.mouseWheelScrollSensitivity!="undefined"?v.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof v.fastScrollSensitivity!="undefined"?v.fastScrollSensitivity:5,scrollPredominantAxis:typeof v.scrollPredominantAxis!="undefined"?v.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof v.mouseWheelSmoothScroll!="undefined"?v.mouseWheelSmoothScroll:!0,arrowSize:typeof v.arrowSize!="undefined"?v.arrowSize:11,listenOnDomNode:typeof v.listenOnDomNode!="undefined"?v.listenOnDomNode:null,horizontal:typeof v.horizontal!="undefined"?v.horizontal:1,horizontalScrollbarSize:typeof v.horizontalScrollbarSize!="undefined"?v.horizontalScrollbarSize:10,horizontalSliderSize:typeof v.horizontalSliderSize!="undefined"?v.horizontalSliderSize:0,horizontalHasArrows:typeof v.horizontalHasArrows!="undefined"?v.horizontalHasArrows:!1,vertical:typeof v.vertical!="undefined"?v.vertical:1,verticalScrollbarSize:typeof v.verticalScrollbarSize!="undefined"?v.verticalScrollbarSize:10,verticalHasArrows:typeof v.verticalHasArrows!="undefined"?v.verticalHasArrows:!1,verticalSliderSize:typeof v.verticalSliderSize!="undefined"?v.verticalSliderSize:0,scrollByPage:typeof v.scrollByPage!="undefined"?v.scrollByPage:!1};return m.horizontalSliderSize=typeof v.horizontalSliderSize!="undefined"?v.horizontalSliderSize:m.horizontalScrollbarSize,m.verticalSliderSize=typeof v.verticalSliderSize!="undefined"?v.verticalSliderSize:m.verticalScrollbarSize,t.isMacintosh&&(m.className+=" mac"),m}}),define(ee[220],te([0,1,7,63,2,327]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const I=y.$;class b extends T.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new N.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}e.HoverWidget=b;class C extends T.Disposable{constructor(h,g,i){super();this.actionContainer=y.append(h,I("div.action-container")),this.action=y.append(this.actionContainer,I("a.action")),this.action.setAttribute("role","button"),g.iconClass&&y.append(this.action,I(`span.icon.${g.iconClass}`));const t=y.append(this.action,I("span"));t.textContent=i?`${g.label} (${i})`:g.label,this._register(y.addDisposableListener(this.actionContainer,y.EventType.MOUSE_DOWN,r=>{r.stopPropagation(),r.preventDefault(),g.run(this.actionContainer)})),this.setEnabled(!0)}static render(h,g,i){return new C(h,g,i)}setEnabled(h){h?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=C}),define(ee[173],te([0,1,34,171,7,86,58,63,19,10,94,4,2,37,133,134,306,312]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const o={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(m){return[m]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class n{constructor(_){this.elements=_}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=n;class d{constructor(_){this.elements=_}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=d;class u{constructor(){this.types=[],this.files=[]}update(_){if(_.types&&this.types.splice(0,this.types.length,..._.types),_.files){this.files.splice(0,this.files.length);for(let L=0;L<_.files.length;L++){const w=_.files.item(L);w&&(w.size||w.type)&&this.files.push(w)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=u;function f(m,_){return Array.isArray(m)&&Array.isArray(_)?(0,p.equals)(m,_):m===_}class S{constructor(_){(_==null?void 0:_.getSetSize)?this.getSetSize=_.getSetSize.bind(_):this.getSetSize=(L,w,k)=>k,(_==null?void 0:_.getPosInSet)?this.getPosInSet=_.getPosInSet.bind(_):this.getPosInSet=(L,w)=>w+1,(_==null?void 0:_.getRole)?this.getRole=_.getRole.bind(_):this.getRole=L=>"listitem",(_==null?void 0:_.isChecked)?this.isChecked=_.isChecked.bind(_):this.isChecked=L=>{}}}class v{constructor(_,L,w,k=o){if(this.virtualDelegate=L,this.domId=`list_id_${++v.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new h.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=t.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=t.Disposable.None,this.onDragLeaveTimeout=t.Disposable.None,this.disposables=new t.DisposableStore,this._onDidChangeContentHeight=new i.Emitter,this._horizontalScrolling=!1,k.horizontalScrolling&&k.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new a.RangeMap;for(const M of w)this.renderers.set(M.templateId,M);this.cache=this.disposables.add(new s.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof k.mouseSupport=="boolean"?k.mouseSupport:!0),this._horizontalScrolling=(0,r.getOrDefault)(k,M=>M.horizontalScrolling,o.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof k.additionalScrollHeight=="undefined"?0:k.additionalScrollHeight,this.accessibilityProvider=new S(k.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,r.getOrDefault)(k,M=>M.transformOptimization,o.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(b.Gesture.addTarget(this.rowsContainer)),this.scrollable=new l.Scrollable((0,r.getOrDefault)(k,M=>M.smoothScrolling,!1)?125:0,M=>(0,T.scheduleAtNextAnimationFrame)(M)),this.scrollableElement=this.disposables.add(new C.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(0,r.getOrDefault)(k,M=>M.alwaysConsumeMouseWheel,o.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,r.getOrDefault)(k,M=>M.verticalScrollMode,o.verticalScrollMode),useShadows:(0,r.getOrDefault)(k,M=>M.useShadows,o.useShadows),mouseWheelScrollSensitivity:k.mouseWheelScrollSensitivity,fastScrollSensitivity:k.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),_.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,T.addDisposableListener)(this.rowsContainer,b.EventType.Change,M=>this.onTouchChange(M))),this.disposables.add((0,T.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",M=>M.target.scrollTop=0)),this.disposables.add((0,T.addDisposableListener)(this.domNode,"dragover",M=>this.onDragOver(this.toDragEvent(M)))),this.disposables.add((0,T.addDisposableListener)(this.domNode,"drop",M=>this.onDrop(this.toDragEvent(M)))),this.disposables.add((0,T.addDisposableListener)(this.domNode,"dragleave",M=>this.onDragLeave(this.toDragEvent(M)))),this.disposables.add((0,T.addDisposableListener)(this.domNode,"dragend",M=>this.onDragEnd(M))),this.setRowLineHeight=(0,r.getOrDefault)(k,M=>M.setRowLineHeight,o.setRowLineHeight),this.setRowHeight=(0,r.getOrDefault)(k,M=>M.setRowHeight,o.setRowHeight),this.supportDynamicHeights=(0,r.getOrDefault)(k,M=>M.supportDynamicHeights,o.supportDynamicHeights),this.dnd=(0,r.getOrDefault)(k,M=>M.dnd,o.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(_){if(_!==this._horizontalScrolling){if(_&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=_,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const L of this.items)this.measureItemWidth(L);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,T.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(_){_.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=_.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),_.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(_.smoothScrolling?125:0),_.horizontalScrolling!==void 0&&(this.horizontalScrolling=_.horizontalScrolling),_.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:_.mouseWheelScrollSensitivity}),_.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:_.fastScrollSensitivity})}splice(_,L,w=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(_,L,w)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(_,L,w=[]){const k=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),D={start:_,end:_+L},M=c.Range.intersect(k,D),O=new Map;for(let G=M.start;G<M.end;G++){const W=this.items[G];if(W.dragStartDisposable.dispose(),W.row){let z=O.get(W.templateId);z||(z=[],O.set(W.templateId,z));const U=this.renderers.get(W.templateId);U&&U.disposeElement&&U.disposeElement(W.element,G,W.row.templateData,W.size),z.push(W.row)}W.row=null}const F={start:_+L,end:this.items.length},R=c.Range.intersect(F,k),A=c.Range.relativeComplement(F,k),P=w.map(G=>({id:String(this.itemId++),element:G,templateId:this.virtualDelegate.getTemplateId(G),size:this.virtualDelegate.getHeight(G),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(G),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:t.Disposable.None}));let E;_===0&&L>=this.items.length?(this.rangeMap=new a.RangeMap,this.rangeMap.splice(0,0,P),E=this.items,this.items=P):(this.rangeMap.splice(_,L,P),E=this.items.splice(_,L,...P));const B=w.length-L,V=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),j=(0,a.shift)(R,B),K=c.Range.intersect(V,j);for(let G=K.start;G<K.end;G++)this.updateItemInDOM(this.items[G],G);const Y=c.Range.relativeComplement(j,V);for(const G of Y)for(let W=G.start;W<G.end;W++)this.removeItemFromDOM(W);const J=A.map(G=>(0,a.shift)(G,B)),ie=[{start:_,end:_+w.length},...J].map(G=>c.Range.intersect(V,G)),ne=this.getNextToLastElement(ie);for(const G of ie)for(let W=G.start;W<G.end;W++){const z=this.items[W],U=O.get(z.templateId),x=U==null?void 0:U.pop();this.insertItemInDOM(W,ne,x)}for(const G of O.values())for(const W of G)this.cache.release(W);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),E.map(G=>G.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,T.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let _=0;for(const L of this.items)typeof L.width!="undefined"&&(_=Math.max(_,L.width));this.scrollWidth=_,this.scrollableElement.setScrollDimensions({scrollWidth:_===0?0:_+10})}rerender(){if(!!this.supportDynamicHeights){for(const _ of this.items)_.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(_){return this.items[_].element}domElement(_){const L=this.items[_].row;return L&&L.domNode}elementHeight(_){return this.items[_].size}elementTop(_){return this.rangeMap.positionAt(_)}indexAt(_){return this.rangeMap.indexAt(_)}indexAfter(_){return this.rangeMap.indexAfter(_)}layout(_,L){let w={height:typeof _=="number"?_:(0,T.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,w.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(w),typeof L!="undefined"&&(this.renderWidth=L,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof L=="number"?L:(0,T.getContentWidth)(this.domNode)})}render(_,L,w,k,D,M=!1){const O=this.getRenderRange(L,w),F=c.Range.relativeComplement(O,_),R=c.Range.relativeComplement(_,O),A=this.getNextToLastElement(F);if(M){const P=c.Range.intersect(_,O);for(let E=P.start;E<P.end;E++)this.updateItemInDOM(this.items[E],E)}for(const P of F)for(let E=P.start;E<P.end;E++)this.insertItemInDOM(E,A);for(const P of R)for(let E=P.start;E<P.end;E++)this.removeItemFromDOM(E);k!==void 0&&(this.rowsContainer.style.left=`-${k}px`),this.rowsContainer.style.top=`-${L}px`,this.horizontalScrolling&&D!==void 0&&(this.rowsContainer.style.width=`${Math.max(D,this.renderWidth)}px`),this.lastRenderTop=L,this.lastRenderHeight=w}insertItemInDOM(_,L,w){const k=this.items[_];k.row||(k.row=w??this.cache.alloc(k.templateId));const D=this.accessibilityProvider.getRole(k.element)||"listitem";k.row.domNode.setAttribute("role",D);const M=this.accessibilityProvider.isChecked(k.element);typeof M!="undefined"&&k.row.domNode.setAttribute("aria-checked",String(!!M)),k.row.domNode.parentElement||(L?this.rowsContainer.insertBefore(k.row.domNode,L):this.rowsContainer.appendChild(k.row.domNode)),this.updateItemInDOM(k,_);const O=this.renderers.get(k.templateId);if(!O)throw new Error(`No renderer found for template id ${k.templateId}`);O&&O.renderElement(k.element,_,k.row.templateData,k.size);const F=this.dnd.getDragURI(k.element);k.dragStartDisposable.dispose(),k.row.domNode.draggable=!!F,F&&(k.dragStartDisposable=(0,T.addDisposableListener)(k.row.domNode,"dragstart",R=>this.onDragStart(k.element,F,R))),this.horizontalScrolling&&(this.measureItemWidth(k),this.eventuallyUpdateScrollWidth())}measureItemWidth(_){if(!_.row||!_.row.domNode)return;_.row.domNode.style.width=y.isFirefox?"-moz-fit-content":"fit-content",_.width=(0,T.getContentWidth)(_.row.domNode);const L=window.getComputedStyle(_.row.domNode);L.paddingLeft&&(_.width+=parseFloat(L.paddingLeft)),L.paddingRight&&(_.width+=parseFloat(L.paddingRight)),_.row.domNode.style.width=""}updateItemInDOM(_,L){_.row.domNode.style.top=`${this.elementTop(L)}px`,this.setRowHeight&&(_.row.domNode.style.height=`${_.size}px`),this.setRowLineHeight&&(_.row.domNode.style.lineHeight=`${_.size}px`),_.row.domNode.setAttribute("data-index",`${L}`),_.row.domNode.setAttribute("data-last-element",L===this.length-1?"true":"false"),_.row.domNode.setAttribute("data-parity",L%2==0?"even":"odd"),_.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(_.element,L,this.length))),_.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(_.element,L))),_.row.domNode.setAttribute("id",this.getElementDomId(L)),_.row.domNode.classList.toggle("drop-target",_.dropTarget)}removeItemFromDOM(_){const L=this.items[_];if(L.dragStartDisposable.dispose(),L.row){const w=this.renderers.get(L.templateId);w&&w.disposeElement&&w.disposeElement(L.element,_,L.row.templateData,L.size),this.cache.release(L.row),L.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(_,L){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:_,reuseAnimation:L})}get scrollTop(){return this.getScrollTop()}set scrollTop(_){this.setScrollTop(_)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return i.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"click")).event,_=>this.toMouseEvent(_))}get onMouseDblClick(){return i.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"dblclick")).event,_=>this.toMouseEvent(_))}get onMouseMiddleClick(){return i.Event.filter(i.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"auxclick")).event,_=>this.toMouseEvent(_)),_=>_.browserEvent.button===1)}get onMouseDown(){return i.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"mousedown")).event,_=>this.toMouseEvent(_))}get onContextMenu(){return i.Event.any(i.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"contextmenu")).event,_=>this.toMouseEvent(_)),i.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,b.EventType.Contextmenu)).event,_=>this.toGestureEvent(_)))}get onTouchStart(){return i.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"touchstart")).event,_=>this.toTouchEvent(_))}get onTap(){return i.Event.map(this.disposables.add(new I.DomEmitter(this.rowsContainer,b.EventType.Tap)).event,_=>this.toGestureEvent(_))}toMouseEvent(_){const L=this.getItemIndexFromEventTarget(_.target||null),w=typeof L=="undefined"?void 0:this.items[L],k=w&&w.element;return{browserEvent:_,index:L,element:k}}toTouchEvent(_){const L=this.getItemIndexFromEventTarget(_.target||null),w=typeof L=="undefined"?void 0:this.items[L],k=w&&w.element;return{browserEvent:_,index:L,element:k}}toGestureEvent(_){const L=this.getItemIndexFromEventTarget(_.initialTarget||null),w=typeof L=="undefined"?void 0:this.items[L],k=w&&w.element;return{browserEvent:_,index:L,element:k}}toDragEvent(_){const L=this.getItemIndexFromEventTarget(_.target||null),w=typeof L=="undefined"?void 0:this.items[L],k=w&&w.element;return{browserEvent:_,index:L,element:k}}onScroll(_){try{const L=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(L,_.scrollTop,_.height,_.scrollLeft,_.scrollWidth),this.supportDynamicHeights&&this._rerender(_.scrollTop,_.height,_.inSmoothScrolling)}catch(L){throw console.error("Got bad scroll event:",_),L}}onTouchChange(_){_.preventDefault(),_.stopPropagation(),this.scrollTop-=_.translationY}onDragStart(_,L,w){if(!w.dataTransfer)return;const k=this.dnd.getDragElements(_);if(w.dataTransfer.effectAllowed="copyMove",w.dataTransfer.setData(N.DataTransfers.TEXT,L),w.dataTransfer.setDragImage){let D;this.dnd.getDragLabel&&(D=this.dnd.getDragLabel(k,w)),typeof D=="undefined"&&(D=String(k.length));const M=(0,T.$)(".monaco-drag-image");M.textContent=D,document.body.appendChild(M),w.dataTransfer.setDragImage(M,-10,-10),setTimeout(()=>document.body.removeChild(M),0)}this.currentDragData=new n(k),N.StaticDND.CurrentDragAndDropData=new d(k),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,w)}onDragOver(_){if(_.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),N.StaticDND.CurrentDragAndDropData&&N.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(_.browserEvent),!_.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(N.StaticDND.CurrentDragAndDropData)this.currentDragData=N.StaticDND.CurrentDragAndDropData;else{if(!_.browserEvent.dataTransfer.types)return!1;this.currentDragData=new u}const L=this.dnd.onDragOver(this.currentDragData,_.element,_.index,_.browserEvent);if(this.canDrop=typeof L=="boolean"?L:L.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;_.browserEvent.dataTransfer.dropEffect=typeof L!="boolean"&&L.effect===0?"copy":"move";let w;if(typeof L!="boolean"&&L.feedback?w=L.feedback:typeof _.index=="undefined"?w=[-1]:w=[_.index],w=(0,p.distinct)(w).filter(k=>k>=-1&&k<this.length).sort((k,D)=>k-D),w=w[0]===-1?[-1]:w,f(this.currentDragFeedback,w))return!0;if(this.currentDragFeedback=w,this.currentDragFeedbackDisposable.dispose(),w[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,t.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const k of w){const D=this.items[k];D.dropTarget=!0,D.row&&D.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,t.toDisposable)(()=>{for(const k of w){const D=this.items[k];D.dropTarget=!1,D.row&&D.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(_){var L,w;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,h.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((w=(L=this.dnd).onDragLeave)===null||w===void 0||w.call(L,this.currentDragData,_.element,_.index,_.browserEvent))}onDrop(_){if(!this.canDrop)return;const L=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,N.StaticDND.CurrentDragAndDropData=void 0,!(!L||!_.browserEvent.dataTransfer)&&(_.browserEvent.preventDefault(),L.update(_.browserEvent.dataTransfer),this.dnd.drop(L,_.element,_.index,_.browserEvent))}onDragEnd(_){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,N.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(_)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=t.Disposable.None}setupDragAndDropScrollTopAnimation(_){if(!this.dragOverAnimationDisposable){const L=(0,T.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,T.animate)(this.animateDragAndDropScrollTop.bind(this,L))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,h.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=_.pageY}animateDragAndDropScrollTop(_){if(this.dragOverMouseY===void 0)return;const L=this.dragOverMouseY-_,w=this.renderHeight-35;L<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(L-35))):L>w&&(this.scrollTop+=Math.min(14,Math.floor(.3*(L-w))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(_){const L=this.scrollableElement.getDomNode();let w=_;for(;w instanceof HTMLElement&&w!==this.rowsContainer&&L.contains(w);){const k=w.getAttribute("data-index");if(k){const D=Number(k);if(!isNaN(D))return D}w=w.parentElement}}getRenderRange(_,L){return{start:this.rangeMap.indexAt(_),end:this.rangeMap.indexAfter(_+L-1)}}_rerender(_,L,w){const k=this.getRenderRange(_,L);let D,M;_===this.elementTop(k.start)?(D=k.start,M=0):k.end-k.start>1&&(D=k.start+1,M=this.elementTop(D)-_);let O=0;for(;;){const F=this.getRenderRange(_,L);let R=!1;for(let A=F.start;A<F.end;A++){const P=this.probeDynamicHeight(A);P!==0&&this.rangeMap.splice(A,1,[this.items[A]]),O+=P,R=R||P!==0}if(!R){O!==0&&this.eventuallyUpdateScrollDimensions();const A=c.Range.relativeComplement(k,F);for(const E of A)for(let B=E.start;B<E.end;B++)this.items[B].row&&this.removeItemFromDOM(B);const P=c.Range.relativeComplement(F,k);for(const E of P)for(let B=E.start;B<E.end;B++){const V=B+1,j=V<this.items.length?this.items[V].row:null,K=j?j.domNode:null;this.insertItemInDOM(B,K)}for(let E=F.start;E<F.end;E++)this.items[E].row&&this.updateItemInDOM(this.items[E],E);if(typeof D=="number"){const E=this.scrollable.getFutureScrollPosition().scrollTop-_,B=this.elementTop(D)-M+E;this.setScrollTop(B,w)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(_){const L=this.items[_];if(this.virtualDelegate.getDynamicHeight){const M=this.virtualDelegate.getDynamicHeight(L.element);if(M!==null){const O=L.size;return L.size=M,L.lastDynamicHeightWidth=this.renderWidth,M-O}}if(!L.hasDynamicHeight||L.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(L.element))return 0;const w=L.size;if(!this.setRowHeight&&L.row){let M=L.row.domNode.offsetHeight;return L.size=M,L.lastDynamicHeightWidth=this.renderWidth,M-w}const k=this.cache.alloc(L.templateId);k.domNode.style.height="",this.rowsContainer.appendChild(k.domNode);const D=this.renderers.get(L.templateId);return D&&(D.renderElement(L.element,_,k.templateData,void 0),D.disposeElement&&D.disposeElement(L.element,_,k.templateData,void 0)),L.size=k.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(L.element,L.size),L.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(k.domNode),this.cache.release(k),L.size-w}getNextToLastElement(_){const L=_[_.length-1];if(!L)return null;const w=this.items[L.end];return!w||!w.row?null:w.row.domNode}getElementDomId(_){return`${this.domId}_${_}`}dispose(){if(this.items){for(const _ of this.items)if(_.row){const L=this.renderers.get(_.row.templateId);L&&(L.disposeElement&&L.disposeElement(_.element,-1,_.row.templateData,void 0),L.disposeTemplate(_.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,t.dispose)(this.disposables)}}v.InstanceCount=0,Be([g.memoize],v.prototype,"onMouseClick",null),Be([g.memoize],v.prototype,"onMouseDblClick",null),Be([g.memoize],v.prototype,"onMouseMiddleClick",null),Be([g.memoize],v.prototype,"onMouseDown",null),Be([g.memoize],v.prototype,"onContextMenu",null),Be([g.memoize],v.prototype,"onTouchStart",null),Be([g.memoize],v.prototype,"onTap",null),e.ListView=v}),define(ee[111],te([0,1,7,86,46,58,44,301,19,10,29,94,4,69,2,105,37,17,20,300,173,219]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.isMonacoEditor=e.isInputElement=void 0;class u{constructor(W){this.trait=W,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(W){return W}renderElement(W,z,U){const x=this.renderedElements.findIndex(X=>X.templateData===U);if(x>=0){const X=this.renderedElements[x];this.trait.unrender(U),X.index=z}else{const X={index:z,templateData:U};this.renderedElements.push(X)}this.trait.renderIndex(z,U)}splice(W,z,U){const x=[];for(const X of this.renderedElements)X.index<W?x.push(X):X.index>=W+z&&x.push({index:X.index+U-z,templateData:X.templateData});this.renderedElements=x}renderIndexes(W){for(const{index:z,templateData:U}of this.renderedElements)W.indexOf(z)>-1&&this.trait.renderIndex(z,U)}disposeTemplate(W){const z=this.renderedElements.findIndex(U=>U.templateData===W);z<0||this.renderedElements.splice(z,1)}}class f{constructor(W){this._trait=W,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new t.Emitter,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new u(this)}splice(W,z,U){var x;z=Math.max(0,Math.min(z,this.length-W));const X=U.length-z,le=W+z,fe=[...this.sortedIndexes.filter(H=>H<W),...U.map((H,Q)=>H?Q+W:-1).filter(H=>H!==-1),...this.sortedIndexes.filter(H=>H>=le).map(H=>H+X)],$=this.length+X;if(this.sortedIndexes.length>0&&fe.length===0&&$>0){const H=(x=this.sortedIndexes.find(Q=>Q>=W))!==null&&x!==void 0?x:$-1;fe.push(Math.min(H,$-1))}this.renderer.splice(W,z,U.length),this._set(fe,fe),this.length=$}renderIndex(W,z){z.classList.toggle(this._trait,this.contains(W))}unrender(W){W.classList.remove(this._trait)}set(W,z){return this._set(W,[...W].sort(Y),z)}_set(W,z,U){const x=this.indexes,X=this.sortedIndexes;this.indexes=W,this.sortedIndexes=z;const le=j(X,W);return this.renderer.renderIndexes(le),this._onChange.fire({indexes:W,browserEvent:U}),x}get(){return this.indexes}contains(W){return(0,p.binarySearch)(this.sortedIndexes,W,Y)>=0}dispose(){(0,c.dispose)(this._onChange)}}Be([i.memoize],f.prototype,"renderer",null);class S extends f{constructor(W){super("selected");this.setAriaSelected=W}renderIndex(W,z){super.renderIndex(W,z),this.setAriaSelected&&(this.contains(W)?z.setAttribute("aria-selected","true"):z.setAttribute("aria-selected","false"))}}class v{constructor(W,z,U){this.trait=W,this.view=z,this.identityProvider=U}splice(W,z,U){if(!this.identityProvider)return this.trait.splice(W,z,U.map(()=>!1));const x=this.trait.get().map(le=>this.identityProvider.getId(this.view.element(le)).toString()),X=U.map(le=>x.indexOf(this.identityProvider.getId(le).toString())>-1);this.trait.splice(W,z,X)}}function m(G){return G.tagName==="INPUT"||G.tagName==="TEXTAREA"}e.isInputElement=m;function _(G){return G.classList.contains("monaco-editor")?!0:G.classList.contains("monaco-list")||!G.parentElement?!1:_(G.parentElement)}e.isMonacoEditor=_;class L{constructor(W,z,U){this.list=W,this.view=z,this.disposables=new c.DisposableStore,this.multipleSelectionDisposables=new c.DisposableStore,this.onKeyDown.filter(x=>x.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(x=>x.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(x=>x.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(x=>x.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(x=>x.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(x=>x.keyCode===9).on(this.onEscape,this,this.disposables),U.multipleSelectionSupport!==!1&&this.onKeyDown.filter(x=>(s.isMacintosh?x.metaKey:x.ctrlKey)&&x.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return t.Event.chain(this.disposables.add(new N.DomEmitter(this.view.domNode,"keydown")).event).filter(W=>!m(W.target)).map(W=>new T.StandardKeyboardEvent(W))}updateOptions(W){W.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),W.multipleSelectionSupport&&this.onKeyDown.filter(z=>(s.isMacintosh?z.metaKey:z.ctrlKey)&&z.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(W){W.preventDefault(),W.stopPropagation(),this.list.setSelection(this.list.getFocus(),W.browserEvent)}onUpArrow(W){W.preventDefault(),W.stopPropagation(),this.list.focusPrevious(1,!1,W.browserEvent);const z=this.list.getFocus()[0];this.list.setAnchor(z),this.list.reveal(z),this.view.domNode.focus()}onDownArrow(W){W.preventDefault(),W.stopPropagation(),this.list.focusNext(1,!1,W.browserEvent);const z=this.list.getFocus()[0];this.list.setAnchor(z),this.list.reveal(z),this.view.domNode.focus()}onPageUpArrow(W){W.preventDefault(),W.stopPropagation(),this.list.focusPreviousPage(W.browserEvent);const z=this.list.getFocus()[0];this.list.setAnchor(z),this.list.reveal(z),this.view.domNode.focus()}onPageDownArrow(W){W.preventDefault(),W.stopPropagation(),this.list.focusNextPage(W.browserEvent);const z=this.list.getFocus()[0];this.list.setAnchor(z),this.list.reveal(z),this.view.domNode.focus()}onCtrlA(W){W.preventDefault(),W.stopPropagation(),this.list.setSelection((0,p.range)(this.list.length),W.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(W){this.list.getSelection().length&&(W.preventDefault(),W.stopPropagation(),this.list.setSelection([],W.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Be([i.memoize],L.prototype,"onKeyDown",null);var w;(function(G){G[G.Idle=0]="Idle",G[G.Typing=1]="Typing"})(w||(w={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(G){return G.ctrlKey||G.metaKey||G.altKey?!1:G.keyCode>=31&&G.keyCode<=56||G.keyCode>=21&&G.keyCode<=30||G.keyCode>=93&&G.keyCode<=102||G.keyCode>=80&&G.keyCode<=90}};class k{constructor(W,z,U,x){this.list=W,this.view=z,this.keyboardNavigationLabelProvider=U,this.delegate=x,this.enabled=!1,this.state=w.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new c.DisposableStore,this.disposables=new c.DisposableStore,this.updateOptions(W.options)}updateOptions(W){(typeof W.enableKeyboardNavigation=="undefined"?!0:!!W.enableKeyboardNavigation)?this.enable():this.disable(),typeof W.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=W.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const W=t.Event.chain(this.enabledDisposables.add(new N.DomEmitter(this.view.domNode,"keydown")).event).filter(x=>!m(x.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(x=>new T.StandardKeyboardEvent(x)).filter(x=>this.delegate.mightProducePrintableCharacter(x)).forEach(x=>x.preventDefault()).map(x=>x.browserEvent.key).event,z=t.Event.debounce(W,()=>null,800);t.Event.reduce(t.Event.any(W,z),(x,X)=>X===null?null:(x||"")+X)(this.onInput,this,this.enabledDisposables),z(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var W;const z=this.list.getFocus();if(z.length>0&&z[0]===this.previouslyFocused){const U=(W=this.list.options.accessibilityProvider)===null||W===void 0?void 0:W.getAriaLabel(this.list.element(z[0]));U&&(0,b.alert)(U)}this.previouslyFocused=-1}onInput(W){if(!W){this.state=w.Idle,this.triggered=!1;return}const z=this.list.getFocus(),U=z.length>0?z[0]:0,x=this.state===w.Idle?1:0;this.state=w.Typing;for(let X=0;X<this.list.length;X++){const le=(U+X+x)%this.list.length,fe=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(le)),$=fe&&fe.toString();if(typeof $=="undefined"||(0,r.matchesPrefix)(W,$)){this.previouslyFocused=U,this.list.setFocus([le]),this.list.reveal(le);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class D{constructor(W,z){this.list=W,this.view=z,this.disposables=new c.DisposableStore,t.Event.chain(this.disposables.add(new N.DomEmitter(z.domNode,"keydown")).event).filter(x=>!m(x.target)).map(x=>new T.StandardKeyboardEvent(x)).filter(x=>x.keyCode===2&&!x.ctrlKey&&!x.metaKey&&!x.shiftKey&&!x.altKey).on(this.onTab,this,this.disposables)}onTab(W){if(W.target!==this.view.domNode)return;const z=this.list.getFocus();if(z.length===0)return;const U=this.view.domElement(z[0]);if(!U)return;const x=U.querySelector("[tabIndex]");if(!x||!(x instanceof HTMLElement)||x.tabIndex===-1)return;const X=window.getComputedStyle(x);X.visibility==="hidden"||X.display==="none"||(W.preventDefault(),W.stopPropagation(),x.focus())}dispose(){this.disposables.dispose()}}function M(G){return s.isMacintosh?G.browserEvent.metaKey:G.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=M;function O(G){return G.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=O;function F(G){return G instanceof MouseEvent&&G.button===2}const R={isSelectionSingleChangeEvent:M,isSelectionRangeChangeEvent:O};class A{constructor(W){this.list=W,this.disposables=new c.DisposableStore,this._onPointer=new t.Emitter,this.onPointer=this._onPointer.event,W.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||R),this.mouseSupport=typeof W.options.mouseSupport=="undefined"||!!W.options.mouseSupport,this.mouseSupport&&(W.onMouseDown(this.onMouseDown,this,this.disposables),W.onContextMenu(this.onContextMenu,this,this.disposables),W.onMouseDblClick(this.onDoubleClick,this,this.disposables),W.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(I.Gesture.addTarget(W.getHTMLElement()))),t.Event.any(W.onMouseClick,W.onMouseMiddleClick,W.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(W){W.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,W.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||R))}isSelectionSingleChangeEvent(W){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(W):!1}isSelectionRangeChangeEvent(W){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(W):!1}isSelectionChangeEvent(W){return this.isSelectionSingleChangeEvent(W)||this.isSelectionRangeChangeEvent(W)}onMouseDown(W){_(W.browserEvent.target)||document.activeElement!==W.browserEvent.target&&this.list.domFocus()}onContextMenu(W){if(_(W.browserEvent.target))return;const z=typeof W.index=="undefined"?[]:[W.index];this.list.setFocus(z,W.browserEvent)}onViewPointer(W){if(!this.mouseSupport||m(W.browserEvent.target)||_(W.browserEvent.target))return;const z=W.index;if(typeof z=="undefined"){this.list.setFocus([],W.browserEvent),this.list.setSelection([],W.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(W))return this.changeSelection(W);if(this.isSelectionChangeEvent(W))return this.changeSelection(W);this.list.setFocus([z],W.browserEvent),this.list.setAnchor(z),F(W.browserEvent)||this.list.setSelection([z],W.browserEvent),this._onPointer.fire(W)}onDoubleClick(W){if(m(W.browserEvent.target)||_(W.browserEvent.target)||this.isSelectionChangeEvent(W))return;const z=this.list.getFocus();this.list.setSelection(z,W.browserEvent)}changeSelection(W){const z=W.index;let U=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(W)){if(typeof U=="undefined"){const Q=this.list.getFocus()[0];U=Q??z,this.list.setAnchor(U)}const x=Math.min(U,z),X=Math.max(U,z),le=(0,p.range)(x,X+1),fe=this.list.getSelection(),$=V(j(fe,[U]),U);if($.length===0)return;const H=j(le,K(fe,$));this.list.setSelection(H,W.browserEvent),this.list.setFocus([z],W.browserEvent)}else if(this.isSelectionSingleChangeEvent(W)){const x=this.list.getSelection(),X=x.filter(le=>le!==z);this.list.setFocus([z]),this.list.setAnchor(z),x.length===X.length?this.list.setSelection([...X,z],W.browserEvent):this.list.setSelection(X,W.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=A;class P{constructor(W,z){this.styleElement=W,this.selectorSuffix=z}style(W){const z=this.selectorSuffix&&`.${this.selectorSuffix}`,U=[];W.listBackground&&(W.listBackground.isOpaque()?U.push(`.monaco-list${z} .monaco-list-rows { background: ${W.listBackground}; }`):s.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),W.listFocusBackground&&(U.push(`.monaco-list${z}:focus .monaco-list-row.focused { background-color: ${W.listFocusBackground}; }`),U.push(`.monaco-list${z}:focus .monaco-list-row.focused:hover { background-color: ${W.listFocusBackground}; }`)),W.listFocusForeground&&U.push(`.monaco-list${z}:focus .monaco-list-row.focused { color: ${W.listFocusForeground}; }`),W.listActiveSelectionBackground&&(U.push(`.monaco-list${z}:focus .monaco-list-row.selected { background-color: ${W.listActiveSelectionBackground}; }`),U.push(`.monaco-list${z}:focus .monaco-list-row.selected:hover { background-color: ${W.listActiveSelectionBackground}; }`)),W.listActiveSelectionForeground&&U.push(`.monaco-list${z}:focus .monaco-list-row.selected { color: ${W.listActiveSelectionForeground}; }`),W.listActiveSelectionIconForeground&&U.push(`.monaco-list${z}:focus .monaco-list-row.selected .codicon { color: ${W.listActiveSelectionIconForeground}; }`),W.listFocusAndSelectionBackground&&U.push(`
				.monaco-drag-image,
				.monaco-list${z}:focus .monaco-list-row.selected.focused { background-color: ${W.listFocusAndSelectionBackground}; }
			`),W.listFocusAndSelectionForeground&&U.push(`
				.monaco-drag-image,
				.monaco-list${z}:focus .monaco-list-row.selected.focused { color: ${W.listFocusAndSelectionForeground}; }
			`),W.listInactiveFocusForeground&&(U.push(`.monaco-list${z} .monaco-list-row.focused { color:  ${W.listInactiveFocusForeground}; }`),U.push(`.monaco-list${z} .monaco-list-row.focused:hover { color:  ${W.listInactiveFocusForeground}; }`)),W.listInactiveSelectionIconForeground&&U.push(`.monaco-list${z} .monaco-list-row.focused .codicon { color:  ${W.listInactiveSelectionIconForeground}; }`),W.listInactiveFocusBackground&&(U.push(`.monaco-list${z} .monaco-list-row.focused { background-color:  ${W.listInactiveFocusBackground}; }`),U.push(`.monaco-list${z} .monaco-list-row.focused:hover { background-color:  ${W.listInactiveFocusBackground}; }`)),W.listInactiveSelectionBackground&&(U.push(`.monaco-list${z} .monaco-list-row.selected { background-color:  ${W.listInactiveSelectionBackground}; }`),U.push(`.monaco-list${z} .monaco-list-row.selected:hover { background-color:  ${W.listInactiveSelectionBackground}; }`)),W.listInactiveSelectionForeground&&U.push(`.monaco-list${z} .monaco-list-row.selected { color: ${W.listInactiveSelectionForeground}; }`),W.listHoverBackground&&U.push(`.monaco-list${z}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${W.listHoverBackground}; }`),W.listHoverForeground&&U.push(`.monaco-list${z} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${W.listHoverForeground}; }`),W.listSelectionOutline&&U.push(`.monaco-list${z} .monaco-list-row.selected { outline: 1px dotted ${W.listSelectionOutline}; outline-offset: -1px; }`),W.listFocusOutline&&U.push(`
				.monaco-drag-image,
				.monaco-list${z}:focus .monaco-list-row.focused { outline: 1px solid ${W.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${z}.last-focused .monaco-list-row.focused { outline: 1px solid ${W.listFocusOutline}; outline-offset: -1px; }
			`),W.listInactiveFocusOutline&&U.push(`.monaco-list${z} .monaco-list-row.focused { outline: 1px dotted ${W.listInactiveFocusOutline}; outline-offset: -1px; }`),W.listHoverOutline&&U.push(`.monaco-list${z} .monaco-list-row:hover { outline: 1px dashed ${W.listHoverOutline}; outline-offset: -1px; }`),W.listDropBackground&&U.push(`
				.monaco-list${z}.drop-target,
				.monaco-list${z} .monaco-list-rows.drop-target,
				.monaco-list${z} .monaco-list-row.drop-target { background-color: ${W.listDropBackground} !important; color: inherit !important; }
			`),W.listFilterWidgetBackground&&U.push(`.monaco-list-type-filter { background-color: ${W.listFilterWidgetBackground} }`),W.listFilterWidgetOutline&&U.push(`.monaco-list-type-filter { border: 1px solid ${W.listFilterWidgetOutline}; }`),W.listFilterWidgetNoMatchesOutline&&U.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${W.listFilterWidgetNoMatchesOutline}; }`),W.listMatchesShadow&&U.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${W.listMatchesShadow}; }`),W.tableColumnsBorder&&U.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${W.tableColumnsBorder};
			}`),W.tableOddRowsBackgroundColor&&U.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${W.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=U.join(`
`)}}e.DefaultStyleController=P;const E={listFocusBackground:g.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:g.Color.fromHex("#0E639C"),listActiveSelectionForeground:g.Color.fromHex("#FFFFFF"),listActiveSelectionIconForeground:g.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:g.Color.fromHex("#094771"),listFocusAndSelectionForeground:g.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:g.Color.fromHex("#3F3F46"),listInactiveSelectionIconForeground:g.Color.fromHex("#FFFFFF"),listHoverBackground:g.Color.fromHex("#2A2D2E"),listDropBackground:g.Color.fromHex("#383B3D"),treeIndentGuidesStroke:g.Color.fromHex("#a9a9a9"),tableColumnsBorder:g.Color.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:g.Color.fromHex("#cccccc").transparent(.04)},B={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function V(G,W){const z=G.indexOf(W);if(z===-1)return[];const U=[];let x=z-1;for(;x>=0&&G[x]===W-(z-x);)U.push(G[x--]);for(U.reverse(),x=z;x<G.length&&G[x]===W+(x-z);)U.push(G[x++]);return U}function j(G,W){const z=[];let U=0,x=0;for(;U<G.length||x<W.length;)if(U>=G.length)z.push(W[x++]);else if(x>=W.length)z.push(G[U++]);else if(G[U]===W[x]){z.push(G[U]),U++,x++;continue}else G[U]<W[x]?z.push(G[U++]):z.push(W[x++]);return z}function K(G,W){const z=[];let U=0,x=0;for(;U<G.length||x<W.length;)if(U>=G.length)z.push(W[x++]);else if(x>=W.length)z.push(G[U++]);else if(G[U]===W[x]){U++,x++;continue}else G[U]<W[x]?z.push(G[U++]):x++;return z}const Y=(G,W)=>G-W;class J{constructor(W,z){this._templateId=W,this.renderers=z}get templateId(){return this._templateId}renderTemplate(W){return this.renderers.map(z=>z.renderTemplate(W))}renderElement(W,z,U,x){let X=0;for(const le of this.renderers)le.renderElement(W,z,U[X++],x)}disposeElement(W,z,U,x){let X=0;for(const le of this.renderers)le.disposeElement&&le.disposeElement(W,z,U[X],x),X+=1}disposeTemplate(W){let z=0;for(const U of this.renderers)U.disposeTemplate(W[z++])}}class Z{constructor(W){this.accessibilityProvider=W,this.templateId="a18n"}renderTemplate(W){return W}renderElement(W,z,U){const x=this.accessibilityProvider.getAriaLabel(W);x?U.setAttribute("aria-label",x):U.removeAttribute("aria-label");const X=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(W);typeof X=="number"?U.setAttribute("aria-level",`${X}`):U.removeAttribute("aria-level")}disposeTemplate(W){}}class ie{constructor(W,z){this.list=W,this.dnd=z}getDragElements(W){const z=this.list.getSelectedElements();return z.indexOf(W)>-1?z:[W]}getDragURI(W){return this.dnd.getDragURI(W)}getDragLabel(W,z){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(W,z)}onDragStart(W,z){this.dnd.onDragStart&&this.dnd.onDragStart(W,z)}onDragOver(W,z,U,x){return this.dnd.onDragOver(W,z,U,x)}onDragLeave(W,z,U,x){var X,le;(le=(X=this.dnd).onDragLeave)===null||le===void 0||le.call(X,W,z,U,x)}onDragEnd(W){this.dnd.onDragEnd&&this.dnd.onDragEnd(W)}drop(W,z,U,x){this.dnd.drop(W,z,U,x)}}class ne{constructor(W,z,U,x,X=B){var le;this.user=W,this._options=X,this.focus=new f("focused"),this.anchor=new f("anchor"),this.eventBufferer=new t.EventBufferer,this._ariaLabel="",this.disposables=new c.DisposableStore,this._onDidDispose=new t.Emitter,this.onDidDispose=this._onDidDispose.event;const fe=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(le=this._options.accessibilityProvider)===null||le===void 0?void 0:le.getWidgetRole():"list";this.selection=new S(fe!=="listbox"),(0,a.mixin)(X,E,!1);const $=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=X.accessibilityProvider,this.accessibilityProvider&&($.push(new Z(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),x=x.map(Q=>new J(Q.templateId,[...$,Q]));const H=Object.assign(Object.assign({},X),{dnd:X.dnd&&new ie(this,X.dnd)});if(this.view=new d.ListView(z,U,x,H),this.view.domNode.setAttribute("role",fe),X.styleController)this.styleController=X.styleController(this.view.domId);else{const Q=(0,y.createStyleSheet)(this.view.domNode);this.styleController=new P(Q,this.view.domId)}if(this.spliceable=new C.CombinedSpliceable([new v(this.focus,this.view,X.identityProvider),new v(this.selection,this.view,X.identityProvider),new v(this.anchor,this.view,X.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new D(this,this.view)),(typeof X.keyboardSupport!="boolean"||X.keyboardSupport)&&(this.keyboardController=new L(this,this.view,X),this.disposables.add(this.keyboardController)),X.keyboardNavigationLabelProvider){const Q=X.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeLabelController=new k(this,this.view,X.keyboardNavigationLabelProvider,Q),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(X),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return t.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),W=>this.toListEvent(W))}get onDidChangeSelection(){return t.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),W=>this.toListEvent(W))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let W=!1;const z=t.Event.chain(this.disposables.add(new N.DomEmitter(this.view.domNode,"keydown")).event).map(X=>new T.StandardKeyboardEvent(X)).filter(X=>W=X.keyCode===58||X.shiftKey&&X.keyCode===68).map(N.stopEvent).filter(()=>!1).event,U=t.Event.chain(this.disposables.add(new N.DomEmitter(this.view.domNode,"keyup")).event).forEach(()=>W=!1).map(X=>new T.StandardKeyboardEvent(X)).filter(X=>X.keyCode===58||X.shiftKey&&X.keyCode===68).map(N.stopEvent).map(({browserEvent:X})=>{const le=this.getFocus(),fe=le.length?le[0]:void 0,$=typeof fe!="undefined"?this.view.element(fe):void 0,H=typeof fe!="undefined"?this.view.domElement(fe):this.view.domNode;return{index:fe,element:$,anchor:H,browserEvent:X}}).event,x=t.Event.chain(this.view.onContextMenu).filter(X=>!W).map(({element:X,index:le,browserEvent:fe})=>({element:X,index:le,anchor:{x:fe.pageX+1,y:fe.pageY},browserEvent:fe})).event;return t.Event.any(z,U,x)}get onKeyDown(){return this.disposables.add(new N.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return t.Event.signal(this.disposables.add(new N.DomEmitter(this.view.domNode,"focus",!0)).event)}createMouseController(W){return new A(this)}updateOptions(W={}){var z;this._options=Object.assign(Object.assign({},this._options),W),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(W),(z=this.keyboardController)===null||z===void 0||z.updateOptions(W),this.view.updateOptions(W)}get options(){return this._options}splice(W,z,U=[]){if(W<0||W>this.view.length)throw new n.ListError(this.user,`Invalid start index: ${W}`);if(z<0)throw new n.ListError(this.user,`Invalid delete count: ${z}`);z===0&&U.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(W,z,U))}rerender(){this.view.rerender()}element(W){return this.view.element(W)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(W){this.view.setScrollTop(W)}get ariaLabel(){return this._ariaLabel}set ariaLabel(W){this._ariaLabel=W,this.view.domNode.setAttribute("aria-label",W)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(W,z){this.view.layout(W,z)}setSelection(W,z){for(const U of W)if(U<0||U>=this.length)throw new n.ListError(this.user,`Invalid index ${U}`);this.selection.set(W,z)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(W=>this.view.element(W))}setAnchor(W){if(typeof W=="undefined"){this.anchor.set([]);return}if(W<0||W>=this.length)throw new n.ListError(this.user,`Invalid index ${W}`);this.anchor.set([W])}getAnchor(){return(0,p.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const W=this.getAnchor();return typeof W=="undefined"?void 0:this.element(W)}setFocus(W,z){for(const U of W)if(U<0||U>=this.length)throw new n.ListError(this.user,`Invalid index ${U}`);this.focus.set(W,z)}focusNext(W=1,z=!1,U,x){if(this.length===0)return;const X=this.focus.get(),le=this.findNextIndex(X.length>0?X[0]+W:0,z,x);le>-1&&this.setFocus([le],U)}focusPrevious(W=1,z=!1,U,x){if(this.length===0)return;const X=this.focus.get(),le=this.findPreviousIndex(X.length>0?X[0]-W:0,z,x);le>-1&&this.setFocus([le],U)}focusNextPage(W,z){return Ae(this,void 0,void 0,function*(){let U=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);U=U===0?0:U-1;const x=this.view.element(U),X=this.getFocusedElements()[0];if(X!==x){const le=this.findPreviousIndex(U,!1,z);le>-1&&X!==this.view.element(le)?this.setFocus([le],W):this.setFocus([U],W)}else{const le=this.view.getScrollTop();this.view.setScrollTop(le+this.view.renderHeight-this.view.elementHeight(U)),this.view.getScrollTop()!==le&&(this.setFocus([]),yield(0,h.timeout)(0),yield this.focusNextPage(W,z))}})}focusPreviousPage(W,z){return Ae(this,void 0,void 0,function*(){let U;const x=this.view.getScrollTop();x===0?U=this.view.indexAt(x):U=this.view.indexAfter(x-1);const X=this.view.element(U),le=this.getFocusedElements()[0];if(le!==X){const fe=this.findNextIndex(U,!1,z);fe>-1&&le!==this.view.element(fe)?this.setFocus([fe],W):this.setFocus([U],W)}else{const fe=x;this.view.setScrollTop(x-this.view.renderHeight),this.view.getScrollTop()!==fe&&(this.setFocus([]),yield(0,h.timeout)(0),yield this.focusPreviousPage(W,z))}})}focusLast(W,z){if(this.length===0)return;const U=this.findPreviousIndex(this.length-1,!1,z);U>-1&&this.setFocus([U],W)}focusFirst(W,z){this.focusNth(0,W,z)}focusNth(W,z,U){if(this.length===0)return;const x=this.findNextIndex(W,!1,U);x>-1&&this.setFocus([x],z)}findNextIndex(W,z=!1,U){for(let x=0;x<this.length;x++){if(W>=this.length&&!z)return-1;if(W=W%this.length,!U||U(this.element(W)))return W;W++}return-1}findPreviousIndex(W,z=!1,U){for(let x=0;x<this.length;x++){if(W<0&&!z)return-1;if(W=(this.length+W%this.length)%this.length,!U||U(this.element(W)))return W;W--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(W=>this.view.element(W))}reveal(W,z){if(W<0||W>=this.length)throw new n.ListError(this.user,`Invalid index ${W}`);const U=this.view.getScrollTop(),x=this.view.elementTop(W),X=this.view.elementHeight(W);if((0,o.isNumber)(z)){const le=X-this.view.renderHeight;this.view.setScrollTop(le*(0,l.clamp)(z,0,1)+x)}else{const le=x+X,fe=U+this.view.renderHeight;x<U&&le>=fe||(x<U||le>=fe&&X>=this.view.renderHeight?this.view.setScrollTop(x):le>=fe&&this.view.setScrollTop(le-this.view.renderHeight))}}getRelativeTop(W){if(W<0||W>=this.length)throw new n.ListError(this.user,`Invalid index ${W}`);const z=this.view.getScrollTop(),U=this.view.elementTop(W),x=this.view.elementHeight(W);if(U<z||U+x>z+this.view.renderHeight)return null;const X=x-this.view.renderHeight;return Math.abs((z-U)/X)}getHTMLElement(){return this.view.domNode}style(W){this.styleController.style(W)}toListEvent({indexes:W,browserEvent:z}){return{indexes:W,elements:W.map(U=>this.view.element(U)),browserEvent:z}}_onFocusChange(){const W=this.focus.get();this.view.domNode.classList.toggle("element-focused",W.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var W;const z=this.focus.get();if(z.length>0){let U;((W=this.accessibilityProvider)===null||W===void 0?void 0:W.getActiveDescendantId)&&(U=this.accessibilityProvider.getActiveDescendantId(this.view.element(z[0]))),this.view.domNode.setAttribute("aria-activedescendant",U||this.view.getElementDomId(z[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const W=this.selection.get();this.view.domNode.classList.toggle("selection-none",W.length===0),this.view.domNode.classList.toggle("selection-single",W.length===1),this.view.domNode.classList.toggle("selection-multiple",W.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Be([i.memoize],ne.prototype,"onDidChangeFocus",null),Be([i.memoize],ne.prototype,"onDidChangeSelection",null),Be([i.memoize],ne.prototype,"onContextMenu",null),Be([i.memoize],ne.prototype,"onKeyDown",null),Be([i.memoize],ne.prototype,"onDidFocus",null),e.List=ne}),define(ee[336],te([0,1,19,23,4,2,111,219]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class C{constructor(t,r){this.renderer=t,this.modelProvider=r}get templateId(){return this.renderer.templateId}renderTemplate(t){return{data:this.renderer.renderTemplate(t),disposable:I.Disposable.None}}renderElement(t,r,c,l){if(c.disposable&&c.disposable.dispose(),!c.data)return;const a=this.modelProvider();if(a.isResolved(t))return this.renderer.renderElement(a.get(t),t,c.data,l);const s=new N.CancellationTokenSource,o=a.resolve(t,s.token);c.disposable={dispose:()=>s.cancel()},this.renderer.renderPlaceholder(t,c.data),o.then(n=>this.renderer.renderElement(n,t,c.data,l))}disposeTemplate(t){t.disposable&&(t.disposable.dispose(),t.disposable=void 0),t.data&&(this.renderer.disposeTemplate(t.data),t.data=void 0)}}class p{constructor(t,r){this.modelProvider=t,this.accessibilityProvider=r}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(t){const r=this.modelProvider();return r.isResolved(t)?this.accessibilityProvider.getAriaLabel(r.get(t)):null}}function h(i,t){return Object.assign(Object.assign({},t),{accessibilityProvider:t.accessibilityProvider&&new p(i,t.accessibilityProvider)})}class g{constructor(t,r,c,l,a={}){const s=()=>this.model,o=l.map(n=>new C(n,s));this.list=new b.List(t,r,c,o,h(s,a))}updateOptions(t){this.list.updateOptions(t)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return T.Event.map(this.list.onMouseDblClick,({element:t,index:r,browserEvent:c})=>({element:t===void 0?void 0:this._model.get(t),index:r,browserEvent:c}))}get onPointer(){return T.Event.map(this.list.onPointer,({element:t,index:r,browserEvent:c})=>({element:t===void 0?void 0:this._model.get(t),index:r,browserEvent:c}))}get onDidChangeSelection(){return T.Event.map(this.list.onDidChangeSelection,({elements:t,indexes:r,browserEvent:c})=>({elements:t.map(l=>this._model.get(l)),indexes:r,browserEvent:c}))}get model(){return this._model}set model(t){this._model=t,this.list.splice(0,this.list.length,(0,y.range)(t.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(t=>this.model.get(t))}style(t){this.list.style(t)}dispose(){this.list.dispose()}}e.PagedList=g}),define(ee[337],te([11]),{}),define(ee[221],te([0,1,7,110,63,19,29,4,2,105,134,20,337]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const t={separatorBorder:b.Color.transparent};class r{constructor(d,u,f,S){this.container=d,this.view=u,this.disposable=S,this._cachedVisibleSize=void 0,typeof f=="number"?(this._size=f,this._cachedVisibleSize=void 0,d.classList.add("visible")):(this._size=0,this._cachedVisibleSize=f.cachedVisibleSize)}set size(d){this._size=d}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(d,u){d!==this.visible&&(d?(this.size=(0,h.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof u=="number"?u:this.size,this.size=0),this.container.classList.toggle("visible",d),this.view.setVisible&&this.view.setVisible(d))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(d){this.container.style.pointerEvents=d?"":"none"}layout(d,u){this.layoutContainer(d),this.view.layout(this.size,d,u)}dispose(){return this.disposable.dispose(),this.view}}class c extends r{layoutContainer(d){this.container.style.top=`${d}px`,this.container.style.height=`${this.size}px`}}class l extends r{layoutContainer(d){this.container.style.left=`${d}px`,this.container.style.width=`${this.size}px`}}var a;(function(n){n[n.Idle=0]="Idle",n[n.Busy=1]="Busy"})(a||(a={}));var s;(function(n){n.Distribute={type:"distribute"};function d(f){return{type:"split",index:f}}n.Split=d;function u(f){return{type:"invisible",cachedVisibleSize:f}}n.Invisible=u})(s=e.Sizing||(e.Sizing={}));class o extends p.Disposable{constructor(d,u={}){var f,S,v,m,_;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=a.Idle,this._onDidSashChange=this._register(new C.Emitter),this._onDidSashReset=this._register(new C.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(f=u.orientation)!==null&&f!==void 0?f:0,this.inverseAltBehavior=(S=u.inverseAltBehavior)!==null&&S!==void 0?S:!1,this.proportionalLayout=(v=u.proportionalLayout)!==null&&v!==void 0?v:!0,this.getSashOrthogonalSize=u.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),d.appendChild(this.el),this.sashContainer=(0,y.append)(this.el,(0,y.$)(".sash-container")),this.viewContainer=(0,y.$)(".split-view-container"),this.scrollable=new g.Scrollable(125,y.scheduleAtNextAnimationFrame),this.scrollableElement=this._register(new T.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(m=u.scrollbarVisibility)!==null&&m!==void 0?m:1:2,horizontal:this.orientation===1?(_=u.scrollbarVisibility)!==null&&_!==void 0?_:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(L=>{this.viewContainer.scrollTop=L.scrollTop,this.viewContainer.scrollLeft=L.scrollLeft})),(0,y.append)(this.el,this.scrollableElement.getDomNode()),this.style(u.styles||t),u.descriptor&&(this.size=u.descriptor.size,u.descriptor.views.forEach((L,w)=>{const k=i.isUndefined(L.visible)||L.visible?L.size:{type:"invisible",cachedVisibleSize:L.size},D=L.view;this.doAddView(D,k,w,!0)}),this.contentSize=this.viewItems.reduce((L,w)=>L+w.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(d){for(const u of this.sashItems)u.sash.orthogonalStartSash=d;this._orthogonalStartSash=d}set orthogonalEndSash(d){for(const u of this.sashItems)u.sash.orthogonalEndSash=d;this._orthogonalEndSash=d}set startSnappingEnabled(d){this._startSnappingEnabled!==d&&(this._startSnappingEnabled=d,this.updateSashEnablement())}set endSnappingEnabled(d){this._endSnappingEnabled!==d&&(this._endSnappingEnabled=d,this.updateSashEnablement())}style(d){d.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",d.separatorBorder.toString()))}addView(d,u,f=this.viewItems.length,S){this.doAddView(d,u,f,S)}layout(d,u){const f=Math.max(this.size,this.contentSize);if(this.size=d,this.layoutContext=u,this.proportions)for(let S=0;S<this.viewItems.length;S++){const v=this.viewItems[S];v.size=(0,h.clamp)(Math.round(this.proportions[S]*d),v.minimumSize,v.maximumSize)}else{const S=(0,I.range)(this.viewItems.length),v=S.filter(_=>this.viewItems[_].priority===1),m=S.filter(_=>this.viewItems[_].priority===2);this.resize(this.viewItems.length-1,d-f,void 0,v,m)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(d=>d.size/this.contentSize))}onSashStart({sash:d,start:u,alt:f}){for(const _ of this.viewItems)_.enabled=!1;const S=this.sashItems.findIndex(_=>_.sash===d),v=(0,p.combinedDisposable)((0,y.addDisposableListener)(document.body,"keydown",_=>m(this.sashDragState.current,_.altKey)),(0,y.addDisposableListener)(document.body,"keyup",()=>m(this.sashDragState.current,!1))),m=(_,L)=>{const w=this.viewItems.map(F=>F.size);let k=Number.NEGATIVE_INFINITY,D=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(L=!L),L)if(S===this.sashItems.length-1){const R=this.viewItems[S];k=(R.minimumSize-R.size)/2,D=(R.maximumSize-R.size)/2}else{const R=this.viewItems[S+1];k=(R.size-R.maximumSize)/2,D=(R.size-R.minimumSize)/2}let M,O;if(!L){const F=(0,I.range)(S,-1),R=(0,I.range)(S+1,this.viewItems.length),A=F.reduce((J,Z)=>J+(this.viewItems[Z].minimumSize-w[Z]),0),P=F.reduce((J,Z)=>J+(this.viewItems[Z].viewMaximumSize-w[Z]),0),E=R.length===0?Number.POSITIVE_INFINITY:R.reduce((J,Z)=>J+(w[Z]-this.viewItems[Z].minimumSize),0),B=R.length===0?Number.NEGATIVE_INFINITY:R.reduce((J,Z)=>J+(w[Z]-this.viewItems[Z].viewMaximumSize),0),V=Math.max(A,B),j=Math.min(E,P),K=this.findFirstSnapIndex(F),Y=this.findFirstSnapIndex(R);if(typeof K=="number"){const J=this.viewItems[K],Z=Math.floor(J.viewMinimumSize/2);M={index:K,limitDelta:J.visible?V-Z:V+Z,size:J.size}}if(typeof Y=="number"){const J=this.viewItems[Y],Z=Math.floor(J.viewMinimumSize/2);O={index:Y,limitDelta:J.visible?j+Z:j-Z,size:J.size}}}this.sashDragState={start:_,current:_,index:S,sizes:w,minDelta:k,maxDelta:D,alt:L,snapBefore:M,snapAfter:O,disposable:v}};m(u,f)}onSashChange({current:d}){const{index:u,start:f,sizes:S,alt:v,minDelta:m,maxDelta:_,snapBefore:L,snapAfter:w}=this.sashDragState;this.sashDragState.current=d;const k=d-f,D=this.resize(u,k,S,void 0,void 0,m,_,L,w);if(v){const M=u===this.sashItems.length-1,O=this.viewItems.map(B=>B.size),F=M?u:u+1,R=this.viewItems[F],A=R.size-R.maximumSize,P=R.size-R.minimumSize,E=M?u-1:u+1;this.resize(E,-D,O,void 0,void 0,A,P)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(d){this._onDidSashChange.fire(d),this.sashDragState.disposable.dispose(),this.saveProportions();for(const u of this.viewItems)u.enabled=!0}onViewChange(d,u){const f=this.viewItems.indexOf(d);f<0||f>=this.viewItems.length||(u=typeof u=="number"?u:d.size,u=(0,h.clamp)(u,d.minimumSize,d.maximumSize),this.inverseAltBehavior&&f>0?(this.resize(f-1,Math.floor((d.size-u)/2)),this.distributeEmptySpace(),this.layoutViews()):(d.size=u,this.relayout([f],void 0)))}resizeView(d,u){if(this.state!==a.Idle)throw new Error("Cant modify splitview");if(this.state=a.Busy,d<0||d>=this.viewItems.length)return;const f=(0,I.range)(this.viewItems.length).filter(_=>_!==d),S=[...f.filter(_=>this.viewItems[_].priority===1),d],v=f.filter(_=>this.viewItems[_].priority===2),m=this.viewItems[d];u=Math.round(u),u=(0,h.clamp)(u,m.minimumSize,Math.min(m.maximumSize,this.size)),m.size=u,this.relayout(S,v),this.state=a.Idle}distributeViewSizes(){const d=[];let u=0;for(const _ of this.viewItems)_.maximumSize-_.minimumSize>0&&(d.push(_),u+=_.size);const f=Math.floor(u/d.length);for(const _ of d)_.size=(0,h.clamp)(f,_.minimumSize,_.maximumSize);const S=(0,I.range)(this.viewItems.length),v=S.filter(_=>this.viewItems[_].priority===1),m=S.filter(_=>this.viewItems[_].priority===2);this.relayout(v,m)}getViewSize(d){return d<0||d>=this.viewItems.length?-1:this.viewItems[d].size}doAddView(d,u,f=this.viewItems.length,S){if(this.state!==a.Idle)throw new Error("Cant modify splitview");this.state=a.Busy;const v=(0,y.$)(".split-view-view");f===this.viewItems.length?this.viewContainer.appendChild(v):this.viewContainer.insertBefore(v,this.viewContainer.children.item(f));const m=d.onDidChange(M=>this.onViewChange(k,M)),_=(0,p.toDisposable)(()=>this.viewContainer.removeChild(v)),L=(0,p.combinedDisposable)(m,_);let w;typeof u=="number"?w=u:u.type==="split"?w=this.getViewSize(u.index)/2:u.type==="invisible"?w={cachedVisibleSize:u.cachedVisibleSize}:w=d.minimumSize;const k=this.orientation===0?new c(v,d,w,L):new l(v,d,w,L);if(this.viewItems.splice(f,0,k),this.viewItems.length>1){let M={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const O=this.orientation===0?new N.Sash(this.sashContainer,{getHorizontalSashTop:J=>this.getSashPosition(J),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},M),{orientation:1})):new N.Sash(this.sashContainer,{getVerticalSashLeft:J=>this.getSashPosition(J),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},M),{orientation:0})),F=this.orientation===0?J=>({sash:O,start:J.startY,current:J.currentY,alt:J.altKey}):J=>({sash:O,start:J.startX,current:J.currentX,alt:J.altKey}),A=C.Event.map(O.onDidStart,F)(this.onSashStart,this),E=C.Event.map(O.onDidChange,F)(this.onSashChange,this),V=C.Event.map(O.onDidEnd,()=>this.sashItems.findIndex(J=>J.sash===O))(this.onSashEnd,this),j=O.onDidReset(()=>{const J=this.sashItems.findIndex(W=>W.sash===O),Z=(0,I.range)(J,-1),ie=(0,I.range)(J+1,this.viewItems.length),ne=this.findFirstSnapIndex(Z),G=this.findFirstSnapIndex(ie);typeof ne=="number"&&!this.viewItems[ne].visible||typeof G=="number"&&!this.viewItems[G].visible||this._onDidSashReset.fire(J)}),K=(0,p.combinedDisposable)(A,E,V,j,O),Y={sash:O,disposable:K};this.sashItems.splice(f-1,0,Y)}v.appendChild(d.element);let D;typeof u!="number"&&u.type==="split"&&(D=[u.index]),S||this.relayout([f],D),this.state=a.Idle,!S&&typeof u!="number"&&u.type==="distribute"&&this.distributeViewSizes()}relayout(d,u){const f=this.viewItems.reduce((S,v)=>S+v.size,0);this.resize(this.viewItems.length-1,this.size-f,void 0,d,u),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(d,u,f=this.viewItems.map(k=>k.size),S,v,m=Number.NEGATIVE_INFINITY,_=Number.POSITIVE_INFINITY,L,w){if(d<0||d>=this.viewItems.length)return 0;const k=(0,I.range)(d,-1),D=(0,I.range)(d+1,this.viewItems.length);if(v)for(const Y of v)(0,I.pushToStart)(k,Y),(0,I.pushToStart)(D,Y);if(S)for(const Y of S)(0,I.pushToEnd)(k,Y),(0,I.pushToEnd)(D,Y);const M=k.map(Y=>this.viewItems[Y]),O=k.map(Y=>f[Y]),F=D.map(Y=>this.viewItems[Y]),R=D.map(Y=>f[Y]),A=k.reduce((Y,J)=>Y+(this.viewItems[J].minimumSize-f[J]),0),P=k.reduce((Y,J)=>Y+(this.viewItems[J].maximumSize-f[J]),0),E=D.length===0?Number.POSITIVE_INFINITY:D.reduce((Y,J)=>Y+(f[J]-this.viewItems[J].minimumSize),0),B=D.length===0?Number.NEGATIVE_INFINITY:D.reduce((Y,J)=>Y+(f[J]-this.viewItems[J].maximumSize),0),V=Math.max(A,B,m),j=Math.min(E,P,_);let K=!1;if(L){const Y=this.viewItems[L.index],J=u>=L.limitDelta;K=J!==Y.visible,Y.setVisible(J,L.size)}if(!K&&w){const Y=this.viewItems[w.index],J=u<w.limitDelta;K=J!==Y.visible,Y.setVisible(J,w.size)}if(K)return this.resize(d,u,f,S,v,m,_);u=(0,h.clamp)(u,V,j);for(let Y=0,J=u;Y<M.length;Y++){const Z=M[Y],ie=(0,h.clamp)(O[Y]+J,Z.minimumSize,Z.maximumSize);J-=ie-O[Y],Z.size=ie}for(let Y=0,J=u;Y<F.length;Y++){const Z=F[Y],ie=(0,h.clamp)(R[Y]-J,Z.minimumSize,Z.maximumSize);J+=ie-R[Y],Z.size=ie}return u}distributeEmptySpace(d){const u=this.viewItems.reduce((_,L)=>_+L.size,0);let f=this.size-u;const S=(0,I.range)(this.viewItems.length-1,-1),v=S.filter(_=>this.viewItems[_].priority===1),m=S.filter(_=>this.viewItems[_].priority===2);for(const _ of m)(0,I.pushToStart)(S,_);for(const _ of v)(0,I.pushToEnd)(S,_);typeof d=="number"&&(0,I.pushToEnd)(S,d);for(let _=0;f!==0&&_<S.length;_++){const L=this.viewItems[S[_]],w=(0,h.clamp)(L.size+f,L.minimumSize,L.maximumSize);f-=w-L.size,L.size=w}}layoutViews(){this.contentSize=this.viewItems.reduce((u,f)=>u+f.size,0);let d=0;for(const u of this.viewItems)u.layout(d,this.layoutContext),d+=u.size;this.sashItems.forEach(u=>u.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let d=!1;const u=this.viewItems.map(L=>d=L.size-L.minimumSize>0||d);d=!1;const f=this.viewItems.map(L=>d=L.maximumSize-L.size>0||d),S=[...this.viewItems].reverse();d=!1;const v=S.map(L=>d=L.size-L.minimumSize>0||d).reverse();d=!1;const m=S.map(L=>d=L.maximumSize-L.size>0||d).reverse();let _=0;for(let L=0;L<this.sashItems.length;L++){const{sash:w}=this.sashItems[L];_+=this.viewItems[L].size;const D=!(u[L]&&m[L+1]),M=!(f[L]&&v[L+1]);if(D&&M){const O=(0,I.range)(L,-1),F=(0,I.range)(L+1,this.viewItems.length),R=this.findFirstSnapIndex(O),A=this.findFirstSnapIndex(F),P=typeof R=="number"&&!this.viewItems[R].visible,E=typeof A=="number"&&!this.viewItems[A].visible;P&&v[L]&&(_>0||this.startSnappingEnabled)?w.state=1:E&&u[L]&&(_<this.contentSize||this.endSnappingEnabled)?w.state=2:w.state=0}else D&&!M?w.state=1:!D&&M?w.state=2:w.state=3}}getSashPosition(d){let u=0;for(let f=0;f<this.sashItems.length;f++)if(u+=this.viewItems[f].size,this.sashItems[f].sash===d)return u;return 0}findFirstSnapIndex(d){for(const u of d){const f=this.viewItems[u];if(!!f.visible&&f.snap)return u}for(const u of d){const f=this.viewItems[u];if(f.visible&&f.maximumSize-f.minimumSize>0)return;if(!f.visible&&f.snap)return u}}dispose(){super.dispose(),this.viewItems.forEach(d=>d.dispose()),this.viewItems=[],this.sashItems.forEach(d=>d.disposable.dispose()),this.sashItems=[]}}e.SplitView=o}),define(ee[338],te([11]),{}),define(ee[339],te([0,1,7,111,221,4,2,338]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class C{constructor(t,r,c){this.columns=t,this.getColumnSize=c,this.templateId=C.TemplateId,this.renderedTemplates=new Set;const l=new Map(r.map(a=>[a.templateId,a]));this.renderers=[];for(const a of t){const s=l.get(a.templateId);if(!s)throw new Error(`Table cell renderer for template id ${a.templateId} not found.`);this.renderers.push(s)}}renderTemplate(t){const r=(0,y.append)(t,(0,y.$)(".monaco-table-tr")),c=[],l=[];for(let s=0;s<this.columns.length;s++){const o=this.renderers[s],n=(0,y.append)(r,(0,y.$)(".monaco-table-td",{"data-col-index":s}));n.style.width=`${this.getColumnSize(s)}px`,c.push(n),l.push(o.renderTemplate(n))}const a={container:t,cellContainers:c,cellTemplateData:l};return this.renderedTemplates.add(a),a}renderElement(t,r,c,l){for(let a=0;a<this.columns.length;a++){const o=this.columns[a].project(t);this.renderers[a].renderElement(o,r,c.cellTemplateData[a],l)}}disposeElement(t,r,c,l){for(let a=0;a<this.columns.length;a++){const s=this.renderers[a];if(s.disposeElement){const n=this.columns[a].project(t);s.disposeElement(n,r,c.cellTemplateData[a],l)}}}disposeTemplate(t){for(let r=0;r<this.columns.length;r++)this.renderers[r].disposeTemplate(t.cellTemplateData[r]);(0,y.clearNode)(t.container),this.renderedTemplates.delete(t)}layoutColumn(t,r){for(const{cellContainers:c}of this.renderedTemplates)c[t].style.width=`${r}px`}}C.TemplateId="row";function p(i){return{getHeight(t){return i.getHeight(t)},getTemplateId(){return C.TemplateId}}}class h{constructor(t,r){this.column=t,this.index=r,this._onDidLayout=new I.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,y.$)(".monaco-table-th",{"data-col-index":r,title:t.tooltip},t.label)}get minimumSize(){var t;return(t=this.column.minimumWidth)!==null&&t!==void 0?t:120}get maximumSize(){var t;return(t=this.column.maximumWidth)!==null&&t!==void 0?t:Number.POSITIVE_INFINITY}get onDidChange(){var t;return(t=this.column.onDidChangeWidthConstraints)!==null&&t!==void 0?t:I.Event.None}layout(t){this._onDidLayout.fire([this.index,t])}}class g{constructor(t,r,c,l,a,s){this.virtualDelegate=c,this.domId=`table_id_${++g.InstanceCount}`,this.disposables=new b.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,y.append)(r,(0,y.$)(`.monaco-table.${this.domId}`));const o=l.map((u,f)=>new h(u,f)),n={size:o.reduce((u,f)=>u+f.column.weight,0),views:o.map(u=>({size:u.column.weight,view:u}))};this.splitview=this.disposables.add(new T.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:n})),this.splitview.el.style.height=`${c.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${c.headerRowHeight}px`;const d=new C(l,a,u=>this.splitview.getViewSize(u));this.list=this.disposables.add(new N.List(t,this.domNode,p(c),[d],s)),I.Event.any(...o.map(u=>u.onDidLayout))(([u,f])=>d.layoutColumn(u,f),null,this.disposables),this.splitview.onDidSashReset(u=>{const f=l.reduce((v,m)=>v+m.weight,0),S=l[u].weight/f*this.cachedWidth;this.splitview.resizeView(u,S)},null,this.disposables),this.styleElement=(0,y.createStyleSheet)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(t){this.list.updateOptions(t)}splice(t,r,c=[]){this.list.splice(t,r,c)}getHTMLElement(){return this.domNode}style(t){const r=[];r.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=r.join(`
`),this.list.style(t)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=g,g.InstanceCount=0}),define(ee[340],te([11]),{}),define(ee[139],te([11]),{}),define(ee[222],te([0,1,7,132,139]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const T={},I=new N.IdGenerator("quick-input-button-icon-");function b(C){if(!C)return;let p;const h=C.dark.toString();return T[h]?p=T[h]:(p=I.nextId(),y.createCSSRule(`.${p}`,`background-image: ${y.asCSSUrl(C.light||C.dark)}`),y.createCSSRule(`.vs-dark .${p}, .hc-black .${p}`,`background-image: ${y.asCSSUrl(C.dark)}`),T[h]=p),p}e.getIconClass=b}),define(ee[341],te([11]),{}),define(ee[342],te([11]),{}),define(ee[343],te([11]),{}),define(ee[344],te([11]),{}),define(ee[345],te([11]),{}),define(ee[346],te([11]),{}),define(ee[347],te([11]),{}),define(ee[348],te([11]),{}),define(ee[349],te([11]),{}),define(ee[350],te([11]),{}),define(ee[351],te([11]),{}),define(ee[352],te([11]),{}),define(ee[353],te([11]),{}),define(ee[354],te([11]),{}),define(ee[355],te([11]),{}),define(ee[356],te([11]),{}),define(ee[357],te([11]),{}),define(ee[358],te([11]),{}),define(ee[359],te([11]),{}),define(ee[360],te([11]),{}),define(ee[361],te([11]),{}),define(ee[362],te([11]),{}),define(ee[363],te([11]),{}),define(ee[364],te([11]),{}),define(ee[365],te([11]),{}),define(ee[366],te([11]),{}),define(ee[367],te([11]),{}),define(ee[368],te([11]),{}),define(ee[369],te([11]),{}),define(ee[370],te([11]),{}),define(ee[371],te([11]),{}),define(ee[372],te([11]),{}),define(ee[373],te([11]),{}),define(ee[374],te([11]),{}),define(ee[375],te([11]),{}),define(ee[376],te([11]),{}),define(ee[377],te([11]),{}),define(ee[378],te([11]),{}),define(ee[379],te([11]),{}),define(ee[380],te([11]),{}),define(ee[381],te([11]),{}),define(ee[382],te([11]),{}),define(ee[383],te([11]),{}),define(ee[384],te([11]),{}),define(ee[385],te([11]),{}),define(ee[386],te([11]),{}),define(ee[387],te([11]),{}),define(ee[223],te([0,1,2]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class N extends y.Disposable{constructor(I,b,C){super();this.referenceDomElement=I,this.changeCallback=C,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,b)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver!="undefined"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(I=>{I&&I[0]&&I[0].contentRect?this.observe({width:I[0].contentRect.width,height:I[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(I){this.measureReferenceDomElement(!0,I)}measureReferenceDomElement(I,b){let C=0,p=0;b?(C=b.width,p=b.height):this.referenceDomElement&&(C=this.referenceDomElement.clientWidth,p=this.referenceDomElement.clientHeight),C=Math.max(5,C),p=Math.max(5,p),(this.width!==C||this.height!==p)&&(this.width=C,this.height=p,I&&this.changeCallback())}}e.ElementSizeObserver=N}),define(ee[388],te([0,1,4,2]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCodeEditorService=void 0;class T extends N.Disposable{constructor(){super();this._onCodeEditorAdd=this._register(new y.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new y.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new y.Emitter),this._onDiffEditorRemove=this._register(new y.Emitter),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(b){this._codeEditors[b.getId()]=b,this._onCodeEditorAdd.fire(b)}removeCodeEditor(b){delete this._codeEditors[b.getId()]&&this._onCodeEditorRemove.fire(b)}listCodeEditors(){return Object.keys(this._codeEditors).map(b=>this._codeEditors[b])}addDiffEditor(b){this._diffEditors[b.getId()]=b,this._onDiffEditorAdd.fire(b)}removeDiffEditor(b){delete this._diffEditors[b.getId()]&&this._onDiffEditorRemove.fire(b)}listDiffEditors(){return Object.keys(this._diffEditors).map(b=>this._diffEditors[b])}getFocusedCodeEditor(){let b=null;const C=this.listCodeEditors();for(const p of C){if(p.hasTextFocus())return p;p.hasWidgetFocus()&&(b=p)}return b}setModelProperty(b,C,p){const h=b.toString();let g;this._modelProperties.has(h)?g=this._modelProperties.get(h):(g=new Map,this._modelProperties.set(h,g)),g.set(C,p)}getModelProperty(b,C){const p=b.toString();if(this._modelProperties.has(p))return this._modelProperties.get(p).get(C)}}e.AbstractCodeEditorService=T}),define(ee[224],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const N=[];for(let T=32;T<=126;T++)N.push(T);return N.push(65533),N})();const y=(N,T)=>(N-=32,N<0||N>96?T<=2?(N+96)%96:96-1:N);e.getCharIndex=y}),define(ee[389],te([0,1,224,136]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class T{constructor(b,C){this.scale=C,this._minimapCharRendererBrand=void 0,this.charDataNormal=T.soften(b,12/15),this.charDataLight=T.soften(b,50/60)}static soften(b,C){let p=new Uint8ClampedArray(b.length);for(let h=0,g=b.length;h<g;h++)p[h]=(0,N.toUint8)(b[h]*C);return p}renderChar(b,C,p,h,g,i,t,r,c,l,a){const s=1*this.scale,o=2*this.scale,n=a?1:o;if(C+s>b.width||p+n>b.height){console.warn("bad render request outside image data");return}const d=l?this.charDataLight:this.charDataNormal,u=(0,y.getCharIndex)(h,c),f=b.width*4,S=t.r,v=t.g,m=t.b,_=g.r-S,L=g.g-v,w=g.b-m,k=Math.max(i,r),D=b.data;let M=u*s*o,O=p*f+C*4;for(let F=0;F<n;F++){let R=O;for(let A=0;A<s;A++){const P=d[M++]/255*(i/255);D[R++]=S+_*P,D[R++]=v+L*P,D[R++]=m+w*P,D[R++]=k}O+=f}}blockRenderChar(b,C,p,h,g,i,t,r){const c=1*this.scale,l=2*this.scale,a=r?1:l;if(C+c>b.width||p+a>b.height){console.warn("bad render request outside image data");return}const s=b.width*4,o=.5*(g/255),n=i.r,d=i.g,u=i.b,f=h.r-n,S=h.g-d,v=h.b-u,m=n+f*o,_=d+S*o,L=u+v*o,w=Math.max(g,t),k=b.data;let D=p*s+C*4;for(let M=0;M<a;M++){let O=D;for(let F=0;F<c;F++)k[O++]=m,k[O++]=_,k[O++]=L,k[O++]=w;D+=s}}}e.MinimapCharRenderer=T}),define(ee[390],te([0,1,84]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const N={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},T=I=>{const b=new Uint8ClampedArray(I.length/2);for(let C=0;C<I.length;C+=2)b[C>>1]=N[I[C]]<<4|N[I[C+1]]&15;return b};e.prebakedMiniMaps={1:(0,y.once)(()=>T("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,y.once)(()=>T("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(ee[391],te([0,1,389,224,390,136]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class b{static create(p,h){if(this.lastCreated&&p===this.lastCreated.scale&&h===this.lastFontFamily)return this.lastCreated;let g;return T.prebakedMiniMaps[p]?g=new y.MinimapCharRenderer(T.prebakedMiniMaps[p](),p):g=b.createFromSampleData(b.createSampleData(h).data,p),this.lastFontFamily=h,this.lastCreated=g,g}static createSampleData(p){const h=document.createElement("canvas"),g=h.getContext("2d");h.style.height=`${16}px`,h.height=16,h.width=96*10,h.style.width=96*10+"px",g.fillStyle="#ffffff",g.font=`bold ${16}px ${p}`,g.textBaseline="middle";let i=0;for(const t of N.allCharCodes)g.fillText(String.fromCharCode(t),i,16/2),i+=10;return g.getImageData(0,0,96*10,16)}static createFromSampleData(p,h){const g=16*10*4*96;if(p.length!==g)throw new Error("Unexpected source in MinimapCharRenderer");let i=b._downsample(p,h);return new y.MinimapCharRenderer(i,h)}static _downsampleChar(p,h,g,i,t){const r=1*t,c=2*t;let l=i,a=0;for(let s=0;s<c;s++){const o=s/c*16,n=(s+1)/c*16;for(let d=0;d<r;d++){const u=d/r*10,f=(d+1)/r*10;let S=0,v=0;for(let _=o;_<n;_++){const L=h+Math.floor(_)*3840,w=1-(_-Math.floor(_));for(let k=u;k<f;k++){const D=1-(k-Math.floor(k)),M=L+Math.floor(k)*4,O=D*w;v+=O,S+=p[M]*p[M+3]/255*O}}const m=S/v;a=Math.max(a,m),g[l++]=(0,I.toUint8)(m)}}return a}static _downsample(p,h){const g=2*h*1*h,i=g*96,t=new Uint8ClampedArray(i);let r=0,c=0,l=0;for(let a=0;a<96;a++)l=Math.max(l,this._downsampleChar(p,c,t,r,h)),r+=g,c+=10*4;if(l>0){const a=255/l;for(let s=0;s<i;s++)t[s]*=a}return t}}e.MinimapCharRendererFactory=b}),define(ee[140],te([0,1,4]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new y.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(N){N=Math.min(Math.max(-5,N),20),this._zoomLevel!==N&&(this._zoomLevel=N,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(ee[174],te([0,1,17,140]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const T=y.isMacintosh?1.5:1.35,I=8;class b{constructor(h){this._bareFontInfoBrand=void 0,this.zoomLevel=h.zoomLevel,this.pixelRatio=h.pixelRatio,this.fontFamily=String(h.fontFamily),this.fontWeight=String(h.fontWeight),this.fontSize=h.fontSize,this.fontFeatureSettings=h.fontFeatureSettings,this.lineHeight=h.lineHeight|0,this.letterSpacing=h.letterSpacing}static createFromValidatedSettings(h,g,i,t){const r=h.get(42),c=h.get(46),l=h.get(45),a=h.get(44),s=h.get(58),o=h.get(55);return b._create(r,c,l,a,s,o,g,i,t)}static _create(h,g,i,t,r,c,l,a,s){r===0?r=T*i:r<I&&(r=r*i),r=Math.round(r),r<I&&(r=I);const o=1+(s?0:N.EditorZoom.getZoomLevel()*.1);return i*=o,r*=o,new b({zoomLevel:l,pixelRatio:a,fontFamily:h,fontWeight:g,fontSize:i,fontFeatureSettings:t,lineHeight:r,letterSpacing:c})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(h){const g=b._wrapInQuotes(this.fontFamily);return h&&this.fontFamily!==h?`${g}, ${h}`:g}static _wrapInQuotes(h){return/[,"']/.test(h)?h:/[+ ]/.test(h)?`"${h}"`:h}}e.BareFontInfo=b,e.SERIALIZED_FONT_INFO_VERSION=1;class C extends b{constructor(h,g){super(h);this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=g,this.isMonospace=h.isMonospace,this.typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=h.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=h.canUseHalfwidthRightwardsArrow,this.spaceWidth=h.spaceWidth,this.middotWidth=h.middotWidth,this.wsmiddotWidth=h.wsmiddotWidth,this.maxDigitWidth=h.maxDigitWidth}equals(h){return this.fontFamily===h.fontFamily&&this.fontWeight===h.fontWeight&&this.fontSize===h.fontSize&&this.fontFeatureSettings===h.fontFeatureSettings&&this.lineHeight===h.lineHeight&&this.letterSpacing===h.letterSpacing&&this.typicalHalfwidthCharacterWidth===h.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===h.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===h.canUseHalfwidthRightwardsArrow&&this.spaceWidth===h.spaceWidth&&this.middotWidth===h.middotWidth&&this.wsmiddotWidth===h.wsmiddotWidth&&this.maxDigitWidth===h.maxDigitWidth}}e.FontInfo=C}),define(ee[141],te([0,1,8]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class N{static visibleColumnFromColumn(I,b,C){const p=I.length,h=b-1<p?b-1:p;let g=0,i=0;for(;i<h;){const t=y.getNextCodePoint(I,h,i);if(i+=t>=65536?2:1,t===9)g=N.nextRenderTabStop(g,C);else{let r=y.getGraphemeBreakType(t);for(;i<h;){const c=y.getNextCodePoint(I,h,i),l=y.getGraphemeBreakType(c);if(y.breakBetweenGraphemeBreakType(r,l))break;i+=c>=65536?2:1,r=l}y.isFullWidthCharacter(t)||y.isEmojiImprecise(t)?g=g+2:g=g+1}}return g}static visibleColumnFromColumn2(I,b,C){return this.visibleColumnFromColumn(b.getLineContent(C.lineNumber),C.column,I.tabSize)}static columnFromVisibleColumn(I,b,C){if(b<=0)return 1;const p=I.length;let h=0,g=1,i=0;for(;i<p;){const t=y.getNextCodePoint(I,p,i);i+=t>=65536?2:1;let r;if(t===9)r=N.nextRenderTabStop(h,C);else{let l=y.getGraphemeBreakType(t);for(;i<p;){const a=y.getNextCodePoint(I,p,i),s=y.getGraphemeBreakType(a);if(y.breakBetweenGraphemeBreakType(l,s))break;i+=a>=65536?2:1,l=s}y.isFullWidthCharacter(t)||y.isEmojiImprecise(t)?r=h+2:r=h+1}const c=i+1;if(r>=b){const l=b-h;return r-b<l?c:g}h=r,g=c}return p+1}static columnFromVisibleColumn2(I,b,C,p){let h=this.columnFromVisibleColumn(b.getLineContent(C),p,I.tabSize),g=b.getLineMinColumn(C);if(h<g)return g;let i=b.getLineMaxColumn(C);return h>i?i:h}static nextRenderTabStop(I,b){return I+b-I%b}static nextIndentTabStop(I,b){return I+b-I%b}static prevRenderTabStop(I,b){return Math.max(0,I-1-(I-1)%b)}static prevIndentTabStop(I,b){return Math.max(0,I-1-(I-1)%b)}}e.CursorColumns=N}),define(ee[97],te([0,1,136]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class N{constructor(b){let C=(0,y.toUint8)(b);this._defaultValue=C,this._asciiMap=N._createAsciiMap(C),this._map=new Map}static _createAsciiMap(b){let C=new Uint8Array(256);for(let p=0;p<256;p++)C[p]=b;return C}set(b,C){let p=(0,y.toUint8)(C);b>=0&&b<256?this._asciiMap[b]=p:this._map.set(b,p)}get(b){return b>=0&&b<256?this._asciiMap[b]:this._map.get(b)||this._defaultValue}}e.CharacterClassifier=N;class T{constructor(){this._actual=new N(0)}add(b){this._actual.set(b,1)}has(b){return this._actual.get(b)===1}}e.CharacterSet=T}),define(ee[112],te([0,1,97]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class N extends y.CharacterClassifier{constructor(b){super(0);for(let C=0,p=b.length;C<p;C++)this.set(b.charCodeAt(C),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=N;function T(I){let b={};return C=>(b.hasOwnProperty(C)||(b[C]=I(C)),b[C])}e.getMapForWordSeparators=T(I=>new N(I))}),define(ee[14],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class y{constructor(T,I){this.lineNumber=T,this.column=I}with(T=this.lineNumber,I=this.column){return T===this.lineNumber&&I===this.column?this:new y(T,I)}delta(T=0,I=0){return this.with(this.lineNumber+T,this.column+I)}equals(T){return y.equals(this,T)}static equals(T,I){return!T&&!I?!0:!!T&&!!I&&T.lineNumber===I.lineNumber&&T.column===I.column}isBefore(T){return y.isBefore(this,T)}static isBefore(T,I){return T.lineNumber<I.lineNumber?!0:I.lineNumber<T.lineNumber?!1:T.column<I.column}isBeforeOrEqual(T){return y.isBeforeOrEqual(this,T)}static isBeforeOrEqual(T,I){return T.lineNumber<I.lineNumber?!0:I.lineNumber<T.lineNumber?!1:T.column<=I.column}static compare(T,I){let b=T.lineNumber|0,C=I.lineNumber|0;if(b===C){let p=T.column|0,h=I.column|0;return p-h}return b-C}clone(){return new y(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(T){return new y(T.lineNumber,T.column)}static isIPosition(T){return T&&typeof T.lineNumber=="number"&&typeof T.column=="number"}}e.Position=y}),define(ee[3],te([0,1,14]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class N{constructor(I,b,C,p){I>C||I===C&&b>p?(this.startLineNumber=C,this.startColumn=p,this.endLineNumber=I,this.endColumn=b):(this.startLineNumber=I,this.startColumn=b,this.endLineNumber=C,this.endColumn=p)}isEmpty(){return N.isEmpty(this)}static isEmpty(I){return I.startLineNumber===I.endLineNumber&&I.startColumn===I.endColumn}containsPosition(I){return N.containsPosition(this,I)}static containsPosition(I,b){return!(b.lineNumber<I.startLineNumber||b.lineNumber>I.endLineNumber||b.lineNumber===I.startLineNumber&&b.column<I.startColumn||b.lineNumber===I.endLineNumber&&b.column>I.endColumn)}static strictContainsPosition(I,b){return!(b.lineNumber<I.startLineNumber||b.lineNumber>I.endLineNumber||b.lineNumber===I.startLineNumber&&b.column<=I.startColumn||b.lineNumber===I.endLineNumber&&b.column>=I.endColumn)}containsRange(I){return N.containsRange(this,I)}static containsRange(I,b){return!(b.startLineNumber<I.startLineNumber||b.endLineNumber<I.startLineNumber||b.startLineNumber>I.endLineNumber||b.endLineNumber>I.endLineNumber||b.startLineNumber===I.startLineNumber&&b.startColumn<I.startColumn||b.endLineNumber===I.endLineNumber&&b.endColumn>I.endColumn)}strictContainsRange(I){return N.strictContainsRange(this,I)}static strictContainsRange(I,b){return!(b.startLineNumber<I.startLineNumber||b.endLineNumber<I.startLineNumber||b.startLineNumber>I.endLineNumber||b.endLineNumber>I.endLineNumber||b.startLineNumber===I.startLineNumber&&b.startColumn<=I.startColumn||b.endLineNumber===I.endLineNumber&&b.endColumn>=I.endColumn)}plusRange(I){return N.plusRange(this,I)}static plusRange(I,b){let C,p,h,g;return b.startLineNumber<I.startLineNumber?(C=b.startLineNumber,p=b.startColumn):b.startLineNumber===I.startLineNumber?(C=b.startLineNumber,p=Math.min(b.startColumn,I.startColumn)):(C=I.startLineNumber,p=I.startColumn),b.endLineNumber>I.endLineNumber?(h=b.endLineNumber,g=b.endColumn):b.endLineNumber===I.endLineNumber?(h=b.endLineNumber,g=Math.max(b.endColumn,I.endColumn)):(h=I.endLineNumber,g=I.endColumn),new N(C,p,h,g)}intersectRanges(I){return N.intersectRanges(this,I)}static intersectRanges(I,b){let C=I.startLineNumber,p=I.startColumn,h=I.endLineNumber,g=I.endColumn,i=b.startLineNumber,t=b.startColumn,r=b.endLineNumber,c=b.endColumn;return C<i?(C=i,p=t):C===i&&(p=Math.max(p,t)),h>r?(h=r,g=c):h===r&&(g=Math.min(g,c)),C>h||C===h&&p>g?null:new N(C,p,h,g)}equalsRange(I){return N.equalsRange(this,I)}static equalsRange(I,b){return!!I&&!!b&&I.startLineNumber===b.startLineNumber&&I.startColumn===b.startColumn&&I.endLineNumber===b.endLineNumber&&I.endColumn===b.endColumn}getEndPosition(){return N.getEndPosition(this)}static getEndPosition(I){return new y.Position(I.endLineNumber,I.endColumn)}getStartPosition(){return N.getStartPosition(this)}static getStartPosition(I){return new y.Position(I.startLineNumber,I.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(I,b){return new N(this.startLineNumber,this.startColumn,I,b)}setStartPosition(I,b){return new N(I,b,this.endLineNumber,this.endColumn)}collapseToStart(){return N.collapseToStart(this)}static collapseToStart(I){return new N(I.startLineNumber,I.startColumn,I.startLineNumber,I.startColumn)}static fromPositions(I,b=I){return new N(I.lineNumber,I.column,b.lineNumber,b.column)}static lift(I){return I?new N(I.startLineNumber,I.startColumn,I.endLineNumber,I.endColumn):null}static isIRange(I){return I&&typeof I.startLineNumber=="number"&&typeof I.startColumn=="number"&&typeof I.endLineNumber=="number"&&typeof I.endColumn=="number"}static areIntersectingOrTouching(I,b){return!(I.endLineNumber<b.startLineNumber||I.endLineNumber===b.startLineNumber&&I.endColumn<b.startColumn||b.endLineNumber<I.startLineNumber||b.endLineNumber===I.startLineNumber&&b.endColumn<I.startColumn)}static areIntersecting(I,b){return!(I.endLineNumber<b.startLineNumber||I.endLineNumber===b.startLineNumber&&I.endColumn<=b.startColumn||b.endLineNumber<I.startLineNumber||b.endLineNumber===I.startLineNumber&&b.endColumn<=I.startColumn)}static compareRangesUsingStarts(I,b){if(I&&b){const h=I.startLineNumber|0,g=b.startLineNumber|0;if(h===g){const i=I.startColumn|0,t=b.startColumn|0;if(i===t){const r=I.endLineNumber|0,c=b.endLineNumber|0;if(r===c){const l=I.endColumn|0,a=b.endColumn|0;return l-a}return r-c}return i-t}return h-g}return(I?1:0)-(b?1:0)}static compareRangesUsingEnds(I,b){return I.endLineNumber===b.endLineNumber?I.endColumn===b.endColumn?I.startLineNumber===b.startLineNumber?I.startColumn-b.startColumn:I.startLineNumber-b.startLineNumber:I.endColumn-b.endColumn:I.endLineNumber-b.endLineNumber}static spansMultipleLines(I){return I.endLineNumber>I.startLineNumber}}e.Range=N}),define(ee[225],te([0,1,8,14,3]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class I{constructor(p,h,g,i,t){this.value=p,this.selectionStart=h,this.selectionEnd=g,this.selectionStartPosition=i,this.selectionEndPosition=t}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(p){return new I(p.getValue(),p.getSelectionStart(),p.getSelectionEnd(),null,null)}collapseSelection(){return new I(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(p,h,g){e._debugComposition&&console.log("writeToTextArea "+p+": "+this.toString()),h.setValue(p,this.value),g&&h.setSelectionRange(p,this.selectionStart,this.selectionEnd)}deduceEditorPosition(p){if(p<=this.selectionStart){const i=this.value.substring(p,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,i,-1)}if(p>=this.selectionEnd){const i=this.value.substring(this.selectionEnd,p);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,1)}const h=this.value.substring(this.selectionStart,p);if(h.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,h,1);const g=this.value.substring(p,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,g,-1)}_finishDeduceEditorPosition(p,h,g){let i=0,t=-1;for(;(t=h.indexOf(`
`,t+1))!==-1;)i++;return[p,g*h.length,i]}static selectedText(p){return new I(p,0,p.length,null,null)}static deduceInput(p,h,g){if(!p)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+p.toString()),console.log("CURRENT STATE: "+h.toString()));let i=p.value,t=p.selectionStart,r=p.selectionEnd,c=h.value,l=h.selectionStart,a=h.selectionEnd;const s=i.substring(r),o=c.substring(a),n=y.commonSuffixLength(s,o);c=c.substring(0,c.length-n),i=i.substring(0,i.length-n);const d=i.substring(0,t),u=c.substring(0,l),f=y.commonPrefixLength(d,u);if(c=c.substring(f),i=i.substring(f),l-=f,t-=f,a-=f,r-=f,e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+i+">, selectionStart: "+t+", selectionEnd: "+r),console.log("AFTER DIFFING CURRENT STATE: <"+c+">, selectionStart: "+l+", selectionEnd: "+a)),g&&l===a&&i.length>0){let v=null;if(l===c.length?c.startsWith(i)&&(v=c.substring(i.length)):c.endsWith(i)&&(v=c.substring(0,c.length-i.length)),v!==null&&v.length>0&&(/\uFE0F/.test(v)||y.containsEmoji(v)))return{text:v,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(l===a){if(i===c&&t===0&&r===i.length&&l===c.length&&c.indexOf(`
`)===-1&&y.containsFullWidthCharacter(c))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const v=d.length-f;return e._debugComposition&&console.log("REMOVE PREVIOUS: "+(d.length-f)+" chars"),{text:c,replacePrevCharCnt:v,replaceNextCharCnt:0,positionDelta:0}}const S=r-t;return{text:c,replacePrevCharCnt:S,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(p,h){if(!p)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+p.toString()),console.log("CURRENT STATE: "+h.toString())),p.value===h.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:h.selectionEnd-p.selectionEnd};const g=Math.min(y.commonPrefixLength(p.value,h.value),p.selectionEnd),i=Math.min(y.commonSuffixLength(p.value,h.value),p.value.length-p.selectionEnd),t=p.value.substring(g,p.value.length-i),r=h.value.substring(g,h.value.length-i),c=p.selectionStart-g,l=p.selectionEnd-g,a=h.selectionStart-g,s=h.selectionEnd-g;return e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+t+">, selectionStart: "+c+", selectionEnd: "+l),console.log("AFTER DIFFING CURRENT STATE: <"+r+">, selectionStart: "+a+", selectionEnd: "+s)),{text:r,replacePrevCharCnt:l,replaceNextCharCnt:t.length-l,positionDelta:s-r.length}}}e.TextAreaState=I,I.EMPTY=new I("",0,0,null,null);class b{static _getPageOfLine(p,h){return Math.floor((p-1)/h)}static _getRangeForPage(p,h){const g=p*h,i=g+1,t=g+h;return new T.Range(i,1,t+1,1)}static fromEditorSelection(p,h,g,i,t){const r=b._getPageOfLine(g.startLineNumber,i),c=b._getRangeForPage(r,i),l=b._getPageOfLine(g.endLineNumber,i),a=b._getRangeForPage(l,i),s=c.intersectRanges(new T.Range(1,1,g.startLineNumber,g.startColumn));let o=h.getValueInRange(s,1);const n=h.getLineCount(),d=h.getLineMaxColumn(n),u=a.intersectRanges(new T.Range(g.endLineNumber,g.endColumn,n,d));let f=h.getValueInRange(u,1),S;if(r===l||r+1===l)S=h.getValueInRange(g,1);else{const v=c.intersectRanges(g),m=a.intersectRanges(g);S=h.getValueInRange(v,1)+String.fromCharCode(8230)+h.getValueInRange(m,1)}if(t){const v=500;o.length>v&&(o=o.substring(o.length-v,o.length)),f.length>v&&(f=f.substring(0,v)),S.length>2*v&&(S=S.substring(0,v)+String.fromCharCode(8230)+S.substring(S.length-v,S.length))}return new I(o+S+f,o.length,o.length+S.length,new N.Position(g.startLineNumber,g.startColumn),new N.Position(g.endLineNumber,g.endColumn))}}e.PagedScreenReaderStrategy=b}),define(ee[226],te([0,1,206,4,2,37,3]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const C={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class p extends T.Disposable{constructor(g,i={}){super();this._onDidUpdate=this._register(new N.Emitter),this._editor=g,this._options=I.mixin(i,C,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(t=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(t=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(g){this.ranges=[],g&&g.forEach(i=>{!this._options.ignoreCharChanges&&i.charChanges?i.charChanges.forEach(t=>{this.ranges.push({rhs:!0,range:new b.Range(t.modifiedStartLineNumber,t.modifiedStartColumn,t.modifiedEndLineNumber,t.modifiedEndColumn)})}):i.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new b.Range(i.modifiedStartLineNumber,1,i.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new b.Range(i.modifiedStartLineNumber,1,i.modifiedEndLineNumber+1,1)})}),this.ranges.sort((i,t)=>b.Range.compareRangesUsingStarts(i.range,t.range)),this._onDidUpdate.fire(this)}_initIdx(g){let i=!1,t=this._editor.getPosition();if(!t){this.nextIdx=0;return}for(let r=0,c=this.ranges.length;r<c&&!i;r++){let l=this.ranges[r].range;t.isBeforeOrEqual(l.getStartPosition())&&(this.nextIdx=r+(g?0:-1),i=!0)}i||(this.nextIdx=g?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(g,i){if(y.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(g):g?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let t=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let r=t.range.getStartPosition();this._editor.setPosition(r),this._editor.revealRangeInCenter(t.range,i)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(g=0){this._move(!0,g)}previous(g=0){this._move(!1,g)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=p}),define(ee[59],te([0,1,3]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class N{static insert(I,b){return{range:new y.Range(I.lineNumber,I.column,I.lineNumber,I.column),text:b,forceMoveMarkers:!0}}static delete(I){return{range:I,text:null}}static replace(I,b){return{range:I,text:b}}static replaceMove(I,b){return{range:I,text:b,forceMoveMarkers:!0}}}e.EditOperation=N}),define(ee[392],te([0,1,8,59,3]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class I{constructor(p,h){this._selection=p,this._cursors=h,this._selectionId=null}getEditOperations(p,h){let g=b(p,this._cursors);for(let i=0,t=g.length;i<t;i++){let r=g[i];h.addEditOperation(r.range,r.text)}this._selectionId=h.trackSelection(this._selection)}computeCursorState(p,h){return h.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=I;function b(C,p){p.sort((r,c)=>r.lineNumber===c.lineNumber?r.column-c.column:r.lineNumber-c.lineNumber);for(let r=p.length-2;r>=0;r--)p[r].lineNumber===p[r+1].lineNumber&&p.splice(r,1);let h=[],g=0,i=0,t=p.length;for(let r=1,c=C.getLineCount();r<=c;r++){let l=C.getLineContent(r),a=l.length+1,s=0;if(i<t&&p[i].lineNumber===r&&(s=p[i].column,i++,s===a)||l.length===0)continue;let o=y.lastNonWhitespaceIndex(l),n=0;if(o===-1)n=1;else if(o!==l.length-1)n=o+2;else continue;n=Math.max(s,n),h[g++]=N.EditOperation.delete(new T.Range(r,n,r,a))}return h}e.trimTrailingWhitespace=b}),define(ee[227],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class y{constructor(T,I,b,C){this._rgba8Brand=void 0,this.r=y._clamp(T),this.g=y._clamp(I),this.b=y._clamp(b),this.a=y._clamp(C)}equals(T){return this.r===T.r&&this.g===T.g&&this.b===T.b&&this.a===T.a}static _clamp(T){return T<0?0:T>255?255:T|0}}e.RGBA8=y,y.Empty=new y(0,0,0,0)}),define(ee[21],te([0,1,14,3]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class T extends N.Range{constructor(b,C,p,h){super(b,C,p,h);this.selectionStartLineNumber=b,this.selectionStartColumn=C,this.positionLineNumber=p,this.positionColumn=h}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(b){return T.selectionsEqual(this,b)}static selectionsEqual(b,C){return b.selectionStartLineNumber===C.selectionStartLineNumber&&b.selectionStartColumn===C.selectionStartColumn&&b.positionLineNumber===C.positionLineNumber&&b.positionColumn===C.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(b,C){return this.getDirection()===0?new T(this.startLineNumber,this.startColumn,b,C):new T(b,C,this.startLineNumber,this.startColumn)}getPosition(){return new y.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new y.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(b,C){return this.getDirection()===0?new T(b,C,this.endLineNumber,this.endColumn):new T(this.endLineNumber,this.endColumn,b,C)}static fromPositions(b,C=b){return new T(b.lineNumber,b.column,C.lineNumber,C.column)}static fromRange(b,C){return C===0?new T(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn):new T(b.endLineNumber,b.endColumn,b.startLineNumber,b.startColumn)}static liftSelection(b){return new T(b.selectionStartLineNumber,b.selectionStartColumn,b.positionLineNumber,b.positionColumn)}static selectionsArrEqual(b,C){if(b&&!C||!b&&C)return!1;if(!b&&!C)return!0;if(b.length!==C.length)return!1;for(let p=0,h=b.length;p<h;p++)if(!this.selectionsEqual(b[p],C[p]))return!1;return!0}static isISelection(b){return b&&typeof b.selectionStartLineNumber=="number"&&typeof b.selectionStartColumn=="number"&&typeof b.positionLineNumber=="number"&&typeof b.positionColumn=="number"}static createWithDirection(b,C,p,h,g){return g===0?new T(b,C,p,h):new T(p,h,b,C)}}e.Selection=T}),define(ee[175],te([0,1,34,7,46,10,4,2,109,8,225,21]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var t;(function(o){o.Tap="-monaco-textarea-synthetic-tap"})(t=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class r{constructor(){this._lastState=null}set(n,d){this._lastState={lastCopiedValue:n,data:d}}get(n){return this._lastState&&this._lastState.lastCopiedValue===n?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=r,r.INSTANCE=new r;class c{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(n){n=n||"";const d={text:n,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=n.length,d}}class l extends C.Disposable{constructor(n,d,u,f){super();this._host=n,this._textArea=d,this._OS=u,this._browser=f,this._onFocus=this._register(new b.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new b.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new b.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new b.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new b.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new b.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new b.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new b.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new b.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new b.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new b.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new I.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new I.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=g.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null,this._nextCommand=0;let S=null;this._register(this._textArea.onKeyDown(v=>{const m=new T.StandardKeyboardEvent(v);(m.keyCode===109||this._currentComposition&&m.keyCode===1)&&m.stopPropagation(),m.equals(9)&&m.preventDefault(),S=m,this._onKeyDown.fire(m)})),this._register(this._textArea.onKeyUp(v=>{const m=new T.StandardKeyboardEvent(v);this._onKeyUp.fire(m)})),this._register(this._textArea.onCompositionStart(v=>{g._debugComposition&&console.log("[compositionstart]",v);const m=new c;if(this._currentComposition){this._currentComposition=m;return}if(this._currentComposition=m,this._OS===2&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===v.data&&(S&&S.equals(109)&&(S.code==="ArrowRight"||S.code==="ArrowLeft")||this._browser.isFirefox)){g._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",v),m.handleCompositionUpdate("x"),this._onCompositionStart.fire({revealDeltaColumns:-1});return}if(this._browser.isAndroid){this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});return}this._onCompositionStart.fire({revealDeltaColumns:0})})),this._register(this._textArea.onCompositionUpdate(v=>{g._debugComposition&&console.log("[compositionupdate]",v);const m=this._currentComposition;if(!m)return;if(this._browser.isAndroid){const L=g.TextAreaState.readFromTextArea(this._textArea),w=g.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,L);this._textAreaState=L,this._onType.fire(w),this._onCompositionUpdate.fire(v);return}const _=m.handleCompositionUpdate(v.data);this._textAreaState=g.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(_),this._onCompositionUpdate.fire(v)})),this._register(this._textArea.onCompositionEnd(v=>{g._debugComposition&&console.log("[compositionend]",v);const m=this._currentComposition;if(!m)return;if(this._currentComposition=null,this._browser.isAndroid){const L=g.TextAreaState.readFromTextArea(this._textArea),w=g.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,L);this._textAreaState=L,this._onType.fire(w),this._onCompositionEnd.fire();return}const _=m.handleCompositionUpdate(v.data);this._textAreaState=g.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(_),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(v=>{if(g._debugComposition&&console.log("[input]",v),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const m=g.TextAreaState.readFromTextArea(this._textArea),_=g.TextAreaState.deduceInput(this._textAreaState,m,this._OS===2);if(_.replacePrevCharCnt===0&&_.text.length===1&&h.isHighSurrogate(_.text.charCodeAt(0)))return;this._textAreaState=m;const L=_.text===""&&_.replacePrevCharCnt===0&&_.replaceNextCharCnt===0&&_.positionDelta===0;this._nextCommand===0?L||this._onType.fire(_):(L||this._firePaste(_.text,null),this._nextCommand=0)})),this._register(this._textArea.onCut(v=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(v),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(v=>{this._ensureClipboardGetsEditorSelection(v)})),this._register(this._textArea.onPaste(v=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),a.canUseTextData(v)){const[m,_]=a.getTextData(v);m!==""&&this._firePaste(m,_)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",g.TextAreaState.EMPTY),this._nextCommand=1})),this._register(this._textArea.onFocus(()=>{const v=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!v&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let n=0;return N.addDisposableListener(document,"selectionchange",d=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const u=Date.now(),f=u-n;if(n=u,f<5)return;const S=u-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),S<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const v=this._textArea.getValue();if(this._textAreaState.value!==v)return;const m=this._textArea.getSelectionStart(),_=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===m&&this._textAreaState.selectionEnd===_)return;const L=this._textAreaState.deduceEditorPosition(m),w=this._host.deduceModelPosition(L[0],L[1],L[2]),k=this._textAreaState.deduceEditorPosition(_),D=this._host.deduceModelPosition(k[0],k[1],k[2]),M=new i.Selection(w.lineNumber,w.column,D.lineNumber,D.column);this._onSelectionChangeRequest.fire(M)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(n){this._hasFocus!==n&&(this._hasFocus=n,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(n,d){this._hasFocus||(d=d.collapseSelection()),d.writeToTextArea(n,this._textArea,this._hasFocus),this._textAreaState=d}writeScreenReaderContent(n){this._currentComposition||this._setAndWriteTextAreaState(n,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(n){const d=this._host.getDataToCopy(a.canUseTextData(n)),u={version:1,isFromEmptySelection:d.isFromEmptySelection,multicursorText:d.multicursorText,mode:d.mode};if(r.INSTANCE.set(this._browser.isFirefox?d.text.replace(/\r\n/g,`
`):d.text,u),!a.canUseTextData(n)){this._setAndWriteTextAreaState("copy or cut",g.TextAreaState.selectedText(d.text));return}a.setTextData(n,d.text,d.html,u)}_firePaste(n,d){d||(d=r.INSTANCE.get(n)),this._onPaste.fire({text:n,metadata:d})}}e.TextAreaInput=l;class a{static canUseTextData(n){return!!n.clipboardData}static getTextData(n){if(n.clipboardData){n.preventDefault();const d=n.clipboardData.getData(p.Mimes.text);let u=null;const f=n.clipboardData.getData("vscode-editor-data");if(typeof f=="string")try{u=JSON.parse(f),u.version!==1&&(u=null)}catch(S){}return[d,u]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(n,d,u,f){if(n.clipboardData){n.clipboardData.setData(p.Mimes.text,d),typeof u=="string"&&n.clipboardData.setData("text/html",u),n.clipboardData.setData("vscode-editor-data",JSON.stringify(f)),n.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class s extends C.Disposable{constructor(n){super();this._actual=n,this.onKeyDown=this._register(N.createEventEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(N.createEventEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(N.createEventEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(N.createEventEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(N.createEventEmitter(this._actual,"compositionend")).event,this.onInput=this._register(N.createEventEmitter(this._actual,"input")).event,this.onCut=this._register(N.createEventEmitter(this._actual,"cut")).event,this.onCopy=this._register(N.createEventEmitter(this._actual,"copy")).event,this.onPaste=this._register(N.createEventEmitter(this._actual,"paste")).event,this.onFocus=this._register(N.createEventEmitter(this._actual,"focus")).event,this.onBlur=this._register(N.createEventEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new b.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(N.addDisposableListener(this._actual,t.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const n=N.getShadowRoot(this._actual);return n?n.activeElement===this._actual:N.isInDOM(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(n){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(n,d){const u=this._actual;u.value!==d&&(this.setIgnoreSelectionChangeTime("setValue"),u.value=d)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(n,d,u){const f=this._actual;let S=null;const v=N.getShadowRoot(f);v?S=v.activeElement:S=document.activeElement;const m=S===f,_=f.selectionStart,L=f.selectionEnd;if(m&&_===d&&L===u){y.isFirefox&&window.parent!==window&&f.focus();return}if(m){this.setIgnoreSelectionChangeTime("setSelectionRange"),f.setSelectionRange(d,u),y.isFirefox&&window.parent!==window&&f.focus();return}try{const w=N.saveParentsScrollTop(f);this.setIgnoreSelectionChangeTime("setSelectionRange"),f.focus(),f.setSelectionRange(d,u),N.restoreParentsScrollTop(f,w)}catch(w){}}}e.TextAreaWrapper=s}),define(ee[98],te([0,1,21]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class N{constructor(h,g,i=!1){this._range=h,this._text=g,this.insertsAutoWhitespace=i}getEditOperations(h,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(h,g){let t=g.getInverseEditOperations()[0].range;return y.Selection.fromPositions(t.getEndPosition())}}e.ReplaceCommand=N;class T{constructor(h,g){this._range=h,this._text=g}getEditOperations(h,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(h,g){const t=g.getInverseEditOperations()[0].range;return y.Selection.fromRange(t,0)}}e.ReplaceCommandThatSelectsText=T;class I{constructor(h,g,i=!1){this._range=h,this._text=g,this.insertsAutoWhitespace=i}getEditOperations(h,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(h,g){let t=g.getInverseEditOperations()[0].range;return y.Selection.fromPositions(t.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=I;class b{constructor(h,g,i,t,r=!1){this._range=h,this._text=g,this._columnDeltaOffset=t,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=r}getEditOperations(h,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(h,g){let t=g.getInverseEditOperations()[0].range;return y.Selection.fromPositions(t.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=b;class C{constructor(h,g,i,t=!1){this._range=h,this._text=g,this._initialSelection=i,this._forceMoveMarkers=t,this._selectionId=null}getEditOperations(h,g){g.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=g.trackSelection(this._initialSelection)}computeCursorState(h,g){return g.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=C}),define(ee[393],te([0,1,3,21]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SurroundSelectionCommand=void 0;class T{constructor(b,C,p){this._range=b,this._charBeforeSelection=C,this._charAfterSelection=p}getEditOperations(b,C){C.addTrackedEditOperation(new y.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),C.addTrackedEditOperation(new y.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(b,C){let p=C.getInverseEditOperations(),h=p[0].range,g=p[1].range;return new N.Selection(h.endLineNumber,h.endColumn,g.endLineNumber,g.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=T}),define(ee[87],te([0,1,8,17,104]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let I;function b(){return I||(I=new TextDecoder("UTF-16LE")),I}let C;function p(){return C||(C=new TextDecoder("UTF-16BE")),C}let h;function g(){return h||(h=N.isLittleEndian()?b():p()),h}e.getPlatformTextDecoder=g,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=l=>new r(l),e.decodeUTF16LE=i):(e.createStringBuilder=l=>new c,e.decodeUTF16LE=t);function i(l,a,s){const o=new Uint16Array(l.buffer,a,s);return s>0&&(o[0]===65279||o[0]===65534)?t(l,a,s):b().decode(o)}function t(l,a,s){let o=[],n=0;for(let d=0;d<s;d++){const u=T.readUInt16LE(l,a);a+=2,o[n++]=String.fromCharCode(u)}return o.join("")}class r{constructor(a){this._capacity=a|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const a=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return g().decode(a)}_flushBuffer(){const a=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[a]:this._completedStrings[this._completedStrings.length]=a}write1(a){const s=this._capacity-this._bufferLength;s<=1&&(s===0||y.isHighSurrogate(a))&&this._flushBuffer(),this._buffer[this._bufferLength++]=a}appendASCII(a){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=a}appendASCIIString(a){const s=a.length;if(this._bufferLength+s>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=a;return}for(let o=0;o<s;o++)this._buffer[this._bufferLength++]=a.charCodeAt(o)}}class c{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(a){this._pieces[this._piecesLen++]=String.fromCharCode(a)}appendASCII(a){this._pieces[this._piecesLen++]=String.fromCharCode(a)}appendASCIIString(a){this._pieces[this._piecesLen++]=a}}}),define(ee[176],te([0,1,32,87]),function(q,e,y,N){"use strict";var T;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class I{constructor(h){this._createLine=h,this._set(1,[])}flush(){this._set(1,[])}_set(h,g){this._lines=g,this._rendLineNumberStart=h}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(h){const g=h-this._rendLineNumberStart;if(g<0||g>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[g]}onLinesDeleted(h,g){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),t=this.getEndLineNumber();if(g<i){const a=g-h+1;return this._rendLineNumberStart-=a,null}if(h>t)return null;let r=0,c=0;for(let a=i;a<=t;a++){const s=a-this._rendLineNumberStart;h<=a&&a<=g&&(c===0?(r=s,c=1):c++)}if(h<i){let a=0;g<i?a=g-h+1:a=i-h,this._rendLineNumberStart-=a}return this._lines.splice(r,c)}onLinesChanged(h,g){if(this.getCount()===0)return!1;const i=this.getStartLineNumber(),t=this.getEndLineNumber();let r=!1;for(let c=h;c<=g;c++)c>=i&&c<=t&&(this._lines[c-this._rendLineNumberStart].onContentChanged(),r=!0);return r}onLinesInserted(h,g){if(this.getCount()===0)return null;const i=g-h+1,t=this.getStartLineNumber(),r=this.getEndLineNumber();if(h<=t)return this._rendLineNumberStart+=i,null;if(h>r)return null;if(i+h>r)return this._lines.splice(h-this._rendLineNumberStart,r-h+1);const c=[];for(let n=0;n<i;n++)c[n]=this._createLine();const l=h-this._rendLineNumberStart,a=this._lines.slice(0,l),s=this._lines.slice(l,this._lines.length-i),o=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=a.concat(c).concat(s),o}onTokensChanged(h){if(this.getCount()===0)return!1;const g=this.getStartLineNumber(),i=this.getEndLineNumber();let t=!1;for(let r=0,c=h.length;r<c;r++){const l=h[r];if(l.toLineNumber<g||l.fromLineNumber>i)continue;const a=Math.max(g,l.fromLineNumber),s=Math.min(i,l.toLineNumber);for(let o=a;o<=s;o++){const n=o-this._rendLineNumberStart;this._lines[n].onTokensChanged(),t=!0}}return t}}e.RenderedLinesCollection=I;class b{constructor(h){this._host=h,this.domNode=this._createDomNode(),this._linesCollection=new I(()=>this._host.createVisibleLine())}_createDomNode(){const h=(0,y.createFastDomNode)(document.createElement("div"));return h.setClassName("view-layer"),h.setPosition("absolute"),h.domNode.setAttribute("role","presentation"),h.domNode.setAttribute("aria-hidden","true"),h}onConfigurationChanged(h){return!!h.hasChanged(130)}onFlushed(h){return this._linesCollection.flush(),!0}onLinesChanged(h){return this._linesCollection.onLinesChanged(h.fromLineNumber,h.toLineNumber)}onLinesDeleted(h){const g=this._linesCollection.onLinesDeleted(h.fromLineNumber,h.toLineNumber);if(g)for(let i=0,t=g.length;i<t;i++){const r=g[i].getDomNode();r&&this.domNode.domNode.removeChild(r)}return!0}onLinesInserted(h){const g=this._linesCollection.onLinesInserted(h.fromLineNumber,h.toLineNumber);if(g)for(let i=0,t=g.length;i<t;i++){const r=g[i].getDomNode();r&&this.domNode.domNode.removeChild(r)}return!0}onScrollChanged(h){return h.scrollTopChanged}onTokensChanged(h){return this._linesCollection.onTokensChanged(h.ranges)}onZonesChanged(h){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(h){return this._linesCollection.getLine(h)}renderLines(h){const g=this._linesCollection._get(),i=new C(this.domNode.domNode,this._host,h),t={rendLineNumberStart:g.rendLineNumberStart,lines:g.lines,linesLength:g.lines.length},r=i.render(t,h.startLineNumber,h.endLineNumber,h.relativeVerticalOffset);this._linesCollection._set(r.rendLineNumberStart,r.lines)}}e.VisibleLinesCollection=b;class C{constructor(h,g,i){this.domNode=h,this.host=g,this.viewportData=i}render(h,g,i,t){const r={rendLineNumberStart:h.rendLineNumberStart,lines:h.lines.slice(0),linesLength:h.linesLength};if(r.rendLineNumberStart+r.linesLength-1<g||i<r.rendLineNumberStart){r.rendLineNumberStart=g,r.linesLength=i-g+1,r.lines=[];for(let c=g;c<=i;c++)r.lines[c-g]=this.host.createVisibleLine();return this._finishRendering(r,!0,t),r}if(this._renderUntouchedLines(r,Math.max(g-r.rendLineNumberStart,0),Math.min(i-r.rendLineNumberStart,r.linesLength-1),t,g),r.rendLineNumberStart>g){const c=g,l=Math.min(i,r.rendLineNumberStart-1);c<=l&&(this._insertLinesBefore(r,c,l,t,g),r.linesLength+=l-c+1)}else if(r.rendLineNumberStart<g){const c=Math.min(r.linesLength,g-r.rendLineNumberStart);c>0&&(this._removeLinesBefore(r,c),r.linesLength-=c)}if(r.rendLineNumberStart=g,r.rendLineNumberStart+r.linesLength-1<i){const c=r.rendLineNumberStart+r.linesLength,l=i;c<=l&&(this._insertLinesAfter(r,c,l,t,g),r.linesLength+=l-c+1)}else if(r.rendLineNumberStart+r.linesLength-1>i){const c=Math.max(0,i-r.rendLineNumberStart+1),a=r.linesLength-1-c+1;a>0&&(this._removeLinesAfter(r,a),r.linesLength-=a)}return this._finishRendering(r,!1,t),r}_renderUntouchedLines(h,g,i,t,r){const c=h.rendLineNumberStart,l=h.lines;for(let a=g;a<=i;a++){const s=c+a;l[a].layoutLine(s,t[s-r])}}_insertLinesBefore(h,g,i,t,r){const c=[];let l=0;for(let a=g;a<=i;a++)c[l++]=this.host.createVisibleLine();h.lines=c.concat(h.lines)}_removeLinesBefore(h,g){for(let i=0;i<g;i++){const t=h.lines[i].getDomNode();t&&this.domNode.removeChild(t)}h.lines.splice(0,g)}_insertLinesAfter(h,g,i,t,r){const c=[];let l=0;for(let a=g;a<=i;a++)c[l++]=this.host.createVisibleLine();h.lines=h.lines.concat(c)}_removeLinesAfter(h,g){const i=h.linesLength-g;for(let t=0;t<g;t++){const r=h.lines[i+t].getDomNode();r&&this.domNode.removeChild(r)}h.lines.splice(i,g)}_finishRenderingNewLines(h,g,i,t){C._ttPolicy&&(i=C._ttPolicy.createHTML(i));const r=this.domNode.lastChild;g||!r?this.domNode.innerHTML=i:r.insertAdjacentHTML("afterend",i);let c=this.domNode.lastChild;for(let l=h.linesLength-1;l>=0;l--){const a=h.lines[l];t[l]&&(a.setDomNode(c),c=c.previousSibling)}}_finishRenderingInvalidLines(h,g,i){const t=document.createElement("div");C._ttPolicy&&(g=C._ttPolicy.createHTML(g)),t.innerHTML=g;for(let r=0;r<h.linesLength;r++){const c=h.lines[r];if(i[r]){const l=t.firstChild,a=c.getDomNode();a.parentNode.replaceChild(l,a),c.setDomNode(l)}}}_finishRendering(h,g,i){const t=C._sb,r=h.linesLength,c=h.lines,l=h.rendLineNumberStart,a=[];{t.reset();let s=!1;for(let o=0;o<r;o++){const n=c[o];a[o]=!1,!(n.getDomNode()||!n.renderLine(o+l,i[o],this.viewportData,t))&&(a[o]=!0,s=!0)}s&&this._finishRenderingNewLines(h,g,t.build(),a)}{t.reset();let s=!1;const o=[];for(let n=0;n<r;n++){const d=c[n];o[n]=!1,!(a[n]||!d.renderLine(n+l,i[n],this.viewportData,t))&&(o[n]=!0,s=!0)}s&&this._finishRenderingInvalidLines(h,t.build(),o)}}}C._ttPolicy=(T=window.trustedTypes)===null||T===void 0?void 0:T.createPolicy("editorViewLayer",{createHTML:p=>p}),C._sb=(0,N.createStringBuilder)(1e5)}),define(ee[142],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationResult2=e.TokenizationResult=e.Token=void 0;class y{constructor(b,C,p){this._tokenBrand=void 0,this.offset=b,this.type=C,this.language=p}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=y;class N{constructor(b,C){this._tokenizationResultBrand=void 0,this.tokens=b,this.endState=C}}e.TokenizationResult=N;class T{constructor(b,C){this._tokenizationResult2Brand=void 0,this.tokens=b,this.endState=C}}e.TokenizationResult2=T}),define(ee[394],te([0,1,135,8]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const T=3;function I(l,a,s,o){return new y.LcsDiff(l,a,s).ComputeDiff(o)}class b{constructor(a){const s=[],o=[];for(let n=0,d=a.length;n<d;n++)s[n]=t(a[n],1),o[n]=r(a[n],1);this.lines=a,this._startColumns=s,this._endColumns=o}getElements(){const a=[];for(let s=0,o=this.lines.length;s<o;s++)a[s]=this.lines[s].substring(this._startColumns[s]-1,this._endColumns[s]-1);return a}getStrictElement(a){return this.lines[a]}getStartLineNumber(a){return a+1}getEndLineNumber(a){return a+1}createCharSequence(a,s,o){const n=[],d=[],u=[];let f=0;for(let S=s;S<=o;S++){const v=this.lines[S],m=a?this._startColumns[S]:1,_=a?this._endColumns[S]:v.length+1;for(let L=m;L<_;L++)n[f]=v.charCodeAt(L-1),d[f]=S+1,u[f]=L,f++}return new C(n,d,u)}}class C{constructor(a,s,o){this._charCodes=a,this._lineNumbers=s,this._columns=o}getElements(){return this._charCodes}getStartLineNumber(a){return this._lineNumbers[a]}getStartColumn(a){return this._columns[a]}getEndLineNumber(a){return this._lineNumbers[a]}getEndColumn(a){return this._columns[a]+1}}class p{constructor(a,s,o,n,d,u,f,S){this.originalStartLineNumber=a,this.originalStartColumn=s,this.originalEndLineNumber=o,this.originalEndColumn=n,this.modifiedStartLineNumber=d,this.modifiedStartColumn=u,this.modifiedEndLineNumber=f,this.modifiedEndColumn=S}static createFromDiffChange(a,s,o){let n,d,u,f,S,v,m,_;return a.originalLength===0?(n=0,d=0,u=0,f=0):(n=s.getStartLineNumber(a.originalStart),d=s.getStartColumn(a.originalStart),u=s.getEndLineNumber(a.originalStart+a.originalLength-1),f=s.getEndColumn(a.originalStart+a.originalLength-1)),a.modifiedLength===0?(S=0,v=0,m=0,_=0):(S=o.getStartLineNumber(a.modifiedStart),v=o.getStartColumn(a.modifiedStart),m=o.getEndLineNumber(a.modifiedStart+a.modifiedLength-1),_=o.getEndColumn(a.modifiedStart+a.modifiedLength-1)),new p(n,d,u,f,S,v,m,_)}}function h(l){if(l.length<=1)return l;const a=[l[0]];let s=a[0];for(let o=1,n=l.length;o<n;o++){const d=l[o],u=d.originalStart-(s.originalStart+s.originalLength),f=d.modifiedStart-(s.modifiedStart+s.modifiedLength);Math.min(u,f)<T?(s.originalLength=d.originalStart+d.originalLength-s.originalStart,s.modifiedLength=d.modifiedStart+d.modifiedLength-s.modifiedStart):(a.push(d),s=d)}return a}class g{constructor(a,s,o,n,d){this.originalStartLineNumber=a,this.originalEndLineNumber=s,this.modifiedStartLineNumber=o,this.modifiedEndLineNumber=n,this.charChanges=d}static createFromDiffResult(a,s,o,n,d,u,f){let S,v,m,_,L;if(s.originalLength===0?(S=o.getStartLineNumber(s.originalStart)-1,v=0):(S=o.getStartLineNumber(s.originalStart),v=o.getEndLineNumber(s.originalStart+s.originalLength-1)),s.modifiedLength===0?(m=n.getStartLineNumber(s.modifiedStart)-1,_=0):(m=n.getStartLineNumber(s.modifiedStart),_=n.getEndLineNumber(s.modifiedStart+s.modifiedLength-1)),u&&s.originalLength>0&&s.originalLength<20&&s.modifiedLength>0&&s.modifiedLength<20&&d()){const w=o.createCharSequence(a,s.originalStart,s.originalStart+s.originalLength-1),k=n.createCharSequence(a,s.modifiedStart,s.modifiedStart+s.modifiedLength-1);let D=I(w,k,d,!0).changes;f&&(D=h(D)),L=[];for(let M=0,O=D.length;M<O;M++)L.push(p.createFromDiffChange(D[M],w,k))}return new g(S,v,m,_,L)}}class i{constructor(a,s,o){this.shouldComputeCharChanges=o.shouldComputeCharChanges,this.shouldPostProcessCharChanges=o.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=o.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=o.shouldMakePrettyDiff,this.originalLines=a,this.modifiedLines=s,this.original=new b(a),this.modified=new b(s),this.continueLineDiff=c(o.maxComputationTime),this.continueCharDiff=c(o.maxComputationTime===0?0:Math.min(o.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const a=I(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),s=a.changes,o=a.quitEarly;if(this.shouldIgnoreTrimWhitespace){const f=[];for(let S=0,v=s.length;S<v;S++)f.push(g.createFromDiffResult(this.shouldIgnoreTrimWhitespace,s[S],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:o,changes:f}}const n=[];let d=0,u=0;for(let f=-1,S=s.length;f<S;f++){const v=f+1<S?s[f+1]:null,m=v?v.originalStart:this.originalLines.length,_=v?v.modifiedStart:this.modifiedLines.length;for(;d<m&&u<_;){const L=this.originalLines[d],w=this.modifiedLines[u];if(L!==w){{let k=t(L,1),D=t(w,1);for(;k>1&&D>1;){const M=L.charCodeAt(k-2),O=w.charCodeAt(D-2);if(M!==O)break;k--,D--}(k>1||D>1)&&this._pushTrimWhitespaceCharChange(n,d+1,1,k,u+1,1,D)}{let k=r(L,1),D=r(w,1);const M=L.length+1,O=w.length+1;for(;k<M&&D<O;){const F=L.charCodeAt(k-1),R=L.charCodeAt(D-1);if(F!==R)break;k++,D++}(k<M||D<O)&&this._pushTrimWhitespaceCharChange(n,d+1,k,M,u+1,D,O)}}d++,u++}v&&(n.push(g.createFromDiffResult(this.shouldIgnoreTrimWhitespace,v,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),d+=v.originalLength,u+=v.modifiedLength)}return{quitEarly:o,changes:n}}_pushTrimWhitespaceCharChange(a,s,o,n,d,u,f){if(this._mergeTrimWhitespaceCharChange(a,s,o,n,d,u,f))return;let S;this.shouldComputeCharChanges&&(S=[new p(s,o,s,n,d,u,d,f)]),a.push(new g(s,s,d,d,S))}_mergeTrimWhitespaceCharChange(a,s,o,n,d,u,f){const S=a.length;if(S===0)return!1;const v=a[S-1];return v.originalEndLineNumber===0||v.modifiedEndLineNumber===0?!1:v.originalEndLineNumber+1===s&&v.modifiedEndLineNumber+1===d?(v.originalEndLineNumber=s,v.modifiedEndLineNumber=d,this.shouldComputeCharChanges&&v.charChanges&&v.charChanges.push(new p(s,o,s,n,d,u,d,f)),!0):!1}}e.DiffComputer=i;function t(l,a){const s=N.firstNonWhitespaceIndex(l);return s===-1?a:s+1}function r(l,a){const s=N.lastNonWhitespaceIndex(l);return s===-1?a:s+2}function c(l){if(l===0)return()=>!0;const a=Date.now();return()=>Date.now()-a<l}}),define(ee[228],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class y{constructor(T,I,b,C,p,h){this.id=T,this.label=I,this.alias=b,this._precondition=C,this._run=p,this._contextKeyService=h}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=y}),define(ee[143],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(ee[113],te([0,1,143]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function N(b){return b&&typeof b.getEditorType=="function"?b.getEditorType()===y.EditorType.ICodeEditor:!1}e.isCodeEditor=N;function T(b){return b&&typeof b.getEditorType=="function"?b.getEditorType()===y.EditorType.IDiffEditor:!1}e.isDiffEditor=T;function I(b){return N(b)?b:T(b)?b.getModifiedEditor():null}e.getCodeEditor=I}),define(ee[49],te([0,1,37]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.ValidAnnotatedEditOperation=e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=e.FindMatch=e.TextModelResolvedOptions=e.MinimapPosition=e.OverviewRulerLane=void 0;var N;(function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=4]="Right",t[t.Full=7]="Full"})(N=e.OverviewRulerLane||(e.OverviewRulerLane={}));var T;(function(t){t[t.Inline=1]="Inline",t[t.Gutter=2]="Gutter"})(T=e.MinimapPosition||(e.MinimapPosition={}));class I{constructor(r){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,r.tabSize|0),this.indentSize=r.tabSize|0,this.insertSpaces=Boolean(r.insertSpaces),this.defaultEOL=r.defaultEOL|0,this.trimAutoWhitespace=Boolean(r.trimAutoWhitespace),this.bracketPairColorizationOptions=r.bracketPairColorizationOptions}equals(r){return this.tabSize===r.tabSize&&this.indentSize===r.indentSize&&this.insertSpaces===r.insertSpaces&&this.defaultEOL===r.defaultEOL&&this.trimAutoWhitespace===r.trimAutoWhitespace&&(0,y.equals)(this.bracketPairColorizationOptions,r.bracketPairColorizationOptions)}createChangeEvent(r){return{tabSize:this.tabSize!==r.tabSize,indentSize:this.indentSize!==r.indentSize,insertSpaces:this.insertSpaces!==r.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==r.trimAutoWhitespace}}}e.TextModelResolvedOptions=I;class b{constructor(r,c){this._findMatchBrand=void 0,this.range=r,this.matches=c}}e.FindMatch=b;var C;(function(t){t[t.Disabled=0]="Disabled",t[t.EnabledForActive=1]="EnabledForActive",t[t.Enabled=2]="Enabled"})(C=e.HorizontalGuidesState||(e.HorizontalGuidesState={}));class p{constructor(r,c,l){this.visibleColumn=r,this.className=c,this.horizontalLine=l}}e.IndentGuide=p;class h{constructor(r,c){this.top=r,this.endColumn=c}}e.IndentGuideHorizontalLine=h;class g{constructor(r,c,l,a,s,o){this.identifier=r,this.range=c,this.text=l,this.forceMoveMarkers=a,this.isAutoWhitespaceEdit=s,this._isTracked=o}}e.ValidAnnotatedEditOperation=g;class i{constructor(r,c,l){this.reverseEdits=r,this.changes=c,this.trimAutoWhitespaceLineNumbers=l}}e.ApplyEditsResult=i}),define(ee[395],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class y{constructor(b,C,p){this.range=b,this.nestingLevel=C,this.isInvalid=p}}e.BracketInfo=y;class N{constructor(b,C,p,h){this.range=b,this.openingBracketRange=C,this.closingBracketRange=p,this.nestingLevel=h}}e.BracketPairInfo=N;class T extends N{constructor(b,C,p,h,g){super(b,C,p,h);this.minVisibleColumnIndentation=g}}e.BracketPairWithMinIndentationInfo=T}),define(ee[88],te([0,1,8,3]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthHash=e.lengthOfString=e.lengthsToRange=e.positionToLength=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class T{constructor(f,S){this.lineCount=f,this.columnCount=S}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=T;function I(u,f,S,v){return u!==S?p(S-u,v):p(0,v-f)}e.lengthDiff=I,e.lengthZero=0;function b(u){return u===0}e.lengthIsZero=b;const C=Math.pow(2,26);function p(u,f){return u*C+f}e.toLength=p;function h(u){const f=u,S=Math.floor(f/C),v=f-S*C;return new T(S,v)}e.lengthToObj=h;function g(u){return Math.floor(u/C)}e.lengthGetLineCount=g;function i(u){return u}e.lengthGetColumnCountIfZeroLineCount=i;function t(u,f){return f<C?u+f:u-u%C+f}e.lengthAdd=t;function r(u,f){const S=u,v=f;if(v-S<=0)return e.lengthZero;const _=Math.floor(S/C),L=Math.floor(v/C),w=v-L*C;if(_===L){const k=S-_*C;return p(0,w-k)}else return p(L-_,w)}e.lengthDiffNonNegative=r;function c(u,f){return u<f}e.lengthLessThan=c;function l(u,f){return u<=f}e.lengthLessThanEqual=l;function a(u,f){return u>=f}e.lengthGreaterThanEqual=a;function s(u){return p(u.lineNumber-1,u.column-1)}e.positionToLength=s;function o(u,f){const S=u,v=Math.floor(S/C),m=S-v*C,_=f,L=Math.floor(_/C),w=_-L*C;return new N.Range(v+1,m+1,L+1,w+1)}e.lengthsToRange=o;function n(u){const f=(0,y.splitLines)(u);return p(f.length-1,f[f.length-1].length)}e.lengthOfString=n;function d(u){return u}e.lengthHash=d}),define(ee[229],te([0,1,88]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class N{constructor(C,p,h){this.startOffset=C,this.endOffset=p,this.newLength=h}}e.TextEditInfo=N;class T{constructor(C,p){this.documentLength=p,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=C.map(h=>I.from(h))}getOffsetBeforeChange(C){return this.adjustNextEdit(C),this.translateCurToOld(C)}getDistanceToNextChange(C){this.adjustNextEdit(C);const p=this.edits[this.nextEditIdx],h=p?this.translateOldToCur(p.offsetObj):this.documentLength;return(0,y.lengthDiffNonNegative)(C,h)}translateOldToCur(C){return C.lineCount===this.deltaLineIdxInOld?(0,y.toLength)(C.lineCount+this.deltaOldToNewLineCount,C.columnCount+this.deltaOldToNewColumnCount):(0,y.toLength)(C.lineCount+this.deltaOldToNewLineCount,C.columnCount)}translateCurToOld(C){const p=(0,y.lengthToObj)(C);return p.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,y.toLength)(p.lineCount-this.deltaOldToNewLineCount,p.columnCount-this.deltaOldToNewColumnCount):(0,y.toLength)(p.lineCount-this.deltaOldToNewLineCount,p.columnCount)}adjustNextEdit(C){for(;this.nextEditIdx<this.edits.length;){const p=this.edits[this.nextEditIdx],h=this.translateOldToCur(p.endOffsetAfterObj);if((0,y.lengthLessThanEqual)(h,C)){this.nextEditIdx++;const g=(0,y.lengthToObj)(h),i=(0,y.lengthToObj)(this.translateOldToCur(p.endOffsetBeforeObj)),t=g.lineCount-i.lineCount;this.deltaOldToNewLineCount+=t;const r=this.deltaLineIdxInOld===p.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,c=g.columnCount-i.columnCount;this.deltaOldToNewColumnCount=r+c,this.deltaLineIdxInOld=p.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=T;class I{constructor(C,p,h){this.endOffsetBeforeObj=(0,y.lengthToObj)(p),this.endOffsetAfterObj=(0,y.lengthToObj)((0,y.lengthAdd)(C,h)),this.offsetObj=(0,y.lengthToObj)(C)}static from(C){return new I(C.startOffset,C.endOffset,C.newLength)}}}),define(ee[396],te([0,1,88]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class N{constructor(C){this.lastOffset=y.lengthZero,this.nextNodes=[C],this.offsets=[y.lengthZero],this.idxs=[]}readLongestNodeAt(C,p){if((0,y.lengthLessThan)(C,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=C;;){const h=I(this.nextNodes);if(!h)return;const g=I(this.offsets);if((0,y.lengthLessThan)(C,g))return;if((0,y.lengthLessThan)(g,C))if((0,y.lengthAdd)(g,h.length)<=C)this.nextNodeAfterCurrent();else{const i=T(h);i!==-1?(this.nextNodes.push(h.getChild(i)),this.offsets.push(g),this.idxs.push(i)):this.nextNodeAfterCurrent()}else{if(p(h))return this.nextNodeAfterCurrent(),h;{const i=T(h);if(i===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(h.getChild(i)),this.offsets.push(g),this.idxs.push(i)}}}}nextNodeAfterCurrent(){for(;;){const C=I(this.offsets),p=I(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const h=I(this.nextNodes),g=T(h,this.idxs[this.idxs.length-1]);if(g!==-1){this.nextNodes.push(h.getChild(g)),this.offsets.push((0,y.lengthAdd)(C,p.length)),this.idxs[this.idxs.length-1]=g;break}else this.idxs.pop()}}}e.NodeReader=N;function T(b,C=-1){for(;;){if(C++,C>=b.childrenLength)return-1;if(b.getChild(C))return C}}function I(b){return b.length>0?b[b.length-1]:void 0}}),define(ee[114],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const y=new Array;class N{constructor(b,C){this.items=b,this.additionalItems=C}static create(b,C){if(b<=128&&C.length===0){let p=N.cache[b];return p||(p=new N(b,C),N.cache[b]=p),p}return new N(b,C)}static getEmpty(){return this.empty}add(b,C){const p=C.getKey(b);let h=p>>5;if(h===0){const i=1<<p|this.items;return i===this.items?this:N.create(i,this.additionalItems)}h--;const g=this.additionalItems.slice(0);for(;g.length<h;)g.push(0);return g[h]|=1<<(p&31),N.create(this.items,g)}merge(b){const C=this.items|b.items;if(this.additionalItems===y&&b.additionalItems===y)return C===this.items?this:C===b.items?b:N.create(C,y);const p=new Array;for(let h=0;h<Math.max(this.additionalItems.length,b.additionalItems.length);h++){const g=this.additionalItems[h]||0,i=b.additionalItems[h]||0;p.push(g|i)}return N.create(C,p)}intersects(b){if((this.items&b.items)!=0)return!0;for(let C=0;C<Math.min(this.additionalItems.length,b.additionalItems.length);C++)if((this.additionalItems[C]&b.additionalItems[C])!=0)return!0;return!1}}e.SmallImmutableSet=N,N.cache=new Array(129),N.empty=N.create(0,y),e.identityKeyProvider={getKey(I){return I}};class T{constructor(){this.items=new Map}getKey(b){let C=this.items.get(b);return C===void 0&&(C=this.items.size,this.items.set(b,C)),C}}e.DenseKeyProvider=T}),define(ee[144],te([0,1,141,88,114]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class I{constructor(o){this._length=o}get length(){return this._length}}class b extends I{constructor(o,n,d,u,f){super(o);this.openingBracket=n,this.child=d,this.closingBracket=u,this.missingOpeningBracketIds=f}static create(o,n,d){let u=o.length;return n&&(u=(0,N.lengthAdd)(u,n.length)),d&&(u=(0,N.lengthAdd)(u,d.length)),new b(u,o,n,d,n?n.missingOpeningBracketIds:T.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(o){switch(o){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const o=new Array;return o.push(this.openingBracket),this.child&&o.push(this.child),this.closingBracket&&o.push(this.closingBracket),o}canBeReused(o){return!(this.closingBracket===null||o.intersects(this.missingOpeningBracketIds))}deepClone(){return new b(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(o,n){return this.child?this.child.computeMinIndentation((0,N.lengthAdd)(o,this.openingBracket.length),n):Number.MAX_SAFE_INTEGER}}e.PairAstNode=b;class C extends I{constructor(o,n,d){super(o);this.listHeight=n,this._missingOpeningBracketIds=d,this.cachedMinIndentation=-1}static create23(o,n,d,u=!1){let f=o.length,S=o.missingOpeningBracketIds;if(o.listHeight!==n.listHeight)throw new Error("Invalid list heights");if(f=(0,N.lengthAdd)(f,n.length),S=S.merge(n.missingOpeningBracketIds),d){if(o.listHeight!==d.listHeight)throw new Error("Invalid list heights");f=(0,N.lengthAdd)(f,d.length),S=S.merge(d.missingOpeningBracketIds)}return u?new h(f,o.listHeight+1,o,n,d,S):new p(f,o.listHeight+1,o,n,d,S)}static getEmpty(){return new i(N.lengthZero,0,[],T.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const o=this.childrenLength;if(o===0)return;const n=this.getChild(o-1),d=n.kind===4?n.toMutable():n;return n!==d&&this.setChild(o-1,d),d}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const n=this.getChild(0),d=n.kind===4?n.toMutable():n;return n!==d&&this.setChild(0,d),d}canBeReused(o){if(o.intersects(this.missingOpeningBracketIds))return!1;let n=this,d;for(;n.kind===4&&(d=n.childrenLength)>0;)n=n.getChild(d-1);return n.canBeReused(o)}handleChildrenChanged(){this.throwIfImmutable();const o=this.childrenLength;let n=this.getChild(0).length,d=this.getChild(0).missingOpeningBracketIds;for(let u=1;u<o;u++){const f=this.getChild(u);n=(0,N.lengthAdd)(n,f.length),d=d.merge(f.missingOpeningBracketIds)}this._length=n,this._missingOpeningBracketIds=d,this.cachedMinIndentation=-1}computeMinIndentation(o,n){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let d=Number.MAX_SAFE_INTEGER,u=o;for(let f=0;f<this.childrenLength;f++){const S=this.getChild(f);S&&(d=Math.min(d,S.computeMinIndentation(u,n)),u=(0,N.lengthAdd)(u,S.length))}return this.cachedMinIndentation=d,d}}e.ListAstNode=C;class p extends C{constructor(o,n,d,u,f,S){super(o,n,S);this._item1=d,this._item2=u,this._item3=f}get childrenLength(){return this._item3!==null?3:2}getChild(o){switch(o){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(o,n){switch(o){case 0:this._item1=n;return;case 1:this._item2=n;return;case 2:this._item3=n;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new p(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(o){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=o,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const o=this._item3;return this._item3=null,this.handleChildrenChanged(),o}prependChildOfSameHeight(o){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=o,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const o=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),o}toMutable(){return this}}class h extends p{toMutable(){return new p(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class g extends C{constructor(o,n,d,u){super(o,n,u);this._children=d}get childrenLength(){return this._children.length}getChild(o){return this._children[o]}setChild(o,n){this._children[o]=n}get children(){return this._children}deepClone(){const o=new Array(this._children.length);for(let n=0;n<this._children.length;n++)o[n]=this._children[n].deepClone();return new g(this.length,this.listHeight,o,this.missingOpeningBracketIds)}appendChildOfSameHeight(o){this.throwIfImmutable(),this._children.push(o),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const o=this._children.pop();return this.handleChildrenChanged(),o}prependChildOfSameHeight(o){this.throwIfImmutable(),this._children.unshift(o),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const o=this._children.shift();return this.handleChildrenChanged(),o}toMutable(){return this}}class i extends g{toMutable(){return new g(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const t=[];class r extends I{get listHeight(){return 0}get childrenLength(){return 0}getChild(o){return null}get children(){return t}deepClone(){return this}}class c extends r{get kind(){return 0}get missingOpeningBracketIds(){return T.SmallImmutableSet.getEmpty()}canBeReused(o){return!0}computeMinIndentation(o,n){const d=(0,N.lengthToObj)(o),u=(d.columnCount===0?d.lineCount:d.lineCount+1)+1,f=(0,N.lengthGetLineCount)((0,N.lengthAdd)(o,this.length))+1;let S=Number.MAX_SAFE_INTEGER;for(let v=u;v<=f;v++){const m=n.getLineFirstNonWhitespaceColumn(v),_=n.getLineContent(v);if(m===0)continue;const L=y.CursorColumns.visibleColumnFromColumn(_,m,n.getOptions().tabSize);S=Math.min(S,L)}return S}}e.TextAstNode=c;class l extends r{constructor(o){super(o)}static create(o){const n=(0,N.lengthHash)(o),d=l.cacheByLength.get(n);if(d)return d;const u=new l(o);return l.cacheByLength.set(n,u),u}get kind(){return 1}get missingOpeningBracketIds(){return T.SmallImmutableSet.getEmpty()}canBeReused(o){return!1}computeMinIndentation(o,n){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=l,l.cacheByLength=new Map;class a extends r{constructor(o,n){super(n);this.missingOpeningBracketIds=o}get kind(){return 3}canBeReused(o){return!o.intersects(this.missingOpeningBracketIds)}computeMinIndentation(o,n){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=a}),define(ee[397],te([0,1,144]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function N(h){if(h.length===0)return null;if(h.length===1)return h[0];let g=0;function i(){if(g>=h.length)return null;const l=g,a=h[l].listHeight;for(g++;g<h.length&&h[g].listHeight===a;)g++;return g-l>=2?T(l===0&&g===h.length?h:h.slice(l,g),!1):h[l]}let t=i(),r=i();if(!r)return t;for(let l=i();l;l=i())I(t,r)<=I(r,l)?(t=b(t,r),r=l):r=b(r,l);return b(t,r)}e.concat23Trees=N;function T(h,g=!1){if(h.length===0)return null;if(h.length===1)return h[0];let i=h.length;for(;i>3;){const t=i>>1;for(let r=0;r<t;r++){const c=r<<1;h[r]=y.ListAstNode.create23(h[c],h[c+1],c+3===i?h[c+2]:null,g)}i=t}return y.ListAstNode.create23(h[0],h[1],i>=3?h[2]:null,g)}e.concat23TreesOfSameHeight=T;function I(h,g){return Math.abs(h.listHeight-g.listHeight)}function b(h,g){return h.listHeight===g.listHeight?y.ListAstNode.create23(h,g,null,!1):h.listHeight>g.listHeight?C(h,g):p(g,h)}function C(h,g){h=h.toMutable();let i=h;const t=new Array;let r;for(;;){if(g.listHeight===i.listHeight){r=g;break}if(i.kind!==4)throw new Error("unexpected");t.push(i),i=i.makeLastElementMutable()}for(let c=t.length-1;c>=0;c--){const l=t[c];r?l.childrenLength>=3?r=y.ListAstNode.create23(l.unappendChild(),r,null,!1):(l.appendChildOfSameHeight(r),r=void 0):l.handleChildrenChanged()}return r?y.ListAstNode.create23(h,r,null,!1):h}function p(h,g){h=h.toMutable();let i=h;const t=new Array;for(;g.listHeight!==i.listHeight;){if(i.kind!==4)throw new Error("unexpected");t.push(i),i=i.makeFirstElementMutable()}let r=g;for(let c=t.length-1;c>=0;c--){const l=t[c];r?l.childrenLength>=3?r=y.ListAstNode.create23(r,l.unprependChild(),null,!1):(l.prependChildOfSameHeight(r),r=void 0):l.handleChildrenChanged()}return r?y.ListAstNode.create23(r,h,null,!1):h}}),define(ee[398],te([0,1,144,229,114,88,397,396]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function p(g,i,t,r){return new h(g,i,t,r).parseDocument()}e.parseDocument=p;class h{constructor(i,t,r,c){if(this.tokenizer=i,this.createImmutableLists=c,this._itemsConstructed=0,this._itemsFromCache=0,r&&c)throw new Error("Not supported");this.oldNodeReader=r?new C.NodeReader(r):void 0,this.positionMapper=new N.BeforeEditPositionMapper(t,i.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let i=this.parseList(T.SmallImmutableSet.getEmpty());return i||(i=y.ListAstNode.getEmpty()),i}parseList(i){const t=new Array;for(;;){const c=this.tokenizer.peek();if(!c||c.kind===2&&c.bracketIds.intersects(i))break;const l=this.parseChild(i);l.kind===4&&l.childrenLength===0||t.push(l)}return this.oldNodeReader?(0,b.concat23Trees)(t):(0,b.concat23TreesOfSameHeight)(t,this.createImmutableLists)}parseChild(i){if(this.oldNodeReader){const r=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,I.lengthIsZero)(r)){const c=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),l=>(0,I.lengthLessThan)(l.length,r)?l.canBeReused(i):!1);if(c)return this._itemsFromCache++,this.tokenizer.skip(c.length),c}}this._itemsConstructed++;const t=this.tokenizer.read();switch(t.kind){case 2:return new y.InvalidBracketAstNode(t.bracketIds,t.length);case 0:return t.astNode;case 1:const r=i.merge(t.bracketIds),c=this.parseList(r),l=this.tokenizer.peek();return l&&l.kind===2&&(l.bracketId===t.bracketId||l.bracketIds.intersects(t.bracketIds))?(this.tokenizer.read(),y.PairAstNode.create(t.astNode,c,l.astNode)):y.PairAstNode.create(t.astNode,c,null);default:throw new Error("unexpected")}}}}),define(ee[399],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class y{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function N(I,b,C,p,h){h.spacesDiff=0,h.looksLikeAlignment=!1;let g;for(g=0;g<b&&g<p;g++){let s=I.charCodeAt(g),o=C.charCodeAt(g);if(s!==o)break}let i=0,t=0;for(let s=g;s<b;s++)I.charCodeAt(s)===32?i++:t++;let r=0,c=0;for(let s=g;s<p;s++)C.charCodeAt(s)===32?r++:c++;if(i>0&&t>0||r>0&&c>0)return;let l=Math.abs(t-c),a=Math.abs(i-r);if(l===0){h.spacesDiff=a,a>0&&0<=r-1&&r-1<I.length&&r<C.length&&C.charCodeAt(r)!==32&&I.charCodeAt(r-1)===32&&I.charCodeAt(I.length-1)===44&&(h.looksLikeAlignment=!0);return}if(a%l==0){h.spacesDiff=a/l;return}}function T(I,b,C){const p=Math.min(I.getLineCount(),1e4);let h=0,g=0,i="",t=0;const r=[2,4,6,8,3,5,7],c=8;let l=[0,0,0,0,0,0,0,0,0],a=new y;for(let n=1;n<=p;n++){let d=I.getLineLength(n),u=I.getLineContent(n);const f=d<=65536;let S=!1,v=0,m=0,_=0;for(let w=0,k=d;w<k;w++){let D=f?u.charCodeAt(w):I.getLineCharCode(n,w);if(D===9)_++;else if(D===32)m++;else{S=!0,v=w;break}}if(!S||(_>0?h++:m>1&&g++,N(i,t,u,v,a),a.looksLikeAlignment&&!(C&&b===a.spacesDiff)))continue;let L=a.spacesDiff;L<=c&&l[L]++,i=u,t=v}let s=C;h!==g&&(s=h<g);let o=b;if(s){let n=s?0:.1*p;r.forEach(d=>{let u=l[d];u>n&&(n=u,o=d)}),o===4&&l[4]>0&&l[2]>0&&l[2]>=l[4]/2&&(o=2)}return{insertSpaces:s,tabSize:o}}e.guessIndentation=T}),define(ee[400],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function y(R){return(R.metadata&1)>>>0}e.getNodeColor=y;function N(R,A){R.metadata=R.metadata&254|A<<0}function T(R){return(R.metadata&2)>>>1==1}function I(R,A){R.metadata=R.metadata&253|(A?1:0)<<1}function b(R){return(R.metadata&4)>>>2==1}function C(R,A){R.metadata=R.metadata&251|(A?1:0)<<2}function p(R){return(R.metadata&24)>>>3}function h(R,A){R.metadata=R.metadata&231|A<<3}function g(R){return(R.metadata&32)>>>5==1}function i(R,A){R.metadata=R.metadata&223|(A?1:0)<<5}class t{constructor(A,P,E){this.metadata=0,this.parent=this,this.left=this,this.right=this,N(this,1),this.start=P,this.end=E,this.delta=0,this.maxEnd=E,this.id=A,this.ownerId=0,this.options=null,C(this,!1),h(this,1),i(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=P,this.cachedAbsoluteEnd=E,this.range=null,I(this,!1)}reset(A,P,E,B){this.start=P,this.end=E,this.maxEnd=E,this.cachedVersionId=A,this.cachedAbsoluteStart=P,this.cachedAbsoluteEnd=E,this.range=B}setOptions(A){this.options=A;let P=this.options.className;C(this,P==="squiggly-error"||P==="squiggly-warning"||P==="squiggly-info"),h(this,this.options.stickiness),i(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(A,P,E){this.cachedVersionId!==E&&(this.range=null),this.cachedVersionId=E,this.cachedAbsoluteStart=A,this.cachedAbsoluteEnd=P}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=t,e.SENTINEL=new t(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,N(e.SENTINEL,0);class r{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(A,P,E,B,V){return this.root===e.SENTINEL?[]:f(this,A,P,E,B,V)}search(A,P,E){return this.root===e.SENTINEL?[]:u(this,A,P,E)}collectNodesFromOwner(A){return n(this,A)}collectNodesPostOrder(){return d(this)}insert(A){S(this,A),this._normalizeDeltaIfNecessary()}delete(A){m(this,A),this._normalizeDeltaIfNecessary()}resolveNode(A,P){const E=A;let B=0;for(;A!==this.root;)A===A.parent.right&&(B+=A.parent.delta),A=A.parent;const V=E.start+B,j=E.end+B;E.setCachedOffsets(V,j,P)}acceptReplace(A,P,E,B){const V=s(this,A,A+P);for(let j=0,K=V.length;j<K;j++){const Y=V[j];m(this,Y)}this._normalizeDeltaIfNecessary(),o(this,A,A+P,E),this._normalizeDeltaIfNecessary();for(let j=0,K=V.length;j<K;j++){const Y=V[j];Y.start=Y.cachedAbsoluteStart,Y.end=Y.cachedAbsoluteEnd,a(Y,A,A+P,E,B),Y.maxEnd=Y.end,S(this,Y)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,c(this))}}e.IntervalTree=r;function c(R){let A=R.root,P=0;for(;A!==e.SENTINEL;){if(A.left!==e.SENTINEL&&!T(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!T(A.right)){P+=A.delta,A=A.right;continue}A.start=P+A.start,A.end=P+A.end,A.delta=0,M(A),I(A,!0),I(A.left,!1),I(A.right,!1),A===A.parent.right&&(P-=A.parent.delta),A=A.parent}I(R.root,!1)}function l(R,A,P,E){return R<P?!0:R>P||E===1?!1:E===2?!0:A}function a(R,A,P,E,B){const V=p(R),j=V===0||V===2,K=V===1||V===2,Y=P-A,J=E,Z=Math.min(Y,J),ie=R.start;let ne=!1;const G=R.end;let W=!1;A<=ie&&G<=P&&g(R)&&(R.start=A,ne=!0,R.end=A,W=!0);{const U=B?1:Y>0?2:0;!ne&&l(ie,j,A,U)&&(ne=!0),!W&&l(G,K,A,U)&&(W=!0)}if(Z>0&&!B){const U=Y>J?2:0;!ne&&l(ie,j,A+Z,U)&&(ne=!0),!W&&l(G,K,A+Z,U)&&(W=!0)}{const U=B?1:0;!ne&&l(ie,j,P,U)&&(R.start=A+J,ne=!0),!W&&l(G,K,P,U)&&(R.end=A+J,W=!0)}const z=J-Y;ne||(R.start=Math.max(0,ie+z)),W||(R.end=Math.max(0,G+z)),R.start>R.end&&(R.end=R.start)}e.nodeAcceptEdit=a;function s(R,A,P){let E=R.root,B=0,V=0,j=0,K=0,Y=[],J=0;for(;E!==e.SENTINEL;){if(T(E)){I(E.left,!1),I(E.right,!1),E===E.parent.right&&(B-=E.parent.delta),E=E.parent;continue}if(!T(E.left)){if(V=B+E.maxEnd,V<A){I(E,!0);continue}if(E.left!==e.SENTINEL){E=E.left;continue}}if(j=B+E.start,j>P){I(E,!0);continue}if(K=B+E.end,K>=A&&(E.setCachedOffsets(j,K,0),Y[J++]=E),I(E,!0),E.right!==e.SENTINEL&&!T(E.right)){B+=E.delta,E=E.right;continue}}return I(R.root,!1),Y}function o(R,A,P,E){let B=R.root,V=0,j=0,K=0;const Y=E-(P-A);for(;B!==e.SENTINEL;){if(T(B)){I(B.left,!1),I(B.right,!1),B===B.parent.right&&(V-=B.parent.delta),M(B),B=B.parent;continue}if(!T(B.left)){if(j=V+B.maxEnd,j<A){I(B,!0);continue}if(B.left!==e.SENTINEL){B=B.left;continue}}if(K=V+B.start,K>P){B.start+=Y,B.end+=Y,B.delta+=Y,(B.delta<-1073741824||B.delta>1073741824)&&(R.requestNormalizeDelta=!0),I(B,!0);continue}if(I(B,!0),B.right!==e.SENTINEL&&!T(B.right)){V+=B.delta,B=B.right;continue}}I(R.root,!1)}function n(R,A){let P=R.root,E=[],B=0;for(;P!==e.SENTINEL;){if(T(P)){I(P.left,!1),I(P.right,!1),P=P.parent;continue}if(P.left!==e.SENTINEL&&!T(P.left)){P=P.left;continue}if(P.ownerId===A&&(E[B++]=P),I(P,!0),P.right!==e.SENTINEL&&!T(P.right)){P=P.right;continue}}return I(R.root,!1),E}function d(R){let A=R.root,P=[],E=0;for(;A!==e.SENTINEL;){if(T(A)){I(A.left,!1),I(A.right,!1),A=A.parent;continue}if(A.left!==e.SENTINEL&&!T(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!T(A.right)){A=A.right;continue}P[E++]=A,I(A,!0)}return I(R.root,!1),P}function u(R,A,P,E){let B=R.root,V=0,j=0,K=0,Y=[],J=0;for(;B!==e.SENTINEL;){if(T(B)){I(B.left,!1),I(B.right,!1),B===B.parent.right&&(V-=B.parent.delta),B=B.parent;continue}if(B.left!==e.SENTINEL&&!T(B.left)){B=B.left;continue}j=V+B.start,K=V+B.end,B.setCachedOffsets(j,K,E);let Z=!0;if(A&&B.ownerId&&B.ownerId!==A&&(Z=!1),P&&b(B)&&(Z=!1),Z&&(Y[J++]=B),I(B,!0),B.right!==e.SENTINEL&&!T(B.right)){V+=B.delta,B=B.right;continue}}return I(R.root,!1),Y}function f(R,A,P,E,B,V){let j=R.root,K=0,Y=0,J=0,Z=0,ie=[],ne=0;for(;j!==e.SENTINEL;){if(T(j)){I(j.left,!1),I(j.right,!1),j===j.parent.right&&(K-=j.parent.delta),j=j.parent;continue}if(!T(j.left)){if(Y=K+j.maxEnd,Y<A){I(j,!0);continue}if(j.left!==e.SENTINEL){j=j.left;continue}}if(J=K+j.start,J>P){I(j,!0);continue}if(Z=K+j.end,Z>=A){j.setCachedOffsets(J,Z,V);let G=!0;E&&j.ownerId&&j.ownerId!==E&&(G=!1),B&&b(j)&&(G=!1),G&&(ie[ne++]=j)}if(I(j,!0),j.right!==e.SENTINEL&&!T(j.right)){K+=j.delta,j=j.right;continue}}return I(R.root,!1),ie}function S(R,A){if(R.root===e.SENTINEL)return A.parent=e.SENTINEL,A.left=e.SENTINEL,A.right=e.SENTINEL,N(A,0),R.root=A,R.root;v(R,A),O(A.parent);let P=A;for(;P!==R.root&&y(P.parent)===1;)if(P.parent===P.parent.parent.left){const E=P.parent.parent.right;y(E)===1?(N(P.parent,0),N(E,0),N(P.parent.parent,1),P=P.parent.parent):(P===P.parent.right&&(P=P.parent,w(R,P)),N(P.parent,0),N(P.parent.parent,1),k(R,P.parent.parent))}else{const E=P.parent.parent.left;y(E)===1?(N(P.parent,0),N(E,0),N(P.parent.parent,1),P=P.parent.parent):(P===P.parent.left&&(P=P.parent,k(R,P)),N(P.parent,0),N(P.parent.parent,1),w(R,P.parent.parent))}return N(R.root,0),A}function v(R,A){let P=0,E=R.root;const B=A.start,V=A.end;for(;;)if(F(B,V,E.start+P,E.end+P)<0)if(E.left===e.SENTINEL){A.start-=P,A.end-=P,A.maxEnd-=P,E.left=A;break}else E=E.left;else if(E.right===e.SENTINEL){A.start-=P+E.delta,A.end-=P+E.delta,A.maxEnd-=P+E.delta,E.right=A;break}else P+=E.delta,E=E.right;A.parent=E,A.left=e.SENTINEL,A.right=e.SENTINEL,N(A,1)}function m(R,A){let P,E;if(A.left===e.SENTINEL?(P=A.right,E=A,P.delta+=A.delta,(P.delta<-1073741824||P.delta>1073741824)&&(R.requestNormalizeDelta=!0),P.start+=A.delta,P.end+=A.delta):A.right===e.SENTINEL?(P=A.left,E=A):(E=_(A.right),P=E.right,P.start+=E.delta,P.end+=E.delta,P.delta+=E.delta,(P.delta<-1073741824||P.delta>1073741824)&&(R.requestNormalizeDelta=!0),E.start+=A.delta,E.end+=A.delta,E.delta=A.delta,(E.delta<-1073741824||E.delta>1073741824)&&(R.requestNormalizeDelta=!0)),E===R.root){R.root=P,N(P,0),A.detach(),L(),M(P),R.root.parent=e.SENTINEL;return}let B=y(E)===1;if(E===E.parent.left?E.parent.left=P:E.parent.right=P,E===A?P.parent=E.parent:(E.parent===A?P.parent=E:P.parent=E.parent,E.left=A.left,E.right=A.right,E.parent=A.parent,N(E,y(A)),A===R.root?R.root=E:A===A.parent.left?A.parent.left=E:A.parent.right=E,E.left!==e.SENTINEL&&(E.left.parent=E),E.right!==e.SENTINEL&&(E.right.parent=E)),A.detach(),B){O(P.parent),E!==A&&(O(E),O(E.parent)),L();return}O(P),O(P.parent),E!==A&&(O(E),O(E.parent));let V;for(;P!==R.root&&y(P)===0;)P===P.parent.left?(V=P.parent.right,y(V)===1&&(N(V,0),N(P.parent,1),w(R,P.parent),V=P.parent.right),y(V.left)===0&&y(V.right)===0?(N(V,1),P=P.parent):(y(V.right)===0&&(N(V.left,0),N(V,1),k(R,V),V=P.parent.right),N(V,y(P.parent)),N(P.parent,0),N(V.right,0),w(R,P.parent),P=R.root)):(V=P.parent.left,y(V)===1&&(N(V,0),N(P.parent,1),k(R,P.parent),V=P.parent.left),y(V.left)===0&&y(V.right)===0?(N(V,1),P=P.parent):(y(V.left)===0&&(N(V.right,0),N(V,1),w(R,V),V=P.parent.left),N(V,y(P.parent)),N(P.parent,0),N(V.left,0),k(R,P.parent),P=R.root));N(P,0),L()}function _(R){for(;R.left!==e.SENTINEL;)R=R.left;return R}function L(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function w(R,A){const P=A.right;P.delta+=A.delta,(P.delta<-1073741824||P.delta>1073741824)&&(R.requestNormalizeDelta=!0),P.start+=A.delta,P.end+=A.delta,A.right=P.left,P.left!==e.SENTINEL&&(P.left.parent=A),P.parent=A.parent,A.parent===e.SENTINEL?R.root=P:A===A.parent.left?A.parent.left=P:A.parent.right=P,P.left=A,A.parent=P,M(A),M(P)}function k(R,A){const P=A.left;A.delta-=P.delta,(A.delta<-1073741824||A.delta>1073741824)&&(R.requestNormalizeDelta=!0),A.start-=P.delta,A.end-=P.delta,A.left=P.right,P.right!==e.SENTINEL&&(P.right.parent=A),P.parent=A.parent,A.parent===e.SENTINEL?R.root=P:A===A.parent.right?A.parent.right=P:A.parent.left=P,P.right=A,A.parent=P,M(A),M(P)}function D(R){let A=R.end;if(R.left!==e.SENTINEL){const P=R.left.maxEnd;P>A&&(A=P)}if(R.right!==e.SENTINEL){const P=R.right.maxEnd+R.delta;P>A&&(A=P)}return A}function M(R){R.maxEnd=D(R)}e.recomputeMaxEnd=M;function O(R){for(;R!==e.SENTINEL;){const A=D(R);if(R.maxEnd===A)return;R.maxEnd=A,R=R.parent}}function F(R,A,P,E){return R===P?A-E:R-P}e.intervalCompare=F}),define(ee[401],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class y{constructor(l,a){this.piece=l,this.color=a,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return N(this.right);let l=this;for(;l.parent!==e.SENTINEL&&l.parent.left!==l;)l=l.parent;return l.parent===e.SENTINEL?e.SENTINEL:l.parent}prev(){if(this.left!==e.SENTINEL)return T(this.left);let l=this;for(;l.parent!==e.SENTINEL&&l.parent.right!==l;)l=l.parent;return l.parent===e.SENTINEL?e.SENTINEL:l.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=y,e.SENTINEL=new y(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function N(c){for(;c.left!==e.SENTINEL;)c=c.left;return c}e.leftest=N;function T(c){for(;c.right!==e.SENTINEL;)c=c.right;return c}e.righttest=T;function I(c){return c===e.SENTINEL?0:c.size_left+c.piece.length+I(c.right)}e.calculateSize=I;function b(c){return c===e.SENTINEL?0:c.lf_left+c.piece.lineFeedCnt+b(c.right)}e.calculateLF=b;function C(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=C;function p(c,l){let a=l.right;a.size_left+=l.size_left+(l.piece?l.piece.length:0),a.lf_left+=l.lf_left+(l.piece?l.piece.lineFeedCnt:0),l.right=a.left,a.left!==e.SENTINEL&&(a.left.parent=l),a.parent=l.parent,l.parent===e.SENTINEL?c.root=a:l.parent.left===l?l.parent.left=a:l.parent.right=a,a.left=l,l.parent=a}e.leftRotate=p;function h(c,l){let a=l.left;l.left=a.right,a.right!==e.SENTINEL&&(a.right.parent=l),a.parent=l.parent,l.size_left-=a.size_left+(a.piece?a.piece.length:0),l.lf_left-=a.lf_left+(a.piece?a.piece.lineFeedCnt:0),l.parent===e.SENTINEL?c.root=a:l===l.parent.right?l.parent.right=a:l.parent.left=a,a.right=l,l.parent=a}e.rightRotate=h;function g(c,l){let a,s;if(l.left===e.SENTINEL?(s=l,a=s.right):l.right===e.SENTINEL?(s=l,a=s.left):(s=N(l.right),a=s.right),s===c.root){c.root=a,a.color=0,l.detach(),C(),c.root.parent=e.SENTINEL;return}let o=s.color===1;if(s===s.parent.left?s.parent.left=a:s.parent.right=a,s===l?(a.parent=s.parent,r(c,a)):(s.parent===l?a.parent=s:a.parent=s.parent,r(c,a),s.left=l.left,s.right=l.right,s.parent=l.parent,s.color=l.color,l===c.root?c.root=s:l===l.parent.left?l.parent.left=s:l.parent.right=s,s.left!==e.SENTINEL&&(s.left.parent=s),s.right!==e.SENTINEL&&(s.right.parent=s),s.size_left=l.size_left,s.lf_left=l.lf_left,r(c,s)),l.detach(),a.parent.left===a){let d=I(a),u=b(a);if(d!==a.parent.size_left||u!==a.parent.lf_left){let f=d-a.parent.size_left,S=u-a.parent.lf_left;a.parent.size_left=d,a.parent.lf_left=u,t(c,a.parent,f,S)}}if(r(c,a.parent),o){C();return}let n;for(;a!==c.root&&a.color===0;)a===a.parent.left?(n=a.parent.right,n.color===1&&(n.color=0,a.parent.color=1,p(c,a.parent),n=a.parent.right),n.left.color===0&&n.right.color===0?(n.color=1,a=a.parent):(n.right.color===0&&(n.left.color=0,n.color=1,h(c,n),n=a.parent.right),n.color=a.parent.color,a.parent.color=0,n.right.color=0,p(c,a.parent),a=c.root)):(n=a.parent.left,n.color===1&&(n.color=0,a.parent.color=1,h(c,a.parent),n=a.parent.left),n.left.color===0&&n.right.color===0?(n.color=1,a=a.parent):(n.left.color===0&&(n.right.color=0,n.color=1,p(c,n),n=a.parent.left),n.color=a.parent.color,a.parent.color=0,n.left.color=0,h(c,a.parent),a=c.root));a.color=0,C()}e.rbDelete=g;function i(c,l){for(r(c,l);l!==c.root&&l.parent.color===1;)if(l.parent===l.parent.parent.left){const a=l.parent.parent.right;a.color===1?(l.parent.color=0,a.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.right&&(l=l.parent,p(c,l)),l.parent.color=0,l.parent.parent.color=1,h(c,l.parent.parent))}else{const a=l.parent.parent.left;a.color===1?(l.parent.color=0,a.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.left&&(l=l.parent,h(c,l)),l.parent.color=0,l.parent.parent.color=1,p(c,l.parent.parent))}c.root.color=0}e.fixInsert=i;function t(c,l,a,s){for(;l!==c.root&&l!==e.SENTINEL;)l.parent.left===l&&(l.parent.size_left+=a,l.parent.lf_left+=s),l=l.parent}e.updateTreeMetadata=t;function r(c,l){let a=0,s=0;if(l!==c.root){for(;l!==c.root&&l===l.parent.right;)l=l.parent;if(l!==c.root)for(l=l.parent,a=I(l.left)-l.size_left,s=b(l.left)-l.lf_left,l.size_left+=a,l.lf_left+=s;l!==c.root&&(a!==0||s!==0);)l.parent.left===l&&(l.parent.size_left+=a,l.parent.lf_left+=s),l=l.parent}}e.recomputeTreeMetadata=r}),define(ee[230],te([0,1,104,87]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function T(p){return p.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class I{constructor(h,g,i,t){this.oldPosition=h,this.oldText=g,this.newPosition=i,this.newText=t}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${T(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${T(this.oldText)}")`:`(replace@${this.oldPosition} "${T(this.oldText)}" with "${T(this.newText)}")`}static _writeStringSize(h){return 4+2*h.length}static _writeString(h,g,i){const t=g.length;y.writeUInt32BE(h,t,i),i+=4;for(let r=0;r<t;r++)y.writeUInt16LE(h,g.charCodeAt(r),i),i+=2;return i}static _readString(h,g){const i=y.readUInt32BE(h,g);return g+=4,(0,N.decodeUTF16LE)(h,g,i)}writeSize(){return 4+4+I._writeStringSize(this.oldText)+I._writeStringSize(this.newText)}write(h,g){return y.writeUInt32BE(h,this.oldPosition,g),g+=4,y.writeUInt32BE(h,this.newPosition,g),g+=4,g=I._writeString(h,this.oldText,g),g=I._writeString(h,this.newText,g),g}static read(h,g,i){const t=y.readUInt32BE(h,g);g+=4;const r=y.readUInt32BE(h,g);g+=4;const c=I._readString(h,g);g+=I._writeStringSize(c);const l=I._readString(h,g);return g+=I._writeStringSize(l),i.push(new I(t,c,r,l)),g}}e.TextChange=I;function b(p,h){return p===null||p.length===0?h:new C(p,h).compress()}e.compressConsecutiveTextChanges=b;class C{constructor(h,g){this._prevEdits=h,this._currEdits=g,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let h=0,g=0,i=this._getPrev(h),t=this._getCurr(g);for(;h<this._prevLen||g<this._currLen;){if(i===null){this._acceptCurr(t),t=this._getCurr(++g);continue}if(t===null){this._acceptPrev(i),i=this._getPrev(++h);continue}if(t.oldEnd<=i.newPosition){this._acceptCurr(t),t=this._getCurr(++g);continue}if(i.newEnd<=t.oldPosition){this._acceptPrev(i),i=this._getPrev(++h);continue}if(t.oldPosition<i.newPosition){const[s,o]=C._splitCurr(t,i.newPosition-t.oldPosition);this._acceptCurr(s),t=o;continue}if(i.newPosition<t.oldPosition){const[s,o]=C._splitPrev(i,t.oldPosition-i.newPosition);this._acceptPrev(s),i=o;continue}let l,a;if(t.oldEnd===i.newEnd)l=i,a=t,i=this._getPrev(++h),t=this._getCurr(++g);else if(t.oldEnd<i.newEnd){const[s,o]=C._splitPrev(i,t.oldLength);l=s,a=t,i=o,t=this._getCurr(++g)}else{const[s,o]=C._splitCurr(t,i.newLength);l=i,a=s,i=this._getPrev(++h),t=o}this._result[this._resultLen++]=new I(l.oldPosition,l.oldText,a.newPosition,a.newText),this._prevDeltaOffset+=l.newLength-l.oldLength,this._currDeltaOffset+=a.newLength-a.oldLength}const r=C._merge(this._result);return C._removeNoOps(r)}_acceptCurr(h){this._result[this._resultLen++]=C._rebaseCurr(this._prevDeltaOffset,h),this._currDeltaOffset+=h.newLength-h.oldLength}_getCurr(h){return h<this._currLen?this._currEdits[h]:null}_acceptPrev(h){this._result[this._resultLen++]=C._rebasePrev(this._currDeltaOffset,h),this._prevDeltaOffset+=h.newLength-h.oldLength}_getPrev(h){return h<this._prevLen?this._prevEdits[h]:null}static _rebaseCurr(h,g){return new I(g.oldPosition-h,g.oldText,g.newPosition,g.newText)}static _rebasePrev(h,g){return new I(g.oldPosition,g.oldText,g.newPosition+h,g.newText)}static _splitPrev(h,g){const i=h.newText.substr(0,g),t=h.newText.substr(g);return[new I(h.oldPosition,h.oldText,h.newPosition,i),new I(h.oldEnd,"",h.newPosition+g,t)]}static _splitCurr(h,g){const i=h.oldText.substr(0,g),t=h.oldText.substr(g);return[new I(h.oldPosition,i,h.newPosition,h.newText),new I(h.oldPosition+g,t,h.newEnd,"")]}static _merge(h){if(h.length===0)return h;let g=[],i=0,t=h[0];for(let r=1;r<h.length;r++){const c=h[r];t.oldEnd===c.oldPosition?t=new I(t.oldPosition,t.oldText+c.oldText,t.newPosition,t.newText+c.newText):(g[i++]=t,t=c)}return g[i++]=t,g}static _removeNoOps(h){if(h.length===0)return h;let g=[],i=0;for(let t=0;t<h.length;t++){const r=h[t];r.oldText!==r.newText&&(g[i++]=r)}return g}}}),define(ee[89],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class y{constructor(){this.changeType=1}}e.ModelRawFlush=y;class N{constructor(t,r,c,l,a){this.ownerId=t,this.lineNumber=r,this.column=c,this.options=l,this.order=a}static applyInjectedText(t,r){if(!r||r.length===0)return t;let c="",l=0;for(const a of r)c+=t.substring(l,a.column-1),l=a.column-1,c+=a.options.content;return c+=t.substring(l),c}static fromDecorations(t){const r=[];for(const c of t)c.options.before&&c.options.before.content.length>0&&r.push(new N(c.ownerId,c.range.startLineNumber,c.range.startColumn,c.options.before,0)),c.options.after&&c.options.after.content.length>0&&r.push(new N(c.ownerId,c.range.endLineNumber,c.range.endColumn,c.options.after,1));return r.sort((c,l)=>c.lineNumber===l.lineNumber?c.column===l.column?c.order-l.order:c.column-l.column:c.lineNumber-l.lineNumber),r}}e.LineInjectedText=N;class T{constructor(t,r,c){this.changeType=2,this.lineNumber=t,this.detail=r,this.injectedText=c}}e.ModelRawLineChanged=T;class I{constructor(t,r){this.changeType=3,this.fromLineNumber=t,this.toLineNumber=r}}e.ModelRawLinesDeleted=I;class b{constructor(t,r,c,l){this.changeType=4,this.injectedTexts=l,this.fromLineNumber=t,this.toLineNumber=r,this.detail=c}}e.ModelRawLinesInserted=b;class C{constructor(){this.changeType=5}}e.ModelRawEOLChanged=C;class p{constructor(t,r,c,l){this.changes=t,this.versionId=r,this.isUndoing=c,this.isRedoing=l,this.resultingSelection=null}containsEvent(t){for(let r=0,c=this.changes.length;r<c;r++)if(this.changes[r].changeType===t)return!0;return!1}static merge(t,r){const c=[].concat(t.changes).concat(r.changes),l=r.versionId,a=t.isUndoing||r.isUndoing,s=t.isRedoing||r.isRedoing;return new p(c,l,a,s)}}e.ModelRawContentChangedEvent=p;class h{constructor(t){this.changes=t}}e.ModelInjectedTextChangedEvent=h;class g{constructor(t,r){this.rawContentChangedEvent=t,this.contentChangedEvent=r}merge(t){const r=p.merge(this.rawContentChangedEvent,t.rawContentChangedEvent),c=g._mergeChangeEvents(this.contentChangedEvent,t.contentChangedEvent);return new g(r,c)}static _mergeChangeEvents(t,r){const c=[].concat(t.changes).concat(r.changes),l=r.eol,a=r.versionId,s=t.isUndoing||r.isUndoing,o=t.isRedoing||r.isRedoing,n=t.isFlush||r.isFlush;return{changes:c,eol:l,versionId:a,isUndoing:s,isRedoing:o,isFlush:n}}}e.InternalModelContentChangeEvent=g}),define(ee[145],te([0,1,8,112,14,3,49]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.SearchData=e.isMultilineRegexSource=e.SearchParams=void 0;const C=999;class p{constructor(n,d,u,f){this.searchString=n,this.isRegex=d,this.matchCase=u,this.wordSeparators=f}parseSearchRequest(){if(this.searchString==="")return null;let n;this.isRegex?n=h(this.searchString):n=this.searchString.indexOf(`
`)>=0;let d=null;try{d=y.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:n,global:!0,unicode:!0})}catch(f){return null}if(!d)return null;let u=!this.isRegex&&!n;return u&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(u=this.matchCase),new g(d,this.wordSeparators?(0,N.getMapForWordSeparators)(this.wordSeparators):null,u?this.searchString:null)}}e.SearchParams=p;function h(o){if(!o||o.length===0)return!1;for(let n=0,d=o.length;n<d;n++)if(o.charCodeAt(n)===92){if(n++,n>=d)break;const f=o.charCodeAt(n);if(f===110||f===114||f===87)return!0}return!1}e.isMultilineRegexSource=h;class g{constructor(n,d,u){this.regex=n,this.wordSeparators=d,this.simpleSearch=u}}e.SearchData=g;function i(o,n,d){if(!d)return new b.FindMatch(o,null);let u=[];for(let f=0,S=n.length;f<S;f++)u[f]=n[f];return new b.FindMatch(o,u)}e.createFindMatch=i;class t{constructor(n){let d=[],u=0;for(let f=0,S=n.length;f<S;f++)n.charCodeAt(f)===10&&(d[u++]=f);this._lineFeedsOffsets=d}findLineFeedCountBeforeOffset(n){const d=this._lineFeedsOffsets;let u=0,f=d.length-1;if(f===-1||n<=d[0])return 0;for(;u<f;){const S=u+((f-u)/2>>0);d[S]>=n?f=S-1:d[S+1]>=n?(u=S,f=S):u=S+1}return u+1}}class r{static findMatches(n,d,u,f,S){const v=d.parseSearchRequest();return v?v.regex.multiline?this._doFindMatchesMultiline(n,u,new s(v.wordSeparators,v.regex),f,S):this._doFindMatchesLineByLine(n,u,v,f,S):[]}static _getMultilineMatchRange(n,d,u,f,S,v){let m,_=0;f?(_=f.findLineFeedCountBeforeOffset(S),m=d+S+_):m=d+S;let L;if(f){let M=f.findLineFeedCountBeforeOffset(S+v.length)-_;L=m+v.length+M}else L=m+v.length;const w=n.getPositionAt(m),k=n.getPositionAt(L);return new I.Range(w.lineNumber,w.column,k.lineNumber,k.column)}static _doFindMatchesMultiline(n,d,u,f,S){const v=n.getOffsetAt(d.getStartPosition()),m=n.getValueInRange(d,1),_=n.getEOL()===`\r
`?new t(m):null,L=[];let w=0,k;for(u.reset(0);k=u.next(m);)if(L[w++]=i(this._getMultilineMatchRange(n,v,m,_,k.index,k[0]),k,f),w>=S)return L;return L}static _doFindMatchesLineByLine(n,d,u,f,S){const v=[];let m=0;if(d.startLineNumber===d.endLineNumber){const L=n.getLineContent(d.startLineNumber).substring(d.startColumn-1,d.endColumn-1);return m=this._findMatchesInLine(u,L,d.startLineNumber,d.startColumn-1,m,v,f,S),v}const _=n.getLineContent(d.startLineNumber).substring(d.startColumn-1);m=this._findMatchesInLine(u,_,d.startLineNumber,d.startColumn-1,m,v,f,S);for(let L=d.startLineNumber+1;L<d.endLineNumber&&m<S;L++)m=this._findMatchesInLine(u,n.getLineContent(L),L,0,m,v,f,S);if(m<S){const L=n.getLineContent(d.endLineNumber).substring(0,d.endColumn-1);m=this._findMatchesInLine(u,L,d.endLineNumber,0,m,v,f,S)}return v}static _findMatchesInLine(n,d,u,f,S,v,m,_){const L=n.wordSeparators;if(!m&&n.simpleSearch){const D=n.simpleSearch,M=D.length,O=d.length;let F=-M;for(;(F=d.indexOf(D,F+M))!==-1;)if((!L||a(L,d,O,F,M))&&(v[S++]=new b.FindMatch(new I.Range(u,F+1+f,u,F+1+M+f),null),S>=_))return S;return S}const w=new s(n.wordSeparators,n.regex);let k;w.reset(0);do if(k=w.next(d),k&&(v[S++]=i(new I.Range(u,k.index+1+f,u,k.index+1+k[0].length+f),k,m),S>=_))return S;while(k);return S}static findNextMatch(n,d,u,f){const S=d.parseSearchRequest();if(!S)return null;const v=new s(S.wordSeparators,S.regex);return S.regex.multiline?this._doFindNextMatchMultiline(n,u,v,f):this._doFindNextMatchLineByLine(n,u,v,f)}static _doFindNextMatchMultiline(n,d,u,f){const S=new T.Position(d.lineNumber,1),v=n.getOffsetAt(S),m=n.getLineCount(),_=n.getValueInRange(new I.Range(S.lineNumber,S.column,m,n.getLineMaxColumn(m)),1),L=n.getEOL()===`\r
`?new t(_):null;u.reset(d.column-1);let w=u.next(_);return w?i(this._getMultilineMatchRange(n,v,_,L,w.index,w[0]),w,f):d.lineNumber!==1||d.column!==1?this._doFindNextMatchMultiline(n,new T.Position(1,1),u,f):null}static _doFindNextMatchLineByLine(n,d,u,f){const S=n.getLineCount(),v=d.lineNumber,m=n.getLineContent(v),_=this._findFirstMatchInLine(u,m,v,d.column,f);if(_)return _;for(let L=1;L<=S;L++){const w=(v+L-1)%S,k=n.getLineContent(w+1),D=this._findFirstMatchInLine(u,k,w+1,1,f);if(D)return D}return null}static _findFirstMatchInLine(n,d,u,f,S){n.reset(f-1);const v=n.next(d);return v?i(new I.Range(u,v.index+1,u,v.index+1+v[0].length),v,S):null}static findPreviousMatch(n,d,u,f){const S=d.parseSearchRequest();if(!S)return null;const v=new s(S.wordSeparators,S.regex);return S.regex.multiline?this._doFindPreviousMatchMultiline(n,u,v,f):this._doFindPreviousMatchLineByLine(n,u,v,f)}static _doFindPreviousMatchMultiline(n,d,u,f){const S=this._doFindMatchesMultiline(n,new I.Range(1,1,d.lineNumber,d.column),u,f,10*C);if(S.length>0)return S[S.length-1];const v=n.getLineCount();return d.lineNumber!==v||d.column!==n.getLineMaxColumn(v)?this._doFindPreviousMatchMultiline(n,new T.Position(v,n.getLineMaxColumn(v)),u,f):null}static _doFindPreviousMatchLineByLine(n,d,u,f){const S=n.getLineCount(),v=d.lineNumber,m=n.getLineContent(v).substring(0,d.column-1),_=this._findLastMatchInLine(u,m,v,f);if(_)return _;for(let L=1;L<=S;L++){const w=(S+v-L-1)%S,k=n.getLineContent(w+1),D=this._findLastMatchInLine(u,k,w+1,f);if(D)return D}return null}static _findLastMatchInLine(n,d,u,f){let S=null,v;for(n.reset(0);v=n.next(d);)S=i(new I.Range(u,v.index+1,u,v.index+1+v[0].length),v,f);return S}}e.TextModelSearch=r;function c(o,n,d,u,f){if(u===0)return!0;const S=n.charCodeAt(u-1);if(o.get(S)!==0||S===13||S===10)return!0;if(f>0){const v=n.charCodeAt(u);if(o.get(v)!==0)return!0}return!1}function l(o,n,d,u,f){if(u+f===d)return!0;const S=n.charCodeAt(u+f);if(o.get(S)!==0||S===13||S===10)return!0;if(f>0){const v=n.charCodeAt(u+f-1);if(o.get(v)!==0)return!0}return!1}function a(o,n,d,u,f){return c(o,n,d,u,f)&&l(o,n,d,u,f)}e.isValidMatch=a;class s{constructor(n,d){this._wordSeparators=n,this._searchRegex=d,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(n){this._searchRegex.lastIndex=n,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(n){const d=n.length;let u;do{if(this._prevMatchStartIndex+this._prevMatchLength===d||(u=this._searchRegex.exec(n),!u))return null;const f=u.index,S=u[0].length;if(f===this._prevMatchStartIndex&&S===this._prevMatchLength){if(S===0){y.getNextCodePoint(n,d,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=f,this._prevMatchLength=S,!this._wordSeparators||a(this._wordSeparators,n,d,f,S))return u}while(u);return null}}e.Searcher=s}),define(ee[231],te([0,1,14,3,49,401,145]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function C(a){let s;return a[a.length-1]<65536?s=new Uint16Array(a.length):s=new Uint32Array(a.length),s.set(a,0),s}e.createUintArray=C;class p{constructor(s,o,n,d,u){this.lineStarts=s,this.cr=o,this.lf=n,this.crlf=d,this.isBasicASCII=u}}e.LineStarts=p;function h(a,s=!0){let o=[0],n=1;for(let d=0,u=a.length;d<u;d++){const f=a.charCodeAt(d);f===13?d+1<u&&a.charCodeAt(d+1)===10?(o[n++]=d+2,d++):o[n++]=d+1:f===10&&(o[n++]=d+1)}return s?C(o):o}e.createLineStartsFast=h;function g(a,s){a.length=0,a[0]=0;let o=1,n=0,d=0,u=0,f=!0;for(let v=0,m=s.length;v<m;v++){const _=s.charCodeAt(v);_===13?v+1<m&&s.charCodeAt(v+1)===10?(u++,a[o++]=v+2,v++):(n++,a[o++]=v+1):_===10?(d++,a[o++]=v+1):f&&_!==9&&(_<32||_>126)&&(f=!1)}const S=new p(C(a),n,d,u,f);return a.length=0,S}e.createLineStarts=g;class i{constructor(s,o,n,d,u){this.bufferIndex=s,this.start=o,this.end=n,this.lineFeedCnt=d,this.length=u}}e.Piece=i;class t{constructor(s,o){this.buffer=s,this.lineStarts=o}}e.StringBuffer=t;class r{constructor(s,o){this._pieces=[],this._tree=s,this._BOM=o,this._index=0,s.root!==I.SENTINEL&&s.iterate(s.root,n=>(n!==I.SENTINEL&&this._pieces.push(n.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class c{constructor(s){this._limit=s,this._cache=[]}get(s){for(let o=this._cache.length-1;o>=0;o--){let n=this._cache[o];if(n.nodeStartOffset<=s&&n.nodeStartOffset+n.node.piece.length>=s)return n}return null}get2(s){for(let o=this._cache.length-1;o>=0;o--){let n=this._cache[o];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<s&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=s)return n}return null}set(s){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(s)}validate(s){let o=!1,n=this._cache;for(let d=0;d<n.length;d++){let u=n[d];if(u.node.parent===null||u.nodeStartOffset>=s){n[d]=null,o=!0;continue}}if(o){let d=[];for(const u of n)u!==null&&d.push(u);this._cache=d}}}class l{constructor(s,o,n){this.create(s,o,n)}create(s,o,n){this._buffers=[new t("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=I.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=o,this._EOLLength=o.length,this._EOLNormalized=n;let d=null;for(let u=0,f=s.length;u<f;u++)if(s[u].buffer.length>0){s[u].lineStarts||(s[u].lineStarts=h(s[u].buffer));let S=new i(u+1,{line:0,column:0},{line:s[u].lineStarts.length-1,column:s[u].buffer.length-s[u].lineStarts[s[u].lineStarts.length-1]},s[u].lineStarts.length-1,s[u].buffer.length);this._buffers.push(s[u]),d=this.rbInsertRight(d,S)}this._searchCache=new c(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(s){let o=e.AverageBufferSize,n=o-Math.floor(o/3),d=n*2,u="",f=0,S=[];if(this.iterate(this.root,v=>{let m=this.getNodeContent(v),_=m.length;if(f<=n||f+_<d)return u+=m,f+=_,!0;let L=u.replace(/\r\n|\r|\n/g,s);return S.push(new t(L,h(L))),u=m,f=_,!0}),f>0){let v=u.replace(/\r\n|\r|\n/g,s);S.push(new t(v,h(v)))}this.create(S,s,!0)}getEOL(){return this._EOL}setEOL(s){this._EOL=s,this._EOLLength=this._EOL.length,this.normalizeEOL(s)}createSnapshot(s){return new r(this,s)}getOffsetAt(s,o){let n=0,d=this.root;for(;d!==I.SENTINEL;)if(d.left!==I.SENTINEL&&d.lf_left+1>=s)d=d.left;else{if(d.lf_left+d.piece.lineFeedCnt+1>=s)return n+=d.size_left,n+=this.getAccumulatedValue(d,s-d.lf_left-2)+o-1;s-=d.lf_left+d.piece.lineFeedCnt,n+=d.size_left+d.piece.length,d=d.right}return n}getPositionAt(s){s=Math.floor(s),s=Math.max(0,s);let o=this.root,n=0,d=s;for(;o!==I.SENTINEL;)if(o.size_left!==0&&o.size_left>=s)o=o.left;else if(o.size_left+o.piece.length>=s){let u=this.getIndexOf(o,s-o.size_left);if(n+=o.lf_left+u.index,u.index===0){let f=this.getOffsetAt(n+1,1),S=d-f;return new y.Position(n+1,S+1)}return new y.Position(n+1,u.remainder+1)}else if(s-=o.size_left+o.piece.length,n+=o.lf_left+o.piece.lineFeedCnt,o.right===I.SENTINEL){let u=this.getOffsetAt(n+1,1),f=d-s-u;return new y.Position(n+1,f+1)}else o=o.right;return new y.Position(1,1)}getValueInRange(s,o){if(s.startLineNumber===s.endLineNumber&&s.startColumn===s.endColumn)return"";let n=this.nodeAt2(s.startLineNumber,s.startColumn),d=this.nodeAt2(s.endLineNumber,s.endColumn),u=this.getValueInRange2(n,d);return o?o!==this._EOL||!this._EOLNormalized?u.replace(/\r\n|\r|\n/g,o):o===this.getEOL()&&this._EOLNormalized?u:u.replace(/\r\n|\r|\n/g,o):u}getValueInRange2(s,o){if(s.node===o.node){let S=s.node,v=this._buffers[S.piece.bufferIndex].buffer,m=this.offsetInBuffer(S.piece.bufferIndex,S.piece.start);return v.substring(m+s.remainder,m+o.remainder)}let n=s.node,d=this._buffers[n.piece.bufferIndex].buffer,u=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),f=d.substring(u+s.remainder,u+n.piece.length);for(n=n.next();n!==I.SENTINEL;){let S=this._buffers[n.piece.bufferIndex].buffer,v=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(n===o.node){f+=S.substring(v,v+o.remainder);break}else f+=S.substr(v,n.piece.length);n=n.next()}return f}getLinesContent(){let s=[],o=0,n="",d=!1;return this.iterate(this.root,u=>{if(u===I.SENTINEL)return!0;const f=u.piece;let S=f.length;if(S===0)return!0;const v=this._buffers[f.bufferIndex].buffer,m=this._buffers[f.bufferIndex].lineStarts,_=f.start.line,L=f.end.line;let w=m[_]+f.start.column;if(d&&(v.charCodeAt(w)===10&&(w++,S--),s[o++]=n,n="",d=!1,S===0))return!0;if(_===L)return!this._EOLNormalized&&v.charCodeAt(w+S-1)===13?(d=!0,n+=v.substr(w,S-1)):n+=v.substr(w,S),!0;n+=this._EOLNormalized?v.substring(w,Math.max(w,m[_+1]-this._EOLLength)):v.substring(w,m[_+1]).replace(/(\r\n|\r|\n)$/,""),s[o++]=n;for(let k=_+1;k<L;k++)n=this._EOLNormalized?v.substring(m[k],m[k+1]-this._EOLLength):v.substring(m[k],m[k+1]).replace(/(\r\n|\r|\n)$/,""),s[o++]=n;return!this._EOLNormalized&&v.charCodeAt(m[L]+f.end.column-1)===13?(d=!0,f.end.column===0?o--:n=v.substr(m[L],f.end.column-1)):n=v.substr(m[L],f.end.column),!0}),d&&(s[o++]=n,n=""),s[o++]=n,s}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(s){return this._lastVisitedLine.lineNumber===s?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=s,s===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(s):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(s,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(s).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(s){if(s.remainder===s.node.piece.length){let o=s.node.next();if(!o)return 0;let n=this._buffers[o.piece.bufferIndex],d=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);return n.buffer.charCodeAt(d)}else{let o=this._buffers[s.node.piece.bufferIndex],d=this.offsetInBuffer(s.node.piece.bufferIndex,s.node.piece.start)+s.remainder;return o.buffer.charCodeAt(d)}}getLineCharCode(s,o){let n=this.nodeAt2(s,o+1);return this._getCharCode(n)}getLineLength(s){if(s===this.getLineCount()){let o=this.getOffsetAt(s,1);return this.getLength()-o}return this.getOffsetAt(s+1,1)-this.getOffsetAt(s,1)-this._EOLLength}findMatchesInNode(s,o,n,d,u,f,S,v,m,_,L){let w=this._buffers[s.piece.bufferIndex],k=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start),D=this.offsetInBuffer(s.piece.bufferIndex,u),M=this.offsetInBuffer(s.piece.bufferIndex,f),O,F={line:0,column:0},R,A;o._wordSeparators?(R=w.buffer.substring(D,M),A=P=>P+D,o.reset(0)):(R=w.buffer,A=P=>P,o.reset(D));do if(O=o.next(R),O){if(A(O.index)>=M)return _;this.positionInBuffer(s,A(O.index)-k,F);let P=this.getLineFeedCnt(s.piece.bufferIndex,u,F),E=F.line===u.line?F.column-u.column+d:F.column+1,B=E+O[0].length;if(L[_++]=(0,b.createFindMatch)(new N.Range(n+P,E,n+P,B),O,v),A(O.index)+O[0].length>=M||_>=m)return _}while(O);return _}findMatchesLineByLine(s,o,n,d){const u=[];let f=0;const S=new b.Searcher(o.wordSeparators,o.regex);let v=this.nodeAt2(s.startLineNumber,s.startColumn);if(v===null)return[];let m=this.nodeAt2(s.endLineNumber,s.endColumn);if(m===null)return[];let _=this.positionInBuffer(v.node,v.remainder),L=this.positionInBuffer(m.node,m.remainder);if(v.node===m.node)return this.findMatchesInNode(v.node,S,s.startLineNumber,s.startColumn,_,L,o,n,d,f,u),u;let w=s.startLineNumber,k=v.node;for(;k!==m.node;){let M=this.getLineFeedCnt(k.piece.bufferIndex,_,k.piece.end);if(M>=1){let F=this._buffers[k.piece.bufferIndex].lineStarts,R=this.offsetInBuffer(k.piece.bufferIndex,k.piece.start),A=F[_.line+M],P=w===s.startLineNumber?s.startColumn:1;if(f=this.findMatchesInNode(k,S,w,P,_,this.positionInBuffer(k,A-R),o,n,d,f,u),f>=d)return u;w+=M}let O=w===s.startLineNumber?s.startColumn-1:0;if(w===s.endLineNumber){const F=this.getLineContent(w).substring(O,s.endColumn-1);return f=this._findMatchesInLine(o,S,F,s.endLineNumber,O,f,u,n,d),u}if(f=this._findMatchesInLine(o,S,this.getLineContent(w).substr(O),w,O,f,u,n,d),f>=d)return u;w++,v=this.nodeAt2(w,1),k=v.node,_=this.positionInBuffer(v.node,v.remainder)}if(w===s.endLineNumber){let M=w===s.startLineNumber?s.startColumn-1:0;const O=this.getLineContent(w).substring(M,s.endColumn-1);return f=this._findMatchesInLine(o,S,O,s.endLineNumber,M,f,u,n,d),u}let D=w===s.startLineNumber?s.startColumn:1;return f=this.findMatchesInNode(m.node,S,w,D,_,L,o,n,d,f,u),u}_findMatchesInLine(s,o,n,d,u,f,S,v,m){const _=s.wordSeparators;if(!v&&s.simpleSearch){const w=s.simpleSearch,k=w.length,D=n.length;let M=-k;for(;(M=n.indexOf(w,M+k))!==-1;)if((!_||(0,b.isValidMatch)(_,n,D,M,k))&&(S[f++]=new T.FindMatch(new N.Range(d,M+1+u,d,M+1+k+u),null),f>=m))return f;return f}let L;o.reset(0);do if(L=o.next(n),L&&(S[f++]=(0,b.createFindMatch)(new N.Range(d,L.index+1+u,d,L.index+1+L[0].length+u),L,v),f>=m))return f;while(L);return f}insert(s,o,n=!1){if(this._EOLNormalized=this._EOLNormalized&&n,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==I.SENTINEL){let{node:d,remainder:u,nodeStartOffset:f}=this.nodeAt(s),S=d.piece,v=S.bufferIndex,m=this.positionInBuffer(d,u);if(d.piece.bufferIndex===0&&S.end.line===this._lastChangeBufferPos.line&&S.end.column===this._lastChangeBufferPos.column&&f+S.length===s&&o.length<e.AverageBufferSize){this.appendToNode(d,o),this.computeBufferMetadata();return}if(f===s)this.insertContentToNodeLeft(o,d),this._searchCache.validate(s);else if(f+d.piece.length>s){let _=[],L=new i(S.bufferIndex,m,S.end,this.getLineFeedCnt(S.bufferIndex,m,S.end),this.offsetInBuffer(v,S.end)-this.offsetInBuffer(v,m));if(this.shouldCheckCRLF()&&this.endWithCR(o)&&this.nodeCharCodeAt(d,u)===10){let M={line:L.start.line+1,column:0};L=new i(L.bufferIndex,M,L.end,this.getLineFeedCnt(L.bufferIndex,M,L.end),L.length-1),o+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(o))if(this.nodeCharCodeAt(d,u-1)===13){let M=this.positionInBuffer(d,u-1);this.deleteNodeTail(d,M),o="\r"+o,d.piece.length===0&&_.push(d)}else this.deleteNodeTail(d,m);else this.deleteNodeTail(d,m);let w=this.createNewPieces(o);L.length>0&&this.rbInsertRight(d,L);let k=d;for(let D=0;D<w.length;D++)k=this.rbInsertRight(k,w[D]);this.deleteNodes(_)}else this.insertContentToNodeRight(o,d)}else{let d=this.createNewPieces(o),u=this.rbInsertLeft(null,d[0]);for(let f=1;f<d.length;f++)u=this.rbInsertRight(u,d[f])}this.computeBufferMetadata()}delete(s,o){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",o<=0||this.root===I.SENTINEL)return;let n=this.nodeAt(s),d=this.nodeAt(s+o),u=n.node,f=d.node;if(u===f){let w=this.positionInBuffer(u,n.remainder),k=this.positionInBuffer(u,d.remainder);if(n.nodeStartOffset===s){if(o===u.piece.length){let D=u.next();(0,I.rbDelete)(this,u),this.validateCRLFWithPrevNode(D),this.computeBufferMetadata();return}this.deleteNodeHead(u,k),this._searchCache.validate(s),this.validateCRLFWithPrevNode(u),this.computeBufferMetadata();return}if(n.nodeStartOffset+u.piece.length===s+o){this.deleteNodeTail(u,w),this.validateCRLFWithNextNode(u),this.computeBufferMetadata();return}this.shrinkNode(u,w,k),this.computeBufferMetadata();return}let S=[],v=this.positionInBuffer(u,n.remainder);this.deleteNodeTail(u,v),this._searchCache.validate(s),u.piece.length===0&&S.push(u);let m=this.positionInBuffer(f,d.remainder);this.deleteNodeHead(f,m),f.piece.length===0&&S.push(f);let _=u.next();for(let w=_;w!==I.SENTINEL&&w!==f;w=w.next())S.push(w);let L=u.piece.length===0?u.prev():u;this.deleteNodes(S),this.validateCRLFWithNextNode(L),this.computeBufferMetadata()}insertContentToNodeLeft(s,o){let n=[];if(this.shouldCheckCRLF()&&this.endWithCR(s)&&this.startWithLF(o)){let f=o.piece,S={line:f.start.line+1,column:0},v=new i(f.bufferIndex,S,f.end,this.getLineFeedCnt(f.bufferIndex,S,f.end),f.length-1);o.piece=v,s+=`
`,(0,I.updateTreeMetadata)(this,o,-1,-1),o.piece.length===0&&n.push(o)}let d=this.createNewPieces(s),u=this.rbInsertLeft(o,d[d.length-1]);for(let f=d.length-2;f>=0;f--)u=this.rbInsertLeft(u,d[f]);this.validateCRLFWithPrevNode(u),this.deleteNodes(n)}insertContentToNodeRight(s,o){this.adjustCarriageReturnFromNext(s,o)&&(s+=`
`);let n=this.createNewPieces(s),d=this.rbInsertRight(o,n[0]),u=d;for(let f=1;f<n.length;f++)u=this.rbInsertRight(u,n[f]);this.validateCRLFWithPrevNode(d)}positionInBuffer(s,o,n){let d=s.piece,u=s.piece.bufferIndex,f=this._buffers[u].lineStarts,v=f[d.start.line]+d.start.column+o,m=d.start.line,_=d.end.line,L=0,w=0,k=0;for(;m<=_&&(L=m+(_-m)/2|0,k=f[L],L!==_);)if(w=f[L+1],v<k)_=L-1;else if(v>=w)m=L+1;else break;return n?(n.line=L,n.column=v-k,null):{line:L,column:v-k}}getLineFeedCnt(s,o,n){if(n.column===0)return n.line-o.line;let d=this._buffers[s].lineStarts;if(n.line===d.length-1)return n.line-o.line;let u=d[n.line+1],f=d[n.line]+n.column;if(u>f+1)return n.line-o.line;let S=f-1;return this._buffers[s].buffer.charCodeAt(S)===13?n.line-o.line+1:n.line-o.line}offsetInBuffer(s,o){return this._buffers[s].lineStarts[o.line]+o.column}deleteNodes(s){for(let o=0;o<s.length;o++)(0,I.rbDelete)(this,s[o])}createNewPieces(s){if(s.length>e.AverageBufferSize){let _=[];for(;s.length>e.AverageBufferSize;){const w=s.charCodeAt(e.AverageBufferSize-1);let k;w===13||w>=55296&&w<=56319?(k=s.substring(0,e.AverageBufferSize-1),s=s.substring(e.AverageBufferSize-1)):(k=s.substring(0,e.AverageBufferSize),s=s.substring(e.AverageBufferSize));let D=h(k);_.push(new i(this._buffers.length,{line:0,column:0},{line:D.length-1,column:k.length-D[D.length-1]},D.length-1,k.length)),this._buffers.push(new t(k,D))}let L=h(s);return _.push(new i(this._buffers.length,{line:0,column:0},{line:L.length-1,column:s.length-L[L.length-1]},L.length-1,s.length)),this._buffers.push(new t(s,L)),_}let o=this._buffers[0].buffer.length;const n=h(s,!1);let d=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===o&&o!==0&&this.startWithLF(s)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},d=this._lastChangeBufferPos;for(let _=0;_<n.length;_++)n[_]+=o+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+="_"+s,o+=1}else{if(o!==0)for(let _=0;_<n.length;_++)n[_]+=o;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+=s}const u=this._buffers[0].buffer.length;let f=this._buffers[0].lineStarts.length-1,S=u-this._buffers[0].lineStarts[f],v={line:f,column:S},m=new i(0,d,v,this.getLineFeedCnt(0,d,v),u-o);return this._lastChangeBufferPos=v,[m]}getLineRawContent(s,o=0){let n=this.root,d="",u=this._searchCache.get2(s);if(u){n=u.node;let f=this.getAccumulatedValue(n,s-u.nodeStartLineNumber-1),S=this._buffers[n.piece.bufferIndex].buffer,v=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(u.nodeStartLineNumber+n.piece.lineFeedCnt===s)d=S.substring(v+f,v+n.piece.length);else{let m=this.getAccumulatedValue(n,s-u.nodeStartLineNumber);return S.substring(v+f,v+m-o)}}else{let f=0;const S=s;for(;n!==I.SENTINEL;)if(n.left!==I.SENTINEL&&n.lf_left>=s-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>s-1){let v=this.getAccumulatedValue(n,s-n.lf_left-2),m=this.getAccumulatedValue(n,s-n.lf_left-1),_=this._buffers[n.piece.bufferIndex].buffer,L=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return f+=n.size_left,this._searchCache.set({node:n,nodeStartOffset:f,nodeStartLineNumber:S-(s-1-n.lf_left)}),_.substring(L+v,L+m-o)}else if(n.lf_left+n.piece.lineFeedCnt===s-1){let v=this.getAccumulatedValue(n,s-n.lf_left-2),m=this._buffers[n.piece.bufferIndex].buffer,_=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);d=m.substring(_+v,_+n.piece.length);break}else s-=n.lf_left+n.piece.lineFeedCnt,f+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==I.SENTINEL;){let f=this._buffers[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){let S=this.getAccumulatedValue(n,0),v=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return d+=f.substring(v,v+S-o),d}else{let S=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);d+=f.substr(S,n.piece.length)}n=n.next()}return d}computeBufferMetadata(){let s=this.root,o=1,n=0;for(;s!==I.SENTINEL;)o+=s.lf_left+s.piece.lineFeedCnt,n+=s.size_left+s.piece.length,s=s.right;this._lineCnt=o,this._length=n,this._searchCache.validate(this._length)}getIndexOf(s,o){let n=s.piece,d=this.positionInBuffer(s,o),u=d.line-n.start.line;if(this.offsetInBuffer(n.bufferIndex,n.end)-this.offsetInBuffer(n.bufferIndex,n.start)===o){let f=this.getLineFeedCnt(s.piece.bufferIndex,n.start,d);if(f!==u)return{index:f,remainder:0}}return{index:u,remainder:d.column}}getAccumulatedValue(s,o){if(o<0)return 0;let n=s.piece,d=this._buffers[n.bufferIndex].lineStarts,u=n.start.line+o+1;return u>n.end.line?d[n.end.line]+n.end.column-d[n.start.line]-n.start.column:d[u]-d[n.start.line]-n.start.column}deleteNodeTail(s,o){const n=s.piece,d=n.lineFeedCnt,u=this.offsetInBuffer(n.bufferIndex,n.end),f=o,S=this.offsetInBuffer(n.bufferIndex,f),v=this.getLineFeedCnt(n.bufferIndex,n.start,f),m=v-d,_=S-u,L=n.length+_;s.piece=new i(n.bufferIndex,n.start,f,v,L),(0,I.updateTreeMetadata)(this,s,_,m)}deleteNodeHead(s,o){const n=s.piece,d=n.lineFeedCnt,u=this.offsetInBuffer(n.bufferIndex,n.start),f=o,S=this.getLineFeedCnt(n.bufferIndex,f,n.end),v=this.offsetInBuffer(n.bufferIndex,f),m=S-d,_=u-v,L=n.length+_;s.piece=new i(n.bufferIndex,f,n.end,S,L),(0,I.updateTreeMetadata)(this,s,_,m)}shrinkNode(s,o,n){const d=s.piece,u=d.start,f=d.end,S=d.length,v=d.lineFeedCnt,m=o,_=this.getLineFeedCnt(d.bufferIndex,d.start,m),L=this.offsetInBuffer(d.bufferIndex,o)-this.offsetInBuffer(d.bufferIndex,u);s.piece=new i(d.bufferIndex,d.start,m,_,L),(0,I.updateTreeMetadata)(this,s,L-S,_-v);let w=new i(d.bufferIndex,n,f,this.getLineFeedCnt(d.bufferIndex,n,f),this.offsetInBuffer(d.bufferIndex,f)-this.offsetInBuffer(d.bufferIndex,n)),k=this.rbInsertRight(s,w);this.validateCRLFWithPrevNode(k)}appendToNode(s,o){this.adjustCarriageReturnFromNext(o,s)&&(o+=`
`);const n=this.shouldCheckCRLF()&&this.startWithLF(o)&&this.endWithCR(s),d=this._buffers[0].buffer.length;this._buffers[0].buffer+=o;const u=h(o,!1);for(let k=0;k<u.length;k++)u[k]+=d;if(n){let k=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:d-k}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(u.slice(1));const f=this._buffers[0].lineStarts.length-1,S=this._buffers[0].buffer.length-this._buffers[0].lineStarts[f],v={line:f,column:S},m=s.piece.length+o.length,_=s.piece.lineFeedCnt,L=this.getLineFeedCnt(0,s.piece.start,v),w=L-_;s.piece=new i(s.piece.bufferIndex,s.piece.start,v,L,m),this._lastChangeBufferPos=v,(0,I.updateTreeMetadata)(this,s,o.length,w)}nodeAt(s){let o=this.root,n=this._searchCache.get(s);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:s-n.nodeStartOffset};let d=0;for(;o!==I.SENTINEL;)if(o.size_left>s)o=o.left;else if(o.size_left+o.piece.length>=s){d+=o.size_left;let u={node:o,remainder:s-o.size_left,nodeStartOffset:d};return this._searchCache.set(u),u}else s-=o.size_left+o.piece.length,d+=o.size_left+o.piece.length,o=o.right;return null}nodeAt2(s,o){let n=this.root,d=0;for(;n!==I.SENTINEL;)if(n.left!==I.SENTINEL&&n.lf_left>=s-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>s-1){let u=this.getAccumulatedValue(n,s-n.lf_left-2),f=this.getAccumulatedValue(n,s-n.lf_left-1);return d+=n.size_left,{node:n,remainder:Math.min(u+o-1,f),nodeStartOffset:d}}else if(n.lf_left+n.piece.lineFeedCnt===s-1){let u=this.getAccumulatedValue(n,s-n.lf_left-2);if(u+o-1<=n.piece.length)return{node:n,remainder:u+o-1,nodeStartOffset:d};o-=n.piece.length-u;break}else s-=n.lf_left+n.piece.lineFeedCnt,d+=n.size_left+n.piece.length,n=n.right;for(n=n.next();n!==I.SENTINEL;){if(n.piece.lineFeedCnt>0){let u=this.getAccumulatedValue(n,0),f=this.offsetOfNode(n);return{node:n,remainder:Math.min(o-1,u),nodeStartOffset:f}}else if(n.piece.length>=o-1){let u=this.offsetOfNode(n);return{node:n,remainder:o-1,nodeStartOffset:u}}else o-=n.piece.length;n=n.next()}return null}nodeCharCodeAt(s,o){if(s.piece.lineFeedCnt<1)return-1;let n=this._buffers[s.piece.bufferIndex],d=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start)+o;return n.buffer.charCodeAt(d)}offsetOfNode(s){if(!s)return 0;let o=s.size_left;for(;s!==this.root;)s.parent.right===s&&(o+=s.parent.size_left+s.parent.piece.length),s=s.parent;return o}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(s){if(typeof s=="string")return s.charCodeAt(0)===10;if(s===I.SENTINEL||s.piece.lineFeedCnt===0)return!1;let o=s.piece,n=this._buffers[o.bufferIndex].lineStarts,d=o.start.line,u=n[d]+o.start.column;return d===n.length-1||n[d+1]>u+1?!1:this._buffers[o.bufferIndex].buffer.charCodeAt(u)===10}endWithCR(s){return typeof s=="string"?s.charCodeAt(s.length-1)===13:s===I.SENTINEL||s.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(s,s.piece.length-1)===13}validateCRLFWithPrevNode(s){if(this.shouldCheckCRLF()&&this.startWithLF(s)){let o=s.prev();this.endWithCR(o)&&this.fixCRLF(o,s)}}validateCRLFWithNextNode(s){if(this.shouldCheckCRLF()&&this.endWithCR(s)){let o=s.next();this.startWithLF(o)&&this.fixCRLF(s,o)}}fixCRLF(s,o){let n=[],d=this._buffers[s.piece.bufferIndex].lineStarts,u;s.piece.end.column===0?u={line:s.piece.end.line-1,column:d[s.piece.end.line]-d[s.piece.end.line-1]-1}:u={line:s.piece.end.line,column:s.piece.end.column-1};const f=s.piece.length-1,S=s.piece.lineFeedCnt-1;s.piece=new i(s.piece.bufferIndex,s.piece.start,u,S,f),(0,I.updateTreeMetadata)(this,s,-1,-1),s.piece.length===0&&n.push(s);let v={line:o.piece.start.line+1,column:0};const m=o.piece.length-1,_=this.getLineFeedCnt(o.piece.bufferIndex,v,o.piece.end);o.piece=new i(o.piece.bufferIndex,v,o.piece.end,_,m),(0,I.updateTreeMetadata)(this,o,-1,-1),o.piece.length===0&&n.push(o);let L=this.createNewPieces(`\r
`);this.rbInsertRight(s,L[0]);for(let w=0;w<n.length;w++)(0,I.rbDelete)(this,n[w])}adjustCarriageReturnFromNext(s,o){if(this.shouldCheckCRLF()&&this.endWithCR(s)){let n=o.next();if(this.startWithLF(n)){if(s+=`
`,n.piece.length===1)(0,I.rbDelete)(this,n);else{const d=n.piece,u={line:d.start.line+1,column:0},f=d.length-1,S=this.getLineFeedCnt(d.bufferIndex,u,d.end);n.piece=new i(d.bufferIndex,u,d.end,S,f),(0,I.updateTreeMetadata)(this,n,-1,-1)}return!0}}return!1}iterate(s,o){if(s===I.SENTINEL)return o(I.SENTINEL);let n=this.iterate(s.left,o);return n&&o(s)&&this.iterate(s.right,o)}getNodeContent(s){if(s===I.SENTINEL)return"";let o=this._buffers[s.piece.bufferIndex],n,d=s.piece,u=this.offsetInBuffer(d.bufferIndex,d.start),f=this.offsetInBuffer(d.bufferIndex,d.end);return n=o.buffer.substring(u,f),n}getPieceContent(s){let o=this._buffers[s.bufferIndex],n=this.offsetInBuffer(s.bufferIndex,s.start),d=this.offsetInBuffer(s.bufferIndex,s.end);return o.buffer.substring(n,d)}rbInsertRight(s,o){let n=new I.TreeNode(o,1);if(n.left=I.SENTINEL,n.right=I.SENTINEL,n.parent=I.SENTINEL,n.size_left=0,n.lf_left=0,this.root===I.SENTINEL)this.root=n,n.color=0;else if(s.right===I.SENTINEL)s.right=n,n.parent=s;else{let u=(0,I.leftest)(s.right);u.left=n,n.parent=u}return(0,I.fixInsert)(this,n),n}rbInsertLeft(s,o){let n=new I.TreeNode(o,1);if(n.left=I.SENTINEL,n.right=I.SENTINEL,n.parent=I.SENTINEL,n.size_left=0,n.lf_left=0,this.root===I.SENTINEL)this.root=n,n.color=0;else if(s.left===I.SENTINEL)s.left=n,n.parent=s;else{let d=(0,I.righttest)(s.left);d.right=n,n.parent=d}return(0,I.fixInsert)(this,n),n}}e.PieceTreeBase=l}),define(ee[146],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function y(C=""){let p="(-?\\d*\\.\\d\\w*)|([^";for(const h of e.USUAL_WORD_SEPARATORS)C.indexOf(h)>=0||(p+="\\"+h);return p+="\\s]+)",new RegExp(p,"g")}e.DEFAULT_WORD_REGEXP=y();function N(C){let p=e.DEFAULT_WORD_REGEXP;if(C&&C instanceof RegExp)if(C.global)p=C;else{let h="g";C.ignoreCase&&(h+="i"),C.multiline&&(h+="m"),C.unicode&&(h+="u"),p=new RegExp(C.source,h)}return p.lastIndex=0,p}e.ensureValidWordDefinition=N;const T={maxLen:1e3,windowSize:15,timeBudget:150};function I(C,p,h,g,i=T){if(h.length>i.maxLen){let a=C-i.maxLen/2;return a<0?a=0:g+=a,h=h.substring(a,C+i.maxLen/2),I(C,p,h,g,i)}const t=Date.now(),r=C-1-g;let c=-1,l=null;for(let a=1;!(Date.now()-t>=i.timeBudget);a++){const s=r-i.windowSize*a;p.lastIndex=Math.max(0,s);const o=b(p,h,r,c);if(!o&&l||(l=o,s<=0))break;c=s}if(l){let a={word:l[0],startColumn:g+1+l.index,endColumn:g+1+l.index+l[0].length};return p.lastIndex=0,a}return null}e.getWordAtText=I;function b(C,p,h,g){let i;for(;i=C.exec(p);){const t=i.index||0;if(t<=h&&C.lastIndex>=h)return i;if(g>0&&t>g)return null}return null}}),define(ee[115],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var y;(function(b){b[b.None=0]="None",b[b.Indent=1]="Indent",b[b.IndentOutdent=2]="IndentOutdent",b[b.Outdent=3]="Outdent"})(y=e.IndentAction||(e.IndentAction={}));class N{constructor(C){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=C.open,this.close=C.close,this._standardTokenMask=0,Array.isArray(C.notIn))for(let p=0,h=C.notIn.length;p<h;p++)switch(C.notIn[p]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(C){return(this._standardTokenMask&C)==0}shouldAutoClose(C,p){if(C.getTokenCount()===0)return!0;const h=C.findTokenIndexAtOffset(p-2),g=C.getStandardTokenType(h);return this.isOK(g)}_findNeutralCharacterInRange(C,p){for(let h=C;h<=p;h++){const g=String.fromCharCode(h);if(!this.open.includes(g)&&!this.close.includes(g))return g}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=N;class T{constructor(C){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const p of C)I(this.autoClosingPairsOpenByStart,p.open.charAt(0),p),I(this.autoClosingPairsOpenByEnd,p.open.charAt(p.open.length-1),p),I(this.autoClosingPairsCloseByStart,p.close.charAt(0),p),I(this.autoClosingPairsCloseByEnd,p.close.charAt(p.close.length-1),p),p.close.length===1&&p.open.length===1&&I(this.autoClosingPairsCloseSingleChar,p.close,p)}}e.AutoClosingPairs=T;function I(b,C,p){b.has(C)?b.get(C).push(p):b.set(C,[p])}}),define(ee[402],te([0,1,208,78]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function T(I,b,C,p){if(Array.isArray(I)){let h=0;for(const g of I){const i=T(g,b,C,p);if(i===10)return i;i>h&&(h=i)}return h}else{if(typeof I=="string")return p?I==="*"?5:I===C?10:0:0;if(I){const{language:h,pattern:g,scheme:i,hasAccessToAllModels:t}=I;if(!p&&!t)return 0;let r=0;if(i)if(i===b.scheme)r=10;else if(i==="*")r=5;else return 0;if(h)if(h===C)r=10;else if(h==="*")r=Math.max(r,5);else return 0;if(g){let c;if(typeof g=="string"?c=g:c=Object.assign(Object.assign({},g),{base:(0,N.normalize)(g.base)}),c===b.fsPath||(0,y.match)(c,b.fsPath))r=10;else return 0}return r}else return 0}}e.score=T}),define(ee[403],te([0,1,97]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class N{constructor(t,r,c){const l=new Uint8Array(t*r);for(let a=0,s=t*r;a<s;a++)l[a]=c;this._data=l,this.rows=t,this.cols=r}get(t,r){return this._data[t*this.cols+r]}set(t,r,c){this._data[t*this.cols+r]=c}}e.Uint8Matrix=N;class T{constructor(t){let r=0,c=0;for(let a=0,s=t.length;a<s;a++){let[o,n,d]=t[a];n>r&&(r=n),o>c&&(c=o),d>c&&(c=d)}r++,c++;let l=new N(c,r,0);for(let a=0,s=t.length;a<s;a++){let[o,n,d]=t[a];l.set(o,n,d)}this._states=l,this._maxCharCode=r}nextState(t,r){return r<0||r>=this._maxCharCode?0:this._states.get(t,r)}}e.StateMachine=T;let I=null;function b(){return I===null&&(I=new T([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),I}let C=null;function p(){if(C===null){C=new y.CharacterClassifier(0);const i=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let r=0;r<i.length;r++)C.set(i.charCodeAt(r),1);const t=".,;";for(let r=0;r<t.length;r++)C.set(t.charCodeAt(r),2)}return C}class h{static _createLink(t,r,c,l,a){let s=a-1;do{const o=r.charCodeAt(s);if(t.get(o)!==2)break;s--}while(s>l);if(l>0){const o=r.charCodeAt(l-1),n=r.charCodeAt(s);(o===40&&n===41||o===91&&n===93||o===123&&n===125)&&s--}return{range:{startLineNumber:c,startColumn:l+1,endLineNumber:c,endColumn:s+2},url:r.substring(l,s+1)}}static computeLinks(t,r=b()){const c=p();let l=[];for(let a=1,s=t.getLineCount();a<=s;a++){const o=t.getLineContent(a),n=o.length;let d=0,u=0,f=0,S=1,v=!1,m=!1,_=!1,L=!1;for(;d<n;){let w=!1;const k=o.charCodeAt(d);if(S===13){let D;switch(k){case 40:v=!0,D=0;break;case 41:D=v?0:1;break;case 91:_=!0,m=!0,D=0;break;case 93:_=!1,D=m?0:1;break;case 123:L=!0,D=0;break;case 125:D=L?0:1;break;case 39:D=f===34||f===96?0:1;break;case 34:D=f===39||f===96?0:1;break;case 96:D=f===39||f===34?0:1;break;case 42:D=f===42?1:0;break;case 124:D=f===124?1:0;break;case 32:D=_?0:1;break;default:D=c.get(k)}D===1&&(l.push(h._createLink(c,o,a,u,d)),w=!0)}else if(S===12){let D;k===91?(m=!0,D=0):D=c.get(k),D===1?w=!0:S=13}else S=r.nextState(S,k),S===0&&(w=!0);w&&(S=1,v=!1,m=!1,L=!1,u=d+1,f=k),d++}S===13&&l.push(h._createLink(c,o,a,u,n))}return l}}e.LinkComputer=h;function g(i){return!i||typeof i.getLineCount!="function"||typeof i.getLineContent!="function"?[]:h.computeLinks(i)}e.computeLinks=g}),define(ee[80],te([0,1,142]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenize2=e.nullTokenize=e.NULL_MODE_ID=e.NULL_STATE=void 0;class N{clone(){return this}equals(C){return this===C}}e.NULL_STATE=new N,e.NULL_MODE_ID="vs.editor.nullMode";function T(b,C,p,h){return new y.TokenizationResult([new y.Token(h,"",b)],p)}e.nullTokenize=T;function I(b,C,p,h){let g=new Uint32Array(2);return g[0]=h,g[1]=(b<<0|0<<8|0<<11|1<<14|2<<23)>>>0,new y.TokenizationResult2(g,p===null?e.NULL_STATE:p)}e.nullTokenize2=I}),define(ee[147],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function y(I,b){let C=I.getCount(),p=I.findTokenIndexAtOffset(b),h=I.getLanguageId(p),g=p;for(;g+1<C&&I.getLanguageId(g+1)===h;)g++;let i=p;for(;i>0&&I.getLanguageId(i-1)===h;)i--;return new N(I,h,i,g+1,I.getStartOffset(i),I.getEndOffset(g))}e.createScopedLineTokens=y;class N{constructor(b,C,p,h,g,i){this._scopedLineTokensBrand=void 0,this._actual=b,this.languageId=C,this._firstTokenIndex=p,this._lastTokenIndex=h,this.firstCharOffset=g,this._lastCharOffset=i}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(b){return this._actual.getLineContent().substring(0,this.firstCharOffset+b)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(b){return this._actual.findTokenIndexAtOffset(b+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(b){return this._actual.getStandardTokenType(b+this._firstTokenIndex)}}e.ScopedLineTokens=N;function T(I){return(I&7)!=0}e.ignoreBracketsInToken=T}),define(ee[404],te([0,1,115]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class N{constructor(b){if(b.autoClosingPairs?this._autoClosingPairs=b.autoClosingPairs.map(C=>new y.StandardAutoClosingPairConditional(C)):b.brackets?this._autoClosingPairs=b.brackets.map(C=>new y.StandardAutoClosingPairConditional({open:C[0],close:C[1]})):this._autoClosingPairs=[],b.colorizedBracketPairs?this._colorizedBracketPairs=T(b.colorizedBracketPairs.map(C=>[C[0],C[1]])):b.brackets?this._colorizedBracketPairs=T(b.brackets.map(C=>[C[0],C[1]]).filter(C=>!(C[0]==="<"&&C[1]===">"))):this._colorizedBracketPairs=[],b.__electricCharacterSupport&&b.__electricCharacterSupport.docComment){const C=b.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new y.StandardAutoClosingPairConditional({open:C.open,close:C.close||""}))}this._autoCloseBefore=typeof b.autoCloseBefore=="string"?b.autoCloseBefore:N.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=b.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}e.CharacterPairSupport=N,N.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`;function T(I){return I.filter(([b,C])=>b!==""&&C!=="")}}),define(ee[405],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function y(T){return T.global&&(T.lastIndex=0),!0}class N{constructor(I){this._indentationRules=I}shouldIncrease(I){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&y(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(I))}shouldDecrease(I){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&y(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(I))}shouldIndentNextLine(I){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&y(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(I))}shouldIgnore(I){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&y(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(I))}getIndentMetadata(I){let b=0;return this.shouldIncrease(I)&&(b+=1),this.shouldDecrease(I)&&(b+=2),this.shouldIndentNextLine(I)&&(b+=4),this.shouldIgnore(I)&&(b+=8),b}}e.IndentRulesSupport=N}),define(ee[406],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class y{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(T,I,b,C,p){if(T&&I){let h=this.doNavigateValueSet(I,p);if(h)return{range:T,value:h}}if(b&&C){let h=this.doNavigateValueSet(C,p);if(h)return{range:b,value:h}}return null}doNavigateValueSet(T,I){let b=this.numberReplace(T,I);return b!==null?b:this.textReplace(T,I)}numberReplace(T,I){let b=Math.pow(10,T.length-(T.lastIndexOf(".")+1)),C=Number(T),p=parseFloat(T);return!isNaN(C)&&!isNaN(p)&&C===p?C===0&&!I?null:(C=Math.floor(C*b),C+=I?b:-b,String(C/b)):null}textReplace(T,I){return this.valueSetsReplace(this._defaultValueSet,T,I)}valueSetsReplace(T,I,b){let C=null;for(let p=0,h=T.length;C===null&&p<h;p++)C=this.valueSetReplace(T[p],I,b);return C}valueSetReplace(T,I,b){let C=T.indexOf(I);return C>=0?(C+=b?1:-1,C<0?C=T.length-1:C%=T.length,T[C]):null}}e.BasicInplaceReplace=y,y.INSTANCE=new y}),define(ee[407],te([0,1,13,8,115]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class I{constructor(C){C=C||{},C.brackets=C.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],C.brackets.forEach(p=>{const h=I._createOpenBracketRegExp(p[0]),g=I._createCloseBracketRegExp(p[1]);h&&g&&this._brackets.push({open:p[0],openRegExp:h,close:p[1],closeRegExp:g})}),this._regExpRules=C.onEnterRules||[]}onEnter(C,p,h,g){if(C>=3)for(let i=0,t=this._regExpRules.length;i<t;i++){let r=this._regExpRules[i];if([{reg:r.beforeText,text:h},{reg:r.afterText,text:g},{reg:r.previousLineText,text:p}].every(l=>l.reg?(l.reg.lastIndex=0,l.reg.test(l.text)):!0))return r.action}if(C>=2&&h.length>0&&g.length>0)for(let i=0,t=this._brackets.length;i<t;i++){let r=this._brackets[i];if(r.openRegExp.test(h)&&r.closeRegExp.test(g))return{indentAction:T.IndentAction.IndentOutdent}}if(C>=2&&h.length>0){for(let i=0,t=this._brackets.length;i<t;i++)if(this._brackets[i].openRegExp.test(h))return{indentAction:T.IndentAction.Indent}}return null}static _createOpenBracketRegExp(C){let p=N.escapeRegExpCharacters(C);return/\B/.test(p.charAt(0))||(p="\\b"+p),p+="\\s*$",I._safeRegExp(p)}static _createCloseBracketRegExp(C){let p=N.escapeRegExpCharacters(C);return/\B/.test(p.charAt(p.length-1))||(p=p+"\\b"),p="^\\s*"+p,I._safeRegExp(p)}static _safeRegExp(C){try{return new RegExp(C)}catch(p){return(0,y.onUnexpectedError)(p),null}}}e.OnEnterSupport=I}),define(ee[177],te([0,1,8,87,3]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class I{constructor(d,u,f,S,v,m){this._richEditBracketBrand=void 0,this.languageId=d,this.index=u,this.open=f,this.close=S,this.forwardRegex=v,this.reversedRegex=m,this._openSet=I._toSet(this.open),this._closeSet=I._toSet(this.close)}isOpen(d){return this._openSet.has(d)}isClose(d){return this._closeSet.has(d)}static _toSet(d){const u=new Set;for(const f of d)u.add(f);return u}}e.RichEditBracket=I;function b(n){const d=n.length;n=n.map(m=>[m[0].toLowerCase(),m[1].toLowerCase()]);const u=[];for(let m=0;m<d;m++)u[m]=m;const f=(m,_)=>{const[L,w]=m,[k,D]=_;return L===k||L===D||w===k||w===D},S=(m,_)=>{const L=Math.min(m,_),w=Math.max(m,_);for(let k=0;k<d;k++)u[k]===w&&(u[k]=L)};for(let m=0;m<d;m++){const _=n[m];for(let L=m+1;L<d;L++){const w=n[L];f(_,w)&&S(u[m],u[L])}}const v=[];for(let m=0;m<d;m++){let _=[],L=[];for(let w=0;w<d;w++)if(u[w]===m){const[k,D]=n[w];_.push(k),L.push(D)}_.length>0&&v.push({open:_,close:L})}return v}class C{constructor(d,u){this._richEditBracketsBrand=void 0;const f=b(u);this.brackets=f.map((S,v)=>new I(d,v,S.open,S.close,i(S.open,S.close,f,v),t(S.open,S.close,f,v))),this.forwardRegex=r(this.brackets),this.reversedRegex=c(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const S of this.brackets){for(const v of S.open)this.textIsBracket[v]=S,this.textIsOpenBracket[v]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,v.length);for(const v of S.close)this.textIsBracket[v]=S,this.textIsOpenBracket[v]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,v.length)}}}e.RichEditBrackets=C;function p(n,d,u,f){for(let S=0,v=d.length;S<v;S++){if(S===u)continue;const m=d[S];for(const _ of m.open)_.indexOf(n)>=0&&f.push(_);for(const _ of m.close)_.indexOf(n)>=0&&f.push(_)}}function h(n,d){return n.length-d.length}function g(n){if(n.length<=1)return n;const d=[],u=new Set;for(const f of n)u.has(f)||(d.push(f),u.add(f));return d}function i(n,d,u,f){let S=[];S=S.concat(n),S=S.concat(d);for(let v=0,m=S.length;v<m;v++)p(S[v],u,f,S);return S=g(S),S.sort(h),S.reverse(),a(S)}function t(n,d,u,f){let S=[];S=S.concat(n),S=S.concat(d);for(let v=0,m=S.length;v<m;v++)p(S[v],u,f,S);return S=g(S),S.sort(h),S.reverse(),a(S.map(s))}function r(n){let d=[];for(const u of n){for(const f of u.open)d.push(f);for(const f of u.close)d.push(f)}return d=g(d),a(d)}function c(n){let d=[];for(const u of n){for(const f of u.open)d.push(f);for(const f of u.close)d.push(f)}return d=g(d),a(d.map(s))}function l(n){const d=/^[\w ]+$/.test(n);return n=y.escapeRegExpCharacters(n),d?`\\b${n}\\b`:n}function a(n){let d=`(${n.map(l).join(")|(")})`;return y.createRegExp(d,!0)}const s=function(){function n(f){if(N.hasTextDecoder){const S=new Uint16Array(f.length);let v=0;for(let m=f.length-1;m>=0;m--)S[v++]=f.charCodeAt(m);return N.getPlatformTextDecoder().decode(S)}else{let S=[],v=0;for(let m=f.length-1;m>=0;m--)S[v++]=f.charAt(m);return S.join("")}}let d=null,u=null;return function(S){return d!==S&&(d=S,u=n(d)),u}}();class o{static _findPrevBracketInText(d,u,f,S){let v=f.match(d);if(!v)return null;let m=f.length-(v.index||0),_=v[0].length,L=S+m;return new T.Range(u,L-_+1,u,L+1)}static findPrevBracketInRange(d,u,f,S,v){const _=s(f).substring(f.length-v,f.length-S);return this._findPrevBracketInText(d,u,_,S)}static findNextBracketInText(d,u,f,S){let v=f.match(d);if(!v)return null;let m=v.index||0,_=v[0].length;if(_===0)return null;let L=S+m;return new T.Range(u,L+1,u,L+1+_)}static findNextBracketInRange(d,u,f,S,v){const m=f.substring(S,v);return this.findNextBracketInText(d,u,m,S)}}e.BracketsUtils=o}),define(ee[408],te([0,1,19,147,177]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class I{constructor(C){this._richEditBrackets=C}getElectricCharacters(){let C=[];if(this._richEditBrackets)for(const p of this._richEditBrackets.brackets)for(const h of p.close){const g=h.charAt(h.length-1);C.push(g)}return(0,y.distinct)(C)}onElectricCharacter(C,p,h){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const g=p.findTokenIndexAtOffset(h-1);if((0,N.ignoreBracketsInToken)(p.getStandardTokenType(g)))return null;const i=this._richEditBrackets.reversedRegex,t=p.getLineContent().substring(0,h-1)+C,r=T.BracketsUtils.findPrevBracketInRange(i,1,t,0,t.length);if(!r)return null;const c=t.substring(r.startColumn-1,r.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[c])return null;const a=p.getActualLineContentBefore(r.startColumn-1);return/^\s*$/.test(a)?{matchOpenBracket:c}:null}}e.BracketElectricCharacterSupport=I}),define(ee[409],te([0,1,29]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class N{constructor(a,s,o,n,d){this._parsedThemeRuleBrand=void 0,this.token=a,this.index=s,this.fontStyle=o,this.foreground=n,this.background=d}}e.ParsedTokenThemeRule=N;function T(l){if(!l||!Array.isArray(l))return[];let a=[],s=0;for(let o=0,n=l.length;o<n;o++){let d=l[o],u=-1;if(typeof d.fontStyle=="string"){u=0;let v=d.fontStyle.split(" ");for(let m=0,_=v.length;m<_;m++)switch(v[m]){case"italic":u=u|1;break;case"bold":u=u|2;break;case"underline":u=u|4;break}}let f=null;typeof d.foreground=="string"&&(f=d.foreground);let S=null;typeof d.background=="string"&&(S=d.background),a[s++]=new N(d.token||"",o,u,f,S)}return a}e.parseTokenTheme=T;function I(l,a){l.sort((m,_)=>{let L=i(m.token,_.token);return L!==0?L:m.index-_.index});let s=0,o="000000",n="ffffff";for(;l.length>=1&&l[0].token==="";){let m=l.shift();m.fontStyle!==-1&&(s=m.fontStyle),m.foreground!==null&&(o=m.foreground),m.background!==null&&(n=m.background)}let d=new C;for(let m of a)d.getId(m);let u=d.getId(o),f=d.getId(n),S=new t(s,u,f),v=new r(S);for(let m=0,_=l.length;m<_;m++){let L=l[m];v.insert(L.token,L.fontStyle,d.getId(L.foreground),d.getId(L.background))}return new p(d,v)}const b=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class C{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(a){if(a===null)return 0;const s=a.match(b);if(!s)throw new Error("Illegal value for token color: "+a);a=s[1].toUpperCase();let o=this._color2id.get(a);return o||(o=++this._lastColorId,this._color2id.set(a,o),this._id2color[o]=y.Color.fromHex("#"+a),o)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=C;class p{constructor(a,s){this._colorMap=a,this._root=s,this._cache=new Map}static createFromRawTokenTheme(a,s){return this.createFromParsedTokenTheme(T(a),s)}static createFromParsedTokenTheme(a,s){return I(a,s)}getColorMap(){return this._colorMap.getColorMap()}_match(a){return this._root.match(a)}match(a,s){let o=this._cache.get(s);if(typeof o=="undefined"){let n=this._match(s),d=g(s);o=(n.metadata|d<<8)>>>0,this._cache.set(s,o)}return(o|a<<0)>>>0}}e.TokenTheme=p;const h=/\b(comment|string|regex|regexp)\b/;function g(l){let a=l.match(h);if(!a)return 0;switch(a[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=g;function i(l,a){return l<a?-1:l>a?1:0}e.strcmp=i;class t{constructor(a,s,o){this._themeTrieElementRuleBrand=void 0,this._fontStyle=a,this._foreground=s,this._background=o,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new t(this._fontStyle,this._foreground,this._background)}acceptOverwrite(a,s,o){a!==-1&&(this._fontStyle=a),s!==0&&(this._foreground=s),o!==0&&(this._background=o),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}e.ThemeTrieElementRule=t;class r{constructor(a){this._themeTrieElementBrand=void 0,this._mainRule=a,this._children=new Map}match(a){if(a==="")return this._mainRule;let s=a.indexOf("."),o,n;s===-1?(o=a,n=""):(o=a.substring(0,s),n=a.substring(s+1));let d=this._children.get(o);return typeof d!="undefined"?d.match(n):this._mainRule}insert(a,s,o,n){if(a===""){this._mainRule.acceptOverwrite(s,o,n);return}let d=a.indexOf("."),u,f;d===-1?(u=a,f=""):(u=a.substring(0,d),f=a.substring(d+1));let S=this._children.get(u);typeof S=="undefined"&&(S=new r(this._mainRule.clone()),this._children.set(u,S)),S.insert(f,s,o,n)}}e.ThemeTrieElement=r;function c(l){let a=[];for(let s=1,o=l.length;s<o;s++){let n=l[s];a[s]=`.mtk${s} { color: ${n}; }`}return a.push(".mtki { font-style: italic; }"),a.push(".mtkb { font-weight: bold; }"),a.push(".mtku { text-decoration: underline; text-underline-position: under; }"),a.join(`
`)}e.generateTokensCSSForColorMap=c}),define(ee[410],te([0,1,4,2]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistryImpl=void 0;class T{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(b){this._onDidChange.fire({changedLanguages:b,changedColorMap:!1})}register(b,C){return this._map.set(b,C),this.fire([b]),(0,N.toDisposable)(()=>{this._map.get(b)===C&&(this._map.delete(b),this.fire([b]))})}registerPromise(b,C){let p=null,h=!1;return this._promises.set(b,C.then(g=>{this._promises.delete(b),!(h||!g)&&(p=this.register(b,g))})),(0,N.toDisposable)(()=>{h=!0,p&&p.dispose()})}getPromise(b){const C=this.get(b);if(C)return Promise.resolve(C);const p=this._promises.get(b);return p?p.then(h=>this.get(b)):null}get(b){return this._map.get(b)||null}setColorMap(b){this._colorMap=b,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistryImpl=T}),define(ee[232],te([0,1,3,145,8,20]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class b{static computeUnicodeHighlights(g,i,t){const r=t?t.startLineNumber:1,c=t?t.endLineNumber:g.getLineCount(),l=new p(i),a=l.getCandidateCodePoints();let s;a==="allNonBasicAscii"?s=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):s=new RegExp(`${C(Array.from(a))}`,"g");const o=new N.Searcher(null,s),n=[];let d=!1,u,f=0,S=0,v=0;e:for(let m=r,_=c;m<=_;m++){const L=g.getLineContent(m),w=L.length;o.reset(0);do if(u=o.next(L),u){let k=u.index,D=u.index+u[0].length;if(k>0){const F=L.charCodeAt(k-1);T.isHighSurrogate(F)&&k--}if(D+1<w){const F=L.charCodeAt(D-1);T.isHighSurrogate(F)&&D++}const M=L.substring(k,D),O=l.shouldHighlightNonBasicASCII(M);if(O!==0){O===3?f++:O===2?S++:O===1?v++:(0,I.assertNever)(O);const F=1e3;if(n.length>=F){d=!0;break e}n.push(new y.Range(m,k+1,m,D+1))}}while(u)}return{ranges:n,hasMore:d,ambiguousCharacterCount:f,invisibleCharacterCount:S,nonBasicAsciiCharacterCount:v}}static computeUnicodeHighlightReason(g,i){switch(new p(i).shouldHighlightNonBasicASCII(g)){case 0:return null;case 2:return{kind:1};case 3:const c=T.AmbiguousCharacters.getPrimaryConfusable(g.codePointAt(0));return{kind:0,confusableWith:String.fromCodePoint(c)};case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=b;function C(h,g){return`[${T.escapeRegExpCharacters(h.map(t=>String.fromCodePoint(t)).join(""))}]`}class p{constructor(g){this.options=g,this.allowedCodePoints=new Set(g.allowedCodePoints)}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const g=new Set;if(this.options.invisibleCharacters)for(const i of T.InvisibleCharacters.codePoints)g.add(i);if(this.options.ambiguousCharacters)for(const i of T.AmbiguousCharacters.getPrimaryConfusableCodePoints())g.add(i);for(const i of this.allowedCodePoints)g.delete(i);return g}shouldHighlightNonBasicASCII(g){const i=g.codePointAt(0);return this.allowedCodePoints.has(i)?0:this.options.nonBasicASCII?1:this.options.invisibleCharacters&&!(g===" "||g===`
`||g==="	")&&T.InvisibleCharacters.isInvisibleCharacter(i)?2:this.options.ambiguousCharacters&&T.AmbiguousCharacters.isAmbiguous(i)?3:0}}}),define(ee[411],te([0,1,104,17]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function T(p){for(let h=0,g=p.length;h<g;h+=4){const i=p[h+0],t=p[h+1],r=p[h+2],c=p[h+3];p[h+0]=c,p[h+1]=r,p[h+2]=t,p[h+3]=i}}function I(p){const h=new Uint8Array(p.buffer,p.byteOffset,p.length*4);return N.isLittleEndian()||T(h),y.VSBuffer.wrap(h)}function b(p){const h=new Uint32Array(C(p));let g=0;if(h[g++]=p.id,p.type==="full")h[g++]=1,h[g++]=p.data.length,h.set(p.data,g),g+=p.data.length;else{h[g++]=2,h[g++]=p.deltas.length;for(const i of p.deltas)h[g++]=i.start,h[g++]=i.deleteCount,i.data?(h[g++]=i.data.length,h.set(i.data,g),g+=i.data.length):h[g++]=0}return I(h)}e.encodeSemanticTokensDto=b;function C(p){let h=0;if(h+=1+1,p.type==="full")h+=1+p.data.length;else{h+=1,h+=(1+1+1)*p.deltas.length;for(const g of p.deltas)g.data&&(h+=g.data.length)}return h}}),define(ee[178],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.AccessibilitySupport=void 0;var y;(function(E){E[E.Unknown=0]="Unknown",E[E.Disabled=1]="Disabled",E[E.Enabled=2]="Enabled"})(y=e.AccessibilitySupport||(e.AccessibilitySupport={}));var N;(function(E){E[E.KeepWhitespace=1]="KeepWhitespace",E[E.InsertAsSnippet=4]="InsertAsSnippet"})(N=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var T;(function(E){E[E.Method=0]="Method",E[E.Function=1]="Function",E[E.Constructor=2]="Constructor",E[E.Field=3]="Field",E[E.Variable=4]="Variable",E[E.Class=5]="Class",E[E.Struct=6]="Struct",E[E.Interface=7]="Interface",E[E.Module=8]="Module",E[E.Property=9]="Property",E[E.Event=10]="Event",E[E.Operator=11]="Operator",E[E.Unit=12]="Unit",E[E.Value=13]="Value",E[E.Constant=14]="Constant",E[E.Enum=15]="Enum",E[E.EnumMember=16]="EnumMember",E[E.Keyword=17]="Keyword",E[E.Text=18]="Text",E[E.Color=19]="Color",E[E.File=20]="File",E[E.Reference=21]="Reference",E[E.Customcolor=22]="Customcolor",E[E.Folder=23]="Folder",E[E.TypeParameter=24]="TypeParameter",E[E.User=25]="User",E[E.Issue=26]="Issue",E[E.Snippet=27]="Snippet"})(T=e.CompletionItemKind||(e.CompletionItemKind={}));var I;(function(E){E[E.Deprecated=1]="Deprecated"})(I=e.CompletionItemTag||(e.CompletionItemTag={}));var b;(function(E){E[E.Invoke=0]="Invoke",E[E.TriggerCharacter=1]="TriggerCharacter",E[E.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(b=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var C;(function(E){E[E.EXACT=0]="EXACT",E[E.ABOVE=1]="ABOVE",E[E.BELOW=2]="BELOW"})(C=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var p;(function(E){E[E.NotSet=0]="NotSet",E[E.ContentFlush=1]="ContentFlush",E[E.RecoverFromMarkers=2]="RecoverFromMarkers",E[E.Explicit=3]="Explicit",E[E.Paste=4]="Paste",E[E.Undo=5]="Undo",E[E.Redo=6]="Redo"})(p=e.CursorChangeReason||(e.CursorChangeReason={}));var h;(function(E){E[E.LF=1]="LF",E[E.CRLF=2]="CRLF"})(h=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var g;(function(E){E[E.Text=0]="Text",E[E.Read=1]="Read",E[E.Write=2]="Write"})(g=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var i;(function(E){E[E.None=0]="None",E[E.Keep=1]="Keep",E[E.Brackets=2]="Brackets",E[E.Advanced=3]="Advanced",E[E.Full=4]="Full"})(i=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var t;(function(E){E[E.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",E[E.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",E[E.accessibilitySupport=2]="accessibilitySupport",E[E.accessibilityPageSize=3]="accessibilityPageSize",E[E.ariaLabel=4]="ariaLabel",E[E.autoClosingBrackets=5]="autoClosingBrackets",E[E.autoClosingDelete=6]="autoClosingDelete",E[E.autoClosingOvertype=7]="autoClosingOvertype",E[E.autoClosingQuotes=8]="autoClosingQuotes",E[E.autoIndent=9]="autoIndent",E[E.automaticLayout=10]="automaticLayout",E[E.autoSurround=11]="autoSurround",E[E.bracketPairColorization=12]="bracketPairColorization",E[E.guides=13]="guides",E[E.codeLens=14]="codeLens",E[E.codeLensFontFamily=15]="codeLensFontFamily",E[E.codeLensFontSize=16]="codeLensFontSize",E[E.colorDecorators=17]="colorDecorators",E[E.columnSelection=18]="columnSelection",E[E.comments=19]="comments",E[E.contextmenu=20]="contextmenu",E[E.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",E[E.cursorBlinking=22]="cursorBlinking",E[E.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",E[E.cursorStyle=24]="cursorStyle",E[E.cursorSurroundingLines=25]="cursorSurroundingLines",E[E.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",E[E.cursorWidth=27]="cursorWidth",E[E.disableLayerHinting=28]="disableLayerHinting",E[E.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",E[E.domReadOnly=30]="domReadOnly",E[E.dragAndDrop=31]="dragAndDrop",E[E.emptySelectionClipboard=32]="emptySelectionClipboard",E[E.extraEditorClassName=33]="extraEditorClassName",E[E.fastScrollSensitivity=34]="fastScrollSensitivity",E[E.find=35]="find",E[E.fixedOverflowWidgets=36]="fixedOverflowWidgets",E[E.folding=37]="folding",E[E.foldingStrategy=38]="foldingStrategy",E[E.foldingHighlight=39]="foldingHighlight",E[E.foldingImportsByDefault=40]="foldingImportsByDefault",E[E.unfoldOnClickAfterEndOfLine=41]="unfoldOnClickAfterEndOfLine",E[E.fontFamily=42]="fontFamily",E[E.fontInfo=43]="fontInfo",E[E.fontLigatures=44]="fontLigatures",E[E.fontSize=45]="fontSize",E[E.fontWeight=46]="fontWeight",E[E.formatOnPaste=47]="formatOnPaste",E[E.formatOnType=48]="formatOnType",E[E.glyphMargin=49]="glyphMargin",E[E.gotoLocation=50]="gotoLocation",E[E.hideCursorInOverviewRuler=51]="hideCursorInOverviewRuler",E[E.hover=52]="hover",E[E.inDiffEditor=53]="inDiffEditor",E[E.inlineSuggest=54]="inlineSuggest",E[E.letterSpacing=55]="letterSpacing",E[E.lightbulb=56]="lightbulb",E[E.lineDecorationsWidth=57]="lineDecorationsWidth",E[E.lineHeight=58]="lineHeight",E[E.lineNumbers=59]="lineNumbers",E[E.lineNumbersMinChars=60]="lineNumbersMinChars",E[E.linkedEditing=61]="linkedEditing",E[E.links=62]="links",E[E.matchBrackets=63]="matchBrackets",E[E.minimap=64]="minimap",E[E.mouseStyle=65]="mouseStyle",E[E.mouseWheelScrollSensitivity=66]="mouseWheelScrollSensitivity",E[E.mouseWheelZoom=67]="mouseWheelZoom",E[E.multiCursorMergeOverlapping=68]="multiCursorMergeOverlapping",E[E.multiCursorModifier=69]="multiCursorModifier",E[E.multiCursorPaste=70]="multiCursorPaste",E[E.occurrencesHighlight=71]="occurrencesHighlight",E[E.overviewRulerBorder=72]="overviewRulerBorder",E[E.overviewRulerLanes=73]="overviewRulerLanes",E[E.padding=74]="padding",E[E.parameterHints=75]="parameterHints",E[E.peekWidgetDefaultFocus=76]="peekWidgetDefaultFocus",E[E.definitionLinkOpensInPeek=77]="definitionLinkOpensInPeek",E[E.quickSuggestions=78]="quickSuggestions",E[E.quickSuggestionsDelay=79]="quickSuggestionsDelay",E[E.readOnly=80]="readOnly",E[E.renameOnType=81]="renameOnType",E[E.renderControlCharacters=82]="renderControlCharacters",E[E.renderFinalNewline=83]="renderFinalNewline",E[E.renderLineHighlight=84]="renderLineHighlight",E[E.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",E[E.renderValidationDecorations=86]="renderValidationDecorations",E[E.renderWhitespace=87]="renderWhitespace",E[E.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",E[E.roundedSelection=89]="roundedSelection",E[E.rulers=90]="rulers",E[E.scrollbar=91]="scrollbar",E[E.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",E[E.scrollBeyondLastLine=93]="scrollBeyondLastLine",E[E.scrollPredominantAxis=94]="scrollPredominantAxis",E[E.selectionClipboard=95]="selectionClipboard",E[E.selectionHighlight=96]="selectionHighlight",E[E.selectOnLineNumbers=97]="selectOnLineNumbers",E[E.showFoldingControls=98]="showFoldingControls",E[E.showUnused=99]="showUnused",E[E.snippetSuggestions=100]="snippetSuggestions",E[E.smartSelect=101]="smartSelect",E[E.smoothScrolling=102]="smoothScrolling",E[E.stickyTabStops=103]="stickyTabStops",E[E.stopRenderingLineAfter=104]="stopRenderingLineAfter",E[E.suggest=105]="suggest",E[E.suggestFontSize=106]="suggestFontSize",E[E.suggestLineHeight=107]="suggestLineHeight",E[E.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",E[E.suggestSelection=109]="suggestSelection",E[E.tabCompletion=110]="tabCompletion",E[E.tabIndex=111]="tabIndex",E[E.unicodeHighlighting=112]="unicodeHighlighting",E[E.unusualLineTerminators=113]="unusualLineTerminators",E[E.useShadowDOM=114]="useShadowDOM",E[E.useTabStops=115]="useTabStops",E[E.wordSeparators=116]="wordSeparators",E[E.wordWrap=117]="wordWrap",E[E.wordWrapBreakAfterCharacters=118]="wordWrapBreakAfterCharacters",E[E.wordWrapBreakBeforeCharacters=119]="wordWrapBreakBeforeCharacters",E[E.wordWrapColumn=120]="wordWrapColumn",E[E.wordWrapOverride1=121]="wordWrapOverride1",E[E.wordWrapOverride2=122]="wordWrapOverride2",E[E.wrappingIndent=123]="wrappingIndent",E[E.wrappingStrategy=124]="wrappingStrategy",E[E.showDeprecated=125]="showDeprecated",E[E.inlayHints=126]="inlayHints",E[E.editorClassName=127]="editorClassName",E[E.pixelRatio=128]="pixelRatio",E[E.tabFocusMode=129]="tabFocusMode",E[E.layoutInfo=130]="layoutInfo",E[E.wrappingInfo=131]="wrappingInfo"})(t=e.EditorOption||(e.EditorOption={}));var r;(function(E){E[E.TextDefined=0]="TextDefined",E[E.LF=1]="LF",E[E.CRLF=2]="CRLF"})(r=e.EndOfLinePreference||(e.EndOfLinePreference={}));var c;(function(E){E[E.LF=0]="LF",E[E.CRLF=1]="CRLF"})(c=e.EndOfLineSequence||(e.EndOfLineSequence={}));var l;(function(E){E[E.None=0]="None",E[E.Indent=1]="Indent",E[E.IndentOutdent=2]="IndentOutdent",E[E.Outdent=3]="Outdent"})(l=e.IndentAction||(e.IndentAction={}));var a;(function(E){E[E.Other=0]="Other",E[E.Type=1]="Type",E[E.Parameter=2]="Parameter"})(a=e.InlayHintKind||(e.InlayHintKind={}));var s;(function(E){E[E.Automatic=0]="Automatic",E[E.Explicit=1]="Explicit"})(s=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var o;(function(E){E[E.DependsOnKbLayout=-1]="DependsOnKbLayout",E[E.Unknown=0]="Unknown",E[E.Backspace=1]="Backspace",E[E.Tab=2]="Tab",E[E.Enter=3]="Enter",E[E.Shift=4]="Shift",E[E.Ctrl=5]="Ctrl",E[E.Alt=6]="Alt",E[E.PauseBreak=7]="PauseBreak",E[E.CapsLock=8]="CapsLock",E[E.Escape=9]="Escape",E[E.Space=10]="Space",E[E.PageUp=11]="PageUp",E[E.PageDown=12]="PageDown",E[E.End=13]="End",E[E.Home=14]="Home",E[E.LeftArrow=15]="LeftArrow",E[E.UpArrow=16]="UpArrow",E[E.RightArrow=17]="RightArrow",E[E.DownArrow=18]="DownArrow",E[E.Insert=19]="Insert",E[E.Delete=20]="Delete",E[E.Digit0=21]="Digit0",E[E.Digit1=22]="Digit1",E[E.Digit2=23]="Digit2",E[E.Digit3=24]="Digit3",E[E.Digit4=25]="Digit4",E[E.Digit5=26]="Digit5",E[E.Digit6=27]="Digit6",E[E.Digit7=28]="Digit7",E[E.Digit8=29]="Digit8",E[E.Digit9=30]="Digit9",E[E.KeyA=31]="KeyA",E[E.KeyB=32]="KeyB",E[E.KeyC=33]="KeyC",E[E.KeyD=34]="KeyD",E[E.KeyE=35]="KeyE",E[E.KeyF=36]="KeyF",E[E.KeyG=37]="KeyG",E[E.KeyH=38]="KeyH",E[E.KeyI=39]="KeyI",E[E.KeyJ=40]="KeyJ",E[E.KeyK=41]="KeyK",E[E.KeyL=42]="KeyL",E[E.KeyM=43]="KeyM",E[E.KeyN=44]="KeyN",E[E.KeyO=45]="KeyO",E[E.KeyP=46]="KeyP",E[E.KeyQ=47]="KeyQ",E[E.KeyR=48]="KeyR",E[E.KeyS=49]="KeyS",E[E.KeyT=50]="KeyT",E[E.KeyU=51]="KeyU",E[E.KeyV=52]="KeyV",E[E.KeyW=53]="KeyW",E[E.KeyX=54]="KeyX",E[E.KeyY=55]="KeyY",E[E.KeyZ=56]="KeyZ",E[E.Meta=57]="Meta",E[E.ContextMenu=58]="ContextMenu",E[E.F1=59]="F1",E[E.F2=60]="F2",E[E.F3=61]="F3",E[E.F4=62]="F4",E[E.F5=63]="F5",E[E.F6=64]="F6",E[E.F7=65]="F7",E[E.F8=66]="F8",E[E.F9=67]="F9",E[E.F10=68]="F10",E[E.F11=69]="F11",E[E.F12=70]="F12",E[E.F13=71]="F13",E[E.F14=72]="F14",E[E.F15=73]="F15",E[E.F16=74]="F16",E[E.F17=75]="F17",E[E.F18=76]="F18",E[E.F19=77]="F19",E[E.NumLock=78]="NumLock",E[E.ScrollLock=79]="ScrollLock",E[E.Semicolon=80]="Semicolon",E[E.Equal=81]="Equal",E[E.Comma=82]="Comma",E[E.Minus=83]="Minus",E[E.Period=84]="Period",E[E.Slash=85]="Slash",E[E.Backquote=86]="Backquote",E[E.BracketLeft=87]="BracketLeft",E[E.Backslash=88]="Backslash",E[E.BracketRight=89]="BracketRight",E[E.Quote=90]="Quote",E[E.OEM_8=91]="OEM_8",E[E.IntlBackslash=92]="IntlBackslash",E[E.Numpad0=93]="Numpad0",E[E.Numpad1=94]="Numpad1",E[E.Numpad2=95]="Numpad2",E[E.Numpad3=96]="Numpad3",E[E.Numpad4=97]="Numpad4",E[E.Numpad5=98]="Numpad5",E[E.Numpad6=99]="Numpad6",E[E.Numpad7=100]="Numpad7",E[E.Numpad8=101]="Numpad8",E[E.Numpad9=102]="Numpad9",E[E.NumpadMultiply=103]="NumpadMultiply",E[E.NumpadAdd=104]="NumpadAdd",E[E.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",E[E.NumpadSubtract=106]="NumpadSubtract",E[E.NumpadDecimal=107]="NumpadDecimal",E[E.NumpadDivide=108]="NumpadDivide",E[E.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",E[E.ABNT_C1=110]="ABNT_C1",E[E.ABNT_C2=111]="ABNT_C2",E[E.AudioVolumeMute=112]="AudioVolumeMute",E[E.AudioVolumeUp=113]="AudioVolumeUp",E[E.AudioVolumeDown=114]="AudioVolumeDown",E[E.BrowserSearch=115]="BrowserSearch",E[E.BrowserHome=116]="BrowserHome",E[E.BrowserBack=117]="BrowserBack",E[E.BrowserForward=118]="BrowserForward",E[E.MediaTrackNext=119]="MediaTrackNext",E[E.MediaTrackPrevious=120]="MediaTrackPrevious",E[E.MediaStop=121]="MediaStop",E[E.MediaPlayPause=122]="MediaPlayPause",E[E.LaunchMediaPlayer=123]="LaunchMediaPlayer",E[E.LaunchMail=124]="LaunchMail",E[E.LaunchApp2=125]="LaunchApp2",E[E.MAX_VALUE=126]="MAX_VALUE"})(o=e.KeyCode||(e.KeyCode={}));var n;(function(E){E[E.Hint=1]="Hint",E[E.Info=2]="Info",E[E.Warning=4]="Warning",E[E.Error=8]="Error"})(n=e.MarkerSeverity||(e.MarkerSeverity={}));var d;(function(E){E[E.Unnecessary=1]="Unnecessary",E[E.Deprecated=2]="Deprecated"})(d=e.MarkerTag||(e.MarkerTag={}));var u;(function(E){E[E.Inline=1]="Inline",E[E.Gutter=2]="Gutter"})(u=e.MinimapPosition||(e.MinimapPosition={}));var f;(function(E){E[E.UNKNOWN=0]="UNKNOWN",E[E.TEXTAREA=1]="TEXTAREA",E[E.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",E[E.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",E[E.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",E[E.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",E[E.CONTENT_TEXT=6]="CONTENT_TEXT",E[E.CONTENT_EMPTY=7]="CONTENT_EMPTY",E[E.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",E[E.CONTENT_WIDGET=9]="CONTENT_WIDGET",E[E.OVERVIEW_RULER=10]="OVERVIEW_RULER",E[E.SCROLLBAR=11]="SCROLLBAR",E[E.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",E[E.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(f=e.MouseTargetType||(e.MouseTargetType={}));var S;(function(E){E[E.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",E[E.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",E[E.TOP_CENTER=2]="TOP_CENTER"})(S=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var v;(function(E){E[E.Left=1]="Left",E[E.Center=2]="Center",E[E.Right=4]="Right",E[E.Full=7]="Full"})(v=e.OverviewRulerLane||(e.OverviewRulerLane={}));var m;(function(E){E[E.Off=0]="Off",E[E.On=1]="On",E[E.Relative=2]="Relative",E[E.Interval=3]="Interval",E[E.Custom=4]="Custom"})(m=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var _;(function(E){E[E.None=0]="None",E[E.Text=1]="Text",E[E.Blocks=2]="Blocks"})(_=e.RenderMinimap||(e.RenderMinimap={}));var L;(function(E){E[E.Smooth=0]="Smooth",E[E.Immediate=1]="Immediate"})(L=e.ScrollType||(e.ScrollType={}));var w;(function(E){E[E.Auto=1]="Auto",E[E.Hidden=2]="Hidden",E[E.Visible=3]="Visible"})(w=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var k;(function(E){E[E.LTR=0]="LTR",E[E.RTL=1]="RTL"})(k=e.SelectionDirection||(e.SelectionDirection={}));var D;(function(E){E[E.Invoke=1]="Invoke",E[E.TriggerCharacter=2]="TriggerCharacter",E[E.ContentChange=3]="ContentChange"})(D=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var M;(function(E){E[E.File=0]="File",E[E.Module=1]="Module",E[E.Namespace=2]="Namespace",E[E.Package=3]="Package",E[E.Class=4]="Class",E[E.Method=5]="Method",E[E.Property=6]="Property",E[E.Field=7]="Field",E[E.Constructor=8]="Constructor",E[E.Enum=9]="Enum",E[E.Interface=10]="Interface",E[E.Function=11]="Function",E[E.Variable=12]="Variable",E[E.Constant=13]="Constant",E[E.String=14]="String",E[E.Number=15]="Number",E[E.Boolean=16]="Boolean",E[E.Array=17]="Array",E[E.Object=18]="Object",E[E.Key=19]="Key",E[E.Null=20]="Null",E[E.EnumMember=21]="EnumMember",E[E.Struct=22]="Struct",E[E.Event=23]="Event",E[E.Operator=24]="Operator",E[E.TypeParameter=25]="TypeParameter"})(M=e.SymbolKind||(e.SymbolKind={}));var O;(function(E){E[E.Deprecated=1]="Deprecated"})(O=e.SymbolTag||(e.SymbolTag={}));var F;(function(E){E[E.Hidden=0]="Hidden",E[E.Blink=1]="Blink",E[E.Smooth=2]="Smooth",E[E.Phase=3]="Phase",E[E.Expand=4]="Expand",E[E.Solid=5]="Solid"})(F=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var R;(function(E){E[E.Line=1]="Line",E[E.Block=2]="Block",E[E.Underline=3]="Underline",E[E.LineThin=4]="LineThin",E[E.BlockOutline=5]="BlockOutline",E[E.UnderlineThin=6]="UnderlineThin"})(R=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var A;(function(E){E[E.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",E[E.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",E[E.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",E[E.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(A=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var P;(function(E){E[E.None=0]="None",E[E.Same=1]="Same",E[E.Indent=2]="Indent",E[E.DeepIndent=3]="DeepIndent"})(P=e.WrappingIndent||(e.WrappingIndent={}))}),define(ee[233],te([0,1,23,4,56,25,14,3,21,142,178]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class i{static chord(c,l){return(0,T.KeyChord)(c,l)}}e.KeyMod=i,i.CtrlCmd=2048,i.Shift=1024,i.Alt=512,i.WinCtrl=256;function t(){return{editor:void 0,languages:void 0,CancellationTokenSource:y.CancellationTokenSource,Emitter:N.Emitter,KeyCode:g.KeyCode,KeyMod:i,Position:b.Position,Range:C.Range,Selection:p.Selection,SelectionDirection:g.SelectionDirection,MarkerSeverity:g.MarkerSeverity,MarkerTag:g.MarkerTag,Uri:I.URI,Token:h.Token}}e.createMonacoBaseAPI=t}),define(ee[234],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class y{constructor(b,C,p){this._colorZoneBrand=void 0,this.from=b|0,this.to=C|0,this.colorId=p|0}static compare(b,C){return b.colorId===C.colorId?b.from===C.from?b.to-C.to:b.from-C.from:b.colorId-C.colorId}}e.ColorZone=y;class N{constructor(b,C,p){this._overviewRulerZoneBrand=void 0,this.startLineNumber=b,this.endLineNumber=C,this.color=p,this._colorZone=null}static compare(b,C){return b.color===C.color?b.startLineNumber===C.startLineNumber?b.endLineNumber-C.endLineNumber:b.startLineNumber-C.startLineNumber:b.color<C.color?-1:1}setColorZone(b){this._colorZone=b}getColorZones(){return this._colorZone}}e.OverviewRulerZone=N;class T{constructor(b){this._getVerticalOffsetForLine=b,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(b){this._zones=b,this._zones.sort(N.compare)}setLineHeight(b){return this._lineHeight===b?!1:(this._lineHeight=b,this._colorZonesInvalid=!0,!0)}setPixelRatio(b){this._pixelRatio=b,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(b){return this._domWidth===b?!1:(this._domWidth=b,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(b){return this._domHeight===b?!1:(this._domHeight=b,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(b){return this._outerHeight===b?!1:(this._outerHeight=b,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const b=this._colorZonesInvalid,C=Math.floor(this._lineHeight),p=Math.floor(this.getCanvasHeight()),h=Math.floor(this._outerHeight),g=p/h,i=Math.floor(4*this._pixelRatio/2);let t=[];for(let r=0,c=this._zones.length;r<c;r++){const l=this._zones[r];if(!b){const S=l.getColorZones();if(S){t.push(S);continue}}const a=Math.floor(g*this._getVerticalOffsetForLine(l.startLineNumber)),s=Math.floor(g*(this._getVerticalOffsetForLine(l.endLineNumber)+C));let o=Math.floor((a+s)/2),n=s-o;n<i&&(n=i),o-n<0&&(o=n),o+n>p&&(o=p-n);const d=l.color;let u=this._color2Id[d];u||(u=++this._lastAssignedId,this._color2Id[d]=u,this._id2Color[u]=d);const f=new y(o-n,o+n,u);l.setColorZone(f),t.push(f)}return this._colorZonesInvalid=!1,t.sort(y.compare),t}}e.OverviewZoneManager=T}),define(ee[116],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class y{constructor(g,i){this._restrictedRenderingContextBrand=void 0,this._viewLayout=g,this.viewportData=i,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const t=this._viewLayout.getCurrentViewport();this.scrollTop=t.top,this.scrollLeft=t.left,this.viewportWidth=t.width,this.viewportHeight=t.height}getScrolledTopFromAbsoluteTop(g){return g-this.scrollTop}getVerticalOffsetForLineNumber(g){return this._viewLayout.getVerticalOffsetForLineNumber(g)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=y;class N extends y{constructor(g,i,t){super(g,i);this._renderingContextBrand=void 0,this._viewLines=t}linesVisibleRangesForRange(g,i){return this._viewLines.linesVisibleRangesForRange(g,i)}visibleRangeForPosition(g){return this._viewLines.visibleRangeForPosition(g)}}e.RenderingContext=N;class T{constructor(g,i,t){this.outsideRenderedLine=g,this.lineNumber=i,this.ranges=t}}e.LineVisibleRanges=T;class I{constructor(g,i){this._horizontalRangeBrand=void 0,this.left=Math.round(g),this.width=Math.round(i)}static from(g){const i=new Array(g.length);for(let t=0,r=g.length;t<r;t++){const c=g[t];i[t]=new I(c.left,c.width)}return i}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=I;class b{constructor(g,i){this._floatHorizontalRangeBrand=void 0,this.left=g,this.width=i}toString(){return`[${this.left},${this.width}]`}static compare(g,i){return g.left-i.left}}e.FloatHorizontalRange=b;class C{constructor(g,i){this.outsideRenderedLine=g,this.originalLeft=i,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=C;class p{constructor(g,i){this.outsideRenderedLine=g,this.ranges=i}}e.VisibleRanges=p}),define(ee[412],te([0,1,116]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class N{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(I,b){I.selectNodeContents(b)}static _readClientRects(I,b,C,p,h){const g=this._createRange();try{return g.setStart(I,b),g.setEnd(C,p),g.getClientRects()}catch(i){return null}finally{this._detachRange(g,h)}}static _mergeAdjacentRanges(I){if(I.length===1)return I;I.sort(y.FloatHorizontalRange.compare);let b=[],C=0,p=I[0];for(let h=1,g=I.length;h<g;h++){const i=I[h];p.left+p.width+.9>=i.left?p.width=Math.max(p.width,i.left+i.width-p.left):(b[C++]=p,p=i)}return b[C++]=p,b}static _createHorizontalRangesFromClientRects(I,b){if(!I||I.length===0)return null;const C=[];for(let p=0,h=I.length;p<h;p++){const g=I[p];C[p]=new y.FloatHorizontalRange(Math.max(0,g.left-b),g.width)}return this._mergeAdjacentRanges(C)}static readHorizontalRanges(I,b,C,p,h,g,i){const t=0,r=I.children.length-1;if(t>r)return null;if(b=Math.min(r,Math.max(t,b)),p=Math.min(r,Math.max(t,p)),b===p&&C===h&&C===0&&!I.children[b].firstChild){const s=I.children[b].getClientRects();return this._createHorizontalRangesFromClientRects(s,g)}b!==p&&p>0&&h===0&&(p--,h=1073741824);let c=I.children[b].firstChild,l=I.children[p].firstChild;if((!c||!l)&&(!c&&C===0&&b>0&&(c=I.children[b-1].firstChild,C=1073741824),!l&&h===0&&p>0&&(l=I.children[p-1].firstChild,h=1073741824)),!c||!l)return null;C=Math.min(c.textContent.length,Math.max(0,C)),h=Math.min(l.textContent.length,Math.max(0,h));const a=this._readClientRects(c,C,l,h,i);return this._createHorizontalRangesFromClientRects(a,g)}}e.RangeUtil=N}),define(ee[413],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=e.EditorTheme=void 0;class y{constructor(I){this._theme=I}get type(){return this._theme.type}update(I){this._theme=I}getColor(I){return this._theme.getColor(I)}}e.EditorTheme=y;class N{constructor(I,b,C){this.configuration=I,this.theme=new y(b),this.model=C,this.viewLayout=C.viewLayout}addEventHandler(I){this.model.addViewEventHandler(I)}removeEventHandler(I){this.model.removeViewEventHandler(I)}}e.ViewContext=N}),define(ee[179],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class y{constructor(){this.type=0}}e.ViewCompositionStartEvent=y;class N{constructor(){this.type=1}}e.ViewCompositionEndEvent=N;class T{constructor(u){this.type=2,this._source=u}hasChanged(u){return this._source.hasChanged(u)}}e.ViewConfigurationChangedEvent=T;class I{constructor(u,f){this.type=3,this.selections=u,this.modelSelections=f}}e.ViewCursorStateChangedEvent=I;class b{constructor(u){this.type=4,u?(this.affectsMinimap=u.affectsMinimap,this.affectsOverviewRuler=u.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=b;class C{constructor(){this.type=5}}e.ViewFlushedEvent=C;class p{constructor(u){this.type=6,this.isFocused=u}}e.ViewFocusChangedEvent=p;class h{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=h;class g{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=g;class i{constructor(u,f){this.type=9,this.fromLineNumber=u,this.toLineNumber=f}}e.ViewLinesChangedEvent=i;class t{constructor(u,f){this.type=10,this.fromLineNumber=u,this.toLineNumber=f}}e.ViewLinesDeletedEvent=t;class r{constructor(u,f){this.type=11,this.fromLineNumber=u,this.toLineNumber=f}}e.ViewLinesInsertedEvent=r;class c{constructor(u,f,S,v,m,_){this.type=12,this.source=u,this.range=f,this.selections=S,this.verticalType=v,this.revealHorizontal=m,this.scrollType=_}}e.ViewRevealRangeRequestEvent=c;class l{constructor(u){this.type=13,this.scrollWidth=u.scrollWidth,this.scrollLeft=u.scrollLeft,this.scrollHeight=u.scrollHeight,this.scrollTop=u.scrollTop,this.scrollWidthChanged=u.scrollWidthChanged,this.scrollLeftChanged=u.scrollLeftChanged,this.scrollHeightChanged=u.scrollHeightChanged,this.scrollTopChanged=u.scrollTopChanged}}e.ViewScrollChangedEvent=l;class a{constructor(){this.type=14}}e.ViewThemeChangedEvent=a;class s{constructor(u){this.type=15,this.ranges=u}}e.ViewTokensChangedEvent=s;class o{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=o;class n{constructor(){this.type=17}}e.ViewZonesChangedEvent=n}),define(ee[148],te([0,1,8]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class N{constructor(p,h,g,i){this.startColumn=p,this.endColumn=h,this.className=g,this.type=i,this._lineDecorationBrand=void 0}static _equals(p,h){return p.startColumn===h.startColumn&&p.endColumn===h.endColumn&&p.className===h.className&&p.type===h.type}static equalsArr(p,h){const g=p.length,i=h.length;if(g!==i)return!1;for(let t=0;t<g;t++)if(!N._equals(p[t],h[t]))return!1;return!0}static extractWrapped(p,h,g){if(p.length===0)return p;const i=h+1,t=g+1,r=g-h,c=[];let l=0;for(const a of p)a.endColumn<=i||a.startColumn>=t||(c[l++]=new N(Math.max(1,a.startColumn-i+1),Math.min(r+1,a.endColumn-i+1),a.className,a.type));return c}static filter(p,h,g,i){if(p.length===0)return[];let t=[],r=0;for(let c=0,l=p.length;c<l;c++){const a=p[c],s=a.range;if(s.endLineNumber<h||s.startLineNumber>h||s.isEmpty()&&(a.type===0||a.type===3))continue;const o=s.startLineNumber===h?s.startColumn:g,n=s.endLineNumber===h?s.endColumn:i;t[r++]=new N(o,n,a.inlineClassName,a.type)}return t}static _typeCompare(p,h){const g=[2,0,1,3];return g[p]-g[h]}static compare(p,h){if(p.startColumn!==h.startColumn)return p.startColumn-h.startColumn;if(p.endColumn!==h.endColumn)return p.endColumn-h.endColumn;const g=N._typeCompare(p.type,h.type);return g!==0?g:p.className!==h.className?p.className<h.className?-1:1:0}}e.LineDecoration=N;class T{constructor(p,h,g,i){this.startOffset=p,this.endOffset=h,this.className=g,this.metadata=i}}e.DecorationSegment=T;class I{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(p){let h=0;for(let g=0,i=p.length;g<i;g++)h|=p[g];return h}consumeLowerThan(p,h,g){for(;this.count>0&&this.stopOffsets[0]<p;){let i=0;for(;i+1<this.count&&this.stopOffsets[i]===this.stopOffsets[i+1];)i++;g.push(new T(h,this.stopOffsets[i],this.classNames.join(" "),I._metadata(this.metadata))),h=this.stopOffsets[i]+1,this.stopOffsets.splice(0,i+1),this.classNames.splice(0,i+1),this.metadata.splice(0,i+1),this.count-=i+1}return this.count>0&&h<p&&(g.push(new T(h,p-1,this.classNames.join(" "),I._metadata(this.metadata))),h=p),h}insert(p,h,g){if(this.count===0||this.stopOffsets[this.count-1]<=p)this.stopOffsets.push(p),this.classNames.push(h),this.metadata.push(g);else for(let i=0;i<this.count;i++)if(this.stopOffsets[i]>=p){this.stopOffsets.splice(i,0,p),this.classNames.splice(i,0,h),this.metadata.splice(i,0,g);break}this.count++}}class b{static normalize(p,h){if(h.length===0)return[];let g=[];const i=new I;let t=0;for(let r=0,c=h.length;r<c;r++){const l=h[r];let a=l.startColumn,s=l.endColumn;const o=l.className,n=l.type===1?2:l.type===2?4:0;if(a>1){const f=p.charCodeAt(a-2);y.isHighSurrogate(f)&&a--}if(s>1){const f=p.charCodeAt(s-2);y.isHighSurrogate(f)&&s--}const d=a-1,u=s-2;t=i.consumeLowerThan(d,t,g),i.count===0&&(t=d),i.insert(u,o,n)}return i.consumeLowerThan(1073741824,t,g),g}}e.LineDecorationsNormalizer=b}),define(ee[414],te([0,1,8]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class N{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(C){this._hasPending=!0,this._inserts.push(C)}change(C){this._hasPending=!0,this._changes.push(C)}remove(C){this._hasPending=!0,this._removes.push(C)}mustCommit(){return this._hasPending}commit(C){if(!this._hasPending)return;const p=this._inserts,h=this._changes,g=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],C._commitPendingChanges(p,h,g)}}class T{constructor(C,p,h,g,i){this.id=C,this.afterLineNumber=p,this.ordinal=h,this.height=g,this.minWidth=i,this.prefixSum=0}}e.EditorWhitespace=T;class I{constructor(C,p,h,g){this._instanceId=y.singleLetterHash(++I.INSTANCE_COUNT),this._pendingChanges=new N,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=C,this._lineHeight=p,this._paddingTop=h,this._paddingBottom=g}static findInsertionIndex(C,p,h){let g=0,i=C.length;for(;g<i;){const t=g+i>>>1;p===C[t].afterLineNumber?h<C[t].ordinal?i=t:g=t+1:p<C[t].afterLineNumber?i=t:g=t+1}return g}setLineHeight(C){this._checkPendingChanges(),this._lineHeight=C}setPadding(C,p){this._paddingTop=C,this._paddingBottom=p}onFlushed(C){this._checkPendingChanges(),this._lineCount=C}changeWhitespace(C){let p=!1;try{C({insertWhitespace:(g,i,t,r)=>{p=!0,g=g|0,i=i|0,t=t|0,r=r|0;const c=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new T(c,g,i,t,r)),c},changeOneWhitespace:(g,i,t)=>{p=!0,i=i|0,t=t|0,this._pendingChanges.change({id:g,newAfterLineNumber:i,newHeight:t})},removeWhitespace:g=>{p=!0,this._pendingChanges.remove({id:g})}})}finally{this._pendingChanges.commit(this)}return p}_commitPendingChanges(C,p,h){if((C.length>0||h.length>0)&&(this._minWidth=-1),C.length+p.length+h.length<=1){for(const c of C)this._insertWhitespace(c);for(const c of p)this._changeOneWhitespace(c.id,c.newAfterLineNumber,c.newHeight);for(const c of h){const l=this._findWhitespaceIndex(c.id);l!==-1&&this._removeWhitespace(l)}return}const g=new Set;for(const c of h)g.add(c.id);const i=new Map;for(const c of p)i.set(c.id,c);const t=c=>{let l=[];for(const a of c)if(!g.has(a.id)){if(i.has(a.id)){const s=i.get(a.id);a.afterLineNumber=s.newAfterLineNumber,a.height=s.newHeight}l.push(a)}return l},r=t(this._arr).concat(t(C));r.sort((c,l)=>c.afterLineNumber===l.afterLineNumber?c.ordinal-l.ordinal:c.afterLineNumber-l.afterLineNumber),this._arr=r,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(C){const p=I.findInsertionIndex(this._arr,C.afterLineNumber,C.ordinal);this._arr.splice(p,0,C),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,p-1)}_findWhitespaceIndex(C){const p=this._arr;for(let h=0,g=p.length;h<g;h++)if(p[h].id===C)return h;return-1}_changeOneWhitespace(C,p,h){const g=this._findWhitespaceIndex(C);if(g!==-1&&(this._arr[g].height!==h&&(this._arr[g].height=h,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,g-1)),this._arr[g].afterLineNumber!==p)){const i=this._arr[g];this._removeWhitespace(g),i.afterLineNumber=p,this._insertWhitespace(i)}}_removeWhitespace(C){this._arr.splice(C,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,C-1)}onLinesDeleted(C,p){this._checkPendingChanges(),C=C|0,p=p|0,this._lineCount-=p-C+1;for(let h=0,g=this._arr.length;h<g;h++){const i=this._arr[h].afterLineNumber;C<=i&&i<=p?this._arr[h].afterLineNumber=C-1:i>p&&(this._arr[h].afterLineNumber-=p-C+1)}}onLinesInserted(C,p){this._checkPendingChanges(),C=C|0,p=p|0,this._lineCount+=p-C+1;for(let h=0,g=this._arr.length;h<g;h++){const i=this._arr[h].afterLineNumber;C<=i&&(this._arr[h].afterLineNumber+=p-C+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(C){this._checkPendingChanges(),C=C|0;let p=Math.max(0,this._prefixSumValidIndex+1);p===0&&(this._arr[0].prefixSum=this._arr[0].height,p++);for(let h=p;h<=C;h++)this._arr[h].prefixSum=this._arr[h-1].prefixSum+this._arr[h].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,C),this._arr[C].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const C=this._lineHeight*this._lineCount,p=this.getWhitespacesTotalHeight();return C+p+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(C){this._checkPendingChanges(),C=C|0;const p=this._findLastWhitespaceBeforeLineNumber(C);return p===-1?0:this.getWhitespacesAccumulatedHeight(p)}_findLastWhitespaceBeforeLineNumber(C){C=C|0;const p=this._arr;let h=0,g=p.length-1;for(;h<=g;){const t=(g-h|0)/2|0,r=h+t|0;if(p[r].afterLineNumber<C){if(r+1>=p.length||p[r+1].afterLineNumber>=C)return r;h=r+1|0}else g=r-1|0}return-1}_findFirstWhitespaceAfterLineNumber(C){C=C|0;const h=this._findLastWhitespaceBeforeLineNumber(C)+1;return h<this._arr.length?h:-1}getFirstWhitespaceIndexAfterLineNumber(C){return this._checkPendingChanges(),C=C|0,this._findFirstWhitespaceAfterLineNumber(C)}getVerticalOffsetForLineNumber(C){this._checkPendingChanges(),C=C|0;let p;C>1?p=this._lineHeight*(C-1):p=0;const h=this.getWhitespaceAccumulatedHeightBeforeLineNumber(C);return p+h+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let C=0;for(let p=0,h=this._arr.length;p<h;p++)C=Math.max(C,this._arr[p].minWidth);this._minWidth=C}return this._minWidth}isAfterLines(C){this._checkPendingChanges();const p=this.getLinesTotalHeight();return C>p}isInTopPadding(C){return this._paddingTop===0?!1:(this._checkPendingChanges(),C<this._paddingTop)}isInBottomPadding(C){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const p=this.getLinesTotalHeight();return C>=p-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(C){if(this._checkPendingChanges(),C=C|0,C<0)return 1;const p=this._lineCount|0,h=this._lineHeight;let g=1,i=p;for(;g<i;){const t=(g+i)/2|0,r=this.getVerticalOffsetForLineNumber(t)|0;if(C>=r+h)g=t+1;else{if(C>=r)return t;i=t}}return g>p?p:g}getLinesViewportData(C,p){this._checkPendingChanges(),C=C|0,p=p|0;const h=this._lineHeight,g=this.getLineNumberAtOrAfterVerticalOffset(C)|0,i=this.getVerticalOffsetForLineNumber(g)|0;let t=this._lineCount|0,r=this.getFirstWhitespaceIndexAfterLineNumber(g)|0;const c=this.getWhitespacesCount()|0;let l,a;r===-1?(r=c,a=t+1,l=0):(a=this.getAfterLineNumberForWhitespaceIndex(r)|0,l=this.getHeightForWhitespaceIndex(r)|0);let s=i,o=s;const n=5e5;let d=0;i>=n&&(d=Math.floor(i/n)*n,d=Math.floor(d/h)*h,o-=d);const u=[],f=C+(p-C)/2;let S=-1;for(let L=g;L<=t;L++){if(S===-1){const w=s,k=s+h;(w<=f&&f<k||w>f)&&(S=L)}for(s+=h,u[L-g]=o,o+=h;a===L;)o+=l,s+=l,r++,r>=c?a=t+1:(a=this.getAfterLineNumberForWhitespaceIndex(r)|0,l=this.getHeightForWhitespaceIndex(r)|0);if(s>=p){t=L;break}}S===-1&&(S=t);const v=this.getVerticalOffsetForLineNumber(t)|0;let m=g,_=t;return m<_&&i<C&&m++,m<_&&v+h>p&&_--,{bigNumbersDelta:d,startLineNumber:g,endLineNumber:t,relativeVerticalOffset:u,centeredLineNumber:S,completelyVisibleStartLineNumber:m,completelyVisibleEndLineNumber:_}}getVerticalOffsetForWhitespaceIndex(C){this._checkPendingChanges(),C=C|0;const p=this.getAfterLineNumberForWhitespaceIndex(C);let h;p>=1?h=this._lineHeight*p:h=0;let g;return C>0?g=this.getWhitespacesAccumulatedHeight(C-1):g=0,h+g+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(C){this._checkPendingChanges(),C=C|0;let p=0,h=this.getWhitespacesCount()-1;if(h<0)return-1;const g=this.getVerticalOffsetForWhitespaceIndex(h),i=this.getHeightForWhitespaceIndex(h);if(C>=g+i)return-1;for(;p<h;){const t=Math.floor((p+h)/2),r=this.getVerticalOffsetForWhitespaceIndex(t),c=this.getHeightForWhitespaceIndex(t);if(C>=r+c)p=t+1;else{if(C>=r)return t;h=t}}return p}getWhitespaceAtVerticalOffset(C){this._checkPendingChanges(),C=C|0;const p=this.getWhitespaceIndexAtOrAfterVerticallOffset(C);if(p<0||p>=this.getWhitespacesCount())return null;const h=this.getVerticalOffsetForWhitespaceIndex(p);if(h>C)return null;const g=this.getHeightForWhitespaceIndex(p),i=this.getIdForWhitespaceIndex(p),t=this.getAfterLineNumberForWhitespaceIndex(p);return{id:i,afterLineNumber:t,verticalOffset:h,height:g}}getWhitespaceViewportData(C,p){this._checkPendingChanges(),C=C|0,p=p|0;const h=this.getWhitespaceIndexAtOrAfterVerticallOffset(C),g=this.getWhitespacesCount()-1;if(h<0)return[];let i=[];for(let t=h;t<=g;t++){const r=this.getVerticalOffsetForWhitespaceIndex(t),c=this.getHeightForWhitespaceIndex(t);if(r>=p)break;i.push({id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:r,height:c})}return i}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(C){return this._checkPendingChanges(),C=C|0,this._arr[C].id}getAfterLineNumberForWhitespaceIndex(C){return this._checkPendingChanges(),C=C|0,this._arr[C].afterLineNumber}getHeightForWhitespaceIndex(C){return this._checkPendingChanges(),C=C|0,this._arr[C].height}}e.LinesLayout=I,I.INSTANCE_COUNT=0}),define(ee[117],te([0,1,8,87,148]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class I{constructor(m,_,L){this._linePartBrand=void 0,this.endIndex=m,this.type=_,this.metadata=L}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class b{constructor(m,_){this.startOffset=m,this.endOffset=_}equals(m){return this.startOffset===m.startOffset&&this.endOffset===m.endOffset}}e.LineRange=b;class C{constructor(m,_,L,w,k,D,M,O,F,R,A,P,E,B,V,j,K,Y,J){this.useMonospaceOptimizations=m,this.canUseHalfwidthRightwardsArrow=_,this.lineContent=L,this.continuesWithWrappedLine=w,this.isBasicASCII=k,this.containsRTL=D,this.fauxIndentLength=M,this.lineTokens=O,this.lineDecorations=F.sort(T.LineDecoration.compare),this.tabSize=R,this.startVisibleColumn=A,this.spaceWidth=P,this.stopRenderingLineAfter=V,this.renderWhitespace=j==="all"?4:j==="boundary"?1:j==="selection"?2:j==="trailing"?3:0,this.renderControlCharacters=K,this.fontLigatures=Y,this.selectionsOnLine=J&&J.sort((ne,G)=>ne.startOffset<G.startOffset?-1:1);const Z=Math.abs(B-P),ie=Math.abs(E-P);Z<ie?(this.renderSpaceWidth=B,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=E,this.renderSpaceCharCode=183)}sameSelection(m){if(this.selectionsOnLine===null)return m===null;if(m===null||m.length!==this.selectionsOnLine.length)return!1;for(let _=0;_<this.selectionsOnLine.length;_++)if(!this.selectionsOnLine[_].equals(m[_]))return!1;return!0}equals(m){return this.useMonospaceOptimizations===m.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===m.canUseHalfwidthRightwardsArrow&&this.lineContent===m.lineContent&&this.continuesWithWrappedLine===m.continuesWithWrappedLine&&this.isBasicASCII===m.isBasicASCII&&this.containsRTL===m.containsRTL&&this.fauxIndentLength===m.fauxIndentLength&&this.tabSize===m.tabSize&&this.startVisibleColumn===m.startVisibleColumn&&this.spaceWidth===m.spaceWidth&&this.renderSpaceWidth===m.renderSpaceWidth&&this.renderSpaceCharCode===m.renderSpaceCharCode&&this.stopRenderingLineAfter===m.stopRenderingLineAfter&&this.renderWhitespace===m.renderWhitespace&&this.renderControlCharacters===m.renderControlCharacters&&this.fontLigatures===m.fontLigatures&&T.LineDecoration.equalsArr(this.lineDecorations,m.lineDecorations)&&this.lineTokens.equals(m.lineTokens)&&this.sameSelection(m.selectionsOnLine)}}e.RenderLineInput=C;class p{constructor(m,_){this.partIndex=m,this.charIndex=_}}e.DomPosition=p;class h{constructor(m,_){this.length=m,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(m){return(m&4294901760)>>>16}static getCharIndex(m){return(m&65535)>>>0}setColumnInfo(m,_,L,w){const k=(_<<16|L<<0)>>>0;this._data[m-1]=k,this._absoluteOffsets[m-1]=w+L}getAbsoluteOffset(m){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[m-1]}charOffsetToPartData(m){return this.length===0?0:m<0?this._data[0]:m>=this.length?this._data[this.length-1]:this._data[m]}getDomPosition(m){const _=this.charOffsetToPartData(m-1),L=h.getPartIndex(_),w=h.getCharIndex(_);return new p(L,w)}getColumn(m,_){return this.partDataToCharOffset(m.partIndex,_,m.charIndex)+1}partDataToCharOffset(m,_,L){if(this.length===0)return 0;let w=(m<<16|L<<0)>>>0,k=0,D=this.length-1;for(;k+1<D;){let V=k+D>>>1,j=this._data[V];if(j===w)return V;j>w?D=V:k=V}if(k===D)return k;let M=this._data[k],O=this._data[D];if(M===w)return k;if(O===w)return D;let F=h.getPartIndex(M),R=h.getCharIndex(M),A=h.getPartIndex(O),P;F!==A?P=_:P=h.getCharIndex(O);let E=L-R,B=P-L;return E<=B?k:D}}e.CharacterMapping=h;class g{constructor(m,_,L){this._renderLineOutputBrand=void 0,this.characterMapping=m,this.containsRTL=_,this.containsForeignElements=L}}e.RenderLineOutput=g;function i(v,m){if(v.lineContent.length===0){if(v.lineDecorations.length>0){m.appendASCIIString("<span>");let _=0,L=0,w=0;for(const D of v.lineDecorations)(D.type===1||D.type===2)&&(m.appendASCIIString('<span class="'),m.appendASCIIString(D.className),m.appendASCIIString('"></span>'),D.type===1&&(w|=1,_++),D.type===2&&(w|=2,L++));m.appendASCIIString("</span>");const k=new h(1,_+L);return k.setColumnInfo(1,_,0,0),new g(k,!1,w)}return m.appendASCIIString("<span><span></span></span>"),new g(new h(0,0),!1,0)}return f(l(v),m)}e.renderViewLine=i;class t{constructor(m,_,L,w){this.characterMapping=m,this.html=_,this.containsRTL=L,this.containsForeignElements=w}}e.RenderLineOutput2=t;function r(v){let m=(0,N.createStringBuilder)(1e4),_=i(v,m);return new t(_.characterMapping,m.build(),_.containsRTL,_.containsForeignElements)}e.renderViewLine2=r;class c{constructor(m,_,L,w,k,D,M,O,F,R,A,P,E,B,V){this.fontIsMonospace=m,this.canUseHalfwidthRightwardsArrow=_,this.lineContent=L,this.len=w,this.isOverflowing=k,this.parts=D,this.containsForeignElements=M,this.fauxIndentLength=O,this.tabSize=F,this.startVisibleColumn=R,this.containsRTL=A,this.spaceWidth=P,this.renderSpaceCharCode=E,this.renderWhitespace=B,this.renderControlCharacters=V}}function l(v){const m=v.lineContent;let _,L;v.stopRenderingLineAfter!==-1&&v.stopRenderingLineAfter<m.length?(_=!0,L=v.stopRenderingLineAfter):(_=!1,L=m.length);let w=a(v.lineTokens,v.fauxIndentLength,L);v.renderControlCharacters&&!v.isBasicASCII&&(w=n(m,w)),(v.renderWhitespace===4||v.renderWhitespace===1||v.renderWhitespace===2&&!!v.selectionsOnLine||v.renderWhitespace===3)&&(w=d(v,m,L,w));let k=0;if(v.lineDecorations.length>0){for(let D=0,M=v.lineDecorations.length;D<M;D++){const O=v.lineDecorations[D];O.type===3||O.type===1?k|=1:O.type===2&&(k|=2)}w=u(m,L,w,v.lineDecorations)}return v.containsRTL||(w=s(m,w,!v.isBasicASCII||v.fontLigatures)),new c(v.useMonospaceOptimizations,v.canUseHalfwidthRightwardsArrow,m,L,_,w,k,v.fauxIndentLength,v.tabSize,v.startVisibleColumn,v.containsRTL,v.spaceWidth,v.renderSpaceCharCode,v.renderWhitespace,v.renderControlCharacters)}function a(v,m,_){let L=[],w=0;m>0&&(L[w++]=new I(m,"",0));for(let k=0,D=v.getCount();k<D;k++){const M=v.getEndOffset(k);if(M<=m)continue;const O=v.getClassName(k);if(M>=_){L[w++]=new I(_,O,0);break}L[w++]=new I(M,O,0)}return L}function s(v,m,_){let L=0,w=[],k=0;if(_)for(let D=0,M=m.length;D<M;D++){const O=m[D],F=O.endIndex;if(L+50<F){const R=O.type,A=O.metadata;let P=-1,E=L;for(let B=L;B<F;B++)v.charCodeAt(B)===32&&(P=B),P!==-1&&B-E>=50&&(w[k++]=new I(P+1,R,A),E=P+1,P=-1);E!==F&&(w[k++]=new I(F,R,A))}else w[k++]=O;L=F}else for(let D=0,M=m.length;D<M;D++){const O=m[D],F=O.endIndex;let R=F-L;if(R>50){const A=O.type,P=O.metadata,E=Math.ceil(R/50);for(let B=1;B<E;B++){let V=L+B*50;w[k++]=new I(V,A,P)}w[k++]=new I(F,A,P)}else w[k++]=O;L=F}return w}function o(v){return v<32?v!==9:v===127||v>=8234&&v<=8238||v>=8294&&v<=8297||v>=8206&&v<=8207||v===1564}function n(v,m){let _=[],L=new I(0,"",0),w=0;for(const k of m){const D=k.endIndex;for(;w<D;w++){const M=v.charCodeAt(w);o(M)&&(w>L.endIndex&&(L=new I(w,k.type,k.metadata),_.push(L)),L=new I(w+1,"mtkcontrol",k.metadata),_.push(L))}w>L.endIndex&&(L=new I(D,k.type,k.metadata),_.push(L))}return _}function d(v,m,_,L){const w=v.continuesWithWrappedLine,k=v.fauxIndentLength,D=v.tabSize,M=v.startVisibleColumn,O=v.useMonospaceOptimizations,F=v.selectionsOnLine,R=v.renderWhitespace===1,A=v.renderWhitespace===3,P=v.renderSpaceWidth!==v.spaceWidth;let E=[],B=0,V=0,j=L[V].type,K=L[V].endIndex;const Y=L.length;let J=!1,Z=y.firstNonWhitespaceIndex(m),ie;Z===-1?(J=!0,Z=_,ie=_):ie=y.lastNonWhitespaceIndex(m);let ne=!1,G=0,W=F&&F[G],z=M%D;for(let x=k;x<_;x++){const X=m.charCodeAt(x);W&&x>=W.endOffset&&(G++,W=F&&F[G]);let le;if(x<Z||x>ie)le=!0;else if(X===9)le=!0;else if(X===32)if(R)if(ne)le=!0;else{const fe=x+1<_?m.charCodeAt(x+1):0;le=fe===32||fe===9}else le=!0;else le=!1;if(le&&F&&(le=!!W&&W.startOffset<=x&&W.endOffset>x),le&&A&&(le=J||x>ie),ne){if(!le||!O&&z>=D){if(P){const fe=B>0?E[B-1].endIndex:k;for(let $=fe+1;$<=x;$++)E[B++]=new I($,"mtkw",1)}else E[B++]=new I(x,"mtkw",1);z=z%D}}else(x===K||le&&x>k)&&(E[B++]=new I(x,j,0),z=z%D);for(X===9?z=D:y.isFullWidthCharacter(X)?z+=2:z++,ne=le;x===K&&(V++,V<Y);)j=L[V].type,K=L[V].endIndex}let U=!1;if(ne)if(w&&R){let x=_>0?m.charCodeAt(_-1):0,X=_>1?m.charCodeAt(_-2):0;x===32&&X!==32&&X!==9||(U=!0)}else U=!0;if(U)if(P){const x=B>0?E[B-1].endIndex:k;for(let X=x+1;X<=_;X++)E[B++]=new I(X,"mtkw",1)}else E[B++]=new I(_,"mtkw",1);else E[B++]=new I(_,j,0);return E}function u(v,m,_,L){L.sort(T.LineDecoration.compare);const w=T.LineDecorationsNormalizer.normalize(v,L),k=w.length;let D=0,M=[],O=0,F=0;for(let A=0,P=_.length;A<P;A++){const E=_[A],B=E.endIndex,V=E.type,j=E.metadata;for(;D<k&&w[D].startOffset<B;){const K=w[D];if(K.startOffset>F&&(F=K.startOffset,M[O++]=new I(F,V,j)),K.endOffset+1<=B)F=K.endOffset+1,M[O++]=new I(F,V+" "+K.className,j|K.metadata),D++;else{F=B,M[O++]=new I(F,V+" "+K.className,j|K.metadata);break}}B>F&&(F=B,M[O++]=new I(F,V,j))}const R=_[_.length-1].endIndex;if(D<k&&w[D].startOffset===R)for(;D<k&&w[D].startOffset===R;){const A=w[D];M[O++]=new I(F,A.className,A.metadata),D++}return M}function f(v,m){const _=v.fontIsMonospace,L=v.canUseHalfwidthRightwardsArrow,w=v.containsForeignElements,k=v.lineContent,D=v.len,M=v.isOverflowing,O=v.parts,F=v.fauxIndentLength,R=v.tabSize,A=v.startVisibleColumn,P=v.containsRTL,E=v.spaceWidth,B=v.renderSpaceCharCode,V=v.renderWhitespace,j=v.renderControlCharacters,K=new h(D+1,O.length);let Y=!1,J=0,Z=A,ie=0,ne=0,G=0,W=0;P?m.appendASCIIString('<span dir="ltr">'):m.appendASCIIString("<span>");for(let z=0,U=O.length;z<U;z++){W+=G;const x=O[z],X=x.endIndex,le=x.type,fe=V!==0&&x.isWhitespace(),$=fe&&!_&&(le==="mtkw"||!w),H=J===X&&x.isPseudoAfter();if(ie=0,m.appendASCIIString('<span class="'),m.appendASCIIString($?"mtkz":le),m.appendASCII(34),fe){let Q=0;{let re=J,ce=Z;for(;re<X;re++){const de=(k.charCodeAt(re)===9?R-ce%R:1)|0;Q+=de,re>=F&&(ce+=de)}}for($&&(m.appendASCIIString(' style="width:'),m.appendASCIIString(String(E*Q)),m.appendASCIIString('px"')),m.appendASCII(62);J<X;J++){K.setColumnInfo(J+1,z-ne,ie,W),ne=0;const re=k.charCodeAt(J);let ce;if(re===9){ce=R-Z%R|0,!L||ce>1?m.write1(8594):m.write1(65515);for(let oe=2;oe<=ce;oe++)m.write1(160)}else ce=1,m.write1(B);ie+=ce,J>=F&&(Z+=ce)}G=Q}else{let Q=0;for(m.appendASCII(62);J<X;J++){K.setColumnInfo(J+1,z-ne,ie,W),ne=0;const re=k.charCodeAt(J);let ce=1,oe=1;switch(re){case 9:ce=R-Z%R,oe=ce;for(let de=1;de<=ce;de++)m.write1(160);break;case 32:m.write1(160);break;case 60:m.appendASCIIString("&lt;");break;case 62:m.appendASCIIString("&gt;");break;case 38:m.appendASCIIString("&amp;");break;case 0:j?m.write1(9216):m.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:m.write1(65533);break;default:y.isFullWidthCharacter(re)&&oe++,j&&re<32?m.write1(9216+re):j&&re===127?m.write1(9249):j&&o(re)?(m.appendASCIIString("[U+"),m.appendASCIIString(S(re)),m.appendASCIIString("]"),ce=8):m.write1(re)}ie+=ce,Q+=ce,J>=F&&(Z+=oe)}G=Q}H?ne++:ne=0,J>=D&&!Y&&x.isPseudoAfter()&&(Y=!0,K.setColumnInfo(J+1,z,ie,W)),m.appendASCIIString("</span>")}return Y||K.setColumnInfo(D+1,O.length-1,ie,W),M&&m.appendASCIIString("<span>&hellip;</span>"),m.appendASCIIString("</span>"),new g(K,P,w)}function S(v){return v.toString(16).toUpperCase().padStart(4,"0")}}),define(ee[415],te([0,1,3]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class N{constructor(I,b,C,p){this.selections=I,this.startLineNumber=b.startLineNumber|0,this.endLineNumber=b.endLineNumber|0,this.relativeVerticalOffset=b.relativeVerticalOffset,this.bigNumbersDelta=b.bigNumbersDelta|0,this.whitespaceViewportData=C,this._model=p,this.visibleRange=new y.Range(b.startLineNumber,this._model.getLineMinColumn(b.startLineNumber),b.endLineNumber,this._model.getLineMaxColumn(b.endLineNumber))}getViewLineRenderingData(I){return this._model.getViewLineRenderingData(this.visibleRange,I)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=N}),define(ee[235],te([0,1,14]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class N{constructor(C,p,h,g,i){this.injectionOffsets=C,this.injectionOptions=p,this.breakOffsets=h,this.breakOffsetsVisibleColumn=g,this.wrappedTextIndentLength=i}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(C){return C>0?this.wrappedTextIndentLength:0}getLineLength(C){const p=C>0?this.breakOffsets[C-1]:0;let g=this.breakOffsets[C]-p;return C>0&&(g+=this.wrappedTextIndentLength),g}getMaxOutputOffset(C){return this.getLineLength(C)}translateToInputOffset(C,p){C>0&&(p=Math.max(0,p-this.wrappedTextIndentLength));let g=C===0?p:this.breakOffsets[C-1]+p;if(this.injectionOffsets!==null)for(let i=0;i<this.injectionOffsets.length&&g>this.injectionOffsets[i];i++)g<this.injectionOffsets[i]+this.injectionOptions[i].content.length?g=this.injectionOffsets[i]:g-=this.injectionOptions[i].content.length;return g}translateToOutputPosition(C,p=2){let h=C;if(this.injectionOffsets!==null)for(let g=0;g<this.injectionOffsets.length&&!(C<this.injectionOffsets[g]||p!==1&&C===this.injectionOffsets[g]);g++)h+=this.injectionOptions[g].content.length;return this.offsetInInputWithInjectionsToOutputPosition(h,p)}offsetInInputWithInjectionsToOutputPosition(C,p=2){let h=0,g=this.breakOffsets.length-1,i=0,t=0;for(;h<=g;){i=h+(g-h)/2|0;const c=this.breakOffsets[i];if(t=i>0?this.breakOffsets[i-1]:0,p===0)if(C<=t)g=i-1;else if(C>c)h=i+1;else break;else if(C<t)g=i-1;else if(C>=c)h=i+1;else break}let r=C-t;return i>0&&(r+=this.wrappedTextIndentLength),new I(i,r)}normalizeOutputPosition(C,p,h){if(this.injectionOffsets!==null){const g=this.outputPositionToOffsetInInputWithInjections(C,p),i=this.normalizeOffsetInInputWithInjectionsAroundInjections(g,h);if(i!==g)return this.offsetInInputWithInjectionsToOutputPosition(i,h)}if(h===0){if(C>0&&p===this.getMinOutputOffset(C))return new I(C-1,this.getMaxOutputOffset(C-1))}else if(h===1){const g=this.getOutputLineCount()-1;if(C<g&&p===this.getMaxOutputOffset(C))return new I(C+1,this.getMinOutputOffset(C+1))}return new I(C,p)}outputPositionToOffsetInInputWithInjections(C,p){return C>0&&(p=Math.max(0,p-this.wrappedTextIndentLength)),(C>0?this.breakOffsets[C-1]:0)+p}normalizeOffsetInInputWithInjectionsAroundInjections(C,p){const h=this.getInjectedTextAtOffset(C);if(!h)return C;if(p===2)return C===h.offsetInInputWithInjections+h.length?h.offsetInInputWithInjections+h.length:h.offsetInInputWithInjections;if(p===1){let t=h.offsetInInputWithInjections+h.length,r=h.injectedTextIndex;for(;r+1<this.injectionOffsets.length&&this.injectionOffsets[r+1]===this.injectionOffsets[r];)t+=this.injectionOptions[r+1].content.length,r++;return t}let g=h.offsetInInputWithInjections,i=h.injectedTextIndex;for(;i-1>=0&&this.injectionOffsets[i-1]===this.injectionOffsets[i];)g-=this.injectionOptions[i-1].content.length,i++;return g}getInjectedText(C,p){const h=this.outputPositionToOffsetInInputWithInjections(C,p),g=this.getInjectedTextAtOffset(h);return g?{options:this.injectionOptions[g.injectedTextIndex]}:null}getInjectedTextAtOffset(C){const p=this.injectionOffsets,h=this.injectionOptions;if(p!==null){let g=0;for(let i=0;i<p.length;i++){const t=h[i].content.length,r=p[i]+g,c=p[i]+g+t;if(r>C)break;if(C<=c)return{injectedTextIndex:i,offsetInInputWithInjections:r,length:t};g+=t}}}}e.ModelLineProjectionData=N;class T{constructor(C){this.options=C}}e.InjectedText=T;class I{constructor(C,p){this.outputLineIndex=C,this.outputOffset=p}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(C){return new y.Position(C+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=I}),define(ee[416],te([0,1,8,97,89,235]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class b{constructor(s,o){this.classifier=new C(s,o)}static create(s){return new b(s.get(119),s.get(118))}createLineBreaksComputer(s,o,n,d){const u=[],f=[],S=[];return{addRequest:(v,m,_)=>{u.push(v),f.push(m),S.push(_)},finalize:()=>{const v=s.typicalFullwidthCharacterWidth/s.typicalHalfwidthCharacterWidth;let m=[];for(let _=0,L=u.length;_<L;_++){const w=f[_],k=S[_];k&&!k.injectionOptions&&!w?m[_]=g(this.classifier,k,u[_],o,n,v,d):m[_]=i(this.classifier,u[_],w,o,n,v,d)}return p.length=0,h.length=0,m}}}}e.MonospaceLineBreaksComputerFactory=b;class C extends N.CharacterClassifier{constructor(s,o){super(0);for(let n=0;n<s.length;n++)this.set(s.charCodeAt(n),1);for(let n=0;n<o.length;n++)this.set(o.charCodeAt(n),2)}get(s){return s>=0&&s<256?this._asciiMap[s]:s>=12352&&s<=12543||s>=13312&&s<=19903||s>=19968&&s<=40959?3:this._map.get(s)||this._defaultValue}}let p=[],h=[];function g(a,s,o,n,d,u,f){if(d===-1)return null;const S=o.length;if(S<=1)return null;const v=s.breakOffsets,m=s.breakOffsetsVisibleColumn,_=l(o,n,d,u,f),L=d-_;let w=p,k=h,D=0,M=0,O=0,F=d;const R=v.length;let A=0;if(A>=0){let P=Math.abs(m[A]-F);for(;A+1<R;){const E=Math.abs(m[A+1]-F);if(E>=P)break;P=E,A++}}for(;A<R;){let P=A<0?0:v[A],E=A<0?0:m[A];M>P&&(P=M,E=O);let B=0,V=0,j=0,K=0;if(E<=F){let J=E,Z=P===0?0:o.charCodeAt(P-1),ie=P===0?0:a.get(Z),ne=!0;for(let G=P;G<S;G++){const W=G,z=o.charCodeAt(G);let U,x;if(y.isHighSurrogate(z)?(G++,U=0,x=2):(U=a.get(z),x=t(z,J,n,u)),W>M&&c(Z,ie,z,U)&&(B=W,V=J),J+=x,J>F){W>M?(j=W,K=J-x):(j=G+1,K=J),J-V>L&&(B=0),ne=!1;break}Z=z,ie=U}if(ne){D>0&&(w[D]=v[v.length-1],k[D]=m[v.length-1],D++);break}}if(B===0){let J=E,Z=o.charCodeAt(P),ie=a.get(Z),ne=!1;for(let G=P-1;G>=M;G--){const W=G+1,z=o.charCodeAt(G);if(z===9){ne=!0;break}let U,x;if(y.isLowSurrogate(z)?(G--,U=0,x=2):(U=a.get(z),x=y.isFullWidthCharacter(z)?u:1),J<=F){if(j===0&&(j=W,K=J),J<=F-L)break;if(c(z,U,Z,ie)){B=W,V=J;break}}J-=x,Z=z,ie=U}if(B!==0){const G=L-(K-V);if(G<=n){const W=o.charCodeAt(j);let z;y.isHighSurrogate(W)?z=2:z=t(W,K,n,u),G-z<0&&(B=0)}}if(ne){A--;continue}}if(B===0&&(B=j,V=K),B<=M){const J=o.charCodeAt(M);y.isHighSurrogate(J)?(B=M+2,V=O+2):(B=M+1,V=O+t(J,O,n,u))}for(M=B,w[D]=B,O=V,k[D]=V,D++,F=V+L;A<0||A<R&&m[A]<V;)A++;let Y=Math.abs(m[A]-F);for(;A+1<R;){const J=Math.abs(m[A+1]-F);if(J>=Y)break;Y=J,A++}}return D===0?null:(w.length=D,k.length=D,p=s.breakOffsets,h=s.breakOffsetsVisibleColumn,s.breakOffsets=w,s.breakOffsetsVisibleColumn=k,s.wrappedTextIndentLength=_,s)}function i(a,s,o,n,d,u,f){const S=T.LineInjectedText.applyInjectedText(s,o);let v,m;if(o&&o.length>0?(v=o.map(V=>V.options),m=o.map(V=>V.column-1)):(v=null,m=null),d===-1)return v?new I.ModelLineProjectionData(m,v,[S.length],[],0):null;const _=S.length;if(_<=1)return v?new I.ModelLineProjectionData(m,v,[S.length],[],0):null;const L=l(S,n,d,u,f),w=d-L;let k=[],D=[],M=0,O=0,F=0,R=d,A=S.charCodeAt(0),P=a.get(A),E=t(A,0,n,u),B=1;y.isHighSurrogate(A)&&(E+=1,A=S.charCodeAt(1),P=a.get(A),B++);for(let V=B;V<_;V++){const j=V,K=S.charCodeAt(V);let Y,J;y.isHighSurrogate(K)?(V++,Y=0,J=2):(Y=a.get(K),J=t(K,E,n,u)),c(A,P,K,Y)&&(O=j,F=E),E+=J,E>R&&((O===0||E-F>w)&&(O=j,F=E-J),k[M]=O,D[M]=F,M++,R=F+w,O=0),A=K,P=Y}return M===0&&(!o||o.length===0)?null:(k[M]=_,D[M]=E,new I.ModelLineProjectionData(m,v,k,D,L))}function t(a,s,o,n){return a===9?o-s%o:y.isFullWidthCharacter(a)||a<32?n:1}function r(a,s){return s-a%s}function c(a,s,o,n){return o!==32&&(s===2||s===3&&n!==2||n===1||n===3&&s!==1)}function l(a,s,o,n,d){let u=0;if(d!==0){const f=y.firstNonWhitespaceIndex(a);if(f!==-1){for(let v=0;v<f;v++)u+=a.charCodeAt(v)===9?r(u,s):1;const S=d===3?2:d===2?1:0;for(let v=0;v<S;v++)u+=r(u,s);u+n>o&&(u=0)}}return u}}),define(ee[236],te([0,1,19,136]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class T{constructor(p){this.values=p,this.prefixSum=new Uint32Array(p.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(p,h){p=(0,N.toUint32)(p);const g=this.values,i=this.prefixSum,t=h.length;return t===0?!1:(this.values=new Uint32Array(g.length+t),this.values.set(g.subarray(0,p),0),this.values.set(g.subarray(p),p+t),this.values.set(h,p),p-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=p-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(p,h){return p=(0,N.toUint32)(p),h=(0,N.toUint32)(h),this.values[p]===h?!1:(this.values[p]=h,p-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=p-1),!0)}removeValues(p,h){p=(0,N.toUint32)(p),h=(0,N.toUint32)(h);const g=this.values,i=this.prefixSum;if(p>=g.length)return!1;let t=g.length-p;return h>=t&&(h=t),h===0?!1:(this.values=new Uint32Array(g.length-h),this.values.set(g.subarray(0,p),0),this.values.set(g.subarray(p+h),p),this.prefixSum=new Uint32Array(this.values.length),p-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=p-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(p){return p<0?0:(p=(0,N.toUint32)(p),this._getPrefixSum(p))}_getPrefixSum(p){if(p<=this.prefixSumValidIndex[0])return this.prefixSum[p];let h=this.prefixSumValidIndex[0]+1;h===0&&(this.prefixSum[0]=this.values[0],h++),p>=this.values.length&&(p=this.values.length-1);for(let g=h;g<=p;g++)this.prefixSum[g]=this.prefixSum[g-1]+this.values[g];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],p),this.prefixSum[p]}getIndexOf(p){p=Math.floor(p),this.getTotalSum();let h=0,g=this.values.length-1,i=0,t=0,r=0;for(;h<=g;)if(i=h+(g-h)/2|0,t=this.prefixSum[i],r=t-this.values[i],p<r)g=i-1;else if(p>=t)h=i+1;else break;return new b(i,p-r)}}e.PrefixSumComputer=T;class I{constructor(p){this._values=p,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(p){return this._ensureValid(),p===0?0:this._prefixSum[p-1]}getIndexOf(p){this._ensureValid();const h=this._indexBySum[p],g=h>0?this._prefixSum[h-1]:0;return new b(h,p-g)}removeValues(p,h){this._values.splice(p,h),this._invalidate(p)}insertValues(p,h){this._values=(0,y.arrayInsert)(this._values,p,h),this._invalidate(p)}_invalidate(p){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,p-1)}_ensureValid(){if(!this._isValid){for(let p=this._validEndIndex+1,h=this._values.length;p<h;p++){const g=this._values[p],i=p>0?this._prefixSum[p-1]:0;this._prefixSum[p]=i+g;for(let t=0;t<g;t++)this._indexBySum[i+t]=p}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(p,h){this._values[p]!==h&&(this._values[p]=h,this._invalidate(p))}}e.ConstantTimePrefixSumComputer=I;class b{constructor(p,h){this.index=p,this.remainder=h,this._prefixSumIndexOfResultBrand=void 0,this.index=p,this.remainder=h}}e.PrefixSumIndexOfResult=b}),define(ee[417],te([0,1,8,14,236]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class I{constructor(C,p,h,g){this._uri=C,this._lines=p,this._eol=h,this._versionId=g,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(C){C.eol&&C.eol!==this._eol&&(this._eol=C.eol,this._lineStarts=null);const p=C.changes;for(const h of p)this._acceptDeleteRange(h.range),this._acceptInsertText(new N.Position(h.range.startLineNumber,h.range.startColumn),h.text);this._versionId=C.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const C=this._eol.length,p=this._lines.length,h=new Uint32Array(p);for(let g=0;g<p;g++)h[g]=this._lines[g].length+C;this._lineStarts=new T.PrefixSumComputer(h)}}_setLineText(C,p){this._lines[C]=p,this._lineStarts&&this._lineStarts.setValue(C,this._lines[C].length+this._eol.length)}_acceptDeleteRange(C){if(C.startLineNumber===C.endLineNumber){if(C.startColumn===C.endColumn)return;this._setLineText(C.startLineNumber-1,this._lines[C.startLineNumber-1].substring(0,C.startColumn-1)+this._lines[C.startLineNumber-1].substring(C.endColumn-1));return}this._setLineText(C.startLineNumber-1,this._lines[C.startLineNumber-1].substring(0,C.startColumn-1)+this._lines[C.endLineNumber-1].substring(C.endColumn-1)),this._lines.splice(C.startLineNumber,C.endLineNumber-C.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(C.startLineNumber,C.endLineNumber-C.startLineNumber)}_acceptInsertText(C,p){if(p.length===0)return;let h=(0,y.splitLines)(p);if(h.length===1){this._setLineText(C.lineNumber-1,this._lines[C.lineNumber-1].substring(0,C.column-1)+h[0]+this._lines[C.lineNumber-1].substring(C.column-1));return}h[h.length-1]+=this._lines[C.lineNumber-1].substring(C.column-1),this._setLineText(C.lineNumber-1,this._lines[C.lineNumber-1].substring(0,C.column-1)+h[0]);let g=new Uint32Array(h.length-1);for(let i=1;i<h.length;i++)this._lines.splice(C.lineNumber+i-1,0,h[i]),g[i-1]=h[i].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(C.lineNumber,g)}}e.MirrorTextModel=I}),define(ee[418],te([0,1,135,17,25,14,3,394,417,146,403,406,233,20,85,232]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=e.MirrorModel=void 0;class a extends p.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(d){return this._lines[d-1]}getWordAtPosition(d,u){let f=(0,h.getWordAtText)(d.column,(0,h.ensureValidWordDefinition)(u),this._lines[d.lineNumber-1],0);return f?new b.Range(d.lineNumber,f.startColumn,d.lineNumber,f.endColumn):null}words(d){const u=this._lines,f=this._wordenize.bind(this);let S=0,v="",m=0,_=[];return{*[Symbol.iterator](){for(;;)if(m<_.length){const L=v.substring(_[m].start,_[m].end);m+=1,yield L}else if(S<u.length)v=u[S],_=f(v,d),m=0,S+=1;else break}}}getLineWords(d,u){let f=this._lines[d-1],S=this._wordenize(f,u),v=[];for(const m of S)v.push({word:f.substring(m.start,m.end),startColumn:m.start+1,endColumn:m.end+1});return v}_wordenize(d,u){const f=[];let S;for(u.lastIndex=0;(S=u.exec(d))&&S[0].length!==0;)f.push({start:S.index,end:S.index+S[0].length});return f}getValueInRange(d){if(d=this._validateRange(d),d.startLineNumber===d.endLineNumber)return this._lines[d.startLineNumber-1].substring(d.startColumn-1,d.endColumn-1);let u=this._eol,f=d.startLineNumber-1,S=d.endLineNumber-1,v=[];v.push(this._lines[f].substring(d.startColumn-1));for(let m=f+1;m<S;m++)v.push(this._lines[m]);return v.push(this._lines[S].substring(0,d.endColumn-1)),v.join(u)}offsetAt(d){return d=this._validatePosition(d),this._ensureLineStarts(),this._lineStarts.getPrefixSum(d.lineNumber-2)+(d.column-1)}positionAt(d){d=Math.floor(d),d=Math.max(0,d),this._ensureLineStarts();let u=this._lineStarts.getIndexOf(d),f=this._lines[u.index].length;return{lineNumber:1+u.index,column:1+Math.min(u.remainder,f)}}_validateRange(d){const u=this._validatePosition({lineNumber:d.startLineNumber,column:d.startColumn}),f=this._validatePosition({lineNumber:d.endLineNumber,column:d.endColumn});return u.lineNumber!==d.startLineNumber||u.column!==d.startColumn||f.lineNumber!==d.endLineNumber||f.column!==d.endColumn?{startLineNumber:u.lineNumber,startColumn:u.column,endLineNumber:f.lineNumber,endColumn:f.column}:d}_validatePosition(d){if(!I.Position.isIPosition(d))throw new Error("bad position");let{lineNumber:u,column:f}=d,S=!1;if(u<1)u=1,f=1,S=!0;else if(u>this._lines.length)u=this._lines.length,f=this._lines[u-1].length+1,S=!0;else{let v=this._lines[u-1].length+1;f<1?(f=1,S=!0):f>v&&(f=v,S=!0)}return S?{lineNumber:u,column:f}:d}}e.MirrorModel=a;class s{constructor(d,u){this._host=d,this._models=Object.create(null),this._foreignModuleFactory=u,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(d){return this._models[d]}_getModels(){let d=[];return Object.keys(this._models).forEach(u=>d.push(this._models[u])),d}acceptNewModel(d){this._models[d.url]=new a(T.URI.parse(d.url),d.lines,d.EOL,d.versionId)}acceptModelChanged(d,u){if(!this._models[d])return;this._models[d].onEvents(u)}acceptRemovedModel(d){!this._models[d]||delete this._models[d]}computeUnicodeHighlights(d,u,f){return Ae(this,void 0,void 0,function*(){const S=this._getModel(d);return S?l.UnicodeTextModelHighlighter.computeUnicodeHighlights(S,u,f):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(d,u,f,S){return Ae(this,void 0,void 0,function*(){const v=this._getModel(d),m=this._getModel(u);if(!v||!m)return null;const _=v.getLinesContent(),L=m.getLinesContent(),k=new C.DiffComputer(_,L,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:f,shouldMakePrettyDiff:!0,maxComputationTime:S}).computeDiff(),D=k.changes.length>0?!1:this._modelsAreIdentical(v,m);return{quitEarly:k.quitEarly,identical:D,changes:k.changes}})}_modelsAreIdentical(d,u){const f=d.getLineCount(),S=u.getLineCount();if(f!==S)return!1;for(let v=1;v<=f;v++){const m=d.getLineContent(v),_=u.getLineContent(v);if(m!==_)return!1}return!0}computeMoreMinimalEdits(d,u){return Ae(this,void 0,void 0,function*(){const f=this._getModel(d);if(!f)return u;const S=[];let v;u=u.slice(0).sort((m,_)=>{if(m.range&&_.range)return b.Range.compareRangesUsingStarts(m.range,_.range);let L=m.range?0:1,w=_.range?0:1;return L-w});for(let{range:m,text:_,eol:L}of u){if(typeof L=="number"&&(v=L),b.Range.isEmpty(m)&&!_)continue;const w=f.getValueInRange(m);if(_=_.replace(/\r\n|\n|\r/g,f.eol),w===_)continue;if(Math.max(_.length,w.length)>s._diffLimit){S.push({range:m,text:_});continue}const k=(0,y.stringDiff)(w,_,!1),D=f.offsetAt(b.Range.lift(m).getStartPosition());for(const M of k){const O=f.positionAt(D+M.originalStart),F=f.positionAt(D+M.originalStart+M.originalLength),R={text:_.substr(M.modifiedStart,M.modifiedLength),range:{startLineNumber:O.lineNumber,startColumn:O.column,endLineNumber:F.lineNumber,endColumn:F.column}};f.getValueInRange(R.range)!==R.text&&S.push(R)}}return typeof v=="number"&&S.push({eol:v,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),S})}computeLinks(d){return Ae(this,void 0,void 0,function*(){let u=this._getModel(d);return u?(0,g.computeLinks)(u):null})}textualSuggest(d,u,f,S){return Ae(this,void 0,void 0,function*(){const v=new c.StopWatch(!0),m=new RegExp(f,S),_=new Set;e:for(let L of d){const w=this._getModel(L);if(!!w){for(let k of w.words(m))if(!(k===u||!isNaN(Number(k)))&&(_.add(k),_.size>s._suggestionsLimit))break e}}return{words:Array.from(_),duration:v.elapsed()}})}computeWordRanges(d,u,f,S){return Ae(this,void 0,void 0,function*(){let v=this._getModel(d);if(!v)return Object.create(null);const m=new RegExp(f,S),_=Object.create(null);for(let L=u.startLineNumber;L<u.endLineNumber;L++){let w=v.getLineWords(L,m);for(const k of w){if(!isNaN(Number(k.word)))continue;let D=_[k.word];D||(D=[],_[k.word]=D),D.push({startLineNumber:L,startColumn:k.startColumn,endLineNumber:L,endColumn:k.endColumn})}}return _})}navigateValueSet(d,u,f,S,v){return Ae(this,void 0,void 0,function*(){let m=this._getModel(d);if(!m)return null;let _=new RegExp(S,v);u.startColumn===u.endColumn&&(u={startLineNumber:u.startLineNumber,startColumn:u.startColumn,endLineNumber:u.endLineNumber,endColumn:u.endColumn+1});let L=m.getValueInRange(u),w=m.getWordAtPosition({lineNumber:u.startLineNumber,column:u.startColumn},_);if(!w)return null;let k=m.getValueInRange(w);return i.BasicInplaceReplace.INSTANCE.navigateValueSet(u,L,w,k,f)})}loadForeignModule(d,u,f){const S=(_,L)=>this._host.fhr(_,L);let m={host:r.createProxyObject(f,S),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(m,u),Promise.resolve(r.getAllMethodNames(this._foreignModule))):new Promise((_,L)=>{q([d],w=>{this._foreignModule=w.create(m,u),_(r.getAllMethodNames(this._foreignModule))},L)})}fmr(d,u){if(!this._foreignModule||typeof this._foreignModule[d]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+d));try{return Promise.resolve(this._foreignModule[d].apply(this._foreignModule,u))}catch(f){return Promise.reject(f)}}}e.EditorSimpleWorker=s,s._diffLimit=1e5,s._suggestionsLimit=1e4;function o(n){return new s(n,null)}e.create=o,typeof importScripts=="function"&&(N.globals.monaco=(0,t.createMonacoBaseAPI)())}),define(ee[118],te([0,1,2]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class N extends y.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(I){return!1}onCompositionEnd(I){return!1}onConfigurationChanged(I){return!1}onCursorStateChanged(I){return!1}onDecorationsChanged(I){return!1}onFlushed(I){return!1}onFocusChanged(I){return!1}onLanguageConfigurationChanged(I){return!1}onLineMappingChanged(I){return!1}onLinesChanged(I){return!1}onLinesDeleted(I){return!1}onLinesInserted(I){return!1}onRevealRangeRequest(I){return!1}onScrollChanged(I){return!1}onThemeChanged(I){return!1}onTokensChanged(I){return!1}onTokensColorsChanged(I){return!1}onZonesChanged(I){return!1}handleEvents(I){let b=!1;for(let C=0,p=I.length;C<p;C++){let h=I[C];switch(h.type){case 0:this.onCompositionStart(h)&&(b=!0);break;case 1:this.onCompositionEnd(h)&&(b=!0);break;case 2:this.onConfigurationChanged(h)&&(b=!0);break;case 3:this.onCursorStateChanged(h)&&(b=!0);break;case 4:this.onDecorationsChanged(h)&&(b=!0);break;case 5:this.onFlushed(h)&&(b=!0);break;case 6:this.onFocusChanged(h)&&(b=!0);break;case 7:this.onLanguageConfigurationChanged(h)&&(b=!0);break;case 8:this.onLineMappingChanged(h)&&(b=!0);break;case 9:this.onLinesChanged(h)&&(b=!0);break;case 10:this.onLinesDeleted(h)&&(b=!0);break;case 11:this.onLinesInserted(h)&&(b=!0);break;case 12:this.onRevealRangeRequest(h)&&(b=!0);break;case 13:this.onScrollChanged(h)&&(b=!0);break;case 15:this.onTokensChanged(h)&&(b=!0);break;case 14:this.onThemeChanged(h)&&(b=!0);break;case 16:this.onTokensColorsChanged(h)&&(b=!0);break;case 17:this.onZonesChanged(h)&&(b=!0);break;default:console.info("View received unknown event: "),console.info(h)}}b&&(this._shouldRender=!0)}}e.ViewEventHandler=N}),define(ee[99],te([0,1,118]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class N extends y.ViewEventHandler{}e.DynamicViewOverlay=N}),define(ee[50],te([0,1,32,118]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class T extends N.ViewEventHandler{constructor(C){super();this._context=C,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=T;class I{static write(C,p){C instanceof y.FastDomNode,C.setAttribute("data-mprt",String(p))}static read(C){const p=C.getAttribute("data-mprt");return p===null?0:parseInt(p,10)}static collect(C,p){let h=[],g=0;for(;C&&C!==document.body&&C!==p;)C.nodeType===C.ELEMENT_NODE&&(h[g++]=this.read(C)),C=C.parentElement;const i=new Uint8Array(g);for(let t=0;t<g;t++)i[t]=h[g-t-1];return i}}e.PartFingerprints=I}),define(ee[419],te([0,1,7,32,50]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class I{constructor(g,i){this._coordinateBrand=void 0,this.top=g,this.left=i}}class b extends T.ViewPart{constructor(g,i){super(g);this._viewDomNode=i,this._widgets={},this.domNode=(0,N.createFastDomNode)(document.createElement("div")),T.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,N.createFastDomNode)(document.createElement("div")),T.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(g){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onConfigurationChanged(g);return!0}onDecorationsChanged(g){return!0}onFlushed(g){return!0}onLineMappingChanged(g){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onLineMappingChanged(g);return!0}onLinesChanged(g){return!0}onLinesDeleted(g){return!0}onLinesInserted(g){return!0}onScrollChanged(g){return!0}onZonesChanged(g){return!0}addWidget(g){const i=new C(this._context,this._viewDomNode,g);this._widgets[i.id]=i,i.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(i.domNode):this.domNode.appendChild(i.domNode),this.setShouldRender()}setWidgetPosition(g,i,t){this._widgets[g.getId()].setPosition(i,t),this.setShouldRender()}removeWidget(g){const i=g.getId();if(this._widgets.hasOwnProperty(i)){const t=this._widgets[i];delete this._widgets[i];const r=t.domNode.domNode;r.parentNode.removeChild(r),r.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(g){return this._widgets.hasOwnProperty(g)?this._widgets[g].suppressMouseDown:!1}onBeforeRender(g){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onBeforeRender(g)}prepareRender(g){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].prepareRender(g)}render(g){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].render(g)}}e.ViewContentWidgets=b;class C{constructor(g,i,t){this._context=g,this._viewDomNode=i,this._actual=t,this.domNode=(0,N.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const r=this._context.configuration.options,c=r.get(130);this._fixedOverflowWidgets=r.get(36),this._contentWidth=c.contentWidth,this._contentLeft=c.contentLeft,this._lineHeight=r.get(58),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(g){const i=this._context.configuration.options;if(this._lineHeight=i.get(58),g.hasChanged(130)){const t=i.get(130);this._contentLeft=t.contentLeft,this._contentWidth=t.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(g){this._setPosition(this._range)}_setPosition(g){if(this._range=g,this._viewRange=null,this._range){const i=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(i.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(i.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(i))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(g,i){this._setPosition(g),this._preference=i,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(g,i,t,r,c){const l=g.top,a=l,s=i.top+this._lineHeight,o=c.viewportHeight-s,n=l-r,d=a>=r,u=s,f=o>=r;let S=g.left,v=i.left;return S+t>c.scrollLeft+c.viewportWidth&&(S=c.scrollLeft+c.viewportWidth-t),v+t>c.scrollLeft+c.viewportWidth&&(v=c.scrollLeft+c.viewportWidth-t),S<c.scrollLeft&&(S=c.scrollLeft),v<c.scrollLeft&&(v=c.scrollLeft),{fitsAbove:d,aboveTop:n,aboveLeft:S,fitsBelow:f,belowTop:u,belowLeft:v}}_layoutHorizontalSegmentInPage(g,i,t,r){const c=Math.max(0,i.left-r),l=Math.min(i.left+i.width+r,g.width);let a=i.left+t-y.StandardWindow.scrollX;if(a+r>l){const s=a-(l-r);a-=s,t-=s}if(a<c){const s=a-c;a-=s,t-=s}return[t,a]}_layoutBoxInPage(g,i,t,r,c){const l=g.top-r,a=i.top+this._lineHeight,s=y.getDomNodePagePosition(this._viewDomNode.domNode),o=s.top+l-y.StandardWindow.scrollY,n=s.top+a-y.StandardWindow.scrollY,d=y.getClientArea(document.body),[u,f]=this._layoutHorizontalSegmentInPage(d,s,g.left-c.scrollLeft+this._contentLeft,t),[S,v]=this._layoutHorizontalSegmentInPage(d,s,i.left-c.scrollLeft+this._contentLeft,t),m=22,_=22,L=o>=m,w=n+r<=d.height-_;return this._fixedOverflowWidgets?{fitsAbove:L,aboveTop:Math.max(o,m),aboveLeft:f,fitsBelow:w,belowTop:n,belowLeft:v}:{fitsAbove:L,aboveTop:l,aboveLeft:u,fitsBelow:w,belowTop:a,belowLeft:S}}_prepareRenderWidgetAtExactPositionOverflowing(g){return new I(g.top,g.left+this._contentLeft)}_getTopAndBottomLeft(g){if(!this._viewRange)return[null,null];const i=g.linesVisibleRangesForRange(this._viewRange,!1);if(!i||i.length===0)return[null,null];let t=i[0],r=i[0];for(const d of i)d.lineNumber<t.lineNumber&&(t=d),d.lineNumber>r.lineNumber&&(r=d);let c=1073741824;for(const d of t.ranges)d.left<c&&(c=d.left);let l=1073741824;for(const d of r.ranges)d.left<l&&(l=d.left);const a=g.getVerticalOffsetForLineNumber(t.lineNumber)-g.scrollTop,s=new I(a,c),o=g.getVerticalOffsetForLineNumber(r.lineNumber)-g.scrollTop,n=new I(o,l);return[s,n]}_prepareRenderWidget(g){if(!this._preference||this._preference.length===0)return null;const[i,t]=this._getTopAndBottomLeft(g);if(!i||!t)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let c=null;if(typeof this._actual.beforeRender=="function"&&(c=p(this._actual.beforeRender,this._actual)),c)this._cachedDomNodeClientWidth=c.width,this._cachedDomNodeClientHeight=c.height;else{const l=this.domNode.domNode;this._cachedDomNodeClientWidth=l.clientWidth,this._cachedDomNodeClientHeight=l.clientHeight}}let r;this.allowEditorOverflow?r=this._layoutBoxInPage(i,t,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,g):r=this._layoutBoxInViewport(i,t,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,g);for(let c=1;c<=2;c++)for(const l of this._preference)if(l===1){if(!r)return null;if(c===2||r.fitsAbove)return{coordinate:new I(r.aboveTop,r.aboveLeft),position:1}}else if(l===2){if(!r)return null;if(c===2||r.fitsBelow)return{coordinate:new I(r.belowTop,r.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(i),position:0}:{coordinate:i,position:0};return null}onBeforeRender(g){!this._viewRange||!this._preference||this._viewRange.endLineNumber<g.startLineNumber||this._viewRange.startLineNumber>g.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(g){this._renderData=this._prepareRenderWidget(g)}render(g){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&p(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+g.scrollTop-g.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&p(this._actual.afterRender,this._actual,this._renderData.position)}}function p(h,g,...i){try{return h.call(g,...i)}catch(t){return null}}}),define(ee[420],te([0,1,99,3,116,343]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class I extends y.DynamicViewOverlay{constructor(C){super();this._context=C;const p=this._context.configuration.options;this._lineHeight=p.get(58),this._typicalHalfwidthCharacterWidth=p.get(43).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(C){const p=this._context.configuration.options;return this._lineHeight=p.get(58),this._typicalHalfwidthCharacterWidth=p.get(43).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(C){return!0}onFlushed(C){return!0}onLinesChanged(C){return!0}onLinesDeleted(C){return!0}onLinesInserted(C){return!0}onScrollChanged(C){return C.scrollTopChanged||C.scrollWidthChanged}onZonesChanged(C){return!0}prepareRender(C){const p=C.getDecorationsInViewport();let h=[],g=0;for(let c=0,l=p.length;c<l;c++){const a=p[c];a.options.className&&(h[g++]=a)}h=h.sort((c,l)=>{if(c.options.zIndex<l.options.zIndex)return-1;if(c.options.zIndex>l.options.zIndex)return 1;const a=c.options.className,s=l.options.className;return a<s?-1:a>s?1:N.Range.compareRangesUsingStarts(c.range,l.range)});const i=C.visibleRange.startLineNumber,t=C.visibleRange.endLineNumber,r=[];for(let c=i;c<=t;c++){const l=c-i;r[l]=""}this._renderWholeLineDecorations(C,h,r),this._renderNormalDecorations(C,h,r),this._renderResult=r}_renderWholeLineDecorations(C,p,h){const g=String(this._lineHeight),i=C.visibleRange.startLineNumber,t=C.visibleRange.endLineNumber;for(let r=0,c=p.length;r<c;r++){const l=p[r];if(!l.options.isWholeLine)continue;const a='<div class="cdr '+l.options.className+'" style="left:0;width:100%;height:'+g+'px;"></div>',s=Math.max(l.range.startLineNumber,i),o=Math.min(l.range.endLineNumber,t);for(let n=s;n<=o;n++){const d=n-i;h[d]+=a}}}_renderNormalDecorations(C,p,h){const g=String(this._lineHeight),i=C.visibleRange.startLineNumber;let t=null,r=!1,c=null;for(let l=0,a=p.length;l<a;l++){const s=p[l];if(s.options.isWholeLine)continue;const o=s.options.className,n=Boolean(s.options.showIfCollapsed);let d=s.range;if(n&&d.endColumn===1&&d.endLineNumber!==d.startLineNumber&&(d=new N.Range(d.startLineNumber,d.startColumn,d.endLineNumber-1,this._context.model.getLineMaxColumn(d.endLineNumber-1))),t===o&&r===n&&N.Range.areIntersectingOrTouching(c,d)){c=N.Range.plusRange(c,d);continue}t!==null&&this._renderNormalDecoration(C,c,t,r,g,i,h),t=o,r=n,c=d}t!==null&&this._renderNormalDecoration(C,c,t,r,g,i,h)}_renderNormalDecoration(C,p,h,g,i,t,r){const c=C.linesVisibleRangesForRange(p,h==="findMatch");if(!!c)for(let l=0,a=c.length;l<a;l++){const s=c[l];if(s.outsideRenderedLine)continue;const o=s.lineNumber-t;if(g&&s.ranges.length===1){const n=s.ranges[0];if(n.width<this._typicalHalfwidthCharacterWidth){const d=Math.round(n.left+n.width/2),u=Math.max(0,Math.round(d-this._typicalHalfwidthCharacterWidth/2));s.ranges[0]=new T.HorizontalRange(u,this._typicalHalfwidthCharacterWidth)}}for(let n=0,d=s.ranges.length;n<d;n++){const u=s.ranges[n],f='<div class="cdr '+h+'" style="left:'+String(u.left)+"px;width:"+String(u.width)+"px;height:"+i+'px;"></div>';r[o]+=f}}}render(C,p){if(!this._renderResult)return"";const h=p-C;return h<0||h>=this._renderResult.length?"":this._renderResult[h]}}e.DecorationsOverlay=I}),define(ee[180],te([0,1,99,344]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class N{constructor(C,p,h){this._decorationToRenderBrand=void 0,this.startLineNumber=+C,this.endLineNumber=+p,this.className=String(h)}}e.DecorationToRender=N;class T extends y.DynamicViewOverlay{_render(C,p,h){const g=[];for(let r=C;r<=p;r++){const c=r-C;g[c]=[]}if(h.length===0)return g;h.sort((r,c)=>r.className===c.className?r.startLineNumber===c.startLineNumber?r.endLineNumber-c.endLineNumber:r.startLineNumber-c.startLineNumber:r.className<c.className?-1:1);let i=null,t=0;for(let r=0,c=h.length;r<c;r++){const l=h[r],a=l.className;let s=Math.max(l.startLineNumber,C)-C;const o=Math.min(l.endLineNumber,p)-C;i===a?(s=Math.max(t+1,s),t=Math.max(t,o)):(i=a,t=o);for(let n=s;n<=t;n++)g[n].push(i)}return g}}e.DedupOverlay=T;class I extends T{constructor(C){super();this._context=C;const p=this._context.configuration.options,h=p.get(130);this._lineHeight=p.get(58),this._glyphMargin=p.get(49),this._glyphMarginLeft=h.glyphMarginLeft,this._glyphMarginWidth=h.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(C){const p=this._context.configuration.options,h=p.get(130);return this._lineHeight=p.get(58),this._glyphMargin=p.get(49),this._glyphMarginLeft=h.glyphMarginLeft,this._glyphMarginWidth=h.glyphMarginWidth,!0}onDecorationsChanged(C){return!0}onFlushed(C){return!0}onLinesChanged(C){return!0}onLinesDeleted(C){return!0}onLinesInserted(C){return!0}onScrollChanged(C){return C.scrollTopChanged}onZonesChanged(C){return!0}_getDecorations(C){const p=C.getDecorationsInViewport();let h=[],g=0;for(let i=0,t=p.length;i<t;i++){const r=p[i],c=r.options.glyphMarginClassName;c&&(h[g++]=new N(r.range.startLineNumber,r.range.endLineNumber,c))}return h}prepareRender(C){if(!this._glyphMargin){this._renderResult=null;return}const p=C.visibleRange.startLineNumber,h=C.visibleRange.endLineNumber,g=this._render(p,h,this._getDecorations(C)),i=this._lineHeight.toString(),t=this._glyphMarginLeft.toString(),r=this._glyphMarginWidth.toString(),c='" style="left:'+t+"px;width:"+r+"px;height:"+i+'px;"></div>',l=[];for(let a=p;a<=h;a++){const s=a-p,o=g[s];o.length===0?l[s]="":l[s]='<div class="cgmr codicon '+o.join(" ")+c}this._renderResult=l}render(C,p){if(!this._renderResult)return"";const h=p-C;return h<0||h>=this._renderResult.length?"":this._renderResult[h]}}e.GlyphMarginOverlay=I}),define(ee[421],te([0,1,180,348]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class N extends y.DedupOverlay{constructor(I){super();this._context=I;const C=this._context.configuration.options.get(130);this._decorationsLeft=C.decorationsLeft,this._decorationsWidth=C.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(I){const C=this._context.configuration.options.get(130);return this._decorationsLeft=C.decorationsLeft,this._decorationsWidth=C.decorationsWidth,!0}onDecorationsChanged(I){return!0}onFlushed(I){return!0}onLinesChanged(I){return!0}onLinesDeleted(I){return!0}onLinesInserted(I){return!0}onScrollChanged(I){return I.scrollTopChanged}onZonesChanged(I){return!0}_getDecorations(I){const b=I.getDecorationsInViewport();let C=[],p=0;for(let h=0,g=b.length;h<g;h++){const i=b[h],t=i.options.linesDecorationsClassName;t&&(C[p++]=new y.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,t));const r=i.options.firstLineDecorationClassName;r&&(C[p++]=new y.DecorationToRender(i.range.startLineNumber,i.range.startLineNumber,r))}return C}prepareRender(I){const b=I.visibleRange.startLineNumber,C=I.visibleRange.endLineNumber,p=this._render(b,C,this._getDecorations(I)),h=this._decorationsLeft.toString(),g=this._decorationsWidth.toString(),i='" style="left:'+h+"px;width:"+g+'px;"></div>',t=[];for(let r=b;r<=C;r++){const c=r-b,l=p[c];let a="";for(let s=0,o=l.length;s<o;s++)a+='<div class="cldr '+l[s]+i;t[c]=a}this._renderResult=t}render(I,b){return this._renderResult?this._renderResult[b-I]:""}}e.LinesDecorationsOverlay=N}),define(ee[237],te([0,1,32,50]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class T extends N.ViewPart{constructor(b){super(b);const C=this._context.configuration.options,p=C.get(130);this._canUseLayerHinting=!C.get(28),this._contentLeft=p.contentLeft,this._glyphMarginLeft=p.glyphMarginLeft,this._glyphMarginWidth=p.glyphMarginWidth,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(T.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(T.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(b){const C=this._context.configuration.options,p=C.get(130);return this._canUseLayerHinting=!C.get(28),this._contentLeft=p.contentLeft,this._glyphMarginLeft=p.glyphMarginLeft,this._glyphMarginWidth=p.glyphMarginWidth,!0}onScrollChanged(b){return super.onScrollChanged(b)||b.scrollTopChanged}prepareRender(b){}render(b){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const C=b.scrollTop-b.bigNumbersDelta;this._domNode.setTop(-C);const p=Math.min(b.scrollHeight,1e6);this._domNode.setHeight(p),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(p)}}e.Margin=T,T.CLASS_NAME="glyph-margin",T.OUTER_CLASS_NAME="margin"}),define(ee[422],te([0,1,180,349]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class N extends y.DedupOverlay{constructor(I){super();this._context=I,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(I){return!0}onDecorationsChanged(I){return!0}onFlushed(I){return!0}onLinesChanged(I){return!0}onLinesDeleted(I){return!0}onLinesInserted(I){return!0}onScrollChanged(I){return I.scrollTopChanged}onZonesChanged(I){return!0}_getDecorations(I){const b=I.getDecorationsInViewport();let C=[],p=0;for(let h=0,g=b.length;h<g;h++){const i=b[h],t=i.options.marginClassName;t&&(C[p++]=new y.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,t))}return C}prepareRender(I){const b=I.visibleRange.startLineNumber,C=I.visibleRange.endLineNumber,p=this._render(b,C,this._getDecorations(I)),h=[];for(let g=b;g<=C;g++){const i=g-b,t=p[i];let r="";for(let c=0,l=t.length;c<l;c++)r+='<div class="cmdr '+t[c]+'" style=""></div>';h[i]=r}this._renderResult=h}render(I,b){return this._renderResult?this._renderResult[b-I]:""}}e.MarginViewLineDecorationsOverlay=N}),define(ee[423],te([0,1,32,50,351]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class T extends N.ViewPart{constructor(b){super(b);const p=this._context.configuration.options.get(130);this._widgets={},this._verticalScrollbarWidth=p.verticalScrollbarWidth,this._minimapWidth=p.minimap.minimapWidth,this._horizontalScrollbarHeight=p.horizontalScrollbarHeight,this._editorHeight=p.height,this._editorWidth=p.width,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),N.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(b){const p=this._context.configuration.options.get(130);return this._verticalScrollbarWidth=p.verticalScrollbarWidth,this._minimapWidth=p.minimap.minimapWidth,this._horizontalScrollbarHeight=p.horizontalScrollbarHeight,this._editorHeight=p.height,this._editorWidth=p.width,!0}addWidget(b){const C=(0,y.createFastDomNode)(b.getDomNode());this._widgets[b.getId()]={widget:b,preference:null,domNode:C},C.setPosition("absolute"),C.setAttribute("widgetId",b.getId()),this._domNode.appendChild(C),this.setShouldRender()}setWidgetPosition(b,C){const p=this._widgets[b.getId()];return p.preference===C?!1:(p.preference=C,this.setShouldRender(),!0)}removeWidget(b){const C=b.getId();if(this._widgets.hasOwnProperty(C)){const h=this._widgets[C].domNode.domNode;delete this._widgets[C],h.parentNode.removeChild(h),this.setShouldRender()}}_renderWidget(b){const C=b.domNode;if(b.preference===null){C.unsetTop();return}if(b.preference===0)C.setTop(0),C.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(b.preference===1){const p=C.domNode.clientHeight;C.setTop(this._editorHeight-p-2*this._horizontalScrollbarHeight),C.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else b.preference===2&&(C.setTop(0),C.domNode.style.right="50%")}prepareRender(b){}render(b){this._domNode.setWidth(this._editorWidth);const C=Object.keys(this._widgets);for(let p=0,h=C.length;p<h;p++){const g=C[p];this._renderWidget(this._widgets[g])}}}e.ViewOverlayWidgets=T}),define(ee[424],te([0,1,32,234,118]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class I extends T.ViewEventHandler{constructor(C,p){super();this._context=C;const h=this._context.configuration.options;this._domNode=(0,y.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(p),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new N.OverviewZoneManager(g=>this._context.viewLayout.getVerticalOffsetForLineNumber(g)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(h.get(58)),this._zoneManager.setPixelRatio(h.get(128)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(C){const p=this._context.configuration.options;return C.hasChanged(58)&&(this._zoneManager.setLineHeight(p.get(58)),this._render()),C.hasChanged(128)&&(this._zoneManager.setPixelRatio(p.get(128)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(C){return this._render(),!0}onScrollChanged(C){return C.scrollHeightChanged&&(this._zoneManager.setOuterHeight(C.scrollHeight),this._render()),!0}onZonesChanged(C){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(C){this._domNode.setTop(C.top),this._domNode.setRight(C.right);let p=!1;p=this._zoneManager.setDOMWidth(C.width)||p,p=this._zoneManager.setDOMHeight(C.height)||p,p&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(C){this._zoneManager.setZones(C),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const C=this._zoneManager.getCanvasWidth(),p=this._zoneManager.getCanvasHeight(),h=this._zoneManager.resolveColorZones(),g=this._zoneManager.getId2Color(),i=this._domNode.domNode.getContext("2d");return i.clearRect(0,0,C,p),h.length>0&&this._renderOneLane(i,h,g,C),!0}_renderOneLane(C,p,h,g){let i=0,t=0,r=0;for(const c of p){const l=c.colorId,a=c.from,s=c.to;l!==i?(C.fillRect(0,t,g,r-t),i=l,C.fillStyle=h[i],t=a,r=s):r>=a?r=Math.max(r,s):(C.fillRect(0,t,g,r-t),t=a,r=s)}C.fillRect(0,t,g,r-t)}}e.OverviewRuler=I}),define(ee[425],te([0,1,32,13,50,14]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const b=()=>{throw new Error("Invalid change accessor")};class C extends T.ViewPart{constructor(g){super(g);const i=this._context.configuration.options,t=i.get(130);this._lineHeight=i.get(58),this._contentWidth=t.contentWidth,this._contentLeft=t.contentLeft,this.domNode=(0,y.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,y.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const g=this._context.viewLayout.getWhitespaces(),i=new Map;for(const r of g)i.set(r.id,r);let t=!1;return this._context.model.changeWhitespace(r=>{const c=Object.keys(this._zones);for(let l=0,a=c.length;l<a;l++){const s=c[l],o=this._zones[s],n=this._computeWhitespaceProps(o.delegate);o.isInHiddenArea=n.isInHiddenArea;const d=i.get(s);d&&(d.afterLineNumber!==n.afterViewLineNumber||d.height!==n.heightInPx)&&(r.changeOneWhitespace(s,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(o.delegate,n.heightInPx),t=!0)}}),t}onConfigurationChanged(g){const i=this._context.configuration.options,t=i.get(130);return this._lineHeight=i.get(58),this._contentWidth=t.contentWidth,this._contentLeft=t.contentLeft,g.hasChanged(58)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(g){return this._recomputeWhitespacesProps()}onLinesDeleted(g){return!0}onScrollChanged(g){return g.scrollTopChanged||g.scrollWidthChanged}onZonesChanged(g){return!0}onLinesInserted(g){return!0}_getZoneOrdinal(g){return typeof g.afterColumn!="undefined"?g.afterColumn:1e4}_computeWhitespaceProps(g){if(g.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(g),minWidthInPx:this._minWidthInPixels(g)};let i;if(typeof g.afterColumn!="undefined")i=this._context.model.validateModelPosition({lineNumber:g.afterLineNumber,column:g.afterColumn});else{const l=this._context.model.validateModelPosition({lineNumber:g.afterLineNumber,column:1}).lineNumber;i=new I.Position(l,this._context.model.getModelLineMaxColumn(l))}let t;i.column===this._context.model.getModelLineMaxColumn(i.lineNumber)?t=this._context.model.validateModelPosition({lineNumber:i.lineNumber+1,column:1}):t=this._context.model.validateModelPosition({lineNumber:i.lineNumber,column:i.column+1});const r=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i),c=this._context.model.coordinatesConverter.modelPositionIsVisible(t);return{isInHiddenArea:!c,afterViewLineNumber:r.lineNumber,heightInPx:c?this._heightInPixels(g):0,minWidthInPx:this._minWidthInPixels(g)}}changeViewZones(g){let i=!1;return this._context.model.changeWhitespace(t=>{const r={addZone:c=>(i=!0,this._addZone(t,c)),removeZone:c=>{!c||(i=this._removeZone(t,c)||i)},layoutZone:c=>{!c||(i=this._layoutZone(t,c)||i)}};p(g,r),r.addZone=b,r.removeZone=b,r.layoutZone=b}),i}_addZone(g,i){const t=this._computeWhitespaceProps(i),c={whitespaceId:g.insertWhitespace(t.afterViewLineNumber,this._getZoneOrdinal(i),t.heightInPx,t.minWidthInPx),delegate:i,isInHiddenArea:t.isInHiddenArea,isVisible:!1,domNode:(0,y.createFastDomNode)(i.domNode),marginDomNode:i.marginDomNode?(0,y.createFastDomNode)(i.marginDomNode):null};return this._safeCallOnComputedHeight(c.delegate,t.heightInPx),c.domNode.setPosition("absolute"),c.domNode.domNode.style.width="100%",c.domNode.setDisplay("none"),c.domNode.setAttribute("monaco-view-zone",c.whitespaceId),this.domNode.appendChild(c.domNode),c.marginDomNode&&(c.marginDomNode.setPosition("absolute"),c.marginDomNode.domNode.style.width="100%",c.marginDomNode.setDisplay("none"),c.marginDomNode.setAttribute("monaco-view-zone",c.whitespaceId),this.marginDomNode.appendChild(c.marginDomNode)),this._zones[c.whitespaceId]=c,this.setShouldRender(),c.whitespaceId}_removeZone(g,i){if(this._zones.hasOwnProperty(i)){const t=this._zones[i];return delete this._zones[i],g.removeWhitespace(t.whitespaceId),t.domNode.removeAttribute("monaco-visible-view-zone"),t.domNode.removeAttribute("monaco-view-zone"),t.domNode.domNode.parentNode.removeChild(t.domNode.domNode),t.marginDomNode&&(t.marginDomNode.removeAttribute("monaco-visible-view-zone"),t.marginDomNode.removeAttribute("monaco-view-zone"),t.marginDomNode.domNode.parentNode.removeChild(t.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(g,i){if(this._zones.hasOwnProperty(i)){const t=this._zones[i],r=this._computeWhitespaceProps(t.delegate);return t.isInHiddenArea=r.isInHiddenArea,g.changeOneWhitespace(t.whitespaceId,r.afterViewLineNumber,r.heightInPx),this._safeCallOnComputedHeight(t.delegate,r.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(g){if(this._zones.hasOwnProperty(g)){const i=this._zones[g];return Boolean(i.delegate.suppressMouseDown)}return!1}_heightInPixels(g){return typeof g.heightInPx=="number"?g.heightInPx:typeof g.heightInLines=="number"?this._lineHeight*g.heightInLines:this._lineHeight}_minWidthInPixels(g){return typeof g.minWidthInPx=="number"?g.minWidthInPx:0}_safeCallOnComputedHeight(g,i){if(typeof g.onComputedHeight=="function")try{g.onComputedHeight(i)}catch(t){(0,N.onUnexpectedError)(t)}}_safeCallOnDomNodeTop(g,i){if(typeof g.onDomNodeTop=="function")try{g.onDomNodeTop(i)}catch(t){(0,N.onUnexpectedError)(t)}}prepareRender(g){}render(g){const i=g.viewportData.whitespaceViewportData,t={};let r=!1;for(const l of i)this._zones[l.id].isInHiddenArea||(t[l.id]=l,r=!0);const c=Object.keys(this._zones);for(let l=0,a=c.length;l<a;l++){const s=c[l],o=this._zones[s];let n=0,d=0,u="none";t.hasOwnProperty(s)?(n=t[s].verticalOffset-g.bigNumbersDelta,d=t[s].height,u="block",o.isVisible||(o.domNode.setAttribute("monaco-visible-view-zone","true"),o.isVisible=!0),this._safeCallOnDomNodeTop(o.delegate,g.getScrolledTopFromAbsoluteTop(t[s].verticalOffset))):(o.isVisible&&(o.domNode.removeAttribute("monaco-visible-view-zone"),o.isVisible=!1),this._safeCallOnDomNodeTop(o.delegate,g.getScrolledTopFromAbsoluteTop(-1e6))),o.domNode.setTop(n),o.domNode.setHeight(d),o.domNode.setDisplay(u),o.marginDomNode&&(o.marginDomNode.setTop(n),o.marginDomNode.setHeight(d),o.marginDomNode.setDisplay(u))}r&&(this.domNode.setWidth(Math.max(g.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=C;function p(h,g){try{return h(g)}catch(i){(0,N.onUnexpectedError)(i)}}}),define(ee[64],te([0,1,8,3]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class T{constructor(r,c,l,a){this._viewportBrand=void 0,this.top=r|0,this.left=c|0,this.width=l|0,this.height=a|0}}e.Viewport=T;class I{constructor(r,c){this.tabSize=r,this.data=c}}e.MinimapLinesRenderingData=I;class b{constructor(r,c,l,a,s,o,n){this._viewLineDataBrand=void 0,this.content=r,this.continuesWithWrappedLine=c,this.minColumn=l,this.maxColumn=a,this.startVisibleColumn=s,this.tokens=o,this.inlineDecorations=n}}e.ViewLineData=b;class C{constructor(r,c,l,a,s,o,n,d,u,f){this.minColumn=r,this.maxColumn=c,this.content=l,this.continuesWithWrappedLine=a,this.isBasicASCII=C.isBasicASCII(l,o),this.containsRTL=C.containsRTL(l,this.isBasicASCII,s),this.tokens=n,this.inlineDecorations=d,this.tabSize=u,this.startVisibleColumn=f}static isBasicASCII(r,c){return c?y.isBasicASCII(r):!0}static containsRTL(r,c,l){return!c&&l?y.containsRTL(r):!1}}e.ViewLineRenderingData=C;class p{constructor(r,c,l){this.range=r,this.inlineClassName=c,this.type=l}}e.InlineDecoration=p;class h{constructor(r,c,l,a){this.startOffset=r,this.endOffset=c,this.inlineClassName=l,this.inlineClassNameAffectsLetterSpacing=a}toInlineDecoration(r){return new p(new N.Range(r,this.startOffset+1,r,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=h;class g{constructor(r,c){this._viewModelDecorationBrand=void 0,this.range=r,this.options=c}}e.ViewModelDecoration=g;class i{constructor(r,c,l){this.color=r,this.zIndex=c,this.data=l}static cmp(r,c){return r.zIndex===c.zIndex?r.color<c.color?-1:r.color>c.color?1:0:r.zIndex-c.zIndex}}e.OverviewRulerDecorationsGroup=i}),define(ee[181],te([0,1,4,2]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class T extends N.Disposable{constructor(){super();this._onEvent=this._register(new y.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(c){this._addOutgoingEvent(c),this._emitOutgoingEvents()}_addOutgoingEvent(c){for(let l=0,a=this._outgoingEvents.length;l<a;l++)if(this._outgoingEvents[l].kind===c.kind){this._outgoingEvents[l]=this._outgoingEvents[l].merge(c);return}this._outgoingEvents.push(c)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const c=this._outgoingEvents.shift();c.isNoOp()||this._onEvent.fire(c)}}addViewEventHandler(c){for(let l=0,a=this._eventHandlers.length;l<a;l++)this._eventHandlers[l]===c&&console.warn("Detected duplicate listener in ViewEventDispatcher",c);this._eventHandlers.push(c)}removeViewEventHandler(c){for(let l=0;l<this._eventHandlers.length;l++)if(this._eventHandlers[l]===c){this._eventHandlers.splice(l,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new I),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const c=this._collector.outgoingEvents,l=this._collector.viewEvents;this._collector=null;for(const a of c)this._addOutgoingEvent(a);l.length>0&&this._emitMany(l)}this._emitOutgoingEvents()}emitSingleViewEvent(c){try{this.beginEmitViewEvents().emitViewEvent(c)}finally{this.endEmitViewEvents()}}_emitMany(c){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(c):this._viewEventQueue=c,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const c=this._viewEventQueue;this._viewEventQueue=null;const l=this._eventHandlers.slice(0);for(const a of l)a.handleEvents(c)}}}e.ViewModelEventDispatcher=T;class I{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(c){this.viewEvents.push(c)}emitOutgoingEvent(c){this.outgoingEvents.push(c)}}e.ViewModelEventsCollector=I;class b{constructor(c,l,a,s){this.kind=0,this._oldContentWidth=c,this._oldContentHeight=l,this.contentWidth=a,this.contentHeight=s,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(c){return c.kind!==0?this:new b(this._oldContentWidth,this._oldContentHeight,c.contentWidth,c.contentHeight)}}e.ContentSizeChangedEvent=b;class C{constructor(c,l){this.kind=1,this.oldHasFocus=c,this.hasFocus=l}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(c){return c.kind!==1?this:new C(this.oldHasFocus,c.hasFocus)}}e.FocusChangedEvent=C;class p{constructor(c,l,a,s,o,n,d,u){this.kind=2,this._oldScrollWidth=c,this._oldScrollLeft=l,this._oldScrollHeight=a,this._oldScrollTop=s,this.scrollWidth=o,this.scrollLeft=n,this.scrollHeight=d,this.scrollTop=u,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(c){return c.kind!==2?this:new p(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,c.scrollWidth,c.scrollLeft,c.scrollHeight,c.scrollTop)}}e.ScrollChangedEvent=p;class h{constructor(){this.kind=3}isNoOp(){return!1}merge(c){return this}}e.ViewZonesChangedEvent=h;class g{constructor(){this.kind=4}isNoOp(){return!1}merge(c){return this}}e.HiddenAreasChangedEvent=g;class i{constructor(c,l,a,s,o,n,d){this.kind=6,this.oldSelections=c,this.selections=l,this.oldModelVersionId=a,this.modelVersionId=s,this.source=o,this.reason=n,this.reachedMaxCursorCount=d}static _selectionsAreEqual(c,l){if(!c&&!l)return!0;if(!c||!l)return!1;const a=c.length,s=l.length;if(a!==s)return!1;for(let o=0;o<a;o++)if(!c[o].equalsSelection(l[o]))return!1;return!0}isNoOp(){return i._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(c){return c.kind!==6?this:new i(this.oldSelections,c.selections,this.oldModelVersionId,c.modelVersionId,c.source,c.reason,this.reachedMaxCursorCount||c.reachedMaxCursorCount)}}e.CursorStateChangedEvent=i;class t{constructor(){this.kind=5}isNoOp(){return!1}merge(c){return this}}e.ReadOnlyEditAttemptEvent=t}),define(ee[426],te([0,1,4,2,134,414,64,181]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const p=125;class h{constructor(r,c,l,a){r=r|0,c=c|0,l=l|0,a=a|0,r<0&&(r=0),c<0&&(c=0),l<0&&(l=0),a<0&&(a=0),this.width=r,this.contentWidth=c,this.scrollWidth=Math.max(r,c),this.height=l,this.contentHeight=a,this.scrollHeight=Math.max(l,a)}equals(r){return this.width===r.width&&this.contentWidth===r.contentWidth&&this.height===r.height&&this.contentHeight===r.contentHeight}}class g extends N.Disposable{constructor(r,c){super();this._onDidContentSizeChange=this._register(new y.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new h(0,0,0,0),this._scrollable=this._register(new T.Scrollable(r,c)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(r){this._scrollable.setSmoothScrollDuration(r)}validateScrollPosition(r){return this._scrollable.validateScrollPosition(r)}getScrollDimensions(){return this._dimensions}setScrollDimensions(r){if(this._dimensions.equals(r))return;const c=this._dimensions;this._dimensions=r,this._scrollable.setScrollDimensions({width:r.width,scrollWidth:r.scrollWidth,height:r.height,scrollHeight:r.scrollHeight},!0);const l=c.contentWidth!==r.contentWidth,a=c.contentHeight!==r.contentHeight;(l||a)&&this._onDidContentSizeChange.fire(new C.ContentSizeChangedEvent(c.contentWidth,c.contentHeight,r.contentWidth,r.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(r){this._scrollable.setScrollPositionNow(r)}setScrollPositionSmooth(r){this._scrollable.setScrollPositionSmooth(r)}}class i extends N.Disposable{constructor(r,c,l){super();this._configuration=r;const a=this._configuration.options,s=a.get(130),o=a.get(74);this._linesLayout=new I.LinesLayout(c,a.get(58),o.top,o.bottom),this._scrollable=this._register(new g(0,l)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new h(s.contentWidth,0,s.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?p:0)}onConfigurationChanged(r){const c=this._configuration.options;if(r.hasChanged(58)&&this._linesLayout.setLineHeight(c.get(58)),r.hasChanged(74)){const l=c.get(74);this._linesLayout.setPadding(l.top,l.bottom)}if(r.hasChanged(130)){const l=c.get(130),a=l.contentWidth,s=l.height,o=this._scrollable.getScrollDimensions(),n=o.contentWidth;this._scrollable.setScrollDimensions(new h(a,o.contentWidth,s,this._getContentHeight(a,s,n)))}else this._updateHeight();r.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(r){this._linesLayout.onFlushed(r)}onLinesDeleted(r,c){this._linesLayout.onLinesDeleted(r,c)}onLinesInserted(r,c){this._linesLayout.onLinesInserted(r,c)}_getHorizontalScrollbarHeight(r,c){const a=this._configuration.options.get(91);return a.horizontal===2||r>=c?0:a.horizontalScrollbarSize}_getContentHeight(r,c,l){const a=this._configuration.options;let s=this._linesLayout.getLinesTotalHeight();return a.get(93)?s+=Math.max(0,c-a.get(58)-a.get(74).bottom):s+=this._getHorizontalScrollbarHeight(r,l),s}_updateHeight(){const r=this._scrollable.getScrollDimensions(),c=r.width,l=r.height,a=r.contentWidth;this._scrollable.setScrollDimensions(new h(c,r.contentWidth,l,this._getContentHeight(c,l,a)))}getCurrentViewport(){const r=this._scrollable.getScrollDimensions(),c=this._scrollable.getCurrentScrollPosition();return new b.Viewport(c.scrollTop,c.scrollLeft,r.width,r.height)}getFutureViewport(){const r=this._scrollable.getScrollDimensions(),c=this._scrollable.getFutureScrollPosition();return new b.Viewport(c.scrollTop,c.scrollLeft,r.width,r.height)}_computeContentWidth(r){const c=this._configuration.options,l=c.get(131),a=c.get(43);if(l.isViewportWrapping){const s=c.get(130),o=c.get(64);return r>s.contentWidth+a.typicalHalfwidthCharacterWidth&&o.enabled&&o.side==="right"?r+s.verticalScrollbarWidth:r}else{const s=c.get(92)*a.typicalHalfwidthCharacterWidth,o=this._linesLayout.getWhitespaceMinWidth();return Math.max(r+s,o)}}setMaxLineWidth(r){const c=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new h(c.width,this._computeContentWidth(r),c.height,c.contentHeight)),this._updateHeight()}saveState(){const r=this._scrollable.getFutureScrollPosition();let c=r.scrollTop,l=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(c),a=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(l);return{scrollTop:c,scrollTopWithoutViewZones:c-a,scrollLeft:r.scrollLeft}}changeWhitespace(r){const c=this._linesLayout.changeWhitespace(r);return c&&this.onHeightMaybeChanged(),c}getVerticalOffsetForLineNumber(r){return this._linesLayout.getVerticalOffsetForLineNumber(r)}isAfterLines(r){return this._linesLayout.isAfterLines(r)}isInTopPadding(r){return this._linesLayout.isInTopPadding(r)}isInBottomPadding(r){return this._linesLayout.isInBottomPadding(r)}getLineNumberAtVerticalOffset(r){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(r)}getWhitespaceAtVerticalOffset(r){return this._linesLayout.getWhitespaceAtVerticalOffset(r)}getLinesViewportData(){const r=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(r.top,r.top+r.height)}getLinesViewportDataAtScrollTop(r){const c=this._scrollable.getScrollDimensions();return r+c.height>c.scrollHeight&&(r=c.scrollHeight-c.height),r<0&&(r=0),this._linesLayout.getLinesViewportData(r,r+c.height)}getWhitespaceViewportData(){const r=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(r.top,r.top+r.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(r){return this._scrollable.validateScrollPosition(r)}setScrollPosition(r,c){c===1?this._scrollable.setScrollPositionNow(r):this._scrollable.setScrollPositionSmooth(r)}deltaScrollNow(r,c){const l=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:l.scrollLeft+r,scrollTop:l.scrollTop+c})}}e.ViewLayout=i}),define(ee[427],te([0,1,3,21]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class T{constructor(b,C){this._selection=b,this._isMovingLeft=C}getEditOperations(b,C){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const p=this._selection.startLineNumber,h=this._selection.startColumn,g=this._selection.endColumn;if(!(this._isMovingLeft&&h===1)&&!(!this._isMovingLeft&&g===b.getLineMaxColumn(p)))if(this._isMovingLeft){const i=new y.Range(p,h-1,p,h),t=b.getValueInRange(i);C.addEditOperation(i,null),C.addEditOperation(new y.Range(p,g,p,g),t)}else{const i=new y.Range(p,g,p,g+1),t=b.getValueInRange(i);C.addEditOperation(i,null),C.addEditOperation(new y.Range(p,h,p,h),t)}}computeCursorState(b,C){return this._isMovingLeft?new N.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new N.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=T}),define(ee[149],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionKind=void 0;class y{constructor(p){this.value=p}equals(p){return this.value===p.value}contains(p){return this.equals(p)||this.value===""||p.value.startsWith(this.value+y.sep)}intersects(p){return this.contains(p)||p.contains(this)}append(p){return new y(this.value+y.sep+p)}}e.CodeActionKind=y,y.sep=".",y.None=new y("@@none@@"),y.Empty=new y(""),y.QuickFix=new y("quickfix"),y.Refactor=new y("refactor"),y.Source=new y("source"),y.SourceOrganizeImports=y.Source.append("organizeImports"),y.SourceFixAll=y.Source.append("fixAll");function N(C,p){return!(C.include&&!C.include.intersects(p)||C.excludes&&C.excludes.some(h=>I(p,h,C.include))||!C.includeSourceActions&&y.Source.contains(p))}e.mayIncludeActionsOfKind=N;function T(C,p){const h=p.kind?new y(p.kind):void 0;return!(C.include&&(!h||!C.include.contains(h))||C.excludes&&h&&C.excludes.some(g=>I(h,g,C.include))||!C.includeSourceActions&&h&&y.Source.contains(h)||C.onlyIncludePreferredActions&&!p.isPreferred)}e.filtersAction=T;function I(C,p,h){return!(!p.contains(C)||h&&p.contains(h))}class b{constructor(p,h,g){this.kind=p,this.apply=h,this.preferred=g}static fromUser(p,h){return!p||typeof p!="object"?new b(h.kind,h.apply,!1):new b(b.getKindFromUser(p,h.kind),b.getApplyFromUser(p,h.apply),b.getPreferredUser(p))}static getApplyFromUser(p,h){switch(typeof p.apply=="string"?p.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return h}}static getKindFromUser(p,h){return typeof p.kind=="string"?new y(p.kind):h}static getPreferredUser(p){return typeof p.preferred=="boolean"?p.preferred:!1}}e.CodeActionCommandArgs=b}),define(ee[428],te([0,1,4]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class N{constructor(I,b,C){this.presentationIndex=C,this._onColorFlushed=new y.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new y.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new y.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=I,this._color=I,this._colorPresentations=b}get color(){return this._color}set color(I){this._color.equals(I)||(this._color=I,this._onDidChangeColor.fire(I))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(I){this._colorPresentations=I,this.presentationIndex>I.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(I,b){for(let C=0;C<this.colorPresentations.length;C++)if(b.toLowerCase()===this.colorPresentations[C].label){this.presentationIndex=C,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=N}),define(ee[429],te([0,1,3,21]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class T{constructor(b,C,p){this.selection=b,this.targetPosition=C,this.copy=p,this.targetSelection=null}getEditOperations(b,C){let p=b.getValueInRange(this.selection);if(this.copy||C.addEditOperation(this.selection,null),C.addEditOperation(new y.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),p),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new N.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new N.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new N.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new N.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new N.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(b,C){return this.targetSelection}}e.DragAndDropCommand=T}),define(ee[430],te([0,1,3]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class N{constructor(I,b,C){this._editorSelection=I,this._ranges=b,this._replaceStrings=C,this._trackedEditorSelectionId=null}getEditOperations(I,b){if(this._ranges.length>0){let C=[];for(let g=0;g<this._ranges.length;g++)C.push({range:this._ranges[g],text:this._replaceStrings[g]});C.sort((g,i)=>y.Range.compareRangesUsingStarts(g.range,i.range));let p=[],h=C[0];for(let g=1;g<C.length;g++)h.range.endLineNumber===C[g].range.startLineNumber&&h.range.endColumn===C[g].range.startColumn?(h.range=h.range.plusRange(C[g].range),h.text=h.text+C[g].text):(p.push(h),h=C[g]);p.push(h);for(const g of p)b.addEditOperation(g.range,g.text)}this._trackedEditorSelectionId=b.trackSelection(this._editorSelection)}computeCursorState(I,b){return b.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=N}),define(ee[431],te([0,1,311]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class N{constructor(g){this.staticValue=g,this.kind=0}}class T{constructor(g){this.pieces=g,this.kind=1}}class I{constructor(g){!g||g.length===0?this._state=new N(""):g.length===1&&g[0].staticValue!==null?this._state=new N(g[0].staticValue):this._state=new T(g)}static fromStaticValue(g){return new I([b.staticValue(g)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(g,i){if(this._state.kind===0)return i?(0,y.buildReplaceStringWithCasePreserved)(g,this._state.staticValue):this._state.staticValue;let t="";for(let r=0,c=this._state.pieces.length;r<c;r++){let l=this._state.pieces[r];if(l.staticValue!==null){t+=l.staticValue;continue}let a=I._substitute(l.matchIndex,g);if(l.caseOps!==null&&l.caseOps.length>0){let s=[],o=l.caseOps.length,n=0;for(let d=0,u=a.length;d<u;d++){if(n>=o){s.push(a.slice(d));break}switch(l.caseOps[n]){case"U":s.push(a[d].toUpperCase());break;case"u":s.push(a[d].toUpperCase()),n++;break;case"L":s.push(a[d].toLowerCase());break;case"l":s.push(a[d].toLowerCase()),n++;break;default:s.push(a[d])}}a=s.join("")}t+=a}return t}static _substitute(g,i){if(i===null)return"";if(g===0)return i[0];let t="";for(;g>0;){if(g<i.length)return(i[g]||"")+t;t=String(g%10)+t,g=Math.floor(g/10)}return"$"+t}}e.ReplacePattern=I;class b{constructor(g,i,t){this.staticValue=g,this.matchIndex=i,!t||t.length===0?this.caseOps=null:this.caseOps=t.slice(0)}static staticValue(g){return new b(g,-1,null)}static caseOps(g,i){return new b(null,g,i)}}e.ReplacePiece=b;class C{constructor(g){this._source=g,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(g){this._emitStatic(this._source.substring(this._lastCharIndex,g)),this._lastCharIndex=g}emitStatic(g,i){this._emitStatic(g),this._lastCharIndex=i}_emitStatic(g){g.length!==0&&(this._currentStaticPiece+=g)}emitMatchIndex(g,i,t){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=b.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=b.caseOps(g,t),this._lastCharIndex=i}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=b.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new I(this._result)}}function p(h){if(!h||h.length===0)return new I(null);let g=[],i=new C(h);for(let t=0,r=h.length;t<r;t++){let c=h.charCodeAt(t);if(c===92){if(t++,t>=r)break;let l=h.charCodeAt(t);switch(l){case 92:i.emitUnchanged(t-1),i.emitStatic("\\",t+1);break;case 110:i.emitUnchanged(t-1),i.emitStatic(`
`,t+1);break;case 116:i.emitUnchanged(t-1),i.emitStatic("	",t+1);break;case 117:case 85:case 108:case 76:i.emitUnchanged(t-1),i.emitStatic("",t+1),g.push(String.fromCharCode(l));break}continue}if(c===36){if(t++,t>=r)break;let l=h.charCodeAt(t);if(l===36){i.emitUnchanged(t-1),i.emitStatic("$",t+1);continue}if(l===48||l===38){i.emitUnchanged(t-1),i.emitMatchIndex(0,t+1,g),g.length=0;continue}if(49<=l&&l<=57){let a=l-48;if(t+1<r){let s=h.charCodeAt(t+1);if(48<=s&&s<=57){t++,a=a*10+(s-48),i.emitUnchanged(t-2),i.emitMatchIndex(a,t+1,g),g.length=0;continue}}i.emitUnchanged(t-1),i.emitMatchIndex(a,t+1,g),g.length=0;continue}}}return i.finalize()}e.parseReplaceString=p}),define(ee[182],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const y=4278190080;class N{constructor(b,C,p){if(b.length!==C.length||b.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=b,this._endIndexes=C,this._collapseStates=new Uint32Array(Math.ceil(b.length/32)),this._types=p,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let b=[],C=(p,h)=>{let g=b[b.length-1];return this.getStartLineNumber(g)<=p&&this.getEndLineNumber(g)>=h};for(let p=0,h=this._startIndexes.length;p<h;p++){let g=this._startIndexes[p],i=this._endIndexes[p];if(g>e.MAX_LINE_NUMBER||i>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;b.length>0&&!C(g,i);)b.pop();let t=b.length>0?b[b.length-1]:-1;b.push(p),this._startIndexes[p]=g+((t&255)<<24),this._endIndexes[p]=i+((t&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(b){return this._startIndexes[b]&e.MAX_LINE_NUMBER}getEndLineNumber(b){return this._endIndexes[b]&e.MAX_LINE_NUMBER}getType(b){return this._types?this._types[b]:void 0}hasTypes(){return!!this._types}isCollapsed(b){let C=b/32|0,p=b%32;return(this._collapseStates[C]&1<<p)!=0}setCollapsed(b,C){let p=b/32|0,h=b%32,g=this._collapseStates[p];C?this._collapseStates[p]=g|1<<h:this._collapseStates[p]=g&~(1<<h)}setCollapsedAllOfType(b,C){let p=!1;if(this._types)for(let h=0;h<this._types.length;h++)this._types[h]===b&&(this.setCollapsed(h,C),p=!0);return p}toRegion(b){return new T(this,b)}getParentIndex(b){this.ensureParentIndices();let C=((this._startIndexes[b]&y)>>>24)+((this._endIndexes[b]&y)>>>16);return C===e.MAX_FOLDING_REGIONS?-1:C}contains(b,C){return this.getStartLineNumber(b)<=C&&this.getEndLineNumber(b)>=C}findIndex(b){let C=0,p=this._startIndexes.length;if(p===0)return-1;for(;C<p;){let h=Math.floor((C+p)/2);b<this.getStartLineNumber(h)?p=h:C=h+1}return C-1}findRange(b){let C=this.findIndex(b);if(C>=0){if(this.getEndLineNumber(C)>=b)return C;for(C=this.getParentIndex(C);C!==-1;){if(this.contains(C,b))return C;C=this.getParentIndex(C)}}return-1}toString(){let b=[];for(let C=0;C<this.length;C++)b[C]=`[${this.isCollapsed(C)?"+":"-"}] ${this.getStartLineNumber(C)}/${this.getEndLineNumber(C)}`;return b.join(", ")}}e.FoldingRegions=N;class T{constructor(b,C){this.ranges=b,this.index=C}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(b){return b.startLineNumber<=this.startLineNumber&&b.endLineNumber>=this.endLineNumber}containsLine(b){return this.startLineNumber<=b&&b<=this.endLineNumber}}e.FoldingRegion=T}),define(ee[432],te([0,1,4,182]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class T{constructor(s,o){this._updateEventEmitter=new y.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=s,this._decorationProvider=o,this._regions=new N.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(s){if(!s.length)return;s=s.sort((n,d)=>n.regionIndex-d.regionIndex);const o={};this._decorationProvider.changeDecorations(n=>{let d=0,u=-1,f=-1;const S=v=>{for(;d<v;){const m=this._regions.getEndLineNumber(d),_=this._regions.isCollapsed(d);m<=u&&n.changeDecorationOptions(this._editorDecorationIds[d],this._decorationProvider.getDecorationOption(_,m<=f)),_&&m>f&&(f=m),d++}};for(let v of s){let m=v.regionIndex,_=this._editorDecorationIds[m];if(_&&!o[_]){o[_]=!0,S(m);let L=!this._regions.isCollapsed(m);this._regions.setCollapsed(m,L),u=Math.max(u,this._regions.getEndLineNumber(m))}}S(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:s})}update(s,o=[]){let n=[],d=(L,w)=>{for(let k of o)if(L<k&&k<=w)return!0;return!1},u=-1,f=(L,w)=>{const k=s.getStartLineNumber(L),D=s.getEndLineNumber(L);w||(w=s.isCollapsed(L)),w&&d(k,D)&&(w=!1),s.setCollapsed(L,w);const M=this._textModel.getLineMaxColumn(k),O={startLineNumber:k,startColumn:Math.max(M-1,1),endLineNumber:k,endColumn:M};n.push({range:O,options:this._decorationProvider.getDecorationOption(w,D<=u)}),w&&D>u&&(u=D)},S=0,v=()=>{for(;S<this._regions.length;){let L=this._regions.isCollapsed(S);if(S++,L)return S-1}return-1},m=0,_=v();for(;_!==-1&&m<s.length;){let L=this._textModel.getDecorationRange(this._editorDecorationIds[_]);if(L){let w=L.startLineNumber;if(L.startColumn===Math.max(L.endColumn-1,1)&&this._textModel.getLineMaxColumn(w)===L.endColumn)for(;m<s.length;){let k=s.getStartLineNumber(m);if(w>=k)f(m,w===k),m++;else break}}_=v()}for(;m<s.length;)f(m,!1),m++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,n),this._regions=s,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let s=[];for(let o=0;o<this._regions.length;o++)if(this._regions.isCollapsed(o)){let n=this._textModel.getDecorationRange(this._editorDecorationIds[o]);if(n){let d=n.startLineNumber,u=n.endLineNumber+this._regions.getEndLineNumber(o)-this._regions.getStartLineNumber(o);s.push({startLineNumber:d,endLineNumber:u})}}if(s.length>0)return s}applyMemento(s){if(!Array.isArray(s))return;let o=[];for(let n of s){let d=this.getRegionAtLine(n.startLineNumber);d&&!d.isCollapsed&&o.push(d)}this.toggleCollapseState(o)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(s,o){let n=[];if(this._regions){let d=this._regions.findRange(s),u=1;for(;d>=0;){let f=this._regions.toRegion(d);(!o||o(f,u))&&n.push(f),u++,d=f.parentIndex}}return n}getRegionAtLine(s){if(this._regions){let o=this._regions.findRange(s);if(o>=0)return this._regions.toRegion(o)}return null}getRegionsInside(s,o){let n=[],d=s?s.regionIndex+1:0,u=s?s.endLineNumber:Number.MAX_VALUE;if(o&&o.length===2){const f=[];for(let S=d,v=this._regions.length;S<v;S++){let m=this._regions.toRegion(S);if(this._regions.getStartLineNumber(S)<u){for(;f.length>0&&!m.containedBy(f[f.length-1]);)f.pop();f.push(m),o(m,f.length)&&n.push(m)}else break}}else for(let f=d,S=this._regions.length;f<S;f++){let v=this._regions.toRegion(f);if(this._regions.getStartLineNumber(f)<u)(!o||o(v))&&n.push(v);else break}return n}}e.FoldingModel=T;function I(a,s,o){let n=[];for(let d of o){let u=a.getRegionAtLine(d);if(u){const f=!u.isCollapsed;if(n.push(u),s>1){let S=a.getRegionsInside(u,(v,m)=>v.isCollapsed!==f&&m<s);n.push(...S)}}}a.toggleCollapseState(n)}e.toggleCollapseState=I;function b(a,s,o=Number.MAX_VALUE,n){let d=[];if(n&&n.length>0)for(let u of n){let f=a.getRegionAtLine(u);if(f&&(f.isCollapsed!==s&&d.push(f),o>1)){let S=a.getRegionsInside(f,(v,m)=>v.isCollapsed!==s&&m<o);d.push(...S)}}else{let u=a.getRegionsInside(null,(f,S)=>f.isCollapsed!==s&&S<o);d.push(...u)}a.toggleCollapseState(d)}e.setCollapseStateLevelsDown=b;function C(a,s,o,n){let d=[];for(let u of n){let f=a.getAllRegionsAtLine(u,(S,v)=>S.isCollapsed!==s&&v<=o);d.push(...f)}a.toggleCollapseState(d)}e.setCollapseStateLevelsUp=C;function p(a,s,o){let n=[];for(let d of o){let u=a.getAllRegionsAtLine(d,f=>f.isCollapsed!==s);u.length>0&&n.push(u[0])}a.toggleCollapseState(n)}e.setCollapseStateUp=p;function h(a,s,o,n){let d=(f,S)=>S===s&&f.isCollapsed!==o&&!n.some(v=>f.containsLine(v)),u=a.getRegionsInside(null,d);a.toggleCollapseState(u)}e.setCollapseStateAtLevel=h;function g(a,s,o){let n=[];for(let f of o)n.push(a.getAllRegionsAtLine(f,void 0)[0]);let d=f=>n.every(S=>!S.containedBy(f)&&!f.containedBy(S))&&f.isCollapsed!==s,u=a.getRegionsInside(null,d);a.toggleCollapseState(u)}e.setCollapseStateForRest=g;function i(a,s,o){let n=a.textModel,d=a.regions,u=[];for(let f=d.length-1;f>=0;f--)if(o!==d.isCollapsed(f)){let S=d.getStartLineNumber(f);s.test(n.getLineContent(S))&&u.push(d.toRegion(f))}a.toggleCollapseState(u)}e.setCollapseStateForMatchingLines=i;function t(a,s,o){let n=a.regions,d=[];for(let u=n.length-1;u>=0;u--)o!==n.isCollapsed(u)&&s===n.getType(u)&&d.push(n.toRegion(u));a.toggleCollapseState(d)}e.setCollapseStateForType=t;function r(a,s){let o=null,n=s.getRegionAtLine(a);if(n!==null&&(o=n.startLineNumber,a===o)){let d=n.parentIndex;d!==-1?o=s.regions.getStartLineNumber(d):o=null}return o}e.getParentFoldLine=r;function c(a,s){let o=s.getRegionAtLine(a);if(o!==null&&o.startLineNumber===a){if(a!==o.startLineNumber)return o.startLineNumber;{let n=o.parentIndex,d=0;for(n!==-1&&(d=s.regions.getStartLineNumber(o.parentIndex));o!==null;)if(o.regionIndex>0){if(o=s.regions.toRegion(o.regionIndex-1),o.startLineNumber<=d)return null;if(o.parentIndex===n)return o.startLineNumber}else return null}}else if(s.regions.length>0)for(o=s.regions.toRegion(s.regions.length-1);o!==null;){if(o.startLineNumber<a)return o.startLineNumber;o.regionIndex>0?o=s.regions.toRegion(o.regionIndex-1):o=null}return null}e.getPreviousFoldLine=c;function l(a,s){let o=s.getRegionAtLine(a);if(o!==null&&o.startLineNumber===a){let n=o.parentIndex,d=0;if(n!==-1)d=s.regions.getEndLineNumber(o.parentIndex);else{if(s.regions.length===0)return null;d=s.regions.getEndLineNumber(s.regions.length-1)}for(;o!==null;)if(o.regionIndex<s.regions.length){if(o=s.regions.toRegion(o.regionIndex+1),o.startLineNumber>=d)return null;if(o.parentIndex===n)return o.startLineNumber}else return null}else if(s.regions.length>0)for(o=s.regions.toRegion(0);o!==null;){if(o.startLineNumber>a)return o.startLineNumber;o.regionIndex<s.regions.length?o=s.regions.toRegion(o.regionIndex+1):o=null}return null}e.getNextFoldLine=l}),define(ee[238],te([0,1,13,2,182]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const I=5e3,b={};e.ID_SYNTAX_PROVIDER="syntax";class C{constructor(t,r,c,l=I){this.editorModel=t,this.providers=r,this.limit=l,this.id=e.ID_SYNTAX_PROVIDER;for(const a of r)typeof a.onDidChange=="function"&&(this.disposables||(this.disposables=new N.DisposableStore),this.disposables.add(a.onDidChange(c)))}compute(t){return p(this.providers,this.editorModel,t).then(r=>r?g(r,this.limit):null)}dispose(){var t;(t=this.disposables)===null||t===void 0||t.dispose()}}e.SyntaxRangeProvider=C;function p(i,t,r){let c=null,l=i.map((a,s)=>Promise.resolve(a.provideFoldingRanges(t,b,r)).then(o=>{if(!r.isCancellationRequested&&Array.isArray(o)){Array.isArray(c)||(c=[]);let n=t.getLineCount();for(let d of o)d.start>0&&d.end>d.start&&d.end<=n&&c.push({start:d.start,end:d.end,rank:s,kind:d.kind})}},y.onUnexpectedExternalError));return Promise.all(l).then(a=>c)}class h{constructor(t){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=t}add(t,r,c,l){if(t>T.MAX_LINE_NUMBER||r>T.MAX_LINE_NUMBER)return;let a=this._length;this._startIndexes[a]=t,this._endIndexes[a]=r,this._nestingLevels[a]=l,this._types[a]=c,this._length++,l<30&&(this._nestingLevelCounts[l]=(this._nestingLevelCounts[l]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let t=new Uint32Array(this._length),r=new Uint32Array(this._length);for(let c=0;c<this._length;c++)t[c]=this._startIndexes[c],r[c]=this._endIndexes[c];return new T.FoldingRegions(t,r,this._types)}else{let t=0,r=this._nestingLevelCounts.length;for(let s=0;s<this._nestingLevelCounts.length;s++){let o=this._nestingLevelCounts[s];if(o){if(o+t>this._foldingRangesLimit){r=s;break}t+=o}}let c=new Uint32Array(this._foldingRangesLimit),l=new Uint32Array(this._foldingRangesLimit),a=[];for(let s=0,o=0;s<this._length;s++){let n=this._nestingLevels[s];(n<r||n===r&&t++<this._foldingRangesLimit)&&(c[o]=this._startIndexes[s],l[o]=this._endIndexes[s],a[o]=this._types[s],o++)}return new T.FoldingRegions(c,l,a)}}}e.RangesCollector=h;function g(i,t){let r=i.sort((s,o)=>{let n=s.start-o.start;return n===0&&(n=s.rank-o.rank),n}),c=new h(t),l,a=[];for(let s of r)if(!l)l=s,c.add(s.start,s.end,s.kind&&s.kind.value,a.length);else if(s.start>l.start)if(s.end<=l.end)a.push(l),l=s,c.add(s.start,s.end,s.kind&&s.kind.value,a.length);else{if(s.start>l.end){do l=a.pop();while(l&&s.start>l.end);l&&a.push(l),l=s}c.add(s.start,s.end,s.kind&&s.kind.value,a.length)}return c.toIndentRanges()}e.sanitizeRanges=g}),define(ee[433],te([0,1,238]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializingRangeProvider=e.ID_INIT_PROVIDER=void 0,e.ID_INIT_PROVIDER="init";class N{constructor(I,b,C,p){if(this.editorModel=I,this.id=e.ID_INIT_PROVIDER,b.length){let h=g=>({range:{startLineNumber:g.startLineNumber,startColumn:0,endLineNumber:g.endLineNumber,endColumn:I.getLineLength(g.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=I.deltaDecorations([],b.map(h)),this.timeout=setTimeout(C,p)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(I){let b=[];if(this.decorationIds)for(let C of this.decorationIds){let p=this.editorModel.getDecorationRange(C);p&&b.push({start:p.startLineNumber,end:p.endLineNumber,rank:1})}return Promise.resolve((0,y.sanitizeRanges)(b,Number.MAX_VALUE))}}e.InitializingRangeProvider=N}),define(ee[239],te([0,1,59,3]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class T{static _handleEolEdits(b,C){let p,h=[];for(let g of C)typeof g.eol=="number"&&(p=g.eol),g.range&&typeof g.text=="string"&&h.push(g);return typeof p=="number"&&b.hasModel()&&b.getModel().pushEOL(p),h}static _isFullModelReplaceEdit(b,C){if(!b.hasModel())return!1;const p=b.getModel(),h=p.validateRange(C.range);return p.getFullModelRange().equalsRange(h)}static execute(b,C,p){p&&b.pushUndoStop();const h=T._handleEolEdits(b,C);h.length===1&&T._isFullModelReplaceEdit(b,h[0])?b.executeEdits("formatEditsCommand",h.map(g=>y.EditOperation.replace(N.Range.lift(g.range),g.text))):b.executeEdits("formatEditsCommand",h.map(g=>y.EditOperation.replaceMove(N.Range.lift(g.range),g.text))),p&&b.pushUndoStop()}}e.FormattingEdit=T}),define(ee[240],te([0,1,4,2,17]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function I(i,t){return!!i[t]}class b{constructor(t,r){this.target=t.target,this.hasTriggerModifier=I(t.event,r.triggerModifier),this.hasSideBySideModifier=I(t.event,r.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=t.event.detail<=1}}e.ClickLinkMouseEvent=b;class C{constructor(t,r){this.keyCodeIsTriggerKey=t.keyCode===r.triggerKey,this.keyCodeIsSideBySideKey=t.keyCode===r.triggerSideBySideKey,this.hasTriggerModifier=I(t,r.triggerModifier)}}e.ClickLinkKeyboardEvent=C;class p{constructor(t,r,c,l){this.triggerKey=t,this.triggerModifier=r,this.triggerSideBySideKey=c,this.triggerSideBySideModifier=l}equals(t){return this.triggerKey===t.triggerKey&&this.triggerModifier===t.triggerModifier&&this.triggerSideBySideKey===t.triggerSideBySideKey&&this.triggerSideBySideModifier===t.triggerSideBySideModifier}}e.ClickLinkOptions=p;function h(i){return i==="altKey"?T.isMacintosh?new p(57,"metaKey",6,"altKey"):new p(5,"ctrlKey",6,"altKey"):T.isMacintosh?new p(6,"altKey",57,"metaKey"):new p(6,"altKey",5,"ctrlKey")}class g extends N.Disposable{constructor(t){super();this._onMouseMoveOrRelevantKeyDown=this._register(new y.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new y.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new y.Emitter),this.onCancel=this._onCancel.event,this._editor=t,this._opts=h(this._editor.getOption(69)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(r=>{if(r.hasChanged(69)){const c=h(this._editor.getOption(69));if(this._opts.equals(c))return;this._opts=c,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(r=>this._onEditorMouseMove(new b(r,this._opts)))),this._register(this._editor.onMouseDown(r=>this._onEditorMouseDown(new b(r,this._opts)))),this._register(this._editor.onMouseUp(r=>this._onEditorMouseUp(new b(r,this._opts)))),this._register(this._editor.onKeyDown(r=>this._onEditorKeyDown(new C(r,this._opts)))),this._register(this._editor.onKeyUp(r=>this._onEditorKeyUp(new C(r,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(r=>this._onDidChangeCursorSelection(r))),this._register(this._editor.onDidChangeModel(r=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(r=>{(r.scrollTopChanged||r.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(t){t.selection&&t.selection.startColumn!==t.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(t){this._lastMouseMoveEvent=t,this._onMouseMoveOrRelevantKeyDown.fire([t,null])}_onEditorMouseDown(t){this._hasTriggerKeyOnMouseDown=t.hasTriggerModifier,this._lineNumberOnMouseDown=t.target.position?t.target.position.lineNumber:0}_onEditorMouseUp(t){const r=t.target.position?t.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===r&&this._onExecute.fire(t)}_onEditorKeyDown(t){this._lastMouseMoveEvent&&(t.keyCodeIsTriggerKey||t.keyCodeIsSideBySideKey&&t.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,t]):t.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(t){t.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=g});var _t=this&&this.__asyncValues||function(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=q[Symbol.asyncIterator],y;return e?e.call(q):(q=typeof __values=="function"?__values(q):q[Symbol.iterator](),y={},N("next"),N("throw"),N("return"),y[Symbol.asyncIterator]=function(){return this},y);function N(I){y[I]=q[I]&&function(b){return new Promise(function(C,p){b=q[I](b),T(C,p,b.done,b.value)})}}function T(I,b,C,p){Promise.resolve(p).then(function(h){I({value:h,done:C})},b)}};define(ee[241],te([0,1,10,13]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=void 0;class T{constructor(b,C,p,h,g){this._computer=b,this._state=0,this._hoverTime=g,this._firstWaitScheduler=new y.RunOnceScheduler(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new y.RunOnceScheduler(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new y.RunOnceScheduler(()=>this._showLoadingMessage(),0),this._asyncIterable=null,this._asyncIterableDone=!1,this._completeCallback=C,this._errorCallback=p,this._progressCallback=h}setHoverTime(b){this._hoverTime=b}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,y.createCancelableAsyncIterable)(b=>this._computer.computeAsync(b)),(()=>Ae(this,void 0,void 0,function*(){var b,C;try{try{for(var p=_t(this._asyncIterable),h;h=yield p.next(),!h.done;){const g=h.value;g&&(this._computer.onResult([g],!1),this._onProgress())}}catch(g){b={error:g}}finally{try{h&&!h.done&&(C=p.return)&&(yield C.call(p))}finally{if(b)throw b.error}}this._asyncIterableDone=!0,this._withAsyncResult()}catch(g){this._onError(g)}}))()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncIterableDone?(this._state=0,this._onComplete()):(this._state=3,this._onProgress())}_showLoadingMessage(){this._state===3&&(this._state=4,this._onProgress())}_withAsyncResult(){(this._state===3||this._state===4)&&(this._state=0,this._onComplete())}_onComplete(){this._completeCallback(this._computer.getResult())}_onError(b){this._errorCallback?this._errorCallback(b):(0,N.onUnexpectedError)(b)}_onProgress(){this._state===4?this._progressCallback(this._computer.getResultWithLoadingMessage()):this._progressCallback(this._computer.getResult())}start(b){if(b===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._state=0}}e.HoverOperation=T}),define(ee[242],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class y{constructor(I,b){this.priority=I,this.range=b,this.type=1}equals(I){return I.type===1&&this.range.equalsRange(I.range)}canAdoptVisibleHover(I,b){return I.type===1&&b.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=y;class N{constructor(I,b,C){this.priority=I,this.owner=b,this.range=C,this.type=2}equals(I){return I.type===2&&this.owner===I.owner}canAdoptVisibleHover(I,b){return I.type===2&&this.owner===I.owner}}e.HoverForeignElementAnchor=N}),define(ee[434],te([0,1,21]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class N{constructor(I,b,C){this._editRange=I,this._originalSelection=b,this._text=C}getEditOperations(I,b){b.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(I,b){const p=b.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new y.Selection(p.endLineNumber,Math.min(this._originalSelection.positionColumn,p.endColumn),p.endLineNumber,Math.min(this._originalSelection.positionColumn,p.endColumn)):new y.Selection(p.endLineNumber,p.endColumn-this._text.length,p.endLineNumber,p.endColumn)}}e.InPlaceReplaceCommand=N}),define(ee[243],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function y(T,I){let b=0;for(let C=0;C<T.length;C++)T.charAt(C)==="	"?b+=I:b++;return b}e.getSpaceCnt=y;function N(T,I,b){T=T<0?0:T;let C="";if(!b){let p=Math.floor(T/I);T=T%I;for(let h=0;h<p;h++)C+="	"}for(let p=0;p<T;p++)C+=" ";return C}e.generateIndent=N}),define(ee[244],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit"}),define(ee[183],te([0,1,4,2,3]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGhostTextWidgetModel=e.GhostTextPart=e.GhostText=void 0;class I{constructor(i,t,r=0){this.lineNumber=i,this.parts=t,this.additionalReservedLineCount=r}renderForScreenReader(i){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],r=i.substr(0,t.column-1);return C(r,this.parts.map(l=>({range:{startLineNumber:1,endLineNumber:1,startColumn:l.column,endColumn:l.column},text:l.lines.join(`
`)}))).substring(this.parts[0].column-1)}}e.GhostText=I;class b{constructor(i){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<i.length;t++)i.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(i){return this.lineStartOffsetByLineIdx[i.lineNumber-1]+i.column-1}}function C(g,i){const t=new b(g),r=i.map(c=>{const l=T.Range.lift(c.range);return{startOffset:t.getOffset(l.getStartPosition()),endOffset:t.getOffset(l.getEndPosition()),text:c.text}});r.sort((c,l)=>l.startOffset-c.startOffset);for(const c of r)g=g.substring(0,c.startOffset)+c.text+g.substring(c.endOffset);return g}class p{constructor(i,t,r){this.column=i,this.lines=t,this.preview=r}}e.GhostTextPart=p;class h extends N.Disposable{constructor(i){super();this.editor=i,this._expanded=void 0,this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this._register(i.onDidChangeConfiguration(t=>{t.hasChanged(105)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(i){this._expanded=!0,this.onDidChangeEmitter.fire()}}e.BaseGhostTextWidgetModel=h}),define(ee[184],te([0,1,135,8,3,183]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineCompletionToGhostText=e.normalizedInlineCompletionsEquals=void 0;function b(i,t){return i===t?!0:!i||!t?!1:i.range.equalsRange(t.range)&&i.text===t.text&&i.command===t.command}e.normalizedInlineCompletionsEquals=b;function C(i,t,r,c,l=0){if(i.range.startLineNumber!==i.range.endLineNumber)return;const a=t.getLineContent(i.range.startLineNumber),s=N.getLeadingWhitespace(a).length;if(i.range.startColumn-1<=s){const v=N.getLeadingWhitespace(i.text).length,m=a.substring(i.range.startColumn-1,s),_=T.Range.fromPositions(i.range.getStartPosition().delta(0,m.length),i.range.getEndPosition()),L=i.text.startsWith(m)?i.text.substring(m.length):i.text.substring(v);i={range:_,text:L,command:i.command}}const n=t.getValueInRange(i.range),d=h(n,i.text);if(!d)return;const u=i.range.startLineNumber,f=new Array;if(r==="prefix"){const v=d.filter(m=>m.originalLength===0);if(v.length>1||v.length===1&&v[0].originalStart!==n.length)return}const S=i.text.length-l;for(const v of d){const m=i.range.startColumn+v.originalStart+v.originalLength;if(r==="subwordSmart"&&c&&c.lineNumber===i.range.startLineNumber&&m<c.column||v.originalLength>0)return;if(v.modifiedLength===0)continue;const _=v.modifiedStart+v.modifiedLength,L=Math.max(v.modifiedStart,Math.min(_,S)),w=i.text.substring(v.modifiedStart,L),k=i.text.substring(L,Math.max(v.modifiedStart,_));if(w.length>0){const D=N.splitLines(w);f.push(new I.GhostTextPart(m,D,!1))}if(k.length>0){const D=N.splitLines(k);f.push(new I.GhostTextPart(m,D,!0))}}return new I.GhostText(u,f,0)}e.inlineCompletionToGhostText=C;let p;function h(i,t){if((p==null?void 0:p.originalValue)===i&&(p==null?void 0:p.newValue)===t)return p==null?void 0:p.changes;{const r=g(i,t);return p={originalValue:i,newValue:t,changes:r},r}}function g(i,t){if(i.length>5e3||t.length>5e3)return;function r(n){let d=0;for(let u=0,f=n.length;u<f;u++){const S=n.charCodeAt(u);S>d&&(d=S)}return d}const c=Math.max(r(i),r(t));function l(n){if(n<0)throw new Error("unexpected");return c+n+1}function a(n){let d=0,u=0;const f=new Int32Array(n.length);for(let S=0,v=n.length;S<v;S++){const m=u*100+d;n[S]==="("?(f[S]=l(2*m),d++):n[S]===")"?(f[S]=l(2*m+1),d===1&&u++,d=Math.max(d-1,0)):f[S]=n.charCodeAt(S)}return f}const s=a(i),o=a(t);return new y.LcsDiff({getElements:()=>s},{getElements:()=>o}).ComputeDiff(!1).changes}}),define(ee[245],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findMaxBy=e.compareByNumber=e.compareBy=e.createDisposableRef=void 0;function y(b,C){return{object:b,dispose:()=>C==null?void 0:C.dispose()}}e.createDisposableRef=y;function N(b,C){return(p,h)=>C(b(p),b(h))}e.compareBy=N;function T(){return(b,C)=>b-C}e.compareByNumber=T;function I(b,C){let p;for(const h of b)(p===void 0||C(h,p)>0)&&(p=h);return p}e.findMaxBy=I}),define(ee[435],te([0,1,3,21]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class T{constructor(b,C,p){this._selection=b,this._isCopyingDown=C,this._noop=p||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(b,C){let p=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,p.startLineNumber<p.endLineNumber&&p.endColumn===1&&(this._endLineNumberDelta=1,p=p.setEndPosition(p.endLineNumber-1,b.getLineMaxColumn(p.endLineNumber-1)));let h=[];for(let i=p.startLineNumber;i<=p.endLineNumber;i++)h.push(b.getLineContent(i));const g=h.join(`
`);g===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?C.addEditOperation(new y.Range(p.endLineNumber,b.getLineMaxColumn(p.endLineNumber),p.endLineNumber+1,1),p.endLineNumber===b.getLineCount()?"":`
`):this._isCopyingDown?C.addEditOperation(new y.Range(p.startLineNumber,1,p.startLineNumber,1),g+`
`):C.addEditOperation(new y.Range(p.endLineNumber,b.getLineMaxColumn(p.endLineNumber),p.endLineNumber,b.getLineMaxColumn(p.endLineNumber)),`
`+g),this._selectionId=C.trackSelection(p),this._selectionDirection=this._selection.getDirection()}computeCursorState(b,C){let p=C.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let h=p.startLineNumber,g=p.startColumn,i=p.endLineNumber,t=p.endColumn;this._startLineNumberDelta!==0&&(h=h+this._startLineNumberDelta,g=1),this._endLineNumberDelta!==0&&(i=i+this._endLineNumberDelta,t=1),p=N.Selection.createWithDirection(h,g,i,t,this._selectionDirection)}return p}}e.CopyLinesCommand=T}),define(ee[436],te([0,1,59,3]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class T{constructor(p,h){this.selection=p,this.descending=h,this.selectionId=null}static getCollator(){return T._COLLATOR||(T._COLLATOR=new Intl.Collator),T._COLLATOR}getEditOperations(p,h){let g=b(p,this.selection,this.descending);g&&h.addEditOperation(g.range,g.text),this.selectionId=h.trackSelection(this.selection)}computeCursorState(p,h){return h.getTrackedSelection(this.selectionId)}static canRun(p,h,g){if(p===null)return!1;let i=I(p,h,g);if(!i)return!1;for(let t=0,r=i.before.length;t<r;t++)if(i.before[t]!==i.after[t])return!0;return!1}}e.SortLinesCommand=T,T._COLLATOR=null;function I(C,p,h){let g=p.startLineNumber,i=p.endLineNumber;if(p.endColumn===1&&i--,g>=i)return null;let t=[];for(let c=g;c<=i;c++)t.push(C.getLineContent(c));let r=t.slice(0);return r.sort(T.getCollator().compare),h===!0&&(r=r.reverse()),{startLineNumber:g,endLineNumber:i,before:t,after:r}}function b(C,p,h){let g=I(C,p,h);return g?y.EditOperation.replace(new N.Range(g.startLineNumber,1,g.endLineNumber,C.getLineMaxColumn(g.endLineNumber)),g.after.join(`
`)):null}}),define(ee[246],te([0,1,77,14,3]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class I{provideSelectionRanges(C,p){return Ae(this,void 0,void 0,function*(){const h=[];for(const g of p){const i=[];h.push(i);const t=new Map;yield new Promise(r=>I._bracketsRightYield(r,0,C,g,t)),yield new Promise(r=>I._bracketsLeftYield(r,0,C,g,t,i))}return h})}static _bracketsRightYield(C,p,h,g,i){const t=new Map,r=Date.now();for(;;){if(p>=I._maxRounds){C();break}if(!g){C();break}let c=h.bracketPairs.findNextBracket(g);if(!c){C();break}if(Date.now()-r>I._maxDuration){setTimeout(()=>I._bracketsRightYield(C,p+1,h,g,i));break}const a=c.close[0];if(c.isOpen){let s=t.has(a)?t.get(a):0;t.set(a,s+1)}else{let s=t.has(a)?t.get(a):0;if(s-=1,t.set(a,Math.max(0,s)),s<0){let o=i.get(a);o||(o=new y.LinkedList,i.set(a,o)),o.push(c.range)}}g=c.range.getEndPosition()}}static _bracketsLeftYield(C,p,h,g,i,t){const r=new Map,c=Date.now();for(;;){if(p>=I._maxRounds&&i.size===0){C();break}if(!g){C();break}let l=h.bracketPairs.findPrevBracket(g);if(!l){C();break}if(Date.now()-c>I._maxDuration){setTimeout(()=>I._bracketsLeftYield(C,p+1,h,g,i,t));break}const s=l.close[0];if(l.isOpen){let o=r.has(s)?r.get(s):0;if(o-=1,r.set(s,Math.max(0,o)),o<0){let n=i.get(s);if(n){let d=n.shift();n.size===0&&i.delete(s);const u=T.Range.fromPositions(l.range.getEndPosition(),d.getStartPosition()),f=T.Range.fromPositions(l.range.getStartPosition(),d.getEndPosition());t.push({range:u}),t.push({range:f}),I._addBracketLeading(h,f,t)}}}else{let o=r.has(s)?r.get(s):0;r.set(s,o+1)}g=l.range.getStartPosition()}}static _addBracketLeading(C,p,h){if(p.startLineNumber===p.endLineNumber)return;const g=p.startLineNumber,i=C.getLineFirstNonWhitespaceColumn(g);i!==0&&i!==p.startColumn&&(h.push({range:T.Range.fromPositions(new N.Position(g,i),p.getEndPosition())}),h.push({range:T.Range.fromPositions(new N.Position(g,1),p.getEndPosition())}));const t=g-1;if(t>0){const r=C.getLineFirstNonWhitespaceColumn(t);r===p.startColumn&&r!==C.getLineLastNonWhitespaceColumn(t)&&(h.push({range:T.Range.fromPositions(new N.Position(t,r),p.getEndPosition())}),h.push({range:T.Range.fromPositions(new N.Position(t,1),p.getEndPosition())}))}}}e.BracketSelectionRangeProvider=I,I._maxDuration=30,I._maxRounds=2}),define(ee[437],te([0,1,8,3]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class T{provideSelectionRanges(b,C){const p=[];for(const h of C){const g=[];p.push(g),this._addInWordRanges(g,b,h),this._addWordRanges(g,b,h),this._addWhitespaceLine(g,b,h),g.push({range:b.getFullModelRange()})}return p}_addInWordRanges(b,C,p){const h=C.getWordAtPosition(p);if(!h)return;let{word:g,startColumn:i}=h,t=p.column-i,r=t,c=t,l=0;for(;r>=0;r--){let a=g.charCodeAt(r);if(r!==t&&(a===95||a===45))break;if((0,y.isLowerAsciiLetter)(a)&&(0,y.isUpperAsciiLetter)(l))break;l=a}for(r+=1;c<g.length;c++){let a=g.charCodeAt(c);if((0,y.isUpperAsciiLetter)(a)&&(0,y.isLowerAsciiLetter)(l))break;if(a===95||a===45)break;l=a}r<c&&b.push({range:new N.Range(p.lineNumber,i+r,p.lineNumber,i+c)})}_addWordRanges(b,C,p){const h=C.getWordAtPosition(p);h&&b.push({range:new N.Range(p.lineNumber,h.startColumn,p.lineNumber,h.endColumn)})}_addWhitespaceLine(b,C,p){C.getLineLength(p.lineNumber)>0&&C.getLineFirstNonWhitespaceColumn(p.lineNumber)===0&&C.getLineLastNonWhitespaceColumn(p.lineNumber)===0&&b.push({range:new N.Range(p.lineNumber,1,p.lineNumber,C.getLineMaxColumn(p.lineNumber))})}}e.WordSelectionRangeProvider=T}),define(ee[119],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class y{constructor(){this.value="",this.pos=0}static isDigitCharacter(l){return l>=48&&l<=57}static isVariableCharacter(l){return l===95||l>=97&&l<=122||l>=65&&l<=90}text(l){this.value=l,this.pos=0}tokenText(l){return this.value.substr(l.pos,l.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let l=this.pos,a=0,s=this.value.charCodeAt(l),o;if(o=y._table[s],typeof o=="number")return this.pos+=1,{type:o,pos:l,len:1};if(y.isDigitCharacter(s)){o=8;do a+=1,s=this.value.charCodeAt(l+a);while(y.isDigitCharacter(s));return this.pos+=a,{type:o,pos:l,len:a}}if(y.isVariableCharacter(s)){o=9;do s=this.value.charCodeAt(l+ ++a);while(y.isVariableCharacter(s)||y.isDigitCharacter(s));return this.pos+=a,{type:o,pos:l,len:a}}o=10;do a+=1,s=this.value.charCodeAt(l+a);while(!isNaN(s)&&typeof y._table[s]=="undefined"&&!y.isDigitCharacter(s)&&!y.isVariableCharacter(s));return this.pos+=a,{type:o,pos:l,len:a}}}e.Scanner=y,y._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class N{constructor(){this._children=[]}appendChild(l){return l instanceof T&&this._children[this._children.length-1]instanceof T?this._children[this._children.length-1].value+=l.value:(l.parent=this,this._children.push(l)),this}replace(l,a){const{parent:s}=l,o=s.children.indexOf(l),n=s.children.slice(0);n.splice(o,1,...a),s._children=n,function d(u,f){for(const S of u)S.parent=f,d(S.children,S)}(a,s)}get children(){return this._children}get snippet(){let l=this;for(;;){if(!l)return;if(l instanceof t)return l;l=l.parent}}toString(){return this.children.reduce((l,a)=>l+a.toString(),"")}len(){return 0}}e.Marker=N;class T extends N{constructor(l){super();this.value=l}toString(){return this.value}len(){return this.value.length}clone(){return new T(this.value)}}e.Text=T;class I extends N{}e.TransformableMarker=I;class b extends I{constructor(l){super();this.index=l}static compareByIndex(l,a){return l.index===a.index?0:l.isFinalTabstop?1:a.isFinalTabstop||l.index<a.index?-1:l.index>a.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof C?this._children[0]:void 0}clone(){let l=new b(this.index);return this.transform&&(l.transform=this.transform.clone()),l._children=this.children.map(a=>a.clone()),l}}e.Placeholder=b;class C extends N{constructor(){super(...arguments);this.options=[]}appendChild(l){return l instanceof T&&(l.parent=this,this.options.push(l)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let l=new C;return this.options.forEach(l.appendChild,l),l}}e.Choice=C;class p extends N{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(l){const a=this;let s=!1,o=l.replace(this.regexp,function(){return s=!0,a._replace(Array.prototype.slice.call(arguments,0,-2))});return!s&&this._children.some(n=>n instanceof h&&Boolean(n.elseValue))&&(o=this._replace([])),o}_replace(l){let a="";for(const s of this._children)if(s instanceof h){let o=l[s.index]||"";o=s.resolve(o),a+=o}else a+=s.toString();return a}toString(){return""}clone(){let l=new p;return l.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),l._children=this.children.map(a=>a.clone()),l}}e.Transform=p;class h extends N{constructor(l,a,s,o){super();this.index=l,this.shorthandName=a,this.ifValue=s,this.elseValue=o}resolve(l){return this.shorthandName==="upcase"?l?l.toLocaleUpperCase():"":this.shorthandName==="downcase"?l?l.toLocaleLowerCase():"":this.shorthandName==="capitalize"?l?l[0].toLocaleUpperCase()+l.substr(1):"":this.shorthandName==="pascalcase"?l?this._toPascalCase(l):"":this.shorthandName==="camelcase"?l?this._toCamelCase(l):"":Boolean(l)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(l)&&typeof this.elseValue=="string"?this.elseValue:l||""}_toPascalCase(l){const a=l.match(/[a-z0-9]+/gi);return a?a.map(s=>s.charAt(0).toUpperCase()+s.substr(1).toLowerCase()).join(""):l}_toCamelCase(l){const a=l.match(/[a-z0-9]+/gi);return a?a.map((s,o)=>o===0?s.toLowerCase():s.charAt(0).toUpperCase()+s.substr(1).toLowerCase()).join(""):l}clone(){return new h(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=h;class g extends I{constructor(l){super();this.name=l}resolve(l){let a=l.resolve(this);return this.transform&&(a=this.transform.resolve(a||"")),a!==void 0?(this._children=[new T(a)],!0):!1}clone(){const l=new g(this.name);return this.transform&&(l.transform=this.transform.clone()),l._children=this.children.map(a=>a.clone()),l}}e.Variable=g;function i(c,l){const a=[...c];for(;a.length>0;){const s=a.shift();if(!l(s))break;a.unshift(...s.children)}}class t extends N{get placeholderInfo(){if(!this._placeholders){let l=[],a;this.walk(function(s){return s instanceof b&&(l.push(s),a=!a||a.index<s.index?s:a),!0}),this._placeholders={all:l,last:a}}return this._placeholders}get placeholders(){const{all:l}=this.placeholderInfo;return l}offset(l){let a=0,s=!1;return this.walk(o=>o===l?(s=!0,!1):(a+=o.len(),!0)),s?a:-1}fullLen(l){let a=0;return i([l],s=>(a+=s.len(),!0)),a}enclosingPlaceholders(l){let a=[],{parent:s}=l;for(;s;)s instanceof b&&a.push(s),s=s.parent;return a}resolveVariables(l){return this.walk(a=>(a instanceof g&&a.resolve(l)&&(this._placeholders=void 0),!0)),this}appendChild(l){return this._placeholders=void 0,super.appendChild(l)}replace(l,a){return this._placeholders=void 0,super.replace(l,a)}clone(){let l=new t;return this._children=this.children.map(a=>a.clone()),l}walk(l){i(this.children,l)}}e.TextmateSnippet=t;class r{constructor(){this._scanner=new y,this._token={type:14,pos:0,len:0}}static escape(l){return l.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(l){return/\${?CLIPBOARD/.test(l)}parse(l,a,s){this._scanner.text(l),this._token=this._scanner.next();const o=new t;for(;this._parse(o););const n=new Map,d=[];let u=0;o.walk(f=>(f instanceof b&&(u+=1,f.isFinalTabstop?n.set(0,void 0):!n.has(f.index)&&f.children.length>0?n.set(f.index,f.children):d.push(f)),!0));for(const f of d){const S=n.get(f.index);if(S){const v=new b(f.index);v.transform=f.transform;for(const m of S)v.appendChild(m.clone());o.replace(f,[v])}}return s||(s=u>0&&a),!n.has(0)&&s&&o.appendChild(new b(0)),o}_accept(l,a){if(l===void 0||this._token.type===l){let s=a?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),s}return!1}_backTo(l){return this._scanner.pos=l.pos+l.len,this._token=l,!1}_until(l){const a=this._token;for(;this._token.type!==l;){if(this._token.type===14)return!1;if(this._token.type===5){const o=this._scanner.next();if(o.type!==0&&o.type!==4&&o.type!==5)return!1}this._token=this._scanner.next()}const s=this._scanner.value.substring(a.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),s}_parse(l){return this._parseEscaped(l)||this._parseTabstopOrVariableName(l)||this._parseComplexPlaceholder(l)||this._parseComplexVariable(l)||this._parseAnything(l)}_parseEscaped(l){let a;return(a=this._accept(5,!0))?(a=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||a,l.appendChild(new T(a)),!0):!1}_parseTabstopOrVariableName(l){let a;const s=this._token;return this._accept(0)&&(a=this._accept(9,!0)||this._accept(8,!0))?(l.appendChild(/^\d+$/.test(a)?new b(Number(a)):new g(a)),!0):this._backTo(s)}_parseComplexPlaceholder(l){let a;const s=this._token;if(!(this._accept(0)&&this._accept(3)&&(a=this._accept(8,!0))))return this._backTo(s);const n=new b(Number(a));if(this._accept(1))for(;;){if(this._accept(4))return l.appendChild(n),!0;if(!this._parse(n))return l.appendChild(new T("${"+a+":")),n.children.forEach(l.appendChild,l),!0}else if(n.index>0&&this._accept(7)){const d=new C;for(;;){if(this._parseChoiceElement(d)){if(this._accept(2))continue;if(this._accept(7)&&(n.appendChild(d),this._accept(4)))return l.appendChild(n),!0}return this._backTo(s),!1}}else return this._accept(6)?this._parseTransform(n)?(l.appendChild(n),!0):(this._backTo(s),!1):this._accept(4)?(l.appendChild(n),!0):this._backTo(s)}_parseChoiceElement(l){const a=this._token,s=[];for(;!(this._token.type===2||this._token.type===7);){let o;if((o=this._accept(5,!0))?o=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||o:o=this._accept(void 0,!0),!o)return this._backTo(a),!1;s.push(o)}return s.length===0?(this._backTo(a),!1):(l.appendChild(new T(s.join(""))),!0)}_parseComplexVariable(l){let a;const s=this._token;if(!(this._accept(0)&&this._accept(3)&&(a=this._accept(9,!0))))return this._backTo(s);const n=new g(a);if(this._accept(1))for(;;){if(this._accept(4))return l.appendChild(n),!0;if(!this._parse(n))return l.appendChild(new T("${"+a+":")),n.children.forEach(l.appendChild,l),!0}else return this._accept(6)?this._parseTransform(n)?(l.appendChild(n),!0):(this._backTo(s),!1):this._accept(4)?(l.appendChild(n),!0):this._backTo(s)}_parseTransform(l){let a=new p,s="",o="";for(;!this._accept(6);){let n;if(n=this._accept(5,!0)){n=this._accept(6,!0)||n,s+=n;continue}if(this._token.type!==14){s+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let n;if(n=this._accept(5,!0)){n=this._accept(5,!0)||this._accept(6,!0)||n,a.appendChild(new T(n));continue}if(!(this._parseFormatString(a)||this._parseAnything(a)))return!1}for(;!this._accept(4);){if(this._token.type!==14){o+=this._accept(void 0,!0);continue}return!1}try{a.regexp=new RegExp(s,o)}catch(n){return!1}return l.transform=a,!0}_parseFormatString(l){const a=this._token;if(!this._accept(0))return!1;let s=!1;this._accept(3)&&(s=!0);let o=this._accept(8,!0);if(o)if(s){if(this._accept(4))return l.appendChild(new h(Number(o))),!0;if(!this._accept(1))return this._backTo(a),!1}else return l.appendChild(new h(Number(o))),!0;else return this._backTo(a),!1;if(this._accept(6)){let n=this._accept(9,!0);return!n||!this._accept(4)?(this._backTo(a),!1):(l.appendChild(new h(Number(o),n)),!0)}else if(this._accept(11)){let n=this._until(4);if(n)return l.appendChild(new h(Number(o),void 0,n,void 0)),!0}else if(this._accept(12)){let n=this._until(4);if(n)return l.appendChild(new h(Number(o),void 0,void 0,n)),!0}else if(this._accept(13)){let n=this._until(1);if(n){let d=this._until(4);if(d)return l.appendChild(new h(Number(o),void 0,n,d)),!0}}else{let n=this._until(4);if(n)return l.appendChild(new h(Number(o),void 0,void 0,n)),!0}return this._backTo(a),!1}_parseAnything(l){return this._token.type!==14?(l.appendChild(new T(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=r}),define(ee[438],te([0,1,19,69,8]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class I{constructor(p,h){this.leadingLineContent=p,this.characterCountDelta=h}}e.LineContext=I;class b{constructor(p,h,g,i,t,r,c){this.clipboardText=c,this._snippetCompareFn=b._compareCompletionItems,this._items=p,this._column=h,this._wordDistance=i,this._options=t,this._refilterKind=1,this._lineContext=g,r==="top"?this._snippetCompareFn=b._compareCompletionItemsSnippetsUp:r==="bottom"&&(this._snippetCompareFn=b._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(p){(this._lineContext.leadingLineContent!==p.leadingLineContent||this._lineContext.characterCountDelta!==p.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<p.characterCountDelta&&this._filteredItems?2:1,this._lineContext=p)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const p=new Set;for(let[h,g]of this._providerInfo)g&&p.add(h);return p}adopt(p){let h=[];for(let g=0;g<this._items.length;)p.has(this._items[g].provider)?g++:(h.push(this._items[g]),this._items[g]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,h}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const p=[],{leadingLineContent:h,characterCountDelta:g}=this._lineContext;let i="",t="";const r=this._refilterKind===1?this._items:this._filteredItems,c=[],l=!this._options.filterGraceful||r.length>2e3?N.fuzzyScore:N.fuzzyScoreGracefulAggressive;for(let a=0;a<r.length;a++){const s=r[a];if(s.isInvalid)continue;this._providerInfo.set(s.provider,Boolean(s.container.incomplete));const o=s.position.column-s.editStart.column,n=o+g-(s.position.column-this._column);if(i.length!==n&&(i=n===0?"":h.slice(-n),t=i.toLowerCase()),s.word=i,n===0)s.score=N.FuzzyScore.Default;else{let d=0;for(;d<o;){const u=i.charCodeAt(d);if(u===32||u===9)d+=1;else break}if(d>=n)s.score=N.FuzzyScore.Default;else if(typeof s.completion.filterText=="string"){let u=l(i,t,d,s.completion.filterText,s.filterTextLow,0,!1);if(!u)continue;(0,T.compareIgnoreCase)(s.completion.filterText,s.textLabel)===0?s.score=u:(s.score=(0,N.anyScore)(i,t,d,s.textLabel,s.labelLow,0),s.score[0]=u[0])}else{let u=l(i,t,d,s.textLabel,s.labelLow,0,!1);if(!u)continue;s.score=u}}s.idx=a,s.distance=this._wordDistance.distance(s.position,s.completion),c.push(s),p.push(s.textLabel.length)}this._filteredItems=c.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:p.length?(0,y.quickSelect)(p.length-.85,p,(a,s)=>a-s):0}}static _compareCompletionItems(p,h){return p.score[0]>h.score[0]?-1:p.score[0]<h.score[0]?1:p.distance<h.distance?-1:p.distance>h.distance?1:p.idx<h.idx?-1:p.idx>h.idx?1:0}static _compareCompletionItemsSnippetsDown(p,h){if(p.completion.kind!==h.completion.kind){if(p.completion.kind===27)return 1;if(h.completion.kind===27)return-1}return b._compareCompletionItems(p,h)}static _compareCompletionItemsSnippetsUp(p,h){if(p.completion.kind!==h.completion.kind){if(p.completion.kind===27)return-1;if(h.completion.kind===27)return 1}return b._compareCompletionItems(p,h)}}e.CompletionModel=b}),define(ee[247],te([0,1,7,110,4,2]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class b{constructor(){this._onDidWillResize=new T.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new T.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new I.DisposableStore,this._size=new y.Dimension(0,0),this._minSize=new y.Dimension(0,0),this._maxSize=new y.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new N.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new N.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new N.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:N.OrthogonalEdge.North}),this._southSash=new N.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:N.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let p,h=0,g=0;this._sashListener.add(T.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{p===void 0&&(this._onDidWillResize.fire(),p=this._size,h=0,g=0)})),this._sashListener.add(T.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{p!==void 0&&(p=void 0,h=0,g=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(i=>{p&&(g=i.currentX-i.startX,this.layout(p.height+h,p.width+g),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(i=>{p&&(g=-(i.currentX-i.startX),this.layout(p.height+h,p.width+g),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(i=>{p&&(h=-(i.currentY-i.startY),this.layout(p.height+h,p.width+g),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(i=>{p&&(h=i.currentY-i.startY,this.layout(p.height+h,p.width+g),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(T.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(i=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(T.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(i=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(p,h,g,i){this._northSash.state=p?3:0,this._eastSash.state=h?3:0,this._southSash.state=g?3:0,this._westSash.state=i?3:0}layout(p=this.size.height,h=this.size.width){const{height:g,width:i}=this._minSize,{height:t,width:r}=this._maxSize;p=Math.max(g,Math.min(t,p)),h=Math.max(i,Math.min(r,h));const c=new y.Dimension(h,p);y.Dimension.equals(c,this._size)||(this.domNode.style.height=p+"px",this.domNode.style.width=h+"px",this._size=c,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(p){this._maxSize=p}get maxSize(){return this._maxSize}set minSize(p){this._minSize=p}get minSize(){return this._minSize}set preferredSize(p){this._preferredSize=p}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=b}),define(ee[439],te([0,1,19,2,97]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class I{constructor(C,p,h){this._disposables=new N.DisposableStore,this._disposables.add(p.onDidShow(()=>this._onItem(p.getFocusedItem()))),this._disposables.add(p.onDidFocus(this._onItem,this)),this._disposables.add(p.onDidHide(this.reset,this)),this._disposables.add(C.onWillType(g=>{if(this._active&&!p.isFrozen()){const i=g.charCodeAt(g.length-1);this._active.acceptCharacters.has(i)&&C.getOption(0)&&h(this._active.item)}}))}_onItem(C){if(!C||!(0,y.isNonEmptyArray)(C.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===C.item)return;const p=new T.CharacterSet;for(const h of C.item.completion.commitCharacters)h.length>0&&p.add(h.charCodeAt(0));this._active={acceptCharacters:p,item:C}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=I}),define(ee[440],te([0,1,2]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class N{constructor(I,b){this._disposables=new y.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(I.onWillType(()=>{if(!this._empty||!I.hasModel())return;const C=I.getSelections(),p=C.length;let h=!1;for(let i=0;i<p;i++)if(!C[i].isEmpty()){h=!0;break}if(!h)return;this._lastOvertyped=[];const g=I.getModel();for(let i=0;i<p;i++){const t=C[i];if(g.getValueLengthInRange(t)>N._maxSelectionLength)return;this._lastOvertyped[i]={value:g.getValueInRange(t),multiline:t.startLineNumber!==t.endLineNumber}}this._empty=!1})),this._disposables.add(b.onDidCancel(C=>{!this._empty&&!C.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(I){if(!this._empty&&I>=0&&I<this._lastOvertyped.length)return this._lastOvertyped[I]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=N,N._maxSelectionLength=51200}),define(ee[441],te([0,1,19,3,246]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class I{static create(C,p){return Ae(this,void 0,void 0,function*(){if(!p.getOption(105).localityBonus||!p.hasModel())return I.None;const h=p.getModel(),g=p.getPosition();if(!C.canComputeWordRanges(h.uri))return I.None;const[i]=yield new T.BracketSelectionRangeProvider().provideSelectionRanges(h,[g]);if(i.length===0)return I.None;const t=yield C.computeWordRanges(h.uri,i[0].range);if(!t)return I.None;const r=h.getWordUntilPosition(g);return delete t[r.word],new class extends I{distance(c,l){if(!g.equals(p.getPosition()))return 0;if(l.kind===17)return 2<<20;let a=typeof l.label=="string"?l.label:l.label.label,s=t[a];if((0,y.isFalsyOrEmpty)(s))return 2<<20;let o=(0,y.binarySearch)(s,N.Range.fromPositions(c),N.Range.compareRangesUsingStarts),n=o>=0?s[o]:s[Math.max(0,~o-1)],d=i.length;for(const u of i){if(!N.Range.containsRange(u.range,n))break;d-=1}return d}}})}}e.WordDistance=I,I.None=new class extends I{distance(){return 0}}}),define(ee[248],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function y(c){return Array.isArray(c)}e.isFuzzyActionArr=y;function N(c){return!y(c)}e.isFuzzyAction=N;function T(c){return typeof c=="string"}e.isString=T;function I(c){return!T(c)}e.isIAction=I;function b(c){return!c}e.empty=b;function C(c,l){return c.ignoreCase&&l?l.toLowerCase():l}e.fixCase=C;function p(c){return c.replace(/[&<>'"_]/g,"-")}e.sanitize=p;function h(c,l){console.log(`${c.languageId}: ${l}`)}e.log=h;function g(c,l){return new Error(`${c.languageId}: ${l}`)}e.createError=g;function i(c,l,a,s,o){const n=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let d=null;return l.replace(n,function(u,f,S,v,m,_,L,w,k){return b(S)?b(v)?!b(m)&&m<s.length?C(c,s[m]):!b(L)&&c&&typeof c[L]=="string"?c[L]:(d===null&&(d=o.split("."),d.unshift(o)),!b(_)&&_<d.length?C(c,d[_]):""):C(c,a):"$"})}e.substituteMatches=i;function t(c,l){let a=l;for(;a&&a.length>0;){const s=c.tokenizer[a];if(s)return s;const o=a.lastIndexOf(".");o<0?a=null:a=a.substr(0,o)}return null}e.findRules=t;function r(c,l){let a=l;for(;a&&a.length>0;){if(c.stateNames[a])return!0;const o=a.lastIndexOf(".");o<0?a=null:a=a.substr(0,o)}return!1}e.stateExists=r}),define(ee[442],te([0,1,248]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function N(c,l){if(!l||!Array.isArray(l))return!1;for(const a of l)if(!c(a))return!1;return!0}function T(c,l){return typeof c=="boolean"?c:l}function I(c,l){return typeof c=="string"?c:l}function b(c){const l={};for(const a of c)l[a]=!0;return l}function C(c,l=!1){l&&(c=c.map(function(s){return s.toLowerCase()}));const a=b(c);return l?function(s){return a[s.toLowerCase()]!==void 0&&a.hasOwnProperty(s.toLowerCase())}:function(s){return a[s]!==void 0&&a.hasOwnProperty(s)}}function p(c,l){l=l.replace(/@@/g,"");let a=0,s;do s=!1,l=l.replace(/@(\w+)/g,function(n,d){s=!0;let u="";if(typeof c[d]=="string")u=c[d];else if(c[d]&&c[d]instanceof RegExp)u=c[d].source;else throw c[d]===void 0?y.createError(c,"language definition does not contain attribute '"+d+"', used at: "+l):y.createError(c,"attribute reference '"+d+"' must be a string, used at: "+l);return y.empty(u)?"":"(?:"+u+")"}),a++;while(s&&a<5);l=l.replace(/\x01/g,"@");let o=(c.ignoreCase?"i":"")+(c.unicode?"u":"");return new RegExp(l,o)}function h(c,l,a,s){if(s<0)return c;if(s<l.length)return l[s];if(s>=100){s=s-100;let o=a.split(".");if(o.unshift(a),s<o.length)return o[s]}return null}function g(c,l,a,s){let o=-1,n=a,d=a.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);d&&(d[3]&&(o=parseInt(d[3]),d[2]&&(o=o+100)),n=d[4]);let u="~",f=n;!n||n.length===0?(u="!=",f=""):/^\w*$/.test(f)?u="==":(d=n.match(/^(@|!@|~|!~|==|!=)(.*)$/),d&&(u=d[1],f=d[2]));let S;if((u==="~"||u==="!~")&&/^(\w|\|)*$/.test(f)){let v=C(f.split("|"),c.ignoreCase);S=function(m){return u==="~"?v(m):!v(m)}}else if(u==="@"||u==="!@"){let v=c[f];if(!v)throw y.createError(c,"the @ match target '"+f+"' is not defined, in rule: "+l);if(!N(function(_){return typeof _=="string"},v))throw y.createError(c,"the @ match target '"+f+"' must be an array of strings, in rule: "+l);let m=C(v,c.ignoreCase);S=function(_){return u==="@"?m(_):!m(_)}}else if(u==="~"||u==="!~")if(f.indexOf("$")<0){let v=p(c,"^"+f+"$");S=function(m){return u==="~"?v.test(m):!v.test(m)}}else S=function(v,m,_,L){return p(c,"^"+y.substituteMatches(c,f,m,_,L)+"$").test(v)};else if(f.indexOf("$")<0){let v=y.fixCase(c,f);S=function(m){return u==="=="?m===v:m!==v}}else{let v=y.fixCase(c,f);S=function(m,_,L,w,k){let D=y.substituteMatches(c,v,_,L,w);return u==="=="?m===D:m!==D}}return o===-1?{name:a,value:s,test:function(v,m,_,L){return S(v,v,m,_,L)}}:{name:a,value:s,test:function(v,m,_,L){let w=h(v,m,_,o);return S(w||"",v,m,_,L)}}}function i(c,l,a){if(a){if(typeof a=="string")return a;if(a.token||a.token===""){if(typeof a.token!="string")throw y.createError(c,"a 'token' attribute must be of type string, in rule: "+l);{let s={token:a.token};if(a.token.indexOf("$")>=0&&(s.tokenSubst=!0),typeof a.bracket=="string")if(a.bracket==="@open")s.bracket=1;else if(a.bracket==="@close")s.bracket=-1;else throw y.createError(c,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+l);if(a.next){if(typeof a.next!="string")throw y.createError(c,"the next state must be a string value in rule: "+l);{let o=a.next;if(!/^(@pop|@push|@popall)$/.test(o)&&(o[0]==="@"&&(o=o.substr(1)),o.indexOf("$")<0&&!y.stateExists(c,y.substituteMatches(c,o,"",[],""))))throw y.createError(c,"the next state '"+a.next+"' is not defined in rule: "+l);s.next=o}}return typeof a.goBack=="number"&&(s.goBack=a.goBack),typeof a.switchTo=="string"&&(s.switchTo=a.switchTo),typeof a.log=="string"&&(s.log=a.log),typeof a.nextEmbedded=="string"&&(s.nextEmbedded=a.nextEmbedded,c.usesEmbedded=!0),s}}else if(Array.isArray(a)){let s=[];for(let o=0,n=a.length;o<n;o++)s[o]=i(c,l,a[o]);return{group:s}}else if(a.cases){let s=[];for(let n in a.cases)if(a.cases.hasOwnProperty(n)){const d=i(c,l,a.cases[n]);n==="@default"||n==="@"||n===""?s.push({test:void 0,value:d,name:n}):n==="@eos"?s.push({test:function(u,f,S,v){return v},value:d,name:n}):s.push(g(c,l,n,d))}const o=c.defaultToken;return{test:function(n,d,u,f){for(const S of s)if(!S.test||S.test(n,d,u,f))return S.value;return o}}}else throw y.createError(c,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+l)}else return{token:""}}class t{constructor(l){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=l}setRegex(l,a){let s;if(typeof a=="string")s=a;else if(a instanceof RegExp)s=a.source;else throw y.createError(l,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=s.length>0&&s[0]==="^",this.name=this.name+": "+s,this.regex=p(l,"^(?:"+(this.matchOnlyAtLineStart?s.substr(1):s)+")")}setAction(l,a){this.action=i(l,this.name,a)}}function r(c,l){if(!l||typeof l!="object")throw new Error("Monarch: expecting a language definition object");let a={};a.languageId=c,a.includeLF=T(l.includeLF,!1),a.noThrow=!1,a.maxStack=100,a.start=typeof l.start=="string"?l.start:null,a.ignoreCase=T(l.ignoreCase,!1),a.unicode=T(l.unicode,!1),a.tokenPostfix=I(l.tokenPostfix,"."+a.languageId),a.defaultToken=I(l.defaultToken,"source"),a.usesEmbedded=!1;let s=l;s.languageId=c,s.includeLF=a.includeLF,s.ignoreCase=a.ignoreCase,s.unicode=a.unicode,s.noThrow=a.noThrow,s.usesEmbedded=a.usesEmbedded,s.stateNames=l.tokenizer,s.defaultToken=a.defaultToken;function o(d,u,f){for(const S of f){let v=S.include;if(v){if(typeof v!="string")throw y.createError(a,"an 'include' attribute must be a string at: "+d);if(v[0]==="@"&&(v=v.substr(1)),!l.tokenizer[v])throw y.createError(a,"include target '"+v+"' is not defined at: "+d);o(d+"."+v,u,l.tokenizer[v])}else{const m=new t(d);if(Array.isArray(S)&&S.length>=1&&S.length<=3)if(m.setRegex(s,S[0]),S.length>=3)if(typeof S[1]=="string")m.setAction(s,{token:S[1],next:S[2]});else if(typeof S[1]=="object"){const _=S[1];_.next=S[2],m.setAction(s,_)}else throw y.createError(a,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+d);else m.setAction(s,S[1]);else{if(!S.regex)throw y.createError(a,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+d);S.name&&typeof S.name=="string"&&(m.name=S.name),S.matchOnlyAtStart&&(m.matchOnlyAtLineStart=T(S.matchOnlyAtLineStart,!1)),m.setRegex(s,S.regex),m.setAction(s,S.action)}u.push(m)}}}if(!l.tokenizer||typeof l.tokenizer!="object")throw y.createError(a,"a language definition must define the 'tokenizer' attribute as an object");a.tokenizer=[];for(let d in l.tokenizer)if(l.tokenizer.hasOwnProperty(d)){a.start||(a.start=d);const u=l.tokenizer[d];a.tokenizer[d]=new Array,o("tokenizer."+d,a.tokenizer[d],u)}if(a.usesEmbedded=s.usesEmbedded,l.brackets){if(!Array.isArray(l.brackets))throw y.createError(a,"the 'brackets' attribute must be defined as an array")}else l.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let n=[];for(let d of l.brackets){let u=d;if(u&&Array.isArray(u)&&u.length===3&&(u={token:u[2],open:u[0],close:u[1]}),u.open===u.close)throw y.createError(a,"open and close brackets in a 'brackets' attribute must be different: "+u.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof u.open=="string"&&typeof u.token=="string"&&typeof u.close=="string")n.push({token:u.token+a.tokenPostfix,open:y.fixCase(a,u.open),close:y.fixCase(a,u.close)});else throw y.createError(a,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return a.brackets=n,a.noThrow=!0,a}e.compile=r}),define(ee[443],te([5,6]),function(q,e){return q.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(ee[444],te([5,6]),function(q,e){return q.create("vs/base/browser/ui/findinput/findInput",e)}),define(ee[445],te([5,6]),function(q,e){return q.create("vs/base/browser/ui/findinput/findInputCheckboxes",e)}),define(ee[249],te([0,1,172,27,445]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexCheckbox=e.WholeWordsCheckbox=e.CaseSensitiveCheckbox=void 0;const I=T.localize(0,null),b=T.localize(1,null),C=T.localize(2,null);class p extends y.Checkbox{constructor(t){super({icon:N.Codicon.caseSensitive,title:I+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}e.CaseSensitiveCheckbox=p;class h extends y.Checkbox{constructor(t){super({icon:N.Codicon.wholeWord,title:b+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}e.WholeWordsCheckbox=h;class g extends y.Checkbox{constructor(t){super({icon:N.Codicon.regex,title:C+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}e.RegexCheckbox=g}),define(ee[446],te([5,6]),function(q,e){return q.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(ee[447],te([5,6]),function(q,e){return q.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(ee[448],te([0,1,7,10,23,70,2,20,447]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function h(t,r){(0,C.isString)(r)?t.title=r:(r==null?void 0:r.markdownNotSupportedFallback)?t.title=r.markdownNotSupportedFallback:t.removeAttribute("title")}e.setupNativeHover=h;class g{constructor(r,c,l){this.hoverDelegate=r,this.target=c,this.fadeInAnimation=l}update(r,c){var l;return Ae(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let a;if(r===void 0||(0,C.isString)(r)||r instanceof HTMLElement)a=r;else if(!(0,C.isFunction)(r.markdown))a=(l=r.markdown)!==null&&l!==void 0?l:r.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,p.localize)(0,null),c),this._cancellationTokenSource=new T.CancellationTokenSource;const s=this._cancellationTokenSource.token;if(a=yield r.markdown(s),this.isDisposed||s.isCancellationRequested)return}this.show(a,c)})}show(r,c){const l=this._hoverWidget;if(this.hasContent(r)){const a={content:r,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!l};this._hoverWidget=this.hoverDelegate.showHover(a,c)}l==null||l.dispose()}hasContent(r){return r?(0,I.isMarkdownString)(r)?!!r.value:!0:!1}get isDisposed(){var r;return(r=this._hoverWidget)===null||r===void 0?void 0:r.isDisposed}dispose(){var r,c;(r=this._hoverWidget)===null||r===void 0||r.dispose(),(c=this._cancellationTokenSource)===null||c===void 0||c.dispose(!0),this._cancellationTokenSource=void 0}}function i(t,r,c){let l,a;const s=(f,S)=>{var v;f&&(a==null||a.dispose(),a=void 0),S&&(l==null||l.dispose(),l=void 0),(v=t.onDidHideHover)===null||v===void 0||v.call(t)},o=(f,S,v)=>new N.TimeoutTimer(()=>Ae(this,void 0,void 0,function*(){(!a||a.isDisposed)&&(a=new g(t,v||r,f>0),yield a.update(c,S))}),f),n=()=>{if(l)return;const f=new b.DisposableStore,S=_=>s(!1,_.fromElement===r);f.add(y.addDisposableListener(r,y.EventType.MOUSE_LEAVE,S,!0));const v=()=>s(!0,!0);f.add(y.addDisposableListener(r,y.EventType.MOUSE_DOWN,v,!0));const m={targetElements:[r],dispose:()=>{}};if(t.placement===void 0||t.placement==="mouse"){const _=L=>m.x=L.x+10;f.add(y.addDisposableListener(r,y.EventType.MOUSE_MOVE,_,!0))}f.add(o(t.delay,!1,m)),l=f},d=y.addDisposableListener(r,y.EventType.MOUSE_OVER,n,!0);return{show:f=>{s(!1,!0),o(0,f)},hide:()=>{s(!0,!0)},update:f=>Ae(this,void 0,void 0,function*(){c=f,yield a==null?void 0:a.update(c)}),dispose:()=>{d.dispose(),s(!0,!0)}}}e.setupCustomHover=i}),define(ee[185],te([0,1,7,210,448,2,37,133,328]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class p{constructor(c){this._element=c}get element(){return this._element}set textContent(c){this.disposed||c===this._textContent||(this._textContent=c,this._element.textContent=c)}set className(c){this.disposed||c===this._className||(this._className=c,this._element.className=c)}set empty(c){this.disposed||c===this._empty||(this._empty=c,this._element.style.marginLeft=c?"0":"")}dispose(){this.disposed=!0}}class h extends I.Disposable{constructor(c,l){super();this.customHovers=new Map,this.domNode=this._register(new p(y.append(c,y.$(".monaco-icon-label")))),this.labelContainer=y.append(this.domNode.element,y.$(".monaco-icon-label-container"));const a=y.append(this.labelContainer,y.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new p(y.append(this.labelContainer,y.$("span.monaco-icon-description-container")))),(l==null?void 0:l.supportHighlights)||(l==null?void 0:l.supportIcons)?this.nameNode=new t(a,!!l.supportIcons):this.nameNode=new g(a),(l==null?void 0:l.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new N.HighlightedLabel(y.append(this.descriptionContainer.element,y.$("span.label-description")),{supportIcons:!!l.supportIcons}):this.descriptionNodeFactory=()=>this._register(new p(y.append(this.descriptionContainer.element,y.$("span.label-description")))),this.hoverDelegate=l==null?void 0:l.hoverDelegate}get element(){return this.domNode.element}setLabel(c,l,a){const s=["monaco-icon-label"];a&&(a.extraClasses&&s.push(...a.extraClasses),a.italic&&s.push("italic"),a.strikethrough&&s.push("strikethrough")),this.domNode.className=s.join(" "),this.setupHover((a==null?void 0:a.descriptionTitle)?this.labelContainer:this.element,a==null?void 0:a.title),this.nameNode.setLabel(c,a),(l||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof N.HighlightedLabel?(this.descriptionNode.set(l||"",a?a.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,a==null?void 0:a.descriptionTitle)):(this.descriptionNode.textContent=l||"",this.setupHover(this.descriptionNode.element,(a==null?void 0:a.descriptionTitle)||""),this.descriptionNode.empty=!l))}setupHover(c,l){const a=this.customHovers.get(c);if(a&&(a.dispose(),this.customHovers.delete(c)),!l){c.removeAttribute("title");return}if(!this.hoverDelegate)(0,T.setupNativeHover)(c,l);else{const s=(0,T.setupCustomHover)(this.hoverDelegate,c,l);s&&this.customHovers.set(c,s)}}dispose(){super.dispose();for(const c of this.customHovers.values())c.dispose();this.customHovers.clear()}}e.IconLabel=h;class g{constructor(c){this.container=c,this.label=void 0,this.singleLabel=void 0}setLabel(c,l){if(!(this.label===c&&(0,b.equals)(this.options,l)))if(this.label=c,this.options=l,typeof c=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=y.append(this.container,y.$("a.label-name",{id:l==null?void 0:l.domId}))),this.singleLabel.textContent=c;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let a=0;a<c.length;a++){const s=c[a],o=(l==null?void 0:l.domId)&&`${l==null?void 0:l.domId}_${a}`;y.append(this.container,y.$("a.label-name",{id:o,"data-icon-label-count":c.length,"data-icon-label-index":a,role:"treeitem"},s)),a<c.length-1&&y.append(this.container,y.$("span.label-separator",void 0,(l==null?void 0:l.separator)||"/"))}}}}function i(r,c,l){if(!l)return;let a=0;return r.map(s=>{const o={start:a,end:a+s.length},n=l.map(d=>C.Range.intersect(o,d)).filter(d=>!C.Range.isEmpty(d)).map(({start:d,end:u})=>({start:d-a,end:u-a}));return a=o.end+c.length,n})}class t{constructor(c,l){this.container=c,this.supportIcons=l,this.label=void 0,this.singleLabel=void 0}setLabel(c,l){if(!(this.label===c&&(0,b.equals)(this.options,l)))if(this.label=c,this.options=l,typeof c=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new N.HighlightedLabel(y.append(this.container,y.$("a.label-name",{id:l==null?void 0:l.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(c,l==null?void 0:l.matches,void 0,l==null?void 0:l.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const a=(l==null?void 0:l.separator)||"/",s=i(c,a,l==null?void 0:l.matches);for(let o=0;o<c.length;o++){const n=c[o],d=s?s[o]:void 0,u=(l==null?void 0:l.domId)&&`${l==null?void 0:l.domId}_${o}`,f=y.$("a.label-name",{id:u,"data-icon-label-count":c.length,"data-icon-label-index":o,role:"treeitem"});new N.HighlightedLabel(y.append(this.container,f),{supportIcons:this.supportIcons}).set(n,d,void 0,l==null?void 0:l.labelEscapeNewLines),o<c.length-1&&y.append(f,y.$("span.label-separator",void 0,a))}}}}}),define(ee[449],te([5,6]),function(q,e){return q.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(ee[450],te([5,6]),function(q,e){return q.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(ee[451],te([5,6]),function(q,e){return q.create("vs/base/browser/ui/menu/menu",e)}),define(ee[452],te([5,6]),function(q,e){return q.create("vs/base/browser/ui/tree/abstractTree",e)}),define(ee[186],te([0,1,171,7,86,46,173,111,166,103,19,10,27,207,4,69,2,105,17,452,340]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class d extends b.ElementsDragAndDropData{constructor(E){super(E.elements.map(B=>B.element));this.data=E}}function u(P){return P instanceof b.ElementsDragAndDropData?new d(P):P}class f{constructor(E,B){this.modelProvider=E,this.dnd=B,this.autoExpandDisposable=a.Disposable.None}getDragURI(E){return this.dnd.getDragURI(E.element)}getDragLabel(E,B){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(E.map(V=>V.element),B)}onDragStart(E,B){this.dnd.onDragStart&&this.dnd.onDragStart(u(E),B)}onDragOver(E,B,V,j,K=!0){const Y=this.dnd.onDragOver(u(E),B&&B.element,V,j),J=this.autoExpandNode!==B;if(J&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=B),typeof B=="undefined")return Y;if(J&&typeof Y!="boolean"&&Y.autoExpand&&(this.autoExpandDisposable=(0,i.disposableTimeout)(()=>{const W=this.modelProvider(),z=W.getNodeLocation(B);W.isCollapsed(z)&&W.setCollapsed(z,!1),this.autoExpandNode=void 0},500)),typeof Y=="boolean"||!Y.accept||typeof Y.bubble=="undefined"||Y.feedback){if(!K){const W=typeof Y=="boolean"?Y:Y.accept,z=typeof Y=="boolean"?void 0:Y.effect;return{accept:W,effect:z,feedback:[V]}}return Y}if(Y.bubble===1){const W=this.modelProvider(),z=W.getNodeLocation(B),U=W.getParentNodeLocation(z),x=W.getNode(U),X=U&&W.getListIndex(U);return this.onDragOver(E,x,X,j,!1)}const Z=this.modelProvider(),ie=Z.getNodeLocation(B),ne=Z.getListIndex(ie),G=Z.getListRenderCount(ie);return Object.assign(Object.assign({},Y),{feedback:(0,g.range)(ne,ne+G)})}drop(E,B,V,j){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(u(E),B&&B.element,V,j)}onDragEnd(E){this.dnd.onDragEnd&&this.dnd.onDragEnd(E)}}function S(P,E){return E&&Object.assign(Object.assign({},E),{identityProvider:E.identityProvider&&{getId(B){return E.identityProvider.getId(B.element)}},dnd:E.dnd&&new f(P,E.dnd),multipleSelectionController:E.multipleSelectionController&&{isSelectionSingleChangeEvent(B){return E.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},B),{element:B.element}))},isSelectionRangeChangeEvent(B){return E.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},B),{element:B.element}))}},accessibilityProvider:E.accessibilityProvider&&Object.assign(Object.assign({},E.accessibilityProvider),{getSetSize(B){const V=P(),j=V.getNodeLocation(B),K=V.getParentNodeLocation(j);return V.getNode(K).visibleChildrenCount},getPosInSet(B){return B.visibleChildIndex+1},isChecked:E.accessibilityProvider&&E.accessibilityProvider.isChecked?B=>E.accessibilityProvider.isChecked(B.element):void 0,getRole:E.accessibilityProvider&&E.accessibilityProvider.getRole?B=>E.accessibilityProvider.getRole(B.element):()=>"treeitem",getAriaLabel(B){return E.accessibilityProvider.getAriaLabel(B.element)},getWidgetAriaLabel(){return E.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:E.accessibilityProvider&&E.accessibilityProvider.getWidgetRole?()=>E.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:E.accessibilityProvider&&E.accessibilityProvider.getAriaLevel?B=>E.accessibilityProvider.getAriaLevel(B.element):B=>B.depth,getActiveDescendantId:E.accessibilityProvider.getActiveDescendantId&&(B=>E.accessibilityProvider.getActiveDescendantId(B.element))}),keyboardNavigationLabelProvider:E.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},E.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(B){return E.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(B.element)}}),enableKeyboardNavigation:E.simpleKeyboardNavigation})}class v{constructor(E){this.delegate=E}getHeight(E){return this.delegate.getHeight(E.element)}getTemplateId(E){return this.delegate.getTemplateId(E.element)}hasDynamicHeight(E){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(E.element)}setDynamicHeight(E,B){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(E.element,B)}}e.ComposedTreeDelegate=v;var m;(function(P){P.None="none",P.OnHover="onHover",P.Always="always"})(m=e.RenderIndentGuides||(e.RenderIndentGuides={}));class _{constructor(E,B=[]){this._elements=B,this.onDidChange=c.Event.forEach(E,V=>this._elements=V)}get elements(){return this._elements}}class L{constructor(E,B,V,j,K={}){this.renderer=E,this.modelProvider=B,this.activeNodes=j,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=L.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new r.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=a.Disposable.None,this.disposables=new a.DisposableStore,this.templateId=E.templateId,this.updateOptions(K),c.Event.map(V,Y=>Y.node)(this.onDidChangeNodeTwistieState,this,this.disposables),E.onDidChangeTwistieState&&E.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(E={}){if(typeof E.indent!="undefined"&&(this.indent=(0,s.clamp)(E.indent,0,40)),typeof E.renderIndentGuides!="undefined"){const B=E.renderIndentGuides!==m.None;if(B!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=B,this.indentGuidesDisposable.dispose(),B)){const V=new a.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,V),this.indentGuidesDisposable=V,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof E.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=E.hideTwistiesOfChildlessElements)}renderTemplate(E){const B=(0,N.append)(E,(0,N.$)(".monaco-tl-row")),V=(0,N.append)(B,(0,N.$)(".monaco-tl-indent")),j=(0,N.append)(B,(0,N.$)(".monaco-tl-twistie")),K=(0,N.append)(B,(0,N.$)(".monaco-tl-contents")),Y=this.renderer.renderTemplate(K);return{container:E,indent:V,twistie:j,indentGuidesDisposable:a.Disposable.None,templateData:Y}}renderElement(E,B,V,j){typeof j=="number"&&(this.renderedNodes.set(E,{templateData:V,height:j}),this.renderedElements.set(E.element,E));const K=L.DefaultIndent+(E.depth-1)*this.indent;V.twistie.style.paddingLeft=`${K}px`,V.indent.style.width=`${K+this.indent-16}px`,this.renderTwistie(E,V),typeof j=="number"&&this.renderIndentGuides(E,V),this.renderer.renderElement(E,B,V.templateData,j)}disposeElement(E,B,V,j){V.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(E,B,V.templateData,j),typeof j=="number"&&(this.renderedNodes.delete(E),this.renderedElements.delete(E.element))}disposeTemplate(E){this.renderer.disposeTemplate(E.templateData)}onDidChangeTwistieState(E){const B=this.renderedElements.get(E);!B||this.onDidChangeNodeTwistieState(B)}onDidChangeNodeTwistieState(E){const B=this.renderedNodes.get(E);!B||(this.renderTwistie(E,B.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(E,B.templateData))}renderTwistie(E,B){B.twistie.classList.remove(...t.Codicon.treeItemExpanded.classNamesArray);let V=!1;this.renderer.renderTwistie&&(V=this.renderer.renderTwistie(E.element,B.twistie)),E.collapsible&&(!this.hideTwistiesOfChildlessElements||E.visibleChildrenCount>0)?(V||B.twistie.classList.add(...t.Codicon.treeItemExpanded.classNamesArray),B.twistie.classList.add("collapsible"),B.twistie.classList.toggle("collapsed",E.collapsed)):B.twistie.classList.remove("collapsible","collapsed"),E.collapsible?B.container.setAttribute("aria-expanded",String(!E.collapsed)):B.container.removeAttribute("aria-expanded")}renderIndentGuides(E,B){if((0,N.clearNode)(B.indent),B.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const V=new a.DisposableStore,j=this.modelProvider();let K=E;for(;;){const Y=j.getNodeLocation(K),J=j.getParentNodeLocation(Y);if(!J)break;const Z=j.getNode(J),ie=(0,N.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(Z)&&ie.classList.add("active"),B.indent.childElementCount===0?B.indent.appendChild(ie):B.indent.insertBefore(ie,B.indent.firstElementChild),this.renderedIndentGuides.add(Z,ie),V.add((0,a.toDisposable)(()=>this.renderedIndentGuides.delete(Z,ie))),K=Z}B.indentGuidesDisposable=V}_onDidChangeActiveNodes(E){if(!this.shouldRenderIndentGuides)return;const B=new Set,V=this.modelProvider();E.forEach(j=>{const K=V.getNodeLocation(j);try{const Y=V.getParentNodeLocation(K);j.collapsible&&j.children.length>0&&!j.collapsed?B.add(j):Y&&B.add(V.getNode(Y))}catch(Y){}}),this.activeIndentNodes.forEach(j=>{B.has(j)||this.renderedIndentGuides.forEach(j,K=>K.classList.remove("active"))}),B.forEach(j=>{this.activeIndentNodes.has(j)||this.renderedIndentGuides.forEach(j,K=>K.classList.add("active"))}),this.activeIndentNodes=B}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,a.dispose)(this.disposables)}}L.DefaultIndent=8;class w{constructor(E,B,V){this.tree=E,this.keyboardNavigationLabelProvider=B,this._filter=V,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new a.DisposableStore,E.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(E){this._pattern=E,this._lowercasePattern=E.toLowerCase()}filter(E,B){if(this._filter){const K=this._filter.filter(E,B);if(this.tree.options.simpleKeyboardNavigation)return K;let Y;if(typeof K=="boolean"?Y=K?1:0:(0,p.isFilterResult)(K)?Y=(0,p.getVisibleState)(K.visibility):Y=K,Y===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:l.FuzzyScore.Default,visibility:!0};const V=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(E),j=Array.isArray(V)?V:[V];for(const K of j){const Y=K&&K.toString();if(typeof Y=="undefined")return{data:l.FuzzyScore.Default,visibility:!0};const J=(0,l.fuzzyScore)(this._pattern,this._lowercasePattern,0,Y,Y.toLowerCase(),0,!0);if(J)return this._matchCount++,j.length===1?{data:J,visibility:!0}:{data:{label:Y,score:J},visibility:!0}}return this.tree.options.filterOnType?2:{data:l.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,a.dispose)(this.disposables)}}class k{constructor(E,B,V,j,K){this.tree=E,this.view=V,this.filter=j,this.keyboardNavigationDelegate=K,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new c.Emitter,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new c.Emitter,this.enabledDisposables=new a.DisposableStore,this.disposables=new a.DisposableStore,this.domNode=(0,N.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,N.addDisposableListener)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,N.append)(V.getHTMLElement(),(0,N.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,N.append)(this.domNode,(0,N.$)("span.label"));const Y=(0,N.append)(this.domNode,(0,N.$)(".controls"));this._filterOnType=!!E.options.filterOnType,this.filterOnTypeDomNode=(0,N.append)(Y,(0,N.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,N.addDisposableListener)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,N.append)(Y,(0,N.$)("button.clear"+t.Codicon.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,n.localize)(0,null),this.keyboardNavigationEventFilter=E.options.keyboardNavigationEventFilter,B.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(E.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(E){E.simpleKeyboardNavigation?this.disable():this.enable(),typeof E.filterOnType!="undefined"&&(this._filterOnType=!!E.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof E.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=E.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const E=this.enabledDisposables.add(new T.DomEmitter(this.view.getHTMLElement(),"keydown")),B=c.Event.chain(E.event).filter(j=>!(0,C.isInputElement)(j.target)||j.target===this.filterOnTypeDomNode).filter(j=>j.key!=="Dead"&&!/^Media/.test(j.key)).map(j=>new I.StandardKeyboardEvent(j)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(j=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(j)&&!(j.keyCode===18||j.keyCode===16||j.keyCode===15||j.keyCode===17)||(this.pattern.length>0||this.triggered)&&(j.keyCode===9||j.keyCode===1)&&!j.altKey&&!j.ctrlKey&&!j.metaKey||j.keyCode===1&&(o.isMacintosh?j.altKey&&!j.metaKey:j.ctrlKey)&&!j.shiftKey).forEach(j=>{j.stopPropagation(),j.preventDefault()}).event,V=this.enabledDisposables.add(new T.DomEmitter(this.clearDomNode,"click"));c.Event.chain(c.Event.any(B,V.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(E){typeof E=="string"?this.onInput(E):E instanceof MouseEvent||E.keyCode===9||E.keyCode===1&&(o.isMacintosh?E.altKey:E.ctrlKey)?this.onInput(""):E.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+E.browserEvent.key)}onInput(E){const B=this.view.getHTMLElement();E&&!this.domNode.parentElement?B.append(this.domNode):!E&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=E,this._onDidChangePattern.fire(E),this.filter.pattern=E,this.tree.refilter(),E&&this.tree.focusNext(0,!0,void 0,j=>!l.FuzzyScore.isDefault(j.filterData));const V=this.tree.getFocus();if(V.length>0){const j=V[0];this.tree.getRelativeTop(j)===null&&this.tree.reveal(j,.5)}this.render(),E||(this.triggered=!1)}onDragStart(){const E=this.view.getHTMLElement(),{left:B}=(0,N.getDomNodePagePosition)(E),V=E.clientWidth,j=V/2,K=this.domNode.clientWidth,Y=new a.DisposableStore;let J=this.positionClassName;const Z=()=>{switch(J){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${V-K-6}px`;break}},ie=G=>{G.preventDefault();const W=G.clientX-B;G.dataTransfer&&(G.dataTransfer.dropEffect="none"),W<j?J="nw":J="ne",Z()},ne=()=>{this.positionClassName=J,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,a.dispose)(Y)};Z(),this.domNode.classList.remove(J),this.domNode.classList.add("dragging"),Y.add((0,a.toDisposable)(()=>this.domNode.classList.remove("dragging"))),Y.add((0,N.addDisposableListener)(document,"dragover",G=>ie(G))),Y.add((0,N.addDisposableListener)(this.domNode,"dragend",()=>ne())),y.StaticDND.CurrentDragAndDropData=new y.DragAndDropData("vscode-ui"),Y.add((0,a.toDisposable)(()=>y.StaticDND.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...t.Codicon.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...t.Codicon.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=(0,n.localize)(1,null)):(this.filterOnTypeDomNode.classList.remove(...t.Codicon.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...t.Codicon.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=(0,n.localize)(2,null))}render(){const E=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&E?(this.messageDomNode.textContent=(0,n.localize)(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",E),this.domNode.title=(0,n.localize)(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(E){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!l.FuzzyScore.isDefault(E.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,a.dispose)(this.disposables)}}function D(P){let E=h.TreeMouseEventTarget.Unknown;return(0,N.hasParentWithClass)(P.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?E=h.TreeMouseEventTarget.Twistie:(0,N.hasParentWithClass)(P.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(E=h.TreeMouseEventTarget.Element),{browserEvent:P.browserEvent,element:P.element?P.element.element:null,target:E}}function M(P,E){E(P),P.children.forEach(B=>M(B,E))}class O{constructor(E,B){this.getFirstViewElementWithTrait=E,this.identityProvider=B,this.nodes=[],this._onDidChange=new c.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(E,B){var V;!((V=B)===null||V===void 0?void 0:V.__forceEvent)&&(0,g.equals)(this.nodes,E)||this._set(E,!1,B)}_set(E,B,V){if(this.nodes=[...E],this.elements=void 0,this._nodeSet=void 0,!B){const j=this;this._onDidChange.fire({get elements(){return j.get()},browserEvent:V})}}get(){return this.elements||(this.elements=this.nodes.map(E=>E.element)),[...this.elements]}getNodes(){return this.nodes}has(E){return this.nodeSet.has(E)}onDidModelSplice({insertedNodes:E,deletedNodes:B}){if(!this.identityProvider){const Z=this.createNodeSet(),ie=ne=>Z.delete(ne);B.forEach(ne=>M(ne,ie)),this.set([...Z.values()]);return}const V=new Set,j=Z=>V.add(this.identityProvider.getId(Z.element).toString());B.forEach(Z=>M(Z,j));const K=new Map,Y=Z=>K.set(this.identityProvider.getId(Z.element).toString(),Z);E.forEach(Z=>M(Z,Y));const J=[];for(const Z of this.nodes){const ie=this.identityProvider.getId(Z.element).toString();if(!V.has(ie))J.push(Z);else{const G=K.get(ie);G&&J.push(G)}}if(this.nodes.length>0&&J.length===0){const Z=this.getFirstViewElementWithTrait();Z&&J.push(Z)}this._set(J,!0)}createNodeSet(){const E=new Set;for(const B of this.nodes)E.add(B);return E}}class F extends C.MouseController{constructor(E,B){super(E);this.tree=B}onViewPointer(E){if((0,C.isInputElement)(E.browserEvent.target)||(0,C.isMonacoEditor)(E.browserEvent.target))return;const B=E.element;if(!B)return super.onViewPointer(E);if(this.isSelectionRangeChangeEvent(E)||this.isSelectionSingleChangeEvent(E))return super.onViewPointer(E);const V=E.browserEvent.target,j=V.classList.contains("monaco-tl-twistie")||V.classList.contains("monaco-icon-label")&&V.classList.contains("folder-icon")&&E.browserEvent.offsetX<16;let K=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?K=this.tree.expandOnlyOnTwistieClick(B.element):K=!!this.tree.expandOnlyOnTwistieClick,K&&!j&&E.browserEvent.detail!==2)return super.onViewPointer(E);if(!this.tree.expandOnDoubleClick&&E.browserEvent.detail===2)return super.onViewPointer(E);if(B.collapsible){const Y=this.tree.model,J=Y.getNodeLocation(B),Z=E.browserEvent.altKey;if(this.tree.setFocus([J]),Y.setCollapsed(J,void 0,Z),K&&j)return}super.onViewPointer(E)}onDoubleClick(E){E.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(E)}}class R extends C.List{constructor(E,B,V,j,K,Y,J,Z){super(E,B,V,j,Z);this.focusTrait=K,this.selectionTrait=Y,this.anchorTrait=J}createMouseController(E){return new F(this,E.tree)}splice(E,B,V=[]){if(super.splice(E,B,V),V.length===0)return;const j=[],K=[];let Y;V.forEach((J,Z)=>{this.focusTrait.has(J)&&j.push(E+Z),this.selectionTrait.has(J)&&K.push(E+Z),this.anchorTrait.has(J)&&(Y=E+Z)}),j.length>0&&super.setFocus((0,g.distinct)([...super.getFocus(),...j])),K.length>0&&super.setSelection((0,g.distinct)([...super.getSelection(),...K])),typeof Y=="number"&&super.setAnchor(Y)}setFocus(E,B,V=!1){super.setFocus(E,B),V||this.focusTrait.set(E.map(j=>this.element(j)),B)}setSelection(E,B,V=!1){super.setSelection(E,B),V||this.selectionTrait.set(E.map(j=>this.element(j)),B)}setAnchor(E,B=!1){super.setAnchor(E),B||(typeof E=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(E)]))}}class A{constructor(E,B,V,j,K={}){this._options=K,this.eventBufferer=new c.EventBufferer,this.disposables=new a.DisposableStore,this._onWillRefilter=new c.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new c.Emitter;const Y=new v(V),J=new c.Relay,Z=new c.Relay,ie=new _(Z.event);this.renderers=j.map(W=>new L(W,()=>this.model,J.event,ie,K));for(let W of this.renderers)this.disposables.add(W);let ne;K.keyboardNavigationLabelProvider&&(ne=new w(this,K.keyboardNavigationLabelProvider,K.filter),K=Object.assign(Object.assign({},K),{filter:ne}),this.disposables.add(ne)),this.focus=new O(()=>this.view.getFocusedElements()[0],K.identityProvider),this.selection=new O(()=>this.view.getSelectedElements()[0],K.identityProvider),this.anchor=new O(()=>this.view.getAnchorElement(),K.identityProvider),this.view=new R(E,B,Y,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},S(()=>this.model,K)),{tree:this})),this.model=this.createModel(E,this.view,K),J.input=this.model.onDidChangeCollapseState;const G=c.Event.forEach(this.model.onDidSplice,W=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(W),this.selection.onDidModelSplice(W)})});if(G(()=>null,null,this.disposables),Z.input=c.Event.chain(c.Event.any(G,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const W=new Set;for(const z of this.focus.getNodes())W.add(z);for(const z of this.selection.getNodes())W.add(z);return[...W.values()]}).event,K.keyboardSupport!==!1){const W=c.Event.chain(this.view.onKeyDown).filter(z=>!(0,C.isInputElement)(z.target)).map(z=>new I.StandardKeyboardEvent(z));W.filter(z=>z.keyCode===15).on(this.onLeftArrow,this,this.disposables),W.filter(z=>z.keyCode===17).on(this.onRightArrow,this,this.disposables),W.filter(z=>z.keyCode===10).on(this.onSpace,this,this.disposables)}if(K.keyboardNavigationLabelProvider){const W=K.keyboardNavigationDelegate||C.DefaultKeyboardNavigationDelegate;this.typeFilterController=new k(this,this.model,this.view,ne,W),this.focusNavigationFilter=z=>this.typeFilterController.shouldAllowFocus(z),this.disposables.add(this.typeFilterController)}this.styleElement=(0,N.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===m.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return c.Event.map(this.view.onMouseDblClick,D)}get onPointer(){return c.Event.map(this.view.onPointer,D)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return c.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(E={}){this._options=Object.assign(Object.assign({},this._options),E);for(const B of this.renderers)B.updateOptions(E);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===m.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(E){this.view.scrollTop=E}domFocus(){this.view.domFocus()}layout(E,B){this.view.layout(E,B)}style(E){const B=`.${this.view.domId}`,V=[];E.treeIndentGuidesStroke&&(V.push(`.monaco-list${B}:hover .monaco-tl-indent > .indent-guide, .monaco-list${B}.always .monaco-tl-indent > .indent-guide  { border-color: ${E.treeIndentGuidesStroke.transparent(.4)}; }`),V.push(`.monaco-list${B} .monaco-tl-indent > .indent-guide.active { border-color: ${E.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=V.join(`
`),this.view.style(E)}getParentElement(E){const B=this.model.getParentNodeLocation(E);return this.model.getNode(B).element}getFirstElementChild(E){return this.model.getFirstElementChild(E)}getNode(E){return this.model.getNode(E)}collapse(E,B=!1){return this.model.setCollapsed(E,!0,B)}expand(E,B=!1){return this.model.setCollapsed(E,!1,B)}isCollapsible(E){return this.model.isCollapsible(E)}setCollapsible(E,B){return this.model.setCollapsible(E,B)}isCollapsed(E){return this.model.isCollapsed(E)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(E,B){const V=E.map(K=>this.model.getNode(K));this.selection.set(V,B);const j=E.map(K=>this.model.getListIndex(K)).filter(K=>K>-1);this.view.setSelection(j,B,!0)}getSelection(){return this.selection.get()}setFocus(E,B){const V=E.map(K=>this.model.getNode(K));this.focus.set(V,B);const j=E.map(K=>this.model.getListIndex(K)).filter(K=>K>-1);this.view.setFocus(j,B,!0)}focusNext(E=1,B=!1,V,j=this.focusNavigationFilter){this.view.focusNext(E,B,V,j)}getFocus(){return this.focus.get()}reveal(E,B){this.model.expandTo(E);const V=this.model.getListIndex(E);V!==-1&&this.view.reveal(V,B)}getRelativeTop(E){const B=this.model.getListIndex(E);return B===-1?null:this.view.getRelativeTop(B)}onLeftArrow(E){E.preventDefault(),E.stopPropagation();const B=this.view.getFocusedElements();if(B.length===0)return;const V=B[0],j=this.model.getNodeLocation(V);if(!this.model.setCollapsed(j,!0)){const Y=this.model.getParentNodeLocation(j);if(!Y)return;const J=this.model.getListIndex(Y);this.view.reveal(J),this.view.setFocus([J])}}onRightArrow(E){E.preventDefault(),E.stopPropagation();const B=this.view.getFocusedElements();if(B.length===0)return;const V=B[0],j=this.model.getNodeLocation(V);if(!this.model.setCollapsed(j,!1)){if(!V.children.some(Z=>Z.visible))return;const[Y]=this.view.getFocus(),J=Y+1;this.view.reveal(J),this.view.setFocus([J])}}onSpace(E){E.preventDefault(),E.stopPropagation();const B=this.view.getFocusedElements();if(B.length===0)return;const V=B[0],j=this.model.getNodeLocation(V),K=E.browserEvent.altKey;this.model.setCollapsed(j,void 0,K)}dispose(){(0,a.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=A}),define(ee[453],te([0,1,186,167]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class T extends y.AbstractTree{constructor(b,C,p,h,g,i={}){super(b,C,p,h,i);this.user=b,this.dataSource=g,this.identityProvider=i.identityProvider}createModel(b,C,p){return new N.ObjectTreeModel(b,C,p)}}e.DataTree=T}),define(ee[250],te([0,1,186,309,167,94,55]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class C extends y.AbstractTree{constructor(t,r,c,l,a={}){super(t,r,c,l,a)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(t,r=b.Iterable.empty(),c){this.model.setChildren(t,r,c)}rerender(t){if(t===void 0){this.view.rerender();return}this.model.rerender(t)}hasElement(t){return this.model.has(t)}createModel(t,r,c){return new T.ObjectTreeModel(t,r,c)}}e.ObjectTree=C;class p{constructor(t,r){this._compressedTreeNodeProvider=t,this.renderer=r,this.templateId=r.templateId,r.onDidChangeTwistieState&&(this.onDidChangeTwistieState=r.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(t){const r=this.renderer.renderTemplate(t);return{compressedTreeNode:void 0,data:r}}renderElement(t,r,c,l){const a=this.compressedTreeNodeProvider.getCompressedTreeNode(t.element);a.element.elements.length===1?(c.compressedTreeNode=void 0,this.renderer.renderElement(t,r,c.data,l)):(c.compressedTreeNode=a,this.renderer.renderCompressedElements(a,r,c.data,l))}disposeElement(t,r,c,l){c.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(c.compressedTreeNode,r,c.data,l):this.renderer.disposeElement&&this.renderer.disposeElement(t,r,c.data,l)}disposeTemplate(t){this.renderer.disposeTemplate(t.data)}renderTwistie(t,r){return this.renderer.renderTwistie?this.renderer.renderTwistie(t,r):!1}}Be([I.memoize],p.prototype,"compressedTreeNodeProvider",null);function h(i,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(r){let c;try{c=i().getCompressedTreeNode(r)}catch(l){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(r)}return c.element.elements.length===1?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(r):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(c.element.elements)}}})}class g extends C{constructor(t,r,c,l,a={}){const s=()=>this,o=l.map(n=>new p(s,n));super(t,r,c,o,h(s,a))}setChildren(t,r=b.Iterable.empty(),c){this.model.setChildren(t,r,c)}createModel(t,r,c){return new N.CompressibleObjectTreeModel(t,r,c)}updateOptions(t={}){super.updateOptions(t),typeof t.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(t.compressionEnabled)}getCompressedTreeNode(t=null){return this.model.getCompressedTreeNode(t)}}e.CompressibleObjectTree=g}),define(ee[454],te([0,1,173,186,166,250,103,10,27,13,4,55,2]),function(q,e,y,N,T,I,b,C,p,h,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function r(M){return Object.assign(Object.assign({},M),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function c(M,O){return O.parent?O.parent===M?!0:c(M,O.parent):!1}function l(M,O){return M===O||c(M,O)||c(O,M)}class a{constructor(O){this.node=O}get element(){return this.node.element.element}get children(){return this.node.children.map(O=>new a(O))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class s{constructor(O,F,R){this.renderer=O,this.nodeMapper=F,this.onDidChangeTwistieState=R,this.renderedNodes=new Map,this.templateId=O.templateId}renderTemplate(O){return{templateData:this.renderer.renderTemplate(O)}}renderElement(O,F,R,A){this.renderer.renderElement(this.nodeMapper.map(O),F,R.templateData,A)}renderTwistie(O,F){return O.slow?(F.classList.add(...p.Codicon.treeItemLoading.classNamesArray),!0):(F.classList.remove(...p.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(O,F,R,A){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(O),F,R.templateData,A)}disposeTemplate(O){this.renderer.disposeTemplate(O.templateData)}dispose(){this.renderedNodes.clear()}}function o(M){return{browserEvent:M.browserEvent,elements:M.elements.map(O=>O.element)}}function n(M){return{browserEvent:M.browserEvent,element:M.element&&M.element.element,target:M.target}}class d extends y.ElementsDragAndDropData{constructor(O){super(O.elements.map(F=>F.element));this.data=O}}function u(M){return M instanceof y.ElementsDragAndDropData?new d(M):M}class f{constructor(O){this.dnd=O}getDragURI(O){return this.dnd.getDragURI(O.element)}getDragLabel(O,F){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(O.map(R=>R.element),F)}onDragStart(O,F){this.dnd.onDragStart&&this.dnd.onDragStart(u(O),F)}onDragOver(O,F,R,A,P=!0){return this.dnd.onDragOver(u(O),F&&F.element,R,A)}drop(O,F,R,A){this.dnd.drop(u(O),F&&F.element,R,A)}onDragEnd(O){this.dnd.onDragEnd&&this.dnd.onDragEnd(O)}}function S(M){return M&&Object.assign(Object.assign({},M),{collapseByDefault:!0,identityProvider:M.identityProvider&&{getId(O){return M.identityProvider.getId(O.element)}},dnd:M.dnd&&new f(M.dnd),multipleSelectionController:M.multipleSelectionController&&{isSelectionSingleChangeEvent(O){return M.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},O),{element:O.element}))},isSelectionRangeChangeEvent(O){return M.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},O),{element:O.element}))}},accessibilityProvider:M.accessibilityProvider&&Object.assign(Object.assign({},M.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:M.accessibilityProvider.getRole?O=>M.accessibilityProvider.getRole(O.element):()=>"treeitem",isChecked:M.accessibilityProvider.isChecked?O=>{var F;return!!((F=M.accessibilityProvider)===null||F===void 0?void 0:F.isChecked(O.element))}:void 0,getAriaLabel(O){return M.accessibilityProvider.getAriaLabel(O.element)},getWidgetAriaLabel(){return M.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:M.accessibilityProvider.getWidgetRole?()=>M.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:M.accessibilityProvider.getAriaLevel&&(O=>M.accessibilityProvider.getAriaLevel(O.element)),getActiveDescendantId:M.accessibilityProvider.getActiveDescendantId&&(O=>M.accessibilityProvider.getActiveDescendantId(O.element))}),filter:M.filter&&{filter(O,F){return M.filter.filter(O.element,F)}},keyboardNavigationLabelProvider:M.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},M.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(O){return M.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(O.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof M.expandOnlyOnTwistieClick=="undefined"?void 0:typeof M.expandOnlyOnTwistieClick!="function"?M.expandOnlyOnTwistieClick:O=>M.expandOnlyOnTwistieClick(O.element),additionalScrollHeight:M.additionalScrollHeight})}function v(M,O){O(M),M.children.forEach(F=>v(F,O))}class m{constructor(O,F,R,A,P,E={}){this.user=O,this.dataSource=P,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new g.Emitter,this._onDidChangeNodeSlowState=new g.Emitter,this.nodeMapper=new b.WeakMapper(B=>new a(B)),this.disposables=new t.DisposableStore,this.identityProvider=E.identityProvider,this.autoExpandSingleChildren=typeof E.autoExpandSingleChildren=="undefined"?!1:E.autoExpandSingleChildren,this.sorter=E.sorter,this.collapseByDefault=E.collapseByDefault,this.tree=this.createTree(O,F,R,A,E),this.root=r({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return g.Event.map(this.tree.onDidChangeFocus,o)}get onDidChangeSelection(){return g.Event.map(this.tree.onDidChangeSelection,o)}get onMouseDblClick(){return g.Event.map(this.tree.onMouseDblClick,n)}get onPointer(){return g.Event.map(this.tree.onPointer,n)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(O,F,R,A,P){const E=new N.ComposedTreeDelegate(R),B=A.map(j=>new s(j,this.nodeMapper,this._onDidChangeNodeSlowState.event)),V=S(P)||{};return new I.ObjectTree(O,F,E,B,V)}updateOptions(O={}){this.tree.updateOptions(O)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(O){this.tree.scrollTop=O}domFocus(){this.tree.domFocus()}layout(O,F){this.tree.layout(O,F)}style(O){this.tree.style(O)}getInput(){return this.root.element}setInput(O,F){return Ae(this,void 0,void 0,function*(){this.refreshPromises.forEach(A=>A.cancel()),this.refreshPromises.clear(),this.root.element=O;const R=F&&{viewState:F,focus:[],selection:[]};yield this._updateChildren(O,!0,!1,R),R&&(this.tree.setFocus(R.focus),this.tree.setSelection(R.selection)),F&&typeof F.scrollTop=="number"&&(this.scrollTop=F.scrollTop)})}_updateChildren(O=this.root.element,F=!0,R=!1,A,P){return Ae(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new b.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event));const E=this.getDataNode(O);if(yield this.refreshAndRenderNode(E,F,A,P),R)try{this.tree.rerender(E)}catch(B){}})}rerender(O){if(O===void 0||O===this.root.element){this.tree.rerender();return}const F=this.getDataNode(O);this.tree.rerender(F)}getNode(O=this.root.element){const F=this.getDataNode(O),R=this.tree.getNode(F===this.root?null:F);return this.nodeMapper.map(R)}collapse(O,F=!1){const R=this.getDataNode(O);return this.tree.collapse(R===this.root?null:R,F)}expand(O,F=!1){return Ae(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new b.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event));const R=this.getDataNode(O);if(this.tree.hasElement(R)&&!this.tree.isCollapsible(R)||(R.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event)),R!==this.root&&!R.refreshPromise&&!this.tree.isCollapsed(R)))return!1;const A=this.tree.expand(R===this.root?null:R,F);return R.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event)),A})}setSelection(O,F){const R=O.map(A=>this.getDataNode(A));this.tree.setSelection(R,F)}getSelection(){return this.tree.getSelection().map(F=>F.element)}setFocus(O,F){const R=O.map(A=>this.getDataNode(A));this.tree.setFocus(R,F)}getFocus(){return this.tree.getFocus().map(F=>F.element)}reveal(O,F){this.tree.reveal(this.getDataNode(O),F)}getParentElement(O){const F=this.tree.getParentElement(this.getDataNode(O));return F&&F.element}getFirstElementChild(O=this.root.element){const F=this.getDataNode(O),R=this.tree.getFirstElementChild(F===this.root?null:F);return R&&R.element}getDataNode(O){const F=this.nodes.get(O===this.root.element?null:O);if(!F)throw new b.TreeError(this.user,`Data tree node not found: ${O}`);return F}refreshAndRenderNode(O,F,R,A){return Ae(this,void 0,void 0,function*(){yield this.refreshNode(O,F,R),this.render(O,R,A)})}refreshNode(O,F,R){return Ae(this,void 0,void 0,function*(){let A;return this.subTreeRefreshPromises.forEach((P,E)=>{!A&&l(E,O)&&(A=P.then(()=>this.refreshNode(O,F,R)))}),A||this.doRefreshSubTree(O,F,R)})}doRefreshSubTree(O,F,R){return Ae(this,void 0,void 0,function*(){let A;O.refreshPromise=new Promise(P=>A=P),this.subTreeRefreshPromises.set(O,O.refreshPromise),O.refreshPromise.finally(()=>{O.refreshPromise=void 0,this.subTreeRefreshPromises.delete(O)});try{const P=yield this.doRefreshNode(O,F,R);O.stale=!1,yield C.Promises.settled(P.map(E=>this.doRefreshSubTree(E,F,R)))}finally{A()}})}doRefreshNode(O,F,R){return Ae(this,void 0,void 0,function*(){O.hasChildren=!!this.dataSource.hasChildren(O.element);let A;if(!O.hasChildren)A=Promise.resolve(i.Iterable.empty());else{const P=(0,C.timeout)(800);P.then(()=>{O.slow=!0,this._onDidChangeNodeSlowState.fire(O)},E=>null),A=this.doGetChildren(O).finally(()=>P.cancel())}try{const P=yield A;return this.setChildren(O,P,F,R)}catch(P){if(O!==this.root&&this.tree.hasElement(O)&&this.tree.collapse(O),(0,h.isPromiseCanceledError)(P))return[];throw P}finally{O.slow&&(O.slow=!1,this._onDidChangeNodeSlowState.fire(O))}})}doGetChildren(O){let F=this.refreshPromises.get(O);return F||(F=(0,C.createCancelablePromise)(()=>Ae(this,void 0,void 0,function*(){const R=yield this.dataSource.getChildren(O.element);return this.processChildren(R)})),this.refreshPromises.set(O,F),F.finally(()=>{this.refreshPromises.delete(O)}))}_onDidChangeCollapseState({node:O,deep:F}){O.element!==null&&!O.collapsed&&O.element.stale&&(F?this.collapse(O.element.element):this.refreshAndRenderNode(O.element,!1).catch(h.onUnexpectedError))}setChildren(O,F,R,A){const P=[...F];if(O.children.length===0&&P.length===0)return[];const E=new Map,B=new Map;for(const K of O.children)if(E.set(K.element,K),this.identityProvider){const Y=this.tree.isCollapsed(K);B.set(K.id,{node:K,collapsed:Y})}const V=[],j=P.map(K=>{const Y=!!this.dataSource.hasChildren(K);if(!this.identityProvider){const ne=r({element:K,parent:O,hasChildren:Y});return Y&&this.collapseByDefault&&!this.collapseByDefault(K)&&(ne.collapsedByDefault=!1,V.push(ne)),ne}const J=this.identityProvider.getId(K).toString(),Z=B.get(J);if(Z){const ne=Z.node;return E.delete(ne.element),this.nodes.delete(ne.element),this.nodes.set(K,ne),ne.element=K,ne.hasChildren=Y,R?Z.collapsed?(ne.children.forEach(G=>v(G,W=>this.nodes.delete(W.element))),ne.children.splice(0,ne.children.length),ne.stale=!0):V.push(ne):Y&&this.collapseByDefault&&!this.collapseByDefault(K)&&(ne.collapsedByDefault=!1,V.push(ne)),ne}const ie=r({element:K,parent:O,id:J,hasChildren:Y});return A&&A.viewState.focus&&A.viewState.focus.indexOf(J)>-1&&A.focus.push(ie),A&&A.viewState.selection&&A.viewState.selection.indexOf(J)>-1&&A.selection.push(ie),A&&A.viewState.expanded&&A.viewState.expanded.indexOf(J)>-1?V.push(ie):Y&&this.collapseByDefault&&!this.collapseByDefault(K)&&(ie.collapsedByDefault=!1,V.push(ie)),ie});for(const K of E.values())v(K,Y=>this.nodes.delete(Y.element));for(const K of j)this.nodes.set(K.element,K);return O.children.splice(0,O.children.length,...j),O!==this.root&&this.autoExpandSingleChildren&&j.length===1&&V.length===0&&(j[0].collapsedByDefault=!1,V.push(j[0])),V}render(O,F,R){const A=O.children.map(E=>this.asTreeElement(E,F)),P=R&&Object.assign(Object.assign({},R),{diffIdentityProvider:R.diffIdentityProvider&&{getId(E){return R.diffIdentityProvider.getId(E.element)}}});this.tree.setChildren(O===this.root?null:O,A,P),O!==this.root&&this.tree.setCollapsible(O,O.hasChildren),this._onDidRender.fire()}asTreeElement(O,F){if(O.stale)return{element:O,collapsible:O.hasChildren,collapsed:!0};let R;return F&&F.viewState.expanded&&O.id&&F.viewState.expanded.indexOf(O.id)>-1?R=!1:R=O.collapsedByDefault,O.collapsedByDefault=void 0,{element:O,children:O.hasChildren?i.Iterable.map(O.children,A=>this.asTreeElement(A,F)):[],collapsible:O.hasChildren,collapsed:R}}processChildren(O){return this.sorter&&(O=[...O].sort(this.sorter.compare.bind(this.sorter))),O}dispose(){this.disposables.dispose()}}e.AsyncDataTree=m;class _{constructor(O){this.node=O}get element(){return{elements:this.node.element.elements.map(O=>O.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(O=>new _(O))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class L{constructor(O,F,R,A){this.renderer=O,this.nodeMapper=F,this.compressibleNodeMapperProvider=R,this.onDidChangeTwistieState=A,this.renderedNodes=new Map,this.disposables=[],this.templateId=O.templateId}renderTemplate(O){return{templateData:this.renderer.renderTemplate(O)}}renderElement(O,F,R,A){this.renderer.renderElement(this.nodeMapper.map(O),F,R.templateData,A)}renderCompressedElements(O,F,R,A){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(O),F,R.templateData,A)}renderTwistie(O,F){return O.slow?(F.classList.add(...p.Codicon.treeItemLoading.classNamesArray),!0):(F.classList.remove(...p.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(O,F,R,A){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(O),F,R.templateData,A)}disposeCompressedElements(O,F,R,A){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(O),F,R.templateData,A)}disposeTemplate(O){this.renderer.disposeTemplate(O.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,t.dispose)(this.disposables)}}function w(M){const O=M&&S(M);return O&&Object.assign(Object.assign({},O),{keyboardNavigationLabelProvider:O.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},O.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(F){return M.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(F.map(R=>R.element))}})})}class k extends m{constructor(O,F,R,A,P,E,B={}){super(O,F,R,P,E,B);this.compressionDelegate=A,this.compressibleNodeMapper=new b.WeakMapper(V=>new _(V)),this.filter=B.filter}createTree(O,F,R,A,P){const E=new N.ComposedTreeDelegate(R),B=A.map(j=>new L(j,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),V=w(P)||{};return new I.CompressibleObjectTree(O,F,E,B,V)}asTreeElement(O,F){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(O.element)},super.asTreeElement(O,F))}updateOptions(O={}){this.tree.updateOptions(O)}render(O,F){if(!this.identityProvider)return super.render(O,F);const R=J=>this.identityProvider.getId(J).toString(),A=J=>{const Z=new Set;for(const ie of J){const ne=this.tree.getCompressedTreeNode(ie===this.root?null:ie);if(!!ne.element)for(const G of ne.element.elements)Z.add(R(G.element))}return Z},P=A(this.tree.getSelection()),E=A(this.tree.getFocus());super.render(O,F);const B=this.getSelection();let V=!1;const j=this.getFocus();let K=!1;const Y=J=>{const Z=J.element;if(Z)for(let ie=0;ie<Z.elements.length;ie++){const ne=R(Z.elements[ie].element),G=Z.elements[Z.elements.length-1].element;P.has(ne)&&B.indexOf(G)===-1&&(B.push(G),V=!0),E.has(ne)&&j.indexOf(G)===-1&&(j.push(G),K=!0)}J.children.forEach(Y)};Y(this.tree.getCompressedTreeNode(O===this.root?null:O)),V&&this.setSelection(B),K&&this.setFocus(j)}processChildren(O){return this.filter&&(O=i.Iterable.filter(O,F=>{const R=this.filter.filter(F,1),A=D(R);if(A===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return A===1})),super.processChildren(O)}}e.CompressibleAsyncDataTree=k;function D(M){return typeof M=="boolean"?M?1:0:(0,T.isFilterResult)(M)?(0,T.getVisibleState)(M.visibility):(0,T.getVisibleState)(M)}}),define(ee[455],te([5,6]),function(q,e){return q.create("vs/base/common/actions",e)}),define(ee[51],te([0,1,4,2,455]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class I extends N.Disposable{constructor(i,t="",r="",c=!0,l){super();this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=i,this._label=t,this._cssClass=r,this._enabled=c,this._actionCallback=l}get id(){return this._id}get label(){return this._label}set label(i){this._setLabel(i)}_setLabel(i){this._label!==i&&(this._label=i,this._onDidChange.fire({label:i}))}get tooltip(){return this._tooltip||""}set tooltip(i){this._setTooltip(i)}_setTooltip(i){this._tooltip!==i&&(this._tooltip=i,this._onDidChange.fire({tooltip:i}))}get class(){return this._cssClass}set class(i){this._setClass(i)}_setClass(i){this._cssClass!==i&&(this._cssClass=i,this._onDidChange.fire({class:i}))}get enabled(){return this._enabled}set enabled(i){this._setEnabled(i)}_setEnabled(i){this._enabled!==i&&(this._enabled=i,this._onDidChange.fire({enabled:i}))}get checked(){return this._checked}set checked(i){this._setChecked(i)}_setChecked(i){this._checked!==i&&(this._checked=i,this._onDidChange.fire({checked:i}))}run(i,t){return Ae(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(i))})}}e.Action=I;class b extends N.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new y.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new y.Emitter),this.onDidRun=this._onDidRun.event}run(i,t){return Ae(this,void 0,void 0,function*(){if(!i.enabled)return;this._onBeforeRun.fire({action:i});let r;try{yield this.runAction(i,t)}catch(c){r=c}this._onDidRun.fire({action:i,error:r})})}runAction(i,t){return Ae(this,void 0,void 0,function*(){yield i.run(t)})}}e.ActionRunner=b;class C extends I{constructor(i){super(C.ID,i,i?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=C,C.ID="vs.actions.separator";class p{constructor(i,t,r,c){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=i,this.label=t,this.class=c,this._actions=r}get actions(){return this._actions}dispose(){}run(){return Ae(this,void 0,void 0,function*(){})}}e.SubmenuAction=p;class h extends I{constructor(){super(h.ID,T.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=h,h.ID="vs.actions.empty"}),define(ee[120],te([0,1,34,171,7,58,51,2,17,20,443,214]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class i extends C.Disposable{constructor(c,l,a={}){super();this.options=a,this._context=c||this,this._action=l,l instanceof b.Action&&this._register(l.onDidChange(s=>{!this.element||this.handleActionChangeEvent(s)}))}handleActionChangeEvent(c){c.enabled!==void 0&&this.updateEnabled(),c.checked!==void 0&&this.updateChecked(),c.class!==void 0&&this.updateClass(),c.label!==void 0&&(this.updateLabel(),this.updateTooltip()),c.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new b.ActionRunner)),this._actionRunner}set actionRunner(c){this._actionRunner=c}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(c){this._context=c}render(c){const l=this.element=c;this._register(I.Gesture.addTarget(c));const a=this.options&&this.options.draggable;a&&(c.draggable=!0,y.isFirefox&&this._register((0,T.addDisposableListener)(c,T.EventType.DRAG_START,s=>{var o;return(o=s.dataTransfer)===null||o===void 0?void 0:o.setData(N.DataTransfers.TEXT,this._action.label)}))),this._register((0,T.addDisposableListener)(l,I.EventType.Tap,s=>this.onClick(s,!0))),this._register((0,T.addDisposableListener)(l,T.EventType.MOUSE_DOWN,s=>{a||T.EventHelper.stop(s,!0),this._action.enabled&&s.button===0&&l.classList.add("active")})),p.isMacintosh&&this._register((0,T.addDisposableListener)(l,T.EventType.CONTEXT_MENU,s=>{s.button===0&&s.ctrlKey===!0&&this.onClick(s)})),this._register((0,T.addDisposableListener)(l,T.EventType.CLICK,s=>{T.EventHelper.stop(s,!0),this.options&&this.options.isMenu||this.onClick(s)})),this._register((0,T.addDisposableListener)(l,T.EventType.DBLCLICK,s=>{T.EventHelper.stop(s,!0)})),[T.EventType.MOUSE_UP,T.EventType.MOUSE_OUT].forEach(s=>{this._register((0,T.addDisposableListener)(l,s,o=>{T.EventHelper.stop(o),l.classList.remove("active")}))})}onClick(c,l=!1){var a;T.EventHelper.stop(c,!0);const s=h.isUndefinedOrNull(this._context)?((a=this.options)===null||a===void 0?void 0:a.useEventAsContext)?c:{preserveFocus:l}:this._context;this.actionRunner.run(this._action,s)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(c){this.element&&(this.element.tabIndex=c?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=i;class t extends i{constructor(c,l,a={}){super(c,l,a);this.options=a,this.options.icon=a.icon!==void 0?a.icon:!1,this.options.label=a.label!==void 0?a.label:!0,this.cssClass=""}render(c){super.render(c),this.element&&(this.label=(0,T.append)(this.element,(0,T.$)("a.action-label"))),this.label&&(this._action.id===b.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,T.append)(this.element,(0,T.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(c){this.label&&(this.label.tabIndex=c?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let c=null;this.getAction().tooltip?c=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(c=this.getAction().label,this.options.keybinding&&(c=g.localize(0,null,c,this.options.keybinding))),c&&this.label&&(this.label.title=c)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=t}),define(ee[81],te([0,1,7,46,120,51,4,2,20,214]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class h extends C.Disposable{constructor(i,t={}){var r,c,l,a,s,o;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new b.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new b.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new b.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new b.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=t,this._context=(r=t.context)!==null&&r!==void 0?r:null,this._orientation=(c=this.options.orientation)!==null&&c!==void 0?c:0,this._triggerKeys={keyDown:(a=(l=this.options.triggerKeys)===null||l===void 0?void 0:l.keyDown)!==null&&a!==void 0?a:!1,keys:(o=(s=this.options.triggerKeys)===null||s===void 0?void 0:s.keys)!==null&&o!==void 0?o:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new I.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(u=>this._onDidRun.fire(u))),this._register(this._actionRunner.onBeforeRun(u=>this._onBeforeRun.fire(u))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",t.animated!==!1&&this.domNode.classList.add("animated");let n,d;switch(this._orientation){case 0:n=[15],d=[17];break;case 1:n=[16],d=[18],this.domNode.className+=" vertical";break}this._register(y.addDisposableListener(this.domNode,y.EventType.KEY_DOWN,u=>{const f=new N.StandardKeyboardEvent(u);let S=!0;const v=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;n&&(f.equals(n[0])||f.equals(n[1]))?S=this.focusPrevious():d&&(f.equals(d[0])||f.equals(d[1]))?S=this.focusNext():f.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():f.equals(14)?S=this.focusFirst():f.equals(13)?S=this.focusLast():f.equals(2)&&v instanceof T.BaseActionViewItem&&v.trapsArrowNavigation?S=this.focusNext():this.isTriggerKeyEvent(f)?this._triggerKeys.keyDown?this.doTrigger(f):this.triggerKeyDown=!0:S=!1,S&&(f.preventDefault(),f.stopPropagation())})),this._register(y.addDisposableListener(this.domNode,y.EventType.KEY_UP,u=>{const f=new N.StandardKeyboardEvent(u);this.isTriggerKeyEvent(f)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(f)),f.preventDefault(),f.stopPropagation()):(f.equals(2)||f.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(y.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(y.getActiveElement()===this.domNode||!y.isAncestor(y.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),i.appendChild(this.domNode)}setFocusable(i){if(this.focusable=i,this.focusable){const t=this.viewItems.find(r=>r instanceof T.BaseActionViewItem&&r.isEnabled());t instanceof T.BaseActionViewItem&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof T.BaseActionViewItem&&t.setFocusable(!1)})}isTriggerKeyEvent(i){let t=!1;return this._triggerKeys.keys.forEach(r=>{t=t||i.equals(r)}),t}updateFocusedItem(){for(let i=0;i<this.actionsList.children.length;i++){const t=this.actionsList.children[i];if(y.isAncestor(y.getActiveElement(),t)){this.focusedItem=i;break}}}get context(){return this._context}set context(i){this._context=i,this.viewItems.forEach(t=>t.setActionContext(i))}get actionRunner(){return this._actionRunner}set actionRunner(i){i&&(this._actionRunner=i,this.viewItems.forEach(t=>t.actionRunner=i))}getContainer(){return this.domNode}push(i,t={}){const r=Array.isArray(i)?i:[i];let c=p.isNumber(t.index)?t.index:null;r.forEach(l=>{const a=document.createElement("li");a.className="action-item",a.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(y.addDisposableListener(a,y.EventType.CONTEXT_MENU,o=>{y.EventHelper.stop(o,!0)}));let s;this.options.actionViewItemProvider&&(s=this.options.actionViewItemProvider(l)),s||(s=new T.ActionViewItem(this.context,l,t)),s.actionRunner=this._actionRunner,s.setActionContext(this.context),s.render(a),this.focusable&&s instanceof T.BaseActionViewItem&&this.viewItems.length===0&&s.setFocusable(!0),c===null||c<0||c>=this.actionsList.children.length?(this.actionsList.appendChild(a),this.viewItems.push(s),this._actionIds.push(l.id)):(this.actionsList.insertBefore(a,this.actionsList.children[c]),this.viewItems.splice(c,0,s),this._actionIds.splice(c,0,l.id),c++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){(0,C.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],y.clearNode(this.actionsList)}length(){return this.viewItems.length}focus(i){let t=!1,r;if(i===void 0?t=!0:typeof i=="number"?r=i:typeof i=="boolean"&&(t=i),t&&typeof this.focusedItem=="undefined"){const c=this.viewItems.findIndex(l=>l.isEnabled());this.focusedItem=c===-1?void 0:c,this.updateFocus(void 0,void 0,!0)}else r!==void 0&&(this.focusedItem=r),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(i){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let r;do{if(!i&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=t,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,r=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&this.options.focusOnlyEnabledItems&&!r.isEnabled());return this.updateFocus(),!0}focusPrevious(i){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let r;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!i&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}r=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&this.options.focusOnlyEnabledItems&&!r.isEnabled());return this.updateFocus(!0),!0}updateFocus(i,t,r=!1){var c;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((c=this.viewItems[this.previouslyFocusedItem])===null||c===void 0||c.blur());const l=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(l){let a=!0;p.isFunction(l.focus)||(a=!1),this.options.focusOnlyEnabledItems&&p.isFunction(l.isEnabled)&&!l.isEnabled()&&(a=!1),a?(r||this.previouslyFocusedItem!==this.focusedItem)&&(l.focus(i),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0)}}doTrigger(i){if(typeof this.focusedItem=="undefined")return;const t=this.viewItems[this.focusedItem];if(t instanceof T.BaseActionViewItem){const r=t._context===null||t._context===void 0?i:t._context;this.run(t._action,r)}}run(i,t){return Ae(this,void 0,void 0,function*(){yield this._actionRunner.run(i,t)})}dispose(){(0,C.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=h}),define(ee[456],te([0,1,7,46,58,51,4,217]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class C extends I.ActionRunner{constructor(g,i){super();this._onDidChangeVisibility=this._register(new b.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,y.append)(g,(0,y.$)(".monaco-dropdown")),this._label=(0,y.append)(this._element,(0,y.$)(".dropdown-label"));let t=i.labelRenderer;t||(t=c=>(c.textContent=i.label||"",null));for(const c of[y.EventType.CLICK,y.EventType.MOUSE_DOWN,T.EventType.Tap])this._register((0,y.addDisposableListener)(this.element,c,l=>y.EventHelper.stop(l,!0)));for(const c of[y.EventType.MOUSE_DOWN,T.EventType.Tap])this._register((0,y.addDisposableListener)(this._label,c,l=>{l instanceof MouseEvent&&l.detail>1||(this.visible?this.hide():this.show())}));this._register((0,y.addDisposableListener)(this._label,y.EventType.KEY_UP,c=>{const l=new N.StandardKeyboardEvent(c);(l.equals(3)||l.equals(10))&&(y.EventHelper.stop(c,!0),this.visible?this.hide():this.show())}));const r=t(this._label);r&&this._register(r),this._register(T.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=C;class p extends C{constructor(g,i){super(g,i);this._actions=[],this._contextMenuProvider=i.contextMenuProvider,this.actions=i.actions||[],this.actionProvider=i.actionProvider,this.menuClassName=i.menuClassName||"",this.menuAsChild=!!i.menuAsChild}set menuOptions(g){this._menuOptions=g}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(g){this._actions=g}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:g=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(g):void 0,getKeyBinding:g=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(g):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=p}),define(ee[457],te([0,1,7,120,456,4,217]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class b extends N.BaseActionViewItem{constructor(p,h,g,i=Object.create(null)){super(null,p,i);this.actionItem=null,this._onDidChangeVisibility=this._register(new I.Emitter),this.menuActionsOrProvider=h,this.contextMenuProvider=g,this.options=i,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(p){this.actionItem=p;const h=t=>{this.element=(0,y.append)(t,(0,y.$)("a.action-label"));let r=[];return typeof this.options.classNames=="string"?r=this.options.classNames.split(/\s+/g).filter(c=>!!c):this.options.classNames&&(r=this.options.classNames),r.find(c=>c==="icon")||r.push("codicon"),this.element.classList.add(...r),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},g=Array.isArray(this.menuActionsOrProvider),i={contextMenuProvider:this.contextMenuProvider,labelRenderer:h,menuAsChild:this.options.menuAsChild,actions:g?this.menuActionsOrProvider:void 0,actionProvider:g?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new T.DropdownMenu(p,i)),this._register(this.dropdownMenu.onDidChangeVisibility(t=>{var r;(r=this.element)===null||r===void 0||r.setAttribute("aria-expanded",`${t}`),this._onDidChangeVisibility.fire(t)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const t=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return t.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(p){super.setActionContext(p),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=p:this.dropdownMenu.menuOptions={context:p})}updateEnabled(){var p,h;const g=!this.getAction().enabled;(p=this.actionItem)===null||p===void 0||p.classList.toggle("disabled",g),(h=this.element)===null||h===void 0||h.classList.toggle("disabled",g)}}e.DropdownMenuActionViewItem=b}),define(ee[187],te([0,1,7,86,168,81,44,63,54,29,4,304,37,449,329]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const c=y.$,l={inputBackground:h.Color.fromHex("#3C3C3C"),inputForeground:h.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:h.Color.fromHex("#55AAFF"),inputValidationInfoBackground:h.Color.fromHex("#063B49"),inputValidationWarningBorder:h.Color.fromHex("#B89500"),inputValidationWarningBackground:h.Color.fromHex("#352A05"),inputValidationErrorBorder:h.Color.fromHex("#BE1100"),inputValidationErrorBackground:h.Color.fromHex("#5A1D1D")};class a extends p.Widget{constructor(n,d,u){var f;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new g.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new g.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=d,this.options=u||Object.create(null),(0,t.mixin)(this.options,l,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(f=this.options.tooltip)!==null&&f!==void 0?f:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=y.append(n,c(".monaco-inputbox.idle"));let S=this.options.flexibleHeight?"textarea":"input",v=y.append(this.element,c(".ibwrapper"));if(this.input=y.append(v,c(S+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=y.append(v,c("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new C.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),y.append(n,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(L=>this.input.scrollTop=L.scrollTop));const m=this._register(new N.DomEmitter(document,"selectionchange")),_=g.Event.filter(m.event,()=>{const L=document.getSelection();return(L==null?void 0:L.anchorNode)===v});this._register(_(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new I.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(n){this.placeholder=n,this.input.setAttribute("placeholder",n)}setTooltip(n){this.tooltip=n,this.input.title=n}setAriaLabel(n){this.ariaLabel=n,n?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(n){this.input.value!==n&&(this.input.value=n,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:y.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(n=null){this.input.select(),n&&(this.input.setSelectionRange(n.start,n.end),n.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return y.getTotalWidth(this.input)}set width(n){if(this.options.flexibleHeight&&this.options.flexibleWidth){let d=0;if(this.mirror){const u=parseFloat(this.mirror.style.paddingLeft||"")||0,f=parseFloat(this.mirror.style.paddingRight||"")||0;d=u+f}this.input.style.width=n-d+"px"}else this.input.style.width=n+"px";this.mirror&&(this.mirror.style.width=n+"px")}set paddingRight(n){this.input.style.width=`calc(100% - ${n}px)`,this.mirror&&(this.mirror.style.paddingRight=n+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const n=this.cachedContentHeight,d=this.cachedHeight,u=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:n,height:d}),this.scrollableElement.setScrollPosition({scrollTop:u})}showMessage(n,d){this.message=n,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(n.type));const u=this.stylesForType(this.message.type);this.element.style.border=u.border?`1px solid ${u.border}`:"",(this.hasFocus()||d)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let n=null;return this.validation&&(n=this.validation(this.value),n?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(n)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),n==null?void 0:n.type}stylesForType(n){switch(n){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(n){switch(n){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let n,d=()=>n.style.width=y.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:f=>{if(!this.message)return null;n=y.append(f,c(".monaco-inputbox-container")),d();const S={inline:!0,className:"monaco-inputbox-message"},v=this.message.formatContent?(0,T.renderFormattedText)(this.message.content,S):(0,T.renderText)(this.message.content,S);v.classList.add(this.classForType(this.message.type));const m=this.stylesForType(this.message.type);return v.style.backgroundColor=m.background?m.background.toString():"",v.style.color=m.foreground?m.foreground.toString():"",v.style.border=m.border?`1px solid ${m.border}`:"",y.append(n,v),null},onHide:()=>{this.state="closed"},layout:d});let u;this.message.type===3?u=r.localize(0,null,this.message.content):this.message.type===2?u=r.localize(1,null,this.message.content):u=r.localize(2,null,this.message.content),b.alert(u),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const n=this.value,u=n.charCodeAt(n.length-1)===10?" ":"";(n+u).replace(/\u000c/g,"")?this.mirror.textContent=n+u:this.mirror.innerText="\xA0",this.layout()}style(n){this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const n=this.inputBackground?this.inputBackground.toString():"",d=this.inputForeground?this.inputForeground.toString():"",u=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=n,this.element.style.color=d,this.input.style.backgroundColor="inherit",this.input.style.color=d,this.element.style.borderWidth=u?"1px":"",this.element.style.borderStyle=u?"solid":"",this.element.style.borderColor=u}layout(){if(!this.mirror)return;const n=this.cachedContentHeight;this.cachedContentHeight=y.getTotalHeight(this.mirror),n!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(n){const d=this.inputElement,u=d.selectionStart,f=d.selectionEnd,S=d.value;u!==null&&f!==null&&(this.value=S.substr(0,u)+n+S.substr(f),d.setSelectionRange(u+1,u+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=a;class s extends a{constructor(n,d,u){const f=r.localize(3,null),S=` or \u21C5 ${f}`,v=` (\u21C5 ${f})`;super(n,d,u);this.history=new i.HistoryNavigator(u.history,100);const m=()=>{if(u.showHistoryHint&&u.showHistoryHint()&&!this.placeholder.endsWith(S)&&!this.placeholder.endsWith(v)&&this.history.getHistory().length){const _=this.placeholder.endsWith(")")?S:v,L=this.placeholder+_;u.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=L:this.setPlaceHolder(L)}};this.observer=new MutationObserver((_,L)=>{_.forEach(w=>{w.target.textContent||m()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>m()),this.onblur(this.input,()=>{const _=L=>{if(this.placeholder.endsWith(L)){const w=this.placeholder.slice(0,this.placeholder.length-L.length);return u.showPlaceholderOnFocus?this.placeholder=w:this.setPlaceHolder(w),!0}else return!1};_(v)||_(S)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let n=this.getNextValue();n&&(n=n===this.value?this.getNextValue():n),n&&(this.value=n,b.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let n=this.getPreviousValue();n&&(n=n===this.value?this.getPreviousValue():n),n&&(this.value=n,b.status(this.value))}getCurrentValue(){let n=this.history.current();return n||(n=this.history.last(),this.history.next()),n}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=s}),define(ee[458],te([0,1,7,249,187,54,4,444,218]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const p=C.localize(0,null);class h extends I.Widget{constructor(i,t,r,c){super();this._showOptionButtons=r,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new b.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new b.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new b.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new b.Emitter),this._onKeyUp=this._register(new b.Emitter),this._onCaseSensitiveKeyDown=this._register(new b.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new b.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=c.placeholder||"",this.validation=c.validation,this.label=c.label||p,this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground;const l=c.appendCaseSensitiveLabel||"",a=c.appendWholeWordsLabel||"",s=c.appendRegexLabel||"",o=c.history||[],n=!!c.flexibleHeight,d=!!c.flexibleWidth,u=c.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new T.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:o,showHistoryHint:c.showHistoryHint,flexibleHeight:n,flexibleWidth:d,flexibleMaxHeight:u})),this.regex=this._register(new N.RegexCheckbox({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(v=>{this._onDidOptionChange.fire(v),!v&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(v=>{this._onRegexKeyDown.fire(v)})),this.wholeWords=this._register(new N.WholeWordsCheckbox({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(v=>{this._onDidOptionChange.fire(v),!v&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new N.CaseSensitiveCheckbox({appendTitle:l,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(v=>{this._onDidOptionChange.fire(v),!v&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(v=>{this._onCaseSensitiveKeyDown.fire(v)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let f=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,v=>{if(v.equals(15)||v.equals(17)||v.equals(9)){let m=f.indexOf(document.activeElement);if(m>=0){let _=-1;v.equals(17)?_=(m+1)%f.length:v.equals(15)&&(m===0?_=f.length-1:_=m-1),v.equals(9)?(f[m].blur(),this.inputBox.focus()):_>=0&&f[_].focus(),y.EventHelper.stop(v,!0)}}});let S=document.createElement("div");S.className="controls",S.style.display=this._showOptionButtons?"block":"none",S.appendChild(this.caseSensitive.domNode),S.appendChild(this.wholeWords.domNode),S.appendChild(this.regex.domNode),this.domNode.appendChild(S),i&&i.appendChild(this.domNode),this._register(y.addDisposableListener(this.inputBox.inputElement,"compositionstart",v=>{this.imeSessionInProgress=!0})),this._register(y.addDisposableListener(this.inputBox.inputElement,"compositionend",v=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,v=>this._onKeyDown.fire(v)),this.onkeyup(this.inputBox.inputElement,v=>this._onKeyUp.fire(v)),this.oninput(this.inputBox.inputElement,v=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,v=>this._onMouseDown.fire(v))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(i){this.fixFocusOnOptionClickEnabled=i}setEnabled(i){i?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(i){this.inputBox.value!==i&&(this.inputBox.value=i)}style(i){this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const i={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(i),this.wholeWords.style(i),this.caseSensitive.style(i);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(i){this.caseSensitive.checked=i}getWholeWords(){return this.wholeWords.checked}setWholeWords(i){this.wholeWords.checked=i}getRegex(){return this.regex.checked}setRegex(i){this.regex.checked=i,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=h}),define(ee[459],te([0,1,7,172,187,54,27,4,446,218]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseCheckbox=void 0;const h=p.localize(0,null),g=p.localize(1,null);class i extends N.Checkbox{constructor(c){super({icon:b.Codicon.preserveCase,title:g+c.appendTitle,isChecked:c.isChecked,inputActiveOptionBorder:c.inputActiveOptionBorder,inputActiveOptionForeground:c.inputActiveOptionForeground,inputActiveOptionBackground:c.inputActiveOptionBackground})}}e.PreserveCaseCheckbox=i;class t extends I.Widget{constructor(c,l,a,s){super();this._showOptionButtons=a,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new C.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new C.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new C.Emitter),this._onInput=this._register(new C.Emitter),this._onKeyUp=this._register(new C.Emitter),this._onPreserveCaseKeyDown=this._register(new C.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=l,this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||h,this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground;const o=s.appendPreserveCaseLabel||"",n=s.history||[],d=!!s.flexibleHeight,u=!!s.flexibleWidth,f=s.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new T.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:n,showHistoryHint:s.showHistoryHint,flexibleHeight:d,flexibleWidth:u,flexibleMaxHeight:f})),this.preserveCase=this._register(new i({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(m=>{this._onDidOptionChange.fire(m),!m&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(m=>{this._onPreserveCaseKeyDown.fire(m)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let S=[this.preserveCase.domNode];this.onkeydown(this.domNode,m=>{if(m.equals(15)||m.equals(17)||m.equals(9)){let _=S.indexOf(document.activeElement);if(_>=0){let L=-1;m.equals(17)?L=(_+1)%S.length:m.equals(15)&&(_===0?L=S.length-1:L=_-1),m.equals(9)?(S[_].blur(),this.inputBox.focus()):L>=0&&S[L].focus(),y.EventHelper.stop(m,!0)}}});let v=document.createElement("div");v.className="controls",v.style.display=this._showOptionButtons?"block":"none",v.appendChild(this.preserveCase.domNode),this.domNode.appendChild(v),c&&c.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,m=>this._onKeyDown.fire(m)),this.onkeyup(this.inputBox.inputElement,m=>this._onKeyUp.fire(m)),this.oninput(this.inputBox.inputElement,m=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,m=>this._onMouseDown.fire(m))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(c){c?this.enable():this.disable()}style(c){this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const c={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(c);const l={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(l)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(c){this.preserveCase.checked=c}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(c){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=c,this.domNode.style.width=c+"px"}dispose(){super.dispose()}}e.ReplaceInput=t}),define(ee[460],te([0,1,34,58,7,46,57,81,120,137,215,63,51,10,27,107,2,17,8,451]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var d;(function(L){L[L.Right=0]="Right",L[L.Left=1]="Left"})(d=e.Direction||(e.Direction={}));class u extends C.ActionBar{constructor(w,k,D={}){w.classList.add("monaco-menu-container"),w.setAttribute("role","presentation");const M=document.createElement("div");M.classList.add("monaco-menu"),M.setAttribute("role","presentation"),super(M,{orientation:1,actionViewItemProvider:R=>this.doGetActionViewItem(R,D,O),context:D.context,actionRunner:D.actionRunner,ariaLabel:D.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...s.isMacintosh||s.isLinux?[10]:[]],keyDown:!0}}),this.menuElement=M,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new a.DisposableStore),this._register(N.Gesture.addTarget(M)),(0,T.addDisposableListener)(M,T.EventType.KEY_DOWN,R=>{new I.StandardKeyboardEvent(R).equals(2)&&R.preventDefault()}),D.enableMnemonics&&this.menuDisposables.add((0,T.addDisposableListener)(M,T.EventType.KEY_DOWN,R=>{const A=R.key.toLocaleLowerCase();if(this.mnemonics.has(A)){T.EventHelper.stop(R,!0);const P=this.mnemonics.get(A);if(P.length===1&&(P[0]instanceof S&&P[0].container&&this.focusItemByElement(P[0].container),P[0].onClick(R)),P.length>1){const E=P.shift();E&&E.container&&(this.focusItemByElement(E.container),P.push(E)),this.mnemonics.set(A,P)}}})),s.isLinux&&this._register((0,T.addDisposableListener)(M,T.EventType.KEY_DOWN,R=>{const A=new I.StandardKeyboardEvent(R);A.equals(14)||A.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),T.EventHelper.stop(R,!0)):(A.equals(13)||A.equals(12))&&(this.focusedItem=0,this.focusPrevious(),T.EventHelper.stop(R,!0))})),this._register((0,T.addDisposableListener)(this.domNode,T.EventType.MOUSE_OUT,R=>{let A=R.relatedTarget;(0,T.isAncestor)(A,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),R.stopPropagation())})),this._register((0,T.addDisposableListener)(this.actionsList,T.EventType.MOUSE_OVER,R=>{let A=R.target;if(!(!A||!(0,T.isAncestor)(A,this.actionsList)||A===this.actionsList)){for(;A.parentElement!==this.actionsList&&A.parentElement!==null;)A=A.parentElement;if(A.classList.contains("action-item")){const P=this.focusedItem;this.setFocusedItem(A),P!==this.focusedItem&&this.updateFocus()}}})),this._register(N.Gesture.addTarget(this.actionsList)),this._register((0,T.addDisposableListener)(this.actionsList,N.EventType.Tap,R=>{let A=R.initialTarget;if(!(!A||!(0,T.isAncestor)(A,this.actionsList)||A===this.actionsList)){for(;A.parentElement!==this.actionsList&&A.parentElement!==null;)A=A.parentElement;if(A.classList.contains("action-item")){const P=this.focusedItem;this.setFocusedItem(A),P!==this.focusedItem&&this.updateFocus()}}}));let O={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new i.DomScrollableElement(M,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const F=this.scrollableElement.getDomNode();F.style.position="",this._register((0,T.addDisposableListener)(M,N.EventType.Change,R=>{T.EventHelper.stop(R,!0);const A=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:A-R.translationY})})),this._register((0,T.addDisposableListener)(F,T.EventType.MOUSE_UP,R=>{R.preventDefault()})),M.style.maxHeight=`${Math.max(10,window.innerHeight-w.getBoundingClientRect().top-35)}px`,k=k.filter(R=>{var A;return((A=D.submenuIds)===null||A===void 0?void 0:A.has(R.id))?(console.warn(`Found submenu cycle: ${R.id}`),!1):!0}),this.push(k,{icon:!0,label:!0,isMenu:!0}),w.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(R=>!(R instanceof v)).forEach((R,A,P)=>{R.updatePositionInSet(A+1,P.length)})}initializeOrUpdateStyleSheet(w,k){this.styleSheet||((0,T.isInShadowDOM)(w)?this.styleSheet=(0,T.createStyleSheet)(w):(u.globalStyleSheet||(u.globalStyleSheet=(0,T.createStyleSheet)()),this.styleSheet=u.globalStyleSheet)),this.styleSheet.textContent=_(k)}style(w){const k=this.getContainer();this.initializeOrUpdateStyleSheet(k,w);const D=w.foregroundColor?`${w.foregroundColor}`:"",M=w.backgroundColor?`${w.backgroundColor}`:"",O=w.borderColor?`1px solid ${w.borderColor}`:"",F=w.shadowColor?`0 2px 4px ${w.shadowColor}`:"";k.style.border=O,this.domNode.style.color=D,this.domNode.style.backgroundColor=M,k.style.boxShadow=F,this.viewItems&&this.viewItems.forEach(R=>{(R instanceof f||R instanceof v)&&R.style(w)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(w){const k=this.focusedItem;this.setFocusedItem(w),k!==this.focusedItem&&this.updateFocus()}setFocusedItem(w){for(let k=0;k<this.actionsList.children.length;k++){let D=this.actionsList.children[k];if(w===D){this.focusedItem=k;break}}}updateFocus(w){super.updateFocus(w,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(w,k,D){if(w instanceof t.Separator)return new v(k.context,w,{icon:!0});if(w instanceof t.SubmenuAction){const M=new S(w,w.actions,D,Object.assign(Object.assign({},k),{submenuIds:new Set([...k.submenuIds||[],w.id])}));if(k.enableMnemonics){const O=M.getMnemonic();if(O&&M.isEnabled()){let F=[];this.mnemonics.has(O)&&(F=this.mnemonics.get(O)),F.push(M),this.mnemonics.set(O,F)}}return M}else{const M={enableMnemonics:k.enableMnemonics,useEventAsContext:k.useEventAsContext};if(k.getKeyBinding){const F=k.getKeyBinding(w);if(F){const R=F.getLabel();R&&(M.keybinding=R)}}const O=new f(k.context,w,M);if(k.enableMnemonics){const F=O.getMnemonic();if(F&&O.isEnabled()){let R=[];this.mnemonics.has(F)&&(R=this.mnemonics.get(F)),R.push(O),this.mnemonics.set(F,R)}}return O}}}e.Menu=u;class f extends p.BaseActionViewItem{constructor(w,k,D={}){if(D.isMenu=!0,super(k,k,D),this.options=D,this.options.icon=D.icon!==void 0?D.icon:!1,this.options.label=D.label!==void 0?D.label:!0,this.cssClass="",this.options.label&&D.enableMnemonics){let M=this.getAction().label;if(M){let O=e.MENU_MNEMONIC_REGEX.exec(M);O&&(this.mnemonic=(O[1]?O[1]:O[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new r.RunOnceScheduler(()=>{!this.element||(this._register((0,T.addDisposableListener)(this.element,T.EventType.MOUSE_UP,M=>{if(T.EventHelper.stop(M,!0),y.isFirefox){if(new b.StandardMouseEvent(M).rightButton)return;this.onClick(M)}else setTimeout(()=>{this.onClick(M)},0)})),this._register((0,T.addDisposableListener)(this.element,T.EventType.CONTEXT_MENU,M=>{T.EventHelper.stop(M,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(w){super.render(w),!!this.element&&(this.container=w,this.item=(0,T.append)(this.element,(0,T.$)("a.action-menu-item")),this._action.id===t.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,T.append)(this.item,(0,T.$)("span.menu-item-check"+c.Codicon.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,T.append)(this.item,(0,T.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,T.append)(this.item,(0,T.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(w,k){this.item&&(this.item.setAttribute("aria-posinset",`${w}`),this.item.setAttribute("aria-setsize",`${k}`))}updateLabel(){if(!!this.label&&this.options.label){(0,T.clearNode)(this.label);let w=(0,l.stripIcons)(this.getAction().label);if(w){const k=m(w);this.options.enableMnemonics||(w=k),this.label.setAttribute("aria-label",k.replace(/&&/g,"&"));const D=e.MENU_MNEMONIC_REGEX.exec(w);if(D){w=o.escape(w),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let M=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(w);for(;M&&M[1];)M=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(w);const O=F=>F.replace(/&amp;&amp;/g,"&amp;");M?this.label.append(o.ltrim(O(w.substr(0,M.index))," "),(0,T.$)("u",{"aria-hidden":"true"},M[3]),o.rtrim(O(w.substr(M.index+M[0].length))," ")):this.label.innerText=O(w).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(D[1]?D[1]:D[3]).toLocaleLowerCase())}else this.label.innerText=w.replace(/&&/g,"&").trim()}}}updateTooltip(){let w=null;this.getAction().tooltip?w=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(w=this.getAction().label,this.options.keybinding&&(w=n.localize(0,null,w,this.options.keybinding))),w&&this.item&&(this.item.title=w)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const w=this.getAction().checked;this.item.classList.toggle("checked",!!w),w!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",w?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const w=this.element&&this.element.classList.contains("focused"),k=w&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,D=w&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,M=w&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=k?k.toString():"",this.item.style.backgroundColor=D?D.toString():""),this.check&&(this.check.style.color=k?k.toString():""),this.container&&(this.container.style.border=M)}style(w){this.menuStyle=w,this.applyStyle()}}class S extends f{constructor(w,k,D,M){super(w,w,M);this.submenuActions=k,this.parentData=D,this.submenuOptions=M,this.mysubmenu=null,this.submenuDisposables=this._register(new a.DisposableStore),this.mouseOver=!1,this.expandDirection=M&&M.expandDirection!==void 0?M.expandDirection:d.Right,this.showScheduler=new r.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new r.RunOnceScheduler(()=>{this.element&&!(0,T.isAncestor)((0,T.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(w){super.render(w),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,T.append)(this.item,(0,T.$)("span.submenu-indicator"+c.Codicon.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,T.addDisposableListener)(this.element,T.EventType.KEY_UP,k=>{let D=new I.StandardKeyboardEvent(k);(D.equals(17)||D.equals(3))&&(T.EventHelper.stop(k,!0),this.createSubmenu(!0))})),this._register((0,T.addDisposableListener)(this.element,T.EventType.KEY_DOWN,k=>{let D=new I.StandardKeyboardEvent(k);(0,T.getActiveElement)()===this.item&&(D.equals(17)||D.equals(3))&&T.EventHelper.stop(k,!0)})),this._register((0,T.addDisposableListener)(this.element,T.EventType.MOUSE_OVER,k=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,T.addDisposableListener)(this.element,T.EventType.MOUSE_LEAVE,k=>{this.mouseOver=!1})),this._register((0,T.addDisposableListener)(this.element,T.EventType.FOCUS_OUT,k=>{this.element&&!(0,T.isAncestor)((0,T.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(w){T.EventHelper.stop(w,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(w){if(this.parentData.submenu&&(w||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(k){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(w,k,D,M){const O={top:0,left:0};return O.left=(0,g.layout)(w.width,k.width,{position:M===d.Right?0:1,offset:D.left,size:D.width}),O.left>=D.left&&O.left<D.left+D.width&&(D.left+10+k.width<=w.width&&(O.left=D.left+10),D.top+=10,D.height=0),O.top=(0,g.layout)(w.height,k.height,{position:0,offset:D.top,size:0}),O.top+k.height===D.top&&O.top+D.height+k.height<=w.height&&(O.top+=D.height),O}createSubmenu(w=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,T.append)(this.element,(0,T.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const k=getComputedStyle(this.parentData.parent.domNode),D=parseFloat(k.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new u(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new t.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const M=this.element.getBoundingClientRect(),O={top:M.top-D,left:M.left,height:M.height+2*D,width:M.width},F=this.submenuContainer.getBoundingClientRect(),{top:R,left:A}=this.calculateSubmenuMenuLayout(new T.Dimension(window.innerWidth,window.innerHeight),T.Dimension.lift(F),O,this.expandDirection);this.submenuContainer.style.left=`${A-F.left}px`,this.submenuContainer.style.top=`${R-F.top}px`,this.submenuDisposables.add((0,T.addDisposableListener)(this.submenuContainer,T.EventType.KEY_UP,P=>{new I.StandardKeyboardEvent(P).equals(15)&&(T.EventHelper.stop(P,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,T.addDisposableListener)(this.submenuContainer,T.EventType.KEY_DOWN,P=>{new I.StandardKeyboardEvent(P).equals(15)&&T.EventHelper.stop(P,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(w),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(w){var k;this.item&&((k=this.item)===null||k===void 0||k.setAttribute("aria-expanded",w))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const k=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=k?`${k}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class v extends p.ActionViewItem{style(w){this.label&&(this.label.style.borderBottomColor=w.separatorColor?`${w.separatorColor}`:"")}}function m(L){const w=e.MENU_MNEMONIC_REGEX,k=w.exec(L);if(!k)return L;const D=!k[1];return L.replace(w,D?"$2$3":"").trim()}e.cleanMnemonic=m;function _(L){let w=`
.monaco-menu {
	font-size: 13px;

}

${(0,h.formatRule)(c.Codicon.menuSelection)}
${(0,h.formatRule)(c.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
`;const k=L.scrollbarShadow;k&&(w+=`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${k} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${k} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${k} 6px 6px 6px -6px inset;
			}
		`);const D=L.scrollbarSliderBackground;D&&(w+=`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${D};
			}
		`);const M=L.scrollbarSliderHoverBackground;M&&(w+=`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${M};
			}
		`);const O=L.scrollbarSliderActiveBackground;return O&&(w+=`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${O};
			}
		`),w}}),define(ee[461],te([0,1,7,46,57,187,2,79,139]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const p=y.$;class h extends b.Disposable{constructor(i){super();this.parent=i,this.onKeyDown=t=>y.addDisposableListener(this.inputBox.inputElement,y.EventType.KEY_DOWN,r=>{t(new N.StandardKeyboardEvent(r))}),this.onMouseDown=t=>y.addDisposableListener(this.inputBox.inputElement,y.EventType.MOUSE_DOWN,r=>{t(new T.StandardMouseEvent(r))}),this.onDidChange=t=>this.inputBox.onDidChange(t),this.container=y.append(this.parent,p(".quick-input-box")),this.inputBox=this._register(new I.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(i){this.inputBox.value=i}select(i=null){this.inputBox.select(i)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(i){this.inputBox.setPlaceHolder(i)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(i){this.inputBox.setAriaLabel(i)}get password(){return this.inputBox.inputElement.type==="password"}set password(i){this.inputBox.inputElement.type=i?"password":"text"}setAttribute(i,t){this.inputBox.inputElement.setAttribute(i,t)}removeAttribute(i){this.inputBox.inputElement.removeAttribute(i)}showDecoration(i){i===C.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:i===C.default.Info?1:i===C.default.Warning?2:3,content:""})}stylesForType(i){return this.inputBox.stylesForType(i===C.default.Info?1:i===C.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(i){this.inputBox.style(i)}}e.QuickInputBox=h}),define(ee[462],te([5,6]),function(q,e){return q.create("vs/base/common/errorMessage",e)}),define(ee[463],te([0,1,19,20,462]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function I(h,g){return g&&(h.stack||h.stacktrace)?T.localize(0,null,C(h),b(h.stack)||b(h.stacktrace)):C(h)}function b(h){return Array.isArray(h)?h.join(`
`):h}function C(h){return typeof h.code=="string"&&typeof h.errno=="number"&&typeof h.syscall=="string"?T.localize(1,null,h.message):h.message||T.localize(2,null)}function p(h=null,g=!1){if(!h)return T.localize(3,null);if(Array.isArray(h)){const i=y.coalesce(h),t=p(i[0],g);return i.length>1?T.localize(4,null,t,i.length):t}if(N.isString(h))return h;if(h.detail){const i=h.detail;if(i.error)return I(i.error,g);if(i.exception)return I(i.exception,g)}return h.stack?I(h,g):h.message?h.message:T.localize(5,null)}e.toErrorMessage=p}),define(ee[464],te([5,6]),function(q,e){return q.create("vs/base/common/keybindingLabels",e)}),define(ee[188],te([0,1,464]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class N{constructor(b,C,p=C){this.modifierLabels=[null],this.modifierLabels[2]=b,this.modifierLabels[1]=C,this.modifierLabels[3]=p}toLabel(b,C,p){if(C.length===0)return null;const h=[];for(let g=0,i=C.length;g<i;g++){const t=C[g],r=p(t);if(r===null)return null;h[g]=T(t,r,this.modifierLabels[b])}return h.join(" ")}}e.ModifierLabelProvider=N,e.UILabelProvider=new N({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:y.localize(0,null),shiftKey:y.localize(1,null),altKey:y.localize(2,null),metaKey:y.localize(3,null),separator:"+"},{ctrlKey:y.localize(4,null),shiftKey:y.localize(5,null),altKey:y.localize(6,null),metaKey:y.localize(7,null),separator:"+"}),e.AriaLabelProvider=new N({ctrlKey:y.localize(8,null),shiftKey:y.localize(9,null),altKey:y.localize(10,null),metaKey:y.localize(11,null),separator:"+"},{ctrlKey:y.localize(12,null),shiftKey:y.localize(13,null),altKey:y.localize(14,null),metaKey:y.localize(15,null),separator:"+"},{ctrlKey:y.localize(16,null),shiftKey:y.localize(17,null),altKey:y.localize(18,null),metaKey:y.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new N({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function T(I,b,C){if(b===null)return"";const p=[];return I.ctrlKey&&p.push(C.ctrlKey),I.shiftKey&&p.push(C.shiftKey),I.altKey&&p.push(C.altKey),I.metaKey&&p.push(C.metaKey),b!==""&&p.push(b),p.join(C.separator)}}),define(ee[465],te([0,1,7,188,37,450,330]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const b=y.$;class C{constructor(h,g,i){this.os=g,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=y.append(h,b(".monaco-keybinding")),this.didEverRender=!1,h.appendChild(this.domNode)}get element(){return this.domNode}set(h,g){this.didEverRender&&this.keybinding===h&&C.areSame(this.matches,g)||(this.keybinding=h,this.matches=g,this.render())}render(){if(this.clear(),this.keybinding){let[h,g]=this.keybinding.getParts();h&&this.renderPart(this.domNode,h,this.matches?this.matches.firstPart:null),g&&(y.append(this.domNode,b("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,g,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){y.clearNode(this.domNode),this.keyElements.clear()}renderPart(h,g,i){const t=N.UILabelProvider.modifierLabels[this.os];g.ctrlKey&&this.renderKey(h,t.ctrlKey,Boolean(i==null?void 0:i.ctrlKey),t.separator),g.shiftKey&&this.renderKey(h,t.shiftKey,Boolean(i==null?void 0:i.shiftKey),t.separator),g.altKey&&this.renderKey(h,t.altKey,Boolean(i==null?void 0:i.altKey),t.separator),g.metaKey&&this.renderKey(h,t.metaKey,Boolean(i==null?void 0:i.metaKey),t.separator);const r=g.keyLabel;r&&this.renderKey(h,r,Boolean(i==null?void 0:i.keyCode),"")}renderKey(h,g,i,t){y.append(h,this.createKeyElement(g,i?".highlight":"")),t&&y.append(h,b("span.monaco-keybinding-key-separator",void 0,t))}renderUnbound(h){y.append(h,this.createKeyElement((0,I.localize)(0,null)))}createKeyElement(h,g=""){const i=b("span.monaco-keybinding-key"+g,void 0,h);return this.keyElements.add(i),i}style(h){this.labelBackground=h.keybindingLabelBackground,this.labelForeground=h.keybindingLabelForeground,this.labelBorder=h.keybindingLabelBorder,this.labelBottomBorder=h.keybindingLabelBottomBorder,this.labelShadow=h.keybindingLabelShadow,this.applyStyles()}applyStyles(){var h;if(this.element){for(const g of this.keyElements)this.labelBackground&&(g.style.backgroundColor=(h=this.labelBackground)===null||h===void 0?void 0:h.toString()),this.labelBorder&&(g.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(g.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(g.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(h,g){return h===g||!h&&!g?!0:!!h&&!!g&&(0,T.equals)(h.firstPart,g.firstPart)&&(0,T.equals)(h.chordPart,g.chordPart)}}e.KeybindingLabel=C}),define(ee[466],te([5,6]),function(q,e){return q.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(ee[467],te([5,6]),function(q,e){return q.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(ee[468],te([0,1,7,46,81,185,465,51,19,27,308,94,4,107,2,17,20,222,467,139]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const n=y.$;class d{constructor(w){this.hidden=!1,this._onChecked=new t.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,w)}get checked(){return!!this._checked}set checked(w){w!==this._checked&&(this._checked=w,this._onChecked.fire(w))}dispose(){this._onChecked.dispose()}}class u{get templateId(){return u.ID}renderTemplate(w){const k=Object.create(null);k.toDisposeElement=[],k.toDisposeTemplate=[],k.entry=y.append(w,n(".quick-input-list-entry"));const D=y.append(k.entry,n("label.quick-input-list-label"));k.toDisposeTemplate.push(y.addStandardDisposableListener(D,y.EventType.CLICK,P=>{k.checkbox.offsetParent||P.preventDefault()})),k.checkbox=y.append(D,n("input.quick-input-list-checkbox")),k.checkbox.type="checkbox",k.toDisposeTemplate.push(y.addStandardDisposableListener(k.checkbox,y.EventType.CHANGE,P=>{k.element.checked=k.checkbox.checked}));const M=y.append(D,n(".quick-input-list-rows")),O=y.append(M,n(".quick-input-list-row")),F=y.append(M,n(".quick-input-list-row"));k.label=new I.IconLabel(O,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const R=y.append(O,n(".quick-input-list-entry-keybinding"));k.keybinding=new b.KeybindingLabel(R,l.OS);const A=y.append(F,n(".quick-input-list-label-meta"));return k.detail=new I.IconLabel(A,{supportHighlights:!0,supportIcons:!0}),k.separator=y.append(k.entry,n(".quick-input-list-separator")),k.actionBar=new T.ActionBar(k.entry),k.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),k.toDisposeTemplate.push(k.actionBar),k}renderElement(w,k,D){D.toDisposeElement=(0,c.dispose)(D.toDisposeElement),D.element=w,D.checkbox.checked=w.checked,D.toDisposeElement.push(w.onChecked(P=>D.checkbox.checked=P));const{labelHighlights:M,descriptionHighlights:O,detailHighlights:F}=w,R=Object.create(null);R.matches=M||[],R.descriptionTitle=w.saneDescription,R.descriptionMatches=O||[],R.extraClasses=w.item.iconClasses,R.italic=w.item.italic,R.strikethrough=w.item.strikethrough,D.label.setLabel(w.saneLabel,w.saneDescription,R),D.keybinding.set(w.item.keybinding),w.saneDetail&&D.detail.setLabel(w.saneDetail,void 0,{matches:F,title:w.saneDetail}),w.separator&&w.separator.label?(D.separator.textContent=w.separator.label,D.separator.style.display=""):D.separator.style.display="none",D.entry.classList.toggle("quick-input-list-separator-border",!!w.separator),D.actionBar.clear();const A=w.item.buttons;A&&A.length?(D.actionBar.push(A.map((P,E)=>{let B=P.iconClass||(P.iconPath?(0,s.getIconClass)(P.iconPath):void 0);P.alwaysVisible&&(B=B?`${B} always-visible`:"always-visible");const V=new C.Action(`id-${E}`,"",B,!0,()=>Ae(this,void 0,void 0,function*(){w.fireButtonTriggered({button:P,item:w.item})}));return V.tooltip=P.tooltip||"",V}),{icon:!0,label:!1}),D.entry.classList.add("has-actions")):D.entry.classList.remove("has-actions")}disposeElement(w,k,D){D.toDisposeElement=(0,c.dispose)(D.toDisposeElement)}disposeTemplate(w){w.toDisposeElement=(0,c.dispose)(w.toDisposeElement),w.toDisposeTemplate=(0,c.dispose)(w.toDisposeTemplate)}}u.ID="listelement";class f{getHeight(w){return w.saneDetail?44:22}getTemplateId(w){return u.ID}}var S;(function(L){L[L.First=1]="First",L[L.Second=2]="Second",L[L.Last=3]="Last",L[L.Next=4]="Next",L[L.Previous=5]="Previous",L[L.NextPage=6]="NextPage",L[L.PreviousPage=7]="PreviousPage"})(S=e.QuickInputListFocus||(e.QuickInputListFocus={}));class v{constructor(w,k,D){this.parent=w,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new t.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new t.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new t.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new t.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new t.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new t.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new t.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=k,this.container=y.append(this.parent,n(".quick-input-list"));const M=new f,O=new _;this.list=D.createList("QuickInput",this.container,M,[new u],{identityProvider:{getId:F=>F.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:O}),this.list.getHTMLElement().id=k,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(F=>{const R=new N.StandardKeyboardEvent(F);switch(R.keyCode){case 10:this.toggleCheckbox();break;case 31:(l.isMacintosh?F.metaKey:F.ctrlKey)&&this.list.setFocus((0,p.range)(this.list.length));break;case 16:const A=this.list.getFocus();A.length===1&&A[0]===0&&this._onLeave.fire();break;case 18:const P=this.list.getFocus();P.length===1&&P[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(R)})),this.disposables.push(this.list.onMouseDown(F=>{F.browserEvent.button!==2&&F.browserEvent.preventDefault()})),this.disposables.push(y.addDisposableListener(this.container,y.EventType.CLICK,F=>{(F.x||F.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(F=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(F=>{typeof F.index=="number"&&(F.browserEvent.preventDefault(),this.list.setSelection([F.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return t.Event.map(this.list.onDidChangeFocus,w=>w.elements.map(k=>k.item))}get onDidChangeSelection(){return t.Event.map(this.list.onDidChangeSelection,w=>({items:w.elements.map(k=>k.item),event:w.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(w){this.list.scrollTop=w}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(w,k=!0){for(let D=0,M=w.length;D<M;D++){const O=w[D];if(!O.hidden)if(O.checked)k=!0;else return!1}return k}getCheckedCount(){let w=0;const k=this.elements;for(let D=0,M=k.length;D<M;D++)k[D].checked&&w++;return w}getVisibleCount(){let w=0;const k=this.elements;for(let D=0,M=k.length;D<M;D++)k[D].hidden||w++;return w}setAllVisibleChecked(w){try{this._fireCheckedEvents=!1,this.elements.forEach(k=>{k.hidden||(k.checked=w)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(w){this.elementDisposables=(0,c.dispose)(this.elementDisposables);const k=D=>this.fireButtonTriggered(D);this.inputElements=w,this.elements=w.reduce((D,M,O)=>{var F,R,A;if(M.type!=="separator"){const P=O&&w[O-1],E=M.label&&M.label.replace(/\r?\n/g," "),B=M.meta&&M.meta.replace(/\r?\n/g," "),V=M.description&&M.description.replace(/\r?\n/g," "),j=M.detail&&M.detail.replace(/\r?\n/g," "),K=M.ariaLabel||[E,V,j].map(Y=>(0,h.getCodiconAriaLabel)(Y)).filter(Y=>!!Y).join(", ");D.push(new d({index:O,item:M,saneLabel:E,saneMeta:B,saneAriaLabel:K,saneDescription:V,saneDetail:j,labelHighlights:(F=M.highlights)===null||F===void 0?void 0:F.label,descriptionHighlights:(R=M.highlights)===null||R===void 0?void 0:R.description,detailHighlights:(A=M.highlights)===null||A===void 0?void 0:A.detail,checked:!1,separator:P&&P.type==="separator"?P:void 0,fireButtonTriggered:k}))}return D},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(D=>D.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((D,M,O)=>(D.set(M.item,O),D),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(w=>w.item)}setFocusedElements(w){if(this.list.setFocus(w.filter(k=>this.elementsToIndexes.has(k)).map(k=>this.elementsToIndexes.get(k))),w.length>0){const k=this.list.getFocus()[0];typeof k=="number"&&this.list.reveal(k)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(w){this.list.setSelection(w.filter(k=>this.elementsToIndexes.has(k)).map(k=>this.elementsToIndexes.get(k)))}getCheckedElements(){return this.elements.filter(w=>w.checked).map(w=>w.item)}setCheckedElements(w){try{this._fireCheckedEvents=!1;const k=new Set;for(const D of w)k.add(D);for(const D of this.elements)D.checked=k.has(D.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(w){this.list.getHTMLElement().style.pointerEvents=w?"":"none"}focus(w){if(!this.list.length)return;switch(w===S.Next&&this.list.getFocus()[0]===this.list.length-1&&(w=S.First),w===S.Previous&&this.list.getFocus()[0]===0&&(w=S.Last),w===S.Second&&this.list.length<2&&(w=S.First),w){case S.First:this.list.focusFirst();break;case S.Second:this.list.focusNth(1);break;case S.Last:this.list.focusLast();break;case S.Next:this.list.focusNext();break;case S.Previous:this.list.focusPrevious();break;case S.NextPage:this.list.focusNextPage();break;case S.PreviousPage:this.list.focusPreviousPage();break}const k=this.list.getFocus()[0];typeof k=="number"&&this.list.reveal(k)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(w){this.list.getHTMLElement().style.maxHeight=w?`calc(${Math.floor(w/44)*44}px)`:"",this.list.layout()}filter(w){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(w=w.trim(),!w||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(D=>{D.labelHighlights=void 0,D.descriptionHighlights=void 0,D.detailHighlights=void 0,D.hidden=!1;const M=D.index&&this.inputElements[D.index-1];D.separator=M&&M.type==="separator"?M:void 0});else{let D;this.elements.forEach(M=>{const O=this.matchOnLabel?(0,a.withNullAsUndefined)((0,r.matchesFuzzyIconAware)(w,(0,r.parseLabelWithIcons)(M.saneLabel))):void 0,F=this.matchOnDescription?(0,a.withNullAsUndefined)((0,r.matchesFuzzyIconAware)(w,(0,r.parseLabelWithIcons)(M.saneDescription||""))):void 0,R=this.matchOnDetail?(0,a.withNullAsUndefined)((0,r.matchesFuzzyIconAware)(w,(0,r.parseLabelWithIcons)(M.saneDetail||""))):void 0,A=this.matchOnMeta?(0,a.withNullAsUndefined)((0,r.matchesFuzzyIconAware)(w,(0,r.parseLabelWithIcons)(M.saneMeta||""))):void 0;if(O||F||R||A?(M.labelHighlights=O,M.descriptionHighlights=F,M.detailHighlights=R,M.hidden=!1):(M.labelHighlights=void 0,M.descriptionHighlights=void 0,M.detailHighlights=void 0,M.hidden=!M.item.alwaysShow),M.separator=void 0,!this.sortByLabel){const P=M.index&&this.inputElements[M.index-1];D=P&&P.type==="separator"?P:D,D&&!M.hidden&&(M.separator=D,D=void 0)}})}const k=this.elements.filter(D=>!D.hidden);if(this.sortByLabel&&w){const D=w.toLowerCase();k.sort((M,O)=>m(M,O,D))}return this.elementsToIndexes=k.reduce((D,M,O)=>(D.set(M.item,O),D),new Map),this.list.splice(0,this.list.length,k),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(k.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const w=this.list.getFocusedElements(),k=this.allVisibleChecked(w);for(const D of w)D.checked=!k}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(w){this.container.style.display=w?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,c.dispose)(this.elementDisposables),this.disposables=(0,c.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(w){this._onButtonTriggered.fire(w)}style(w){this.list.style(w)}}Be([i.memoize],v.prototype,"onDidChangeFocus",null),Be([i.memoize],v.prototype,"onDidChangeSelection",null),e.QuickInputList=v;function m(L,w,k){const D=L.labelHighlights||[],M=w.labelHighlights||[];return D.length&&!M.length?-1:!D.length&&M.length?1:D.length===0&&M.length===0?0:(0,g.compareAnything)(L.saneLabel,w.saneLabel,k)}class _{getWidgetAriaLabel(){return(0,o.localize)(0,null)}getAriaLabel(w){return w.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}}),define(ee[469],te([0,1,7,46,81,321,216,108,333,51,19,10,23,27,4,2,17,79,20,222,213,466,461,468,139]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const v=y.$,m={iconClass:r.Codicon.quickInputBack.classNames,tooltip:(0,u.localize)(0,null),handle:-1};class _ extends l.Disposable{constructor(D){super();this.ui=D,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=_.noPromptMessage,this._severity=s.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new c.Emitter),this.onDidHideEmitter=this._register(new c.Emitter),this.onDisposeEmitter=this._register(new c.Emitter),this.visibleDisposables=this._register(new l.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(D){this._title=D,this.update()}get description(){return this._description}set description(D){this._description=D,this.update()}get step(){return this._steps}set step(D){this._steps=D,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(D){this._totalSteps=D,this.update()}get enabled(){return this._enabled}set enabled(D){this._enabled=D,this.update()}get contextKey(){return this._contextKey}set contextKey(D){this._contextKey=D,this.update()}get busy(){return this._busy}set busy(D){this._busy=D,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(D){const M=this._ignoreFocusOut!==D&&!a.isIOS;this._ignoreFocusOut=D&&!a.isIOS,M&&this.update()}get buttons(){return this._buttons}set buttons(D){this._buttons=D,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(D){this._validationMessage=D,this.update()}get severity(){return this._severity}set severity(D){this._severity=D,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(D=>{this.buttons.indexOf(D)!==-1&&this.onDidTriggerButtonEmitter.fire(D)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(D=d.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:D})}update(){if(!this.visible)return;const D=this.getTitle();D&&this.ui.title.textContent!==D?this.ui.title.textContent=D:!D&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const M=this.getDescription();if(this.ui.description1.textContent!==M&&(this.ui.description1.textContent=M),this.ui.description2.textContent!==M&&(this.ui.description2.textContent=M),this.busy&&!this.busyDelay&&(this.busyDelay=new i.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const F=this.buttons.filter(A=>A===m);this.ui.leftActionBar.push(F.map((A,P)=>{const E=new h.Action(`id-${P}`,"",A.iconClass||(0,n.getIconClass)(A.iconPath),!0,()=>Ae(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(A)}));return E.tooltip=A.tooltip||"",E}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const R=this.buttons.filter(A=>A!==m);this.ui.rightActionBar.push(R.map((A,P)=>{const E=new h.Action(`id-${P}`,"",A.iconClass||(0,n.getIconClass)(A.iconPath),!0,()=>Ae(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(A)}));return E.tooltip=A.tooltip||"",E}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const O=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==O&&(this._lastValidationMessage=O,y.reset(this.ui.message,...(0,C.renderLabelWithIcons)(O))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,u.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(D){if(this.ui.inputBox.showDecoration(D),D!==s.default.Ignore){const M=this.ui.inputBox.stylesForType(D);this.ui.message.style.color=M.foreground?`${M.foreground}`:"",this.ui.message.style.backgroundColor=M.background?`${M.background}`:"",this.ui.message.style.border=M.border?`1px solid ${M.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}_.noPromptMessage=(0,u.localize)(1,null);class L extends _{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new c.Emitter),this.onWillAcceptEmitter=this._register(new c.Emitter),this.onDidAcceptEmitter=this._register(new c.Emitter),this.onDidCustomEmitter=this._register(new c.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?d.ItemActivation.NONE:d.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new c.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new c.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new c.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=D=>D,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(D){this._quickNavigate=D,this.update()}get value(){return this._value}set value(D){this._value!==D&&(this._value=D||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(D){this._ariaLabel=D,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(D){this._placeholder=D,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(D){this.ui.list.scrollTop=D}set items(D){this._items=D,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(D){this._canSelectMany=D,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(D){this._canAcceptInBackground=D}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(D){this._matchOnDescription=D,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(D){this._matchOnDetail=D,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(D){this._matchOnLabel=D,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(D){this._sortByLabel=D,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(D){this._autoFocusOnList=D,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(D){this._keepScrollPosition=D}get itemActivation(){return this._itemActivation}set itemActivation(D){this._itemActivation=D}get activeItems(){return this._activeItems}set activeItems(D){this._activeItems=D,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(D){this._selectedItems=D,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?d.NO_KEY_MODS:this.ui.keyMods}set valueSelection(D){this._valueSelection=D,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(D){this._customButton=D,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(D){this._customButtonLabel=D,this.update()}get customHover(){return this._customButtonHover}set customHover(D){this._customButtonHover=D,this.update()}get ok(){return this._ok}set ok(D){this._ok=D,this.update()}get hideInput(){return!!this._hideInput}set hideInput(D){this._hideInput=D,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(S.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(D=>{if(D===this.value)return;this._value=D,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(D)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(D=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(D=>{switch(D.keyCode){case 18:this.ui.list.focus(S.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(D,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(S.QuickInputListFocus.Previous):this.ui.list.focus(S.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(D,!0);break;case 12:this.ui.list.focus(S.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(D,!0);break;case 11:this.ui.list.focus(S.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(D,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(D.ctrlKey||D.metaKey)&&!D.shiftKey&&!D.altKey&&(this.ui.list.focus(S.QuickInputListFocus.First),y.EventHelper.stop(D,!0));break;case 13:(D.ctrlKey||D.metaKey)&&!D.shiftKey&&!D.altKey&&(this.ui.list.focus(S.QuickInputListFocus.Last),y.EventHelper.stop(D,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(D=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,g.equals)(D,this._activeItems,(M,O)=>M===O)||(this._activeItems=D,this.onDidChangeActiveEmitter.fire(D))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:D,event:M})=>{if(this.canSelectMany){D.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,g.equals)(D,this._selectedItems,(O,F)=>O===F)||(this._selectedItems=D,this.onDidChangeSelectionEmitter.fire(D),D.length&&this.handleAccept(M instanceof MouseEvent&&M.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(D=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,g.equals)(D,this._selectedItems,(M,O)=>M===O)||(this._selectedItems=D,this.onDidChangeSelectionEmitter.fire(D))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(D=>this.onDidTriggerItemButtonEmitter.fire(D))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(D){let M=!1;this.onWillAcceptEmitter.fire({veto:()=>M=!0}),M||this.onDidAcceptEmitter.fire({inBackground:D})}registerQuickNavigation(){return y.addDisposableListener(this.ui.container,y.EventType.KEY_UP,D=>{if(this.canSelectMany||!this._quickNavigate)return;const M=new N.StandardKeyboardEvent(D),O=M.keyCode;this._quickNavigate.keybindings.some(A=>{const[P,E]=A.getParts();return E?!1:P.shiftKey&&O===4?!(M.ctrlKey||M.altKey||M.metaKey):!!(P.altKey&&O===6||P.ctrlKey&&O===5||P.metaKey&&O===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const D=this.keepScrollPosition?this.scrollTop:0,M=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",M&&!this.description);const O={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!M,progressBar:!M,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(O),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const F=this.ariaLabel||this.placeholder||L.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==F&&(this.ui.inputBox.ariaLabel=F),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case d.ItemActivation.NONE:this._itemActivation=d.ItemActivation.FIRST;break;case d.ItemActivation.SECOND:this.ui.list.focus(S.QuickInputListFocus.Second),this._itemActivation=d.ItemActivation.FIRST;break;case d.ItemActivation.LAST:this.ui.list.focus(S.QuickInputListFocus.Last),this._itemActivation=d.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),O.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(S.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=D)}}L.DEFAULT_ARIA_LABEL=(0,u.localize)(3,null);class w extends l.Disposable{constructor(D){super();this.options=D,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new c.Emitter),this.onDidCustomEmitter=this._register(new c.Emitter),this.onDidTriggerButtonEmitter=this._register(new c.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new c.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new c.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=D.idPrefix,this.parentElement=D.container,this.styles=D.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const D=M=>{this.keyMods.ctrlCmd=M.ctrlKey||M.metaKey,this.keyMods.alt=M.altKey};this._register(y.addDisposableListener(window,y.EventType.KEY_DOWN,D,!0)),this._register(y.addDisposableListener(window,y.EventType.KEY_UP,D,!0)),this._register(y.addDisposableListener(window,y.EventType.MOUSE_DOWN,D,!0))}getUI(){if(this.ui)return this.ui;const D=y.append(this.parentElement,v(".quick-input-widget.show-file-icons"));D.tabIndex=-1,D.style.display="none";const M=y.createStyleSheet(D),O=y.append(D,v(".quick-input-titlebar")),F=this._register(new T.ActionBar(O));F.domNode.classList.add("quick-input-left-action-bar");const R=y.append(O,v(".quick-input-title")),A=this._register(new T.ActionBar(O));A.domNode.classList.add("quick-input-right-action-bar");const P=y.append(D,v(".quick-input-description")),E=y.append(D,v(".quick-input-header")),B=y.append(E,v("input.quick-input-check-all"));B.type="checkbox",this._register(y.addStandardDisposableListener(B,y.EventType.CHANGE,$=>{const H=B.checked;X.setAllVisibleChecked(H)})),this._register(y.addDisposableListener(B,y.EventType.CLICK,$=>{($.x||$.y)&&Y.setFocus()}));const V=y.append(E,v(".quick-input-description")),j=y.append(E,v(".quick-input-and-message")),K=y.append(j,v(".quick-input-filter")),Y=this._register(new f.QuickInputBox(K));Y.setAttribute("aria-describedby",`${this.idPrefix}message`);const J=y.append(K,v(".quick-input-visible-count"));J.setAttribute("aria-live","polite"),J.setAttribute("aria-atomic","true");const Z=new b.CountBadge(J,{countFormat:(0,u.localize)(4,null)}),ie=y.append(K,v(".quick-input-count"));ie.setAttribute("aria-live","polite");const ne=new b.CountBadge(ie,{countFormat:(0,u.localize)(5,null)}),G=y.append(E,v(".quick-input-action")),W=new I.Button(G);W.label=(0,u.localize)(6,null),this._register(W.onDidClick($=>{this.onDidAcceptEmitter.fire()}));const z=y.append(E,v(".quick-input-action")),U=new I.Button(z);U.label=(0,u.localize)(7,null),this._register(U.onDidClick($=>{this.onDidCustomEmitter.fire()}));const x=y.append(j,v(`#${this.idPrefix}message.quick-input-message`)),X=this._register(new S.QuickInputList(D,this.idPrefix+"list",this.options));this._register(X.onChangedAllVisibleChecked($=>{B.checked=$})),this._register(X.onChangedVisibleCount($=>{Z.setCount($)})),this._register(X.onChangedCheckedCount($=>{ne.setCount($)})),this._register(X.onLeave(()=>{setTimeout(()=>{Y.setFocus(),this.controller instanceof L&&this.controller.canSelectMany&&X.clearFocus()},0)})),this._register(X.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const le=new p.ProgressBar(D);le.getContainer().classList.add("quick-input-progress");const fe=y.trackFocus(D);return this._register(fe),this._register(y.addDisposableListener(D,y.EventType.FOCUS,$=>{this.previousFocusElement=$.relatedTarget instanceof HTMLElement?$.relatedTarget:void 0},!0)),this._register(fe.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(d.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(y.addDisposableListener(D,y.EventType.FOCUS,$=>{Y.setFocus()})),this._register(y.addDisposableListener(D,y.EventType.KEY_DOWN,$=>{const H=new N.StandardKeyboardEvent($);switch(H.keyCode){case 3:y.EventHelper.stop($,!0),this.onDidAcceptEmitter.fire();break;case 9:y.EventHelper.stop($,!0),this.hide(d.QuickInputHideReason.Gesture);break;case 2:if(!H.altKey&&!H.ctrlKey&&!H.metaKey){const Q=[".action-label.codicon"];D.classList.contains("show-checkboxes")?Q.push("input"):Q.push("input[type=text]"),this.getUI().list.isDisplayed()&&Q.push(".monaco-list");const re=D.querySelectorAll(Q.join(", "));H.shiftKey&&H.target===re[0]?(y.EventHelper.stop($,!0),re[re.length-1].focus()):!H.shiftKey&&H.target===re[re.length-1]&&(y.EventHelper.stop($,!0),re[0].focus())}break}})),this.ui={container:D,styleSheet:M,leftActionBar:F,titleBar:O,title:R,description1:P,description2:V,rightActionBar:A,checkAll:B,filterContainer:K,inputBox:Y,visibleCountContainer:J,visibleCount:Z,countContainer:ie,count:ne,okContainer:G,ok:W,message:x,customButtonContainer:z,customButton:U,list:X,progressBar:le,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:$=>this.show($),hide:()=>this.hide(),setVisibilities:$=>this.setVisibilities($),setComboboxAccessibility:$=>this.setComboboxAccessibility($),setEnabled:$=>this.setEnabled($),setContextKey:$=>this.options.setContextKey($)},this.updateStyles(),this.ui}pick(D,M={},O=t.CancellationToken.None){return new Promise((F,R)=>{let A=V=>{A=F,M.onKeyMods&&M.onKeyMods(P.keyMods),F(V)};if(O.isCancellationRequested){A(void 0);return}const P=this.createQuickPick();let E;const B=[P,P.onDidAccept(()=>{if(P.canSelectMany)A(P.selectedItems.slice()),P.hide();else{const V=P.activeItems[0];V&&(A(V),P.hide())}}),P.onDidChangeActive(V=>{const j=V[0];j&&M.onDidFocus&&M.onDidFocus(j)}),P.onDidChangeSelection(V=>{if(!P.canSelectMany){const j=V[0];j&&(A(j),P.hide())}}),P.onDidTriggerItemButton(V=>M.onDidTriggerItemButton&&M.onDidTriggerItemButton(Object.assign(Object.assign({},V),{removeItem:()=>{const j=P.items.indexOf(V.item);if(j!==-1){const K=P.items.slice(),Y=K.splice(j,1),J=P.activeItems.filter(ie=>ie!==Y[0]),Z=P.keepScrollPosition;P.keepScrollPosition=!0,P.items=K,J&&(P.activeItems=J),P.keepScrollPosition=Z}}}))),P.onDidChangeValue(V=>{E&&!V&&(P.activeItems.length!==1||P.activeItems[0]!==E)&&(P.activeItems=[E])}),O.onCancellationRequested(()=>{P.hide()}),P.onDidHide(()=>{(0,l.dispose)(B),A(void 0)})];P.title=M.title,P.canSelectMany=!!M.canPickMany,P.placeholder=M.placeHolder,P.ignoreFocusOut=!!M.ignoreFocusLost,P.matchOnDescription=!!M.matchOnDescription,P.matchOnDetail=!!M.matchOnDetail,P.matchOnLabel=M.matchOnLabel===void 0||M.matchOnLabel,P.autoFocusOnList=M.autoFocusOnList===void 0||M.autoFocusOnList,P.quickNavigate=M.quickNavigate,P.contextKey=M.contextKey,P.busy=!0,Promise.all([D,M.activeItem]).then(([V,j])=>{E=j,P.busy=!1,P.items=V,P.canSelectMany&&(P.selectedItems=V.filter(K=>K.type!=="separator"&&K.picked)),E&&(P.activeItems=[E])}),P.show(),Promise.resolve(D).then(void 0,V=>{R(V),P.hide()})})}createQuickPick(){const D=this.getUI();return new L(D)}show(D){const M=this.getUI();this.onShowEmitter.fire();const O=this.controller;this.controller=D,O&&O.didHide(),this.setEnabled(!0),M.leftActionBar.clear(),M.title.textContent="",M.description1.textContent="",M.description2.textContent="",M.rightActionBar.clear(),M.checkAll.checked=!1,M.inputBox.placeholder="",M.inputBox.password=!1,M.inputBox.showDecoration(s.default.Ignore),M.visibleCount.setCount(0),M.count.setCount(0),y.reset(M.message),M.progressBar.stop(),M.list.setElements([]),M.list.matchOnDescription=!1,M.list.matchOnDetail=!1,M.list.matchOnLabel=!0,M.list.sortByLabel=!0,M.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),M.inputBox.ariaLabel="";const F=this.options.backKeybindingLabel();m.tooltip=F?(0,u.localize)(8,null,F):(0,u.localize)(9,null),M.container.style.display="",this.updateLayout(),M.inputBox.setFocus()}setVisibilities(D){const M=this.getUI();M.title.style.display=D.title?"":"none",M.description1.style.display=D.description&&(D.inputBox||D.checkAll)?"":"none",M.description2.style.display=D.description&&!(D.inputBox||D.checkAll)?"":"none",M.checkAll.style.display=D.checkAll?"":"none",M.filterContainer.style.display=D.inputBox?"":"none",M.visibleCountContainer.style.display=D.visibleCount?"":"none",M.countContainer.style.display=D.count?"":"none",M.okContainer.style.display=D.ok?"":"none",M.customButtonContainer.style.display=D.customButton?"":"none",M.message.style.display=D.message?"":"none",M.progressBar.getContainer().style.display=D.progressBar?"":"none",M.list.display(!!D.list),M.container.classList[D.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(D){if(D!==this.comboboxAccessibility){const M=this.getUI();this.comboboxAccessibility=D,this.comboboxAccessibility?(M.inputBox.setAttribute("role","combobox"),M.inputBox.setAttribute("aria-haspopup","true"),M.inputBox.setAttribute("aria-autocomplete","list"),M.inputBox.setAttribute("aria-activedescendant",M.list.getActiveDescendant()||"")):(M.inputBox.removeAttribute("role"),M.inputBox.removeAttribute("aria-haspopup"),M.inputBox.removeAttribute("aria-autocomplete"),M.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(D){if(D!==this.enabled){this.enabled=D;for(const M of this.getUI().leftActionBar.viewItems)M.getAction().enabled=D;for(const M of this.getUI().rightActionBar.viewItems)M.getAction().enabled=D;this.getUI().checkAll.disabled=!D,this.getUI().ok.enabled=D,this.getUI().list.enabled=D}}hide(D){var M;const O=this.controller;if(O){const F=!((M=this.ui)===null||M===void 0?void 0:M.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!F){let R=this.previousFocusElement;for(;R&&!R.offsetParent;)R=(0,o.withNullAsUndefined)(R.parentElement);(R==null?void 0:R.offsetParent)?(R.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}O.didHide(D)}}layout(D,M){this.dimension=D,this.titleBarOffset=M,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const D=this.ui.container.style,M=Math.min(this.dimension.width*.62,w.MAX_WIDTH);D.width=M+"px",D.marginLeft="-"+M/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(D){this.styles=D,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:D,quickInputBackground:M,quickInputForeground:O,contrastBorder:F,widgetShadow:R}=this.styles.widget;this.ui.titleBar.style.backgroundColor=D?D.toString():"",this.ui.container.style.backgroundColor=M?M.toString():"",this.ui.container.style.color=O?O.toString():"",this.ui.container.style.border=F?`1px solid ${F}`:"",this.ui.container.style.boxShadow=R?`0 0 8px 2px ${R}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const A=[];this.styles.list.pickerGroupBorder&&A.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&A.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(A.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&A.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&A.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&A.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&A.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&A.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),A.push("}"));const P=A.join(`
`);P!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=P)}}}e.QuickInputController=w,w.MAX_WIDTH=600}),define(ee[470],te([5,6]),function(q,e){return q.create("vs/editor/browser/controller/coreCommands",e)}),define(ee[471],te([5,6]),function(q,e){return q.create("vs/editor/browser/controller/textAreaHandler",e)}),define(ee[472],te([5,6]),function(q,e){return q.create("vs/editor/browser/core/keybindingCancellation",e)}),define(ee[473],te([5,6]),function(q,e){return q.create("vs/editor/browser/editorExtensions",e)}),define(ee[474],te([5,6]),function(q,e){return q.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(ee[475],te([5,6]),function(q,e){return q.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(ee[476],te([5,6]),function(q,e){return q.create("vs/editor/browser/widget/diffReview",e)}),define(ee[477],te([5,6]),function(q,e){return q.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(ee[478],te([0,1,477,7,51,2,3,27]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class p extends I.Disposable{constructor(g,i,t,r,c,l){super();this._viewZoneId=g,this._marginDomNode=i,this.editor=t,this.diff=r,this._contextMenuService=c,this._clipboardService=l,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=C.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const a=t.getOption(58),s=t.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${a}px`,this._diffActions.style.lineHeight=`${a}px`,this._marginDomNode.appendChild(this._diffActions);const o=[],n=r.modifiedEndLineNumber===0;o.push(new T.Action("diff.clipboard.copyDeletedContent",n?r.originalEndLineNumber>r.modifiedStartLineNumber?y.localize(0,null):y.localize(1,null):r.originalEndLineNumber>r.modifiedStartLineNumber?y.localize(2,null):y.localize(3,null),void 0,!0,()=>Ae(this,void 0,void 0,function*(){const v=new b.Range(r.originalStartLineNumber,1,r.originalEndLineNumber+1,1),m=r.originalModel.getValueInRange(v);yield this._clipboardService.writeText(m)})));let d=0,u;r.originalEndLineNumber>r.modifiedStartLineNumber&&(u=new T.Action("diff.clipboard.copyDeletedLineContent",n?y.localize(4,null,r.originalStartLineNumber):y.localize(5,null,r.originalStartLineNumber),void 0,!0,()=>Ae(this,void 0,void 0,function*(){const v=r.originalModel.getLineContent(r.originalStartLineNumber+d);if(v===""){const m=r.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(m===0?`
`:`\r
`)}else yield this._clipboardService.writeText(v)})),o.push(u)),t.getOption(80)||o.push(new T.Action("diff.inline.revertChange",y.localize(6,null),void 0,!0,()=>Ae(this,void 0,void 0,function*(){const v=new b.Range(r.originalStartLineNumber,1,r.originalEndLineNumber,r.originalModel.getLineMaxColumn(r.originalEndLineNumber)),m=r.originalModel.getValueInRange(v);if(r.modifiedEndLineNumber===0){const _=t.getModel().getLineMaxColumn(r.modifiedStartLineNumber);t.executeEdits("diffEditor",[{range:new b.Range(r.modifiedStartLineNumber,_,r.modifiedStartLineNumber,_),text:s+m}])}else{const _=t.getModel().getLineMaxColumn(r.modifiedEndLineNumber);t.executeEdits("diffEditor",[{range:new b.Range(r.modifiedStartLineNumber,1,r.modifiedEndLineNumber,_),text:m}])}})));const S=(v,m)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:v,y:m}),getActions:()=>(u&&(u.label=n?y.localize(7,null,r.originalStartLineNumber+d):y.localize(8,null,r.originalStartLineNumber+d)),o),autoSelectFirstItem:!0})};this._register(N.addStandardDisposableListener(this._diffActions,"mousedown",v=>{const{top:m,height:_}=N.getDomNodePagePosition(this._diffActions);let L=Math.floor(a/3);v.preventDefault(),S(v.posx,m+_+L)})),this._register(t.onMouseMove(v=>{v.target.type===8||v.target.type===5?v.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,d=this._updateLightBulbPosition(this._marginDomNode,v.event.browserEvent.y,a)):this.visibility=!1:this.visibility=!1})),this._register(t.onMouseDown(v=>{!v.event.rightButton||(v.target.type===8||v.target.type===5)&&v.target.detail.viewZoneId===this._viewZoneId&&(v.event.preventDefault(),d=this._updateLightBulbPosition(this._marginDomNode,v.event.browserEvent.y,a),S(v.event.posx,v.event.posy+a))}))}get visibility(){return this._visibility}set visibility(g){this._visibility!==g&&(this._visibility=g,g?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(g,i,t){const{top:r}=N.getDomNodePagePosition(g),c=i-r,l=Math.floor(c/t),a=l*t;if(this._diffActions.style.top=`${a}px`,this.diff.viewLineCounts){let s=0;for(let o=0;o<this.diff.viewLineCounts.length;o++)if(s+=this.diff.viewLineCounts[o],l<s)return o}return l}}e.InlineDiffMargin=p}),define(ee[479],te([5,6]),function(q,e){return q.create("vs/editor/common/config/commonEditorConfig",e)}),define(ee[480],te([5,6]),function(q,e){return q.create("vs/editor/common/config/editorOptions",e)}),define(ee[30],te([0,1,480,17,146,19,37]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class C{constructor(ae){this._values=ae}hasChanged(ae){return this._values[ae]}}e.ConfigurationChangedEvent=C;class p{constructor(){this._values=[]}_read(ae){return this._values[ae]}get(ae){return this._values[ae]}_write(ae,he){this._values[ae]=he}}e.ValidatedEditorOptions=p;class h{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=h;class g{constructor(ae,he,De,ke){this.id=ae,this.name=he,this.defaultValue=De,this.schema=ke}applyUpdate(ae,he){return t(ae,he)}compute(ae,he,De){return De}}class i{constructor(ae,he){this.newValue=ae,this.didChange=he}}e.ApplyUpdateResult=i;function t(Se,ae){if(typeof Se!="object"||typeof ae!="object"||!Se||!ae)return new i(ae,Se!==ae);if(Array.isArray(Se)||Array.isArray(ae)){const De=Array.isArray(Se)&&Array.isArray(ae)&&I.equals(Se,ae);return new i(ae,De)}let he=!1;for(let De in ae)if(ae.hasOwnProperty(De)){const ke=t(Se[De],ae[De]);ke.didChange&&(Se[De]=ke.newValue,he=!0)}return new i(Se,he)}class r{constructor(ae,he=null){this.schema=void 0,this.id=ae,this.name="_never_",this.defaultValue=void 0,this.deps=he}applyUpdate(ae,he){return t(ae,he)}validate(ae){return this.defaultValue}}class c{constructor(ae,he,De,ke){this.id=ae,this.name=he,this.defaultValue=De,this.schema=ke}applyUpdate(ae,he){return t(ae,he)}validate(ae){return typeof ae=="undefined"?this.defaultValue:ae}compute(ae,he,De){return De}}function l(Se,ae){return typeof Se=="undefined"?ae:Se==="false"?!1:Boolean(Se)}e.boolean=l;class a extends c{constructor(ae,he,De,ke=void 0){typeof ke!="undefined"&&(ke.type="boolean",ke.default=De),super(ae,he,De,ke)}validate(ae){return l(ae,this.defaultValue)}}function s(Se,ae,he,De){if(typeof Se=="undefined")return ae;let ke=parseInt(Se,10);return isNaN(ke)?ae:(ke=Math.max(he,ke),ke=Math.min(De,ke),ke|0)}e.clampedInt=s;class o extends c{constructor(ae,he,De,ke,Ve,Fe=void 0){typeof Fe!="undefined"&&(Fe.type="integer",Fe.default=De,Fe.minimum=ke,Fe.maximum=Ve),super(ae,he,De,Fe),this.minimum=ke,this.maximum=Ve}static clampedInt(ae,he,De,ke){return s(ae,he,De,ke)}validate(ae){return o.clampedInt(ae,this.defaultValue,this.minimum,this.maximum)}}class n extends c{constructor(ae,he,De,ke,Ve){typeof Ve!="undefined"&&(Ve.type="number",Ve.default=De),super(ae,he,De,Ve),this.validationFn=ke}static clamp(ae,he,De){return ae<he?he:ae>De?De:ae}static float(ae,he){if(typeof ae=="number")return ae;if(typeof ae=="undefined")return he;const De=parseFloat(ae);return isNaN(De)?he:De}validate(ae){return this.validationFn(n.float(ae,this.defaultValue))}}class d extends c{static string(ae,he){return typeof ae!="string"?he:ae}constructor(ae,he,De,ke=void 0){typeof ke!="undefined"&&(ke.type="string",ke.default=De),super(ae,he,De,ke)}validate(ae){return d.string(ae,this.defaultValue)}}function u(Se,ae,he){return typeof Se!="string"||he.indexOf(Se)===-1?ae:Se}e.stringSet=u;class f extends c{constructor(ae,he,De,ke,Ve=void 0){typeof Ve!="undefined"&&(Ve.type="string",Ve.enum=ke,Ve.default=De),super(ae,he,De,Ve),this._allowedValues=ke}validate(ae){return u(ae,this.defaultValue,this._allowedValues)}}class S extends g{constructor(ae,he,De,ke,Ve,Fe,xe=void 0){typeof xe!="undefined"&&(xe.type="string",xe.enum=Ve,xe.default=ke),super(ae,he,De,xe),this._allowedValues=Ve,this._convert=Fe}validate(ae){return typeof ae!="string"?this.defaultValue:this._allowedValues.indexOf(ae)===-1?this.defaultValue:this._convert(ae)}}function v(Se){switch(Se){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class m extends g{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[y.localize(0,null),y.localize(1,null),y.localize(2,null)],default:"auto",description:y.localize(3,null)})}validate(ae){switch(ae){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(ae,he,De){return De===0?ae.accessibilitySupport:De}}class _ extends g{constructor(){const ae={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",ae,{"editor.comments.insertSpace":{type:"boolean",default:ae.insertSpace,description:y.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:ae.ignoreEmptyLines,description:y.localize(5,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const he=ae;return{insertSpace:l(he.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:l(he.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function L(Se){switch(Se){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var w;(function(Se){Se[Se.Line=1]="Line",Se[Se.Block=2]="Block",Se[Se.Underline=3]="Underline",Se[Se.LineThin=4]="LineThin",Se[Se.BlockOutline=5]="BlockOutline",Se[Se.UnderlineThin=6]="UnderlineThin"})(w=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function k(Se){switch(Se){case"line":return w.Line;case"block":return w.Block;case"underline":return w.Underline;case"line-thin":return w.LineThin;case"block-outline":return w.BlockOutline;case"underline-thin":return w.UnderlineThin}}class D extends r{constructor(){super(127,[65,33])}compute(ae,he,De){const ke=["monaco-editor"];return he.get(33)&&ke.push(he.get(33)),ae.extraEditorClassName&&ke.push(ae.extraEditorClassName),he.get(65)==="default"?ke.push("mouse-default"):he.get(65)==="copy"&&ke.push("mouse-copy"),he.get(99)&&ke.push("showUnused"),he.get(125)&&ke.push("showDeprecated"),ke.join(" ")}}class M extends a{constructor(){super(32,"emptySelectionClipboard",!0,{description:y.localize(6,null)})}compute(ae,he,De){return De&&ae.emptySelectionClipboard}}class O extends g{constructor(){const ae={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",ae,{"editor.find.cursorMoveOnType":{type:"boolean",default:ae.cursorMoveOnType,description:y.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:ae.seedSearchStringFromSelection,enumDescriptions:[y.localize(8,null),y.localize(9,null),y.localize(10,null)],description:y.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:ae.autoFindInSelection,enumDescriptions:[y.localize(12,null),y.localize(13,null),y.localize(14,null)],description:y.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:ae.globalFindClipboard,description:y.localize(16,null),included:N.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:ae.addExtraSpaceOnTop,description:y.localize(17,null)},"editor.find.loop":{type:"boolean",default:ae.loop,description:y.localize(18,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const he=ae;return{cursorMoveOnType:l(he.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof ae.seedSearchStringFromSelection=="boolean"?ae.seedSearchStringFromSelection?"always":"never":u(he.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof ae.autoFindInSelection=="boolean"?ae.autoFindInSelection?"always":"never":u(he.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:l(he.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:l(he.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:l(he.loop,this.defaultValue.loop)}}}class F extends g{constructor(){super(44,"fontLigatures",F.OFF,{anyOf:[{type:"boolean",description:y.localize(19,null)},{type:"string",description:y.localize(20,null)}],description:y.localize(21,null),default:!1})}validate(ae){return typeof ae=="undefined"?this.defaultValue:typeof ae=="string"?ae==="false"?F.OFF:ae==="true"?F.ON:ae:Boolean(ae)?F.ON:F.OFF}}e.EditorFontLigatures=F,F.OFF='"liga" off, "calt" off',F.ON='"liga" on, "calt" on';class R extends r{constructor(){super(43)}compute(ae,he,De){return ae.fontInfo}}class A extends c{constructor(){super(45,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:y.localize(22,null)})}validate(ae){let he=n.float(ae,this.defaultValue);return he===0?e.EDITOR_FONT_DEFAULTS.fontSize:n.clamp(he,6,100)}compute(ae,he,De){return ae.fontInfo.fontSize}}class P extends g{constructor(){super(46,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:P.MINIMUM_VALUE,maximum:P.MAXIMUM_VALUE,errorMessage:y.localize(23,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:P.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:y.localize(24,null)})}validate(ae){return ae==="normal"||ae==="bold"?ae:String(o.clampedInt(ae,e.EDITOR_FONT_DEFAULTS.fontWeight,P.MINIMUM_VALUE,P.MAXIMUM_VALUE))}}P.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],P.MINIMUM_VALUE=1,P.MAXIMUM_VALUE=1e3;class E extends g{constructor(){const ae={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},he={type:"string",enum:["peek","gotoAndPeek","goto"],default:ae.multiple,enumDescriptions:[y.localize(25,null),y.localize(26,null),y.localize(27,null)]},De=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(50,"gotoLocation",ae,{"editor.gotoLocation.multiple":{deprecationMessage:y.localize(28,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:y.localize(29,null)},he),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:y.localize(30,null)},he),"editor.gotoLocation.multipleDeclarations":Object.assign({description:y.localize(31,null)},he),"editor.gotoLocation.multipleImplementations":Object.assign({description:y.localize(32,null)},he),"editor.gotoLocation.multipleReferences":Object.assign({description:y.localize(33,null)},he),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:ae.alternativeDefinitionCommand,enum:De,description:y.localize(34,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:ae.alternativeTypeDefinitionCommand,enum:De,description:y.localize(35,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:ae.alternativeDeclarationCommand,enum:De,description:y.localize(36,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:ae.alternativeImplementationCommand,enum:De,description:y.localize(37,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:ae.alternativeReferenceCommand,enum:De,description:y.localize(38,null)}})}validate(ae){var he,De,ke,Ve,Fe;if(!ae||typeof ae!="object")return this.defaultValue;const xe=ae;return{multiple:u(xe.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(he=xe.multipleDefinitions)!==null&&he!==void 0?he:u(xe.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(De=xe.multipleTypeDefinitions)!==null&&De!==void 0?De:u(xe.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(ke=xe.multipleDeclarations)!==null&&ke!==void 0?ke:u(xe.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Ve=xe.multipleImplementations)!==null&&Ve!==void 0?Ve:u(xe.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Fe=xe.multipleReferences)!==null&&Fe!==void 0?Fe:u(xe.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:d.string(xe.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:d.string(xe.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:d.string(xe.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:d.string(xe.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:d.string(xe.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class B extends g{constructor(){const ae={enabled:!0,delay:300,sticky:!0,above:!0};super(52,"hover",ae,{"editor.hover.enabled":{type:"boolean",default:ae.enabled,description:y.localize(39,null)},"editor.hover.delay":{type:"number",default:ae.delay,description:y.localize(40,null)},"editor.hover.sticky":{type:"boolean",default:ae.sticky,description:y.localize(41,null)},"editor.hover.above":{type:"boolean",default:ae.above,description:y.localize(42,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const he=ae;return{enabled:l(he.enabled,this.defaultValue.enabled),delay:o.clampedInt(he.delay,this.defaultValue.delay,0,1e4),sticky:l(he.sticky,this.defaultValue.sticky),above:l(he.above,this.defaultValue.above)}}}class V extends r{constructor(){super(130,[49,57,37,64,91,59,60,93,117,120,121,122,2])}compute(ae,he,De){return V.computeLayout(he,{memory:ae.memory,outerWidth:ae.outerWidth,outerHeight:ae.outerHeight,isDominatedByLongLines:ae.isDominatedByLongLines,lineHeight:ae.fontInfo.lineHeight,viewLineCount:ae.viewLineCount,lineNumbersDigitCount:ae.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ae.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ae.fontInfo.maxDigitWidth,pixelRatio:ae.pixelRatio})}static computeContainedMinimapLineCount(ae){const he=ae.height/ae.lineHeight,De=ae.scrollBeyondLastLine?he-1:0,ke=(ae.viewLineCount+De)/(ae.pixelRatio*ae.height),Ve=Math.floor(ae.viewLineCount/ke);return{typicalViewportLineCount:he,extraLinesBeyondLastLine:De,desiredRatio:ke,minimapLineCount:Ve}}static _computeMinimapLayout(ae,he){const De=ae.outerWidth,ke=ae.outerHeight,Ve=ae.pixelRatio;if(!ae.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Ve*ke),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:ke};const Fe=he.stableMinimapLayoutInput,xe=Fe&&ae.outerHeight===Fe.outerHeight&&ae.lineHeight===Fe.lineHeight&&ae.typicalHalfwidthCharacterWidth===Fe.typicalHalfwidthCharacterWidth&&ae.pixelRatio===Fe.pixelRatio&&ae.scrollBeyondLastLine===Fe.scrollBeyondLastLine&&ae.minimap.enabled===Fe.minimap.enabled&&ae.minimap.side===Fe.minimap.side&&ae.minimap.size===Fe.minimap.size&&ae.minimap.showSlider===Fe.minimap.showSlider&&ae.minimap.renderCharacters===Fe.minimap.renderCharacters&&ae.minimap.maxColumn===Fe.minimap.maxColumn&&ae.minimap.scale===Fe.minimap.scale&&ae.verticalScrollbarWidth===Fe.verticalScrollbarWidth&&ae.isViewportWrapping===Fe.isViewportWrapping,Ze=ae.lineHeight,je=ae.typicalHalfwidthCharacterWidth,$e=ae.scrollBeyondLastLine,Le=ae.minimap.renderCharacters;let Ee=Ve>=2?Math.round(ae.minimap.scale*2):ae.minimap.scale;const Pe=ae.minimap.maxColumn,ze=ae.minimap.size,Te=ae.minimap.side,Ne=ae.verticalScrollbarWidth,Me=ae.viewLineCount,me=ae.remainingWidth,ve=ae.isViewportWrapping,Ie=Le?2:3;let ye=Math.floor(Ve*ke);const we=ye/Ve;let Oe=!1,Re=!1,We=Ie*Ee,Ke=Ee/Ve,He=1;if(ze==="fill"||ze==="fit"){const{typicalViewportLineCount:st,extraLinesBeyondLastLine:Je,desiredRatio:at,minimapLineCount:mt}=V.computeContainedMinimapLineCount({viewLineCount:Me,scrollBeyondLastLine:$e,height:ke,lineHeight:Ze,pixelRatio:Ve});if(Me/mt>1)Oe=!0,Re=!0,Ee=1,We=1,Ke=Ee/Ve;else{let rt=!1,ot=Ee+1;if(ze==="fit"){const ut=Math.ceil((Me+Je)*We);ve&&xe&&me<=he.stableFitRemainingWidth?(rt=!0,ot=he.stableFitMaxMinimapScale):rt=ut>ye}if(ze==="fill"||rt){Oe=!0;const ut=Ee;We=Math.min(Ze*Ve,Math.max(1,Math.floor(1/at))),ve&&xe&&me<=he.stableFitRemainingWidth&&(ot=he.stableFitMaxMinimapScale),Ee=Math.min(ot,Math.max(1,Math.floor(We/Ie))),Ee>ut&&(He=Math.min(2,Ee/ut)),Ke=Ee/Ve/He,ye=Math.ceil(Math.max(st,Me+Je)*We),ve?(he.stableMinimapLayoutInput=ae,he.stableFitRemainingWidth=me,he.stableFitMaxMinimapScale=Ee):(he.stableMinimapLayoutInput=null,he.stableFitRemainingWidth=0)}}}const Ge=Math.floor(Pe*Ke),qe=Math.min(Ge,Math.max(0,Math.floor((me-Ne-2)*Ke/(je+Ke)))+e.MINIMAP_GUTTER_WIDTH);let Ue=Math.floor(Ve*qe);const Qe=Ue/Ve;Ue=Math.floor(Ue*He);const Ye=Le?1:2,et=Te==="left"?0:De-qe-Ne;return{renderMinimap:Ye,minimapLeft:et,minimapWidth:qe,minimapHeightIsEditorHeight:Oe,minimapIsSampling:Re,minimapScale:Ee,minimapLineHeight:We,minimapCanvasInnerWidth:Ue,minimapCanvasInnerHeight:ye,minimapCanvasOuterWidth:Qe,minimapCanvasOuterHeight:we}}static computeLayout(ae,he){const De=he.outerWidth|0,ke=he.outerHeight|0,Ve=he.lineHeight|0,Fe=he.lineNumbersDigitCount|0,xe=he.typicalHalfwidthCharacterWidth,Ze=he.maxDigitWidth,je=he.pixelRatio,$e=he.viewLineCount,Le=ae.get(122),Ee=Le==="inherit"?ae.get(121):Le,Pe=Ee==="inherit"?ae.get(117):Ee,ze=ae.get(120),Te=ae.get(2),Ne=he.isDominatedByLongLines,Me=ae.get(49),me=ae.get(59).renderType!==0,ve=ae.get(60),Ie=ae.get(93),ye=ae.get(64),we=ae.get(91),Oe=we.verticalScrollbarSize,Re=we.verticalHasArrows,We=we.arrowSize,Ke=we.horizontalScrollbarSize,He=ae.get(57),Ge=ae.get(37);let qe;if(typeof He=="string"&&/^\d+(\.\d+)?ch$/.test(He)){const $t=parseFloat(He.substr(0,He.length-2));qe=o.clampedInt($t*xe,0,0,1e3)}else qe=o.clampedInt(He,0,0,1e3);Ge&&(qe+=16);let Ue=0;if(me){const $t=Math.max(Fe,ve);Ue=Math.round($t*Ze)}let Qe=0;Me&&(Qe=Ve);let Ye=0,et=Ye+Qe,st=et+Ue,Je=st+qe;const at=De-Qe-Ue-qe;let mt=!1,lt=!1,rt=-1;Te!==2&&(Ee==="inherit"&&Ne?(mt=!0,lt=!0):Pe==="on"||Pe==="bounded"?lt=!0:Pe==="wordWrapColumn"&&(rt=ze));const ot=V._computeMinimapLayout({outerWidth:De,outerHeight:ke,lineHeight:Ve,typicalHalfwidthCharacterWidth:xe,pixelRatio:je,scrollBeyondLastLine:Ie,minimap:ye,verticalScrollbarWidth:Oe,viewLineCount:$e,remainingWidth:at,isViewportWrapping:lt},he.memory||new h);ot.renderMinimap!==0&&ot.minimapLeft===0&&(Ye+=ot.minimapWidth,et+=ot.minimapWidth,st+=ot.minimapWidth,Je+=ot.minimapWidth);const ut=at-ot.minimapWidth,pi=Math.max(1,Math.floor((ut-Oe-2)/xe)),Ci=Re?We:0;return lt&&(rt=Math.max(1,pi),Pe==="bounded"&&(rt=Math.min(rt,ze))),{width:De,height:ke,glyphMarginLeft:Ye,glyphMarginWidth:Qe,lineNumbersLeft:et,lineNumbersWidth:Ue,decorationsLeft:st,decorationsWidth:qe,contentLeft:Je,contentWidth:ut,minimap:ot,viewportColumn:pi,isWordWrapMinified:mt,isViewportWrapping:lt,wrappingColumn:rt,verticalScrollbarWidth:Oe,horizontalScrollbarHeight:Ke,overviewRuler:{top:Ci,width:Oe,height:ke-2*Ci,right:0}}}}e.EditorLayoutInfoComputer=V;class j extends g{constructor(){const ae={enabled:!0};super(56,"lightbulb",ae,{"editor.lightbulb.enabled":{type:"boolean",default:ae.enabled,description:y.localize(43,null)}})}validate(ae){return!ae||typeof ae!="object"?this.defaultValue:{enabled:l(ae.enabled,this.defaultValue.enabled)}}}class K extends g{constructor(){const ae={enabled:!0,fontSize:0,fontFamily:""};super(126,"inlayHints",ae,{"editor.inlayHints.enabled":{type:"boolean",default:ae.enabled,description:y.localize(44,null)},"editor.inlayHints.fontSize":{type:"number",default:ae.fontSize,markdownDescription:y.localize(45,null)},"editor.inlayHints.fontFamily":{type:"string",default:ae.fontFamily,markdownDescription:y.localize(46,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const he=ae;return{enabled:l(he.enabled,this.defaultValue.enabled),fontSize:o.clampedInt(he.fontSize,this.defaultValue.fontSize,0,100),fontFamily:d.string(he.fontFamily,this.defaultValue.fontFamily)}}}class Y extends n{constructor(){super(58,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,ae=>n.clamp(ae,0,150),{markdownDescription:y.localize(47,null)})}compute(ae,he,De){return ae.fontInfo.lineHeight}}class J extends g{constructor(){const ae={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(64,"minimap",ae,{"editor.minimap.enabled":{type:"boolean",default:ae.enabled,description:y.localize(48,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[y.localize(49,null),y.localize(50,null),y.localize(51,null)],default:ae.size,description:y.localize(52,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:ae.side,description:y.localize(53,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:ae.showSlider,description:y.localize(54,null)},"editor.minimap.scale":{type:"number",default:ae.scale,minimum:1,maximum:3,enum:[1,2,3],description:y.localize(55,null)},"editor.minimap.renderCharacters":{type:"boolean",default:ae.renderCharacters,description:y.localize(56,null)},"editor.minimap.maxColumn":{type:"number",default:ae.maxColumn,description:y.localize(57,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const he=ae;return{enabled:l(he.enabled,this.defaultValue.enabled),size:u(he.size,this.defaultValue.size,["proportional","fill","fit"]),side:u(he.side,this.defaultValue.side,["right","left"]),showSlider:u(he.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:l(he.renderCharacters,this.defaultValue.renderCharacters),scale:o.clampedInt(he.scale,1,1,3),maxColumn:o.clampedInt(he.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Z(Se){return Se==="ctrlCmd"?N.isMacintosh?"metaKey":"ctrlKey":"altKey"}class ie extends g{constructor(){super(74,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:y.localize(58,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:y.localize(59,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const he=ae;return{top:o.clampedInt(he.top,0,0,1e3),bottom:o.clampedInt(he.bottom,0,0,1e3)}}}class ne extends g{constructor(){const ae={enabled:!0,cycle:!1};super(75,"parameterHints",ae,{"editor.parameterHints.enabled":{type:"boolean",default:ae.enabled,description:y.localize(60,null)},"editor.parameterHints.cycle":{type:"boolean",default:ae.cycle,description:y.localize(61,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const he=ae;return{enabled:l(he.enabled,this.defaultValue.enabled),cycle:l(he.cycle,this.defaultValue.cycle)}}}class G extends r{constructor(){super(128)}compute(ae,he,De){return ae.pixelRatio}}class W extends g{constructor(){const ae={other:!0,comments:!1,strings:!1};super(78,"quickSuggestions",ae,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:ae.strings,description:y.localize(62,null)},comments:{type:"boolean",default:ae.comments,description:y.localize(63,null)},other:{type:"boolean",default:ae.other,description:y.localize(64,null)}}}],default:ae,description:y.localize(65,null)});this.defaultValue=ae}validate(ae){if(typeof ae=="boolean")return ae;if(ae&&typeof ae=="object"){const he=ae,De={other:l(he.other,this.defaultValue.other),comments:l(he.comments,this.defaultValue.comments),strings:l(he.strings,this.defaultValue.strings)};return De.other&&De.comments&&De.strings?!0:!De.other&&!De.comments&&!De.strings?!1:De}return this.defaultValue}}class z extends g{constructor(){super(59,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[y.localize(66,null),y.localize(67,null),y.localize(68,null),y.localize(69,null)],default:"on",description:y.localize(70,null)})}validate(ae){let he=this.defaultValue.renderType,De=this.defaultValue.renderFn;return typeof ae!="undefined"&&(typeof ae=="function"?(he=4,De=ae):ae==="interval"?he=3:ae==="relative"?he=2:ae==="on"?he=1:he=0),{renderType:he,renderFn:De}}}function U(Se){const ae=Se.get(86);return ae==="editable"?Se.get(80):ae!=="on"}e.filterValidationDecorations=U;class x extends g{constructor(){const ae=[],he={type:"number",description:y.localize(71,null)};super(90,"rulers",ae,{type:"array",items:{anyOf:[he,{type:["object"],properties:{column:he,color:{type:"string",description:y.localize(72,null),format:"color-hex"}}}]},default:ae,description:y.localize(73,null)})}validate(ae){if(Array.isArray(ae)){let he=[];for(let De of ae)if(typeof De=="number")he.push({column:o.clampedInt(De,0,0,1e4),color:null});else if(De&&typeof De=="object"){const ke=De;he.push({column:o.clampedInt(ke.column,0,0,1e4),color:ke.color})}return he.sort((De,ke)=>De.column-ke.column),he}return this.defaultValue}}function X(Se,ae){if(typeof Se!="string")return ae;switch(Se){case"hidden":return 2;case"visible":return 3;default:return 1}}class le extends g{constructor(){const ae={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",ae,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[y.localize(74,null),y.localize(75,null),y.localize(76,null)],default:"auto",description:y.localize(77,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[y.localize(78,null),y.localize(79,null),y.localize(80,null)],default:"auto",description:y.localize(81,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:ae.verticalScrollbarSize,description:y.localize(82,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:ae.horizontalScrollbarSize,description:y.localize(83,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:ae.scrollByPage,description:y.localize(84,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const he=ae,De=o.clampedInt(he.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),ke=o.clampedInt(he.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:o.clampedInt(he.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:X(he.vertical,this.defaultValue.vertical),horizontal:X(he.horizontal,this.defaultValue.horizontal),useShadows:l(he.useShadows,this.defaultValue.useShadows),verticalHasArrows:l(he.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:l(he.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:l(he.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:l(he.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:De,horizontalSliderSize:o.clampedInt(he.horizontalSliderSize,De,0,1e3),verticalScrollbarSize:ke,verticalSliderSize:o.clampedInt(he.verticalSliderSize,ke,0,1e3),scrollByPage:l(he.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments"};class fe extends g{constructor(){const ae={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,allowedCharacters:{}};super(112,"unicodeHighlight",ae,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ae.nonBasicASCII,description:y.localize(85,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:ae.invisibleCharacters,description:y.localize(86,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:ae.ambiguousCharacters,description:y.localize(87,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ae.includeComments,description:y.localize(88,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:ae.allowedCharacters,description:y.localize(89,null),additionalProperties:{type:"boolean"}}})}applyUpdate(ae,he){let De=!1;he.allowedCharacters&&(b.equals(ae.allowedCharacters,he.allowedCharacters)||(ae=Object.assign(Object.assign({},ae),{allowedCharacters:he.allowedCharacters}),De=!0));const ke=super.applyUpdate(ae,he);return De?new i(ke.newValue,!0):ke}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const he=ae;return{nonBasicASCII:re(he.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:l(he.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:l(he.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:re(he.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateAllowedCharacters(ae.allowedCharacters,this.defaultValue.allowedCharacters)}}validateAllowedCharacters(ae,he){if(typeof ae!="object"||!ae)return he;const De={};for(const[ke,Ve]of Object.entries(ae))Ve===!0&&(De[ke]=!0);return De}}class $ extends g{constructor(){const ae={enabled:!0,mode:"subwordSmart"};super(54,"inlineSuggest",ae,{"editor.inlineSuggest.enabled":{type:"boolean",default:ae.enabled,description:y.localize(90,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const he=ae;return{enabled:l(he.enabled,this.defaultValue.enabled),mode:u(he.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class H extends g{constructor(){const ae={enabled:e.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",ae,{"editor.bracketPairColorization.enabled":{type:"boolean",default:ae.enabled,description:y.localize(91,null)}})}validate(ae){return!ae||typeof ae!="object"?this.defaultValue:{enabled:l(ae.enabled,this.defaultValue.enabled)}}}class Q extends g{constructor(){const ae={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",ae,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[y.localize(92,null),y.localize(93,null),y.localize(94,null)],default:ae.bracketPairs,description:y.localize(95,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[y.localize(96,null),y.localize(97,null),y.localize(98,null)],default:ae.bracketPairsHorizontal,description:y.localize(99,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:ae.highlightActiveBracketPair,description:y.localize(100,null)},"editor.guides.indentation":{type:"boolean",default:ae.indentation,description:y.localize(101,null)},"editor.guides.highlightActiveIndentation":{type:"boolean",default:ae.highlightActiveIndentation,description:y.localize(102,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const he=ae;return{bracketPairs:re(he.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:re(he.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:l(he.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:l(he.indentation,this.defaultValue.indentation),highlightActiveIndentation:l(he.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}function re(Se,ae,he){const De=he.indexOf(Se);return De===-1?ae:he[De]}class ce extends g{constructor(){const ae={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",ae,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[y.localize(103,null),y.localize(104,null)],default:ae.insertMode,description:y.localize(105,null)},"editor.suggest.filterGraceful":{type:"boolean",default:ae.filterGraceful,description:y.localize(106,null)},"editor.suggest.localityBonus":{type:"boolean",default:ae.localityBonus,description:y.localize(107,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:ae.shareSuggestSelections,markdownDescription:y.localize(108,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:ae.snippetsPreventQuickSuggestions,description:y.localize(109,null)},"editor.suggest.showIcons":{type:"boolean",default:ae.showIcons,description:y.localize(110,null)},"editor.suggest.showStatusBar":{type:"boolean",default:ae.showStatusBar,description:y.localize(111,null)},"editor.suggest.preview":{type:"boolean",default:ae.preview,description:y.localize(112,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:ae.showInlineDetails,description:y.localize(113,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:y.localize(114,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:y.localize(115,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:y.localize(116,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:y.localize(117,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:y.localize(118,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:y.localize(119,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:y.localize(120,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:y.localize(121,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:y.localize(122,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:y.localize(123,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:y.localize(124,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:y.localize(125,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:y.localize(126,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:y.localize(127,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:y.localize(128,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:y.localize(129,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:y.localize(130,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:y.localize(131,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:y.localize(132,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:y.localize(133,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:y.localize(134,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:y.localize(135,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:y.localize(136,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:y.localize(137,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:y.localize(138,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:y.localize(139,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:y.localize(140,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:y.localize(141,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:y.localize(142,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:y.localize(143,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:y.localize(144,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const he=ae;return{insertMode:u(he.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:l(he.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:l(he.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:l(he.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:l(he.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:l(he.showIcons,this.defaultValue.showIcons),showStatusBar:l(he.showStatusBar,this.defaultValue.showStatusBar),preview:l(he.preview,this.defaultValue.preview),previewMode:u(he.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:l(he.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:l(he.showMethods,this.defaultValue.showMethods),showFunctions:l(he.showFunctions,this.defaultValue.showFunctions),showConstructors:l(he.showConstructors,this.defaultValue.showConstructors),showDeprecated:l(he.showDeprecated,this.defaultValue.showDeprecated),showFields:l(he.showFields,this.defaultValue.showFields),showVariables:l(he.showVariables,this.defaultValue.showVariables),showClasses:l(he.showClasses,this.defaultValue.showClasses),showStructs:l(he.showStructs,this.defaultValue.showStructs),showInterfaces:l(he.showInterfaces,this.defaultValue.showInterfaces),showModules:l(he.showModules,this.defaultValue.showModules),showProperties:l(he.showProperties,this.defaultValue.showProperties),showEvents:l(he.showEvents,this.defaultValue.showEvents),showOperators:l(he.showOperators,this.defaultValue.showOperators),showUnits:l(he.showUnits,this.defaultValue.showUnits),showValues:l(he.showValues,this.defaultValue.showValues),showConstants:l(he.showConstants,this.defaultValue.showConstants),showEnums:l(he.showEnums,this.defaultValue.showEnums),showEnumMembers:l(he.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:l(he.showKeywords,this.defaultValue.showKeywords),showWords:l(he.showWords,this.defaultValue.showWords),showColors:l(he.showColors,this.defaultValue.showColors),showFiles:l(he.showFiles,this.defaultValue.showFiles),showReferences:l(he.showReferences,this.defaultValue.showReferences),showFolders:l(he.showFolders,this.defaultValue.showFolders),showTypeParameters:l(he.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:l(he.showSnippets,this.defaultValue.showSnippets),showUsers:l(he.showUsers,this.defaultValue.showUsers),showIssues:l(he.showIssues,this.defaultValue.showIssues)}}}class oe extends g{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:y.localize(145,null),default:!0,type:"boolean"}})}validate(ae){return!ae||typeof ae!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:l(ae.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class de extends r{constructor(){super(129,[80])}compute(ae,he,De){return he.get(80)?!0:ae.tabFocusMode}}function pe(Se){switch(Se){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class _e extends r{constructor(){super(131,[130])}compute(ae,he,De){const ke=he.get(130);return{isDominatedByLongLines:ae.isDominatedByLongLines,isWordWrapMinified:ke.isWordWrapMinified,isViewportWrapping:ke.isViewportWrapping,wrappingColumn:ke.wrappingColumn}}}const se="Consolas, 'Courier New', monospace",ue="Menlo, Monaco, 'Courier New', monospace",be="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";e.EDITOR_FONT_DEFAULTS={fontFamily:N.isMacintosh?ue:N.isLinux?be:se,fontWeight:"normal",fontSize:N.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},e.editorOptionsRegistry=[];function ge(Se){return e.editorOptionsRegistry[Se.id]=Se,Se}e.EditorOptions={acceptSuggestionOnCommitCharacter:ge(new a(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:y.localize(146,null)})),acceptSuggestionOnEnter:ge(new f(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",y.localize(147,null),""],markdownDescription:y.localize(148,null)})),accessibilitySupport:ge(new m),accessibilityPageSize:ge(new o(3,"accessibilityPageSize",10,1,1073741824,{description:y.localize(149,null)})),ariaLabel:ge(new d(4,"ariaLabel",y.localize(150,null))),autoClosingBrackets:ge(new f(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",y.localize(151,null),y.localize(152,null),""],description:y.localize(153,null)})),autoClosingDelete:ge(new f(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",y.localize(154,null),""],description:y.localize(155,null)})),autoClosingOvertype:ge(new f(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",y.localize(156,null),""],description:y.localize(157,null)})),autoClosingQuotes:ge(new f(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",y.localize(158,null),y.localize(159,null),""],description:y.localize(160,null)})),autoIndent:ge(new S(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],v,{enumDescriptions:[y.localize(161,null),y.localize(162,null),y.localize(163,null),y.localize(164,null),y.localize(165,null)],description:y.localize(166,null)})),automaticLayout:ge(new a(10,"automaticLayout",!1)),autoSurround:ge(new f(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[y.localize(167,null),y.localize(168,null),y.localize(169,null),""],description:y.localize(170,null)})),bracketPairColorization:ge(new H),bracketPairGuides:ge(new Q),stickyTabStops:ge(new a(103,"stickyTabStops",!1,{description:y.localize(171,null)})),codeLens:ge(new a(14,"codeLens",!0,{description:y.localize(172,null)})),codeLensFontFamily:ge(new d(15,"codeLensFontFamily","",{description:y.localize(173,null)})),codeLensFontSize:ge(new o(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:y.localize(174,null)})),colorDecorators:ge(new a(17,"colorDecorators",!0,{description:y.localize(175,null)})),columnSelection:ge(new a(18,"columnSelection",!1,{description:y.localize(176,null)})),comments:ge(new _),contextmenu:ge(new a(20,"contextmenu",!0)),copyWithSyntaxHighlighting:ge(new a(21,"copyWithSyntaxHighlighting",!0,{description:y.localize(177,null)})),cursorBlinking:ge(new S(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],L,{description:y.localize(178,null)})),cursorSmoothCaretAnimation:ge(new a(23,"cursorSmoothCaretAnimation",!1,{description:y.localize(179,null)})),cursorStyle:ge(new S(24,"cursorStyle",w.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],k,{description:y.localize(180,null)})),cursorSurroundingLines:ge(new o(25,"cursorSurroundingLines",0,0,1073741824,{description:y.localize(181,null)})),cursorSurroundingLinesStyle:ge(new f(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[y.localize(182,null),y.localize(183,null)],description:y.localize(184,null)})),cursorWidth:ge(new o(27,"cursorWidth",0,0,1073741824,{markdownDescription:y.localize(185,null)})),disableLayerHinting:ge(new a(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:ge(new a(29,"disableMonospaceOptimizations",!1)),domReadOnly:ge(new a(30,"domReadOnly",!1)),dragAndDrop:ge(new a(31,"dragAndDrop",!0,{description:y.localize(186,null)})),emptySelectionClipboard:ge(new M),extraEditorClassName:ge(new d(33,"extraEditorClassName","")),fastScrollSensitivity:ge(new n(34,"fastScrollSensitivity",5,Se=>Se<=0?5:Se,{markdownDescription:y.localize(187,null)})),find:ge(new O),fixedOverflowWidgets:ge(new a(36,"fixedOverflowWidgets",!1)),folding:ge(new a(37,"folding",!0,{description:y.localize(188,null)})),foldingStrategy:ge(new f(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[y.localize(189,null),y.localize(190,null)],description:y.localize(191,null)})),foldingHighlight:ge(new a(39,"foldingHighlight",!0,{description:y.localize(192,null)})),foldingImportsByDefault:ge(new a(40,"foldingImportsByDefault",!1,{description:y.localize(193,null)})),unfoldOnClickAfterEndOfLine:ge(new a(41,"unfoldOnClickAfterEndOfLine",!1,{description:y.localize(194,null)})),fontFamily:ge(new d(42,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:y.localize(195,null)})),fontInfo:ge(new R),fontLigatures2:ge(new F),fontSize:ge(new A),fontWeight:ge(new P),formatOnPaste:ge(new a(47,"formatOnPaste",!1,{description:y.localize(196,null)})),formatOnType:ge(new a(48,"formatOnType",!1,{description:y.localize(197,null)})),glyphMargin:ge(new a(49,"glyphMargin",!0,{description:y.localize(198,null)})),gotoLocation:ge(new E),hideCursorInOverviewRuler:ge(new a(51,"hideCursorInOverviewRuler",!1,{description:y.localize(199,null)})),hover:ge(new B),inDiffEditor:ge(new a(53,"inDiffEditor",!1)),letterSpacing:ge(new n(55,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,Se=>n.clamp(Se,-5,20),{description:y.localize(200,null)})),lightbulb:ge(new j),lineDecorationsWidth:ge(new c(57,"lineDecorationsWidth",10)),lineHeight:ge(new Y),lineNumbers:ge(new z),lineNumbersMinChars:ge(new o(60,"lineNumbersMinChars",5,1,300)),linkedEditing:ge(new a(61,"linkedEditing",!1,{description:y.localize(201,null)})),links:ge(new a(62,"links",!0,{description:y.localize(202,null)})),matchBrackets:ge(new f(63,"matchBrackets","always",["always","near","never"],{description:y.localize(203,null)})),minimap:ge(new J),mouseStyle:ge(new f(65,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ge(new n(66,"mouseWheelScrollSensitivity",1,Se=>Se===0?1:Se,{markdownDescription:y.localize(204,null)})),mouseWheelZoom:ge(new a(67,"mouseWheelZoom",!1,{markdownDescription:y.localize(205,null)})),multiCursorMergeOverlapping:ge(new a(68,"multiCursorMergeOverlapping",!0,{description:y.localize(206,null)})),multiCursorModifier:ge(new S(69,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Z,{markdownEnumDescriptions:[y.localize(207,null),y.localize(208,null)],markdownDescription:y.localize(209,null)})),multiCursorPaste:ge(new f(70,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[y.localize(210,null),y.localize(211,null)],markdownDescription:y.localize(212,null)})),occurrencesHighlight:ge(new a(71,"occurrencesHighlight",!0,{description:y.localize(213,null)})),overviewRulerBorder:ge(new a(72,"overviewRulerBorder",!0,{description:y.localize(214,null)})),overviewRulerLanes:ge(new o(73,"overviewRulerLanes",3,0,3)),padding:ge(new ie),parameterHints:ge(new ne),peekWidgetDefaultFocus:ge(new f(76,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[y.localize(215,null),y.localize(216,null)],description:y.localize(217,null)})),definitionLinkOpensInPeek:ge(new a(77,"definitionLinkOpensInPeek",!1,{description:y.localize(218,null)})),quickSuggestions:ge(new W),quickSuggestionsDelay:ge(new o(79,"quickSuggestionsDelay",10,0,1073741824,{description:y.localize(219,null)})),readOnly:ge(new a(80,"readOnly",!1)),renameOnType:ge(new a(81,"renameOnType",!1,{description:y.localize(220,null),markdownDeprecationMessage:y.localize(221,null)})),renderControlCharacters:ge(new a(82,"renderControlCharacters",!0,{description:y.localize(222,null),restricted:!0})),renderFinalNewline:ge(new a(83,"renderFinalNewline",!0,{description:y.localize(223,null)})),renderLineHighlight:ge(new f(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",y.localize(224,null)],description:y.localize(225,null)})),renderLineHighlightOnlyWhenFocus:ge(new a(85,"renderLineHighlightOnlyWhenFocus",!1,{description:y.localize(226,null)})),renderValidationDecorations:ge(new f(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ge(new f(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",y.localize(227,null),y.localize(228,null),y.localize(229,null),""],description:y.localize(230,null)})),revealHorizontalRightPadding:ge(new o(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:ge(new a(89,"roundedSelection",!0,{description:y.localize(231,null)})),rulers:ge(new x),scrollbar:ge(new le),scrollBeyondLastColumn:ge(new o(92,"scrollBeyondLastColumn",5,0,1073741824,{description:y.localize(232,null)})),scrollBeyondLastLine:ge(new a(93,"scrollBeyondLastLine",!0,{description:y.localize(233,null)})),scrollPredominantAxis:ge(new a(94,"scrollPredominantAxis",!0,{description:y.localize(234,null)})),selectionClipboard:ge(new a(95,"selectionClipboard",!0,{description:y.localize(235,null),included:N.isLinux})),selectionHighlight:ge(new a(96,"selectionHighlight",!0,{description:y.localize(236,null)})),selectOnLineNumbers:ge(new a(97,"selectOnLineNumbers",!0)),showFoldingControls:ge(new f(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[y.localize(237,null),y.localize(238,null)],description:y.localize(239,null)})),showUnused:ge(new a(99,"showUnused",!0,{description:y.localize(240,null)})),showDeprecated:ge(new a(125,"showDeprecated",!0,{description:y.localize(241,null)})),inlayHints:ge(new K),snippetSuggestions:ge(new f(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[y.localize(242,null),y.localize(243,null),y.localize(244,null),y.localize(245,null)],description:y.localize(246,null)})),smartSelect:ge(new oe),smoothScrolling:ge(new a(102,"smoothScrolling",!1,{description:y.localize(247,null)})),stopRenderingLineAfter:ge(new o(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ge(new ce),inlineSuggest:ge(new $),suggestFontSize:ge(new o(106,"suggestFontSize",0,0,1e3,{markdownDescription:y.localize(248,null)})),suggestLineHeight:ge(new o(107,"suggestLineHeight",0,0,1e3,{markdownDescription:y.localize(249,null)})),suggestOnTriggerCharacters:ge(new a(108,"suggestOnTriggerCharacters",!0,{description:y.localize(250,null)})),suggestSelection:ge(new f(109,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[y.localize(251,null),y.localize(252,null),y.localize(253,null)],description:y.localize(254,null)})),tabCompletion:ge(new f(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[y.localize(255,null),y.localize(256,null),y.localize(257,null)],description:y.localize(258,null)})),tabIndex:ge(new o(111,"tabIndex",0,-1,1073741824)),unicodeHighlight:ge(new fe),unusualLineTerminators:ge(new f(113,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[y.localize(259,null),y.localize(260,null),y.localize(261,null)],description:y.localize(262,null)})),useShadowDOM:ge(new a(114,"useShadowDOM",!0)),useTabStops:ge(new a(115,"useTabStops",!0,{description:y.localize(263,null)})),wordSeparators:ge(new d(116,"wordSeparators",T.USUAL_WORD_SEPARATORS,{description:y.localize(264,null)})),wordWrap:ge(new f(117,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[y.localize(265,null),y.localize(266,null),y.localize(267,null),y.localize(268,null)],description:y.localize(269,null)})),wordWrapBreakAfterCharacters:ge(new d(118,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:ge(new d(119,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:ge(new o(120,"wordWrapColumn",80,1,1073741824,{markdownDescription:y.localize(270,null)})),wordWrapOverride1:ge(new f(121,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ge(new f(122,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:ge(new S(123,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],pe,{enumDescriptions:[y.localize(271,null),y.localize(272,null),y.localize(273,null),y.localize(274,null)],description:y.localize(275,null)})),wrappingStrategy:ge(new f(124,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[y.localize(276,null),y.localize(277,null)],description:y.localize(278,null)})),editorClassName:ge(new D),pixelRatio:ge(new G),tabFocusMode:ge(new de),layoutInfo:ge(new V),wrappingInfo:ge(new _e)}}),define(ee[481],te([0,1,34,30]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class T{constructor(p,h){this.chr=p,this.type=h,this.width=0}fulfill(p){this.width=p}}e.CharWidthRequest=T;class I{constructor(p,h){this._bareFontInfo=p,this._requests=h,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const p=this._bareFontInfo.getMassagedFontFamily(y.isSafari?N.EDITOR_FONT_DEFAULTS.fontFamily:null),h=document.createElement("div");h.style.position="absolute",h.style.top="-50000px",h.style.width="50000px";const g=document.createElement("div");g.style.fontFamily=p,g.style.fontWeight=this._bareFontInfo.fontWeight,g.style.fontSize=this._bareFontInfo.fontSize+"px",g.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,g.style.lineHeight=this._bareFontInfo.lineHeight+"px",g.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",h.appendChild(g);const i=document.createElement("div");i.style.fontFamily=p,i.style.fontWeight="bold",i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",h.appendChild(i);const t=document.createElement("div");t.style.fontFamily=p,t.style.fontWeight=this._bareFontInfo.fontWeight,t.style.fontSize=this._bareFontInfo.fontSize+"px",t.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,t.style.lineHeight=this._bareFontInfo.lineHeight+"px",t.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.style.fontStyle="italic",h.appendChild(t);const r=[];for(const c of this._requests){let l;c.type===0&&(l=g),c.type===2&&(l=i),c.type===1&&(l=t),l.appendChild(document.createElement("br"));const a=document.createElement("span");I._render(a,c),l.appendChild(a),r.push(a)}this._container=h,this._testElements=r}static _render(p,h){if(h.chr===" "){let g="\xA0";for(let i=0;i<8;i++)g+=g;p.innerText=g}else{let g=h.chr;for(let i=0;i<8;i++)g+=g;p.textContent=g}}_readFromDomElements(){for(let p=0,h=this._requests.length;p<h;p++){const g=this._requests[p],i=this._testElements[p];g.fulfill(i.offsetWidth/256)}}}function b(C,p){new I(C,p).read()}e.readCharWidths=b}),define(ee[251],te([0,1,14,3,64,30]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class b{constructor(g,i,t,r,c){this.editorId=g,this.model=i,this.configuration=t,this._linesCollection=r,this._coordinatesConverter=c,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(g){const i=g.id;let t=this._decorationsCache[i];if(!t){const r=g.range,c=g.options;let l;if(c.isWholeLine){const a=this._coordinatesConverter.convertModelPositionToViewPosition(new y.Position(r.startLineNumber,1),0),s=this._coordinatesConverter.convertModelPositionToViewPosition(new y.Position(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);l=new N.Range(a.lineNumber,a.column,s.lineNumber,s.column)}else l=this._coordinatesConverter.convertModelRangeToViewRange(r,1);t=new T.ViewModelDecoration(l,c),this._decorationsCache[i]=t}return t}getDecorationsViewportData(g){let i=this._cachedModelDecorationsResolver!==null;return i=i&&g.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(g),this._cachedModelDecorationsResolverViewRange=g),this._cachedModelDecorationsResolver}_getDecorationsViewportData(g){const i=this._linesCollection.getDecorationsInRange(g,this.editorId,(0,I.filterValidationDecorations)(this.configuration.options)),t=g.startLineNumber,r=g.endLineNumber;let c=[],l=0,a=[];for(let s=t;s<=r;s++)a[s-t]=[];for(let s=0,o=i.length;s<o;s++){let n=i[s],d=n.options;if(!C(this.model,n))continue;let u=this._getOrCreateViewModelDecoration(n),f=u.range;if(c[l++]=u,d.inlineClassName){let S=new T.InlineDecoration(f,d.inlineClassName,d.inlineClassNameAffectsLetterSpacing?3:0),v=Math.max(t,f.startLineNumber),m=Math.min(r,f.endLineNumber);for(let _=v;_<=m;_++)a[_-t].push(S)}if(d.beforeContentClassName&&t<=f.startLineNumber&&f.startLineNumber<=r){let S=new T.InlineDecoration(new N.Range(f.startLineNumber,f.startColumn,f.startLineNumber,f.startColumn),d.beforeContentClassName,1);a[f.startLineNumber-t].push(S)}if(d.afterContentClassName&&t<=f.endLineNumber&&f.endLineNumber<=r){let S=new T.InlineDecoration(new N.Range(f.endLineNumber,f.endColumn,f.endLineNumber,f.endColumn),d.afterContentClassName,2);a[f.endLineNumber-t].push(S)}}return{decorations:c,inlineDecorations:a}}}e.ViewModelDecorations=b;function C(h,g){return!(g.options.hideInCommentTokens&&p(h,g.range,t=>t===1))}e.isModelDecorationVisible=C;function p(h,g,i){for(let t=g.startLineNumber;t<=g.endLineNumber;t++){const r=h.getLineTokens(t),c=t===g.startLineNumber,l=t===g.endLineNumber;let a=c?r.findTokenIndexAtOffset(g.startColumn-1):0;for(;a<r.getCount()&&!(l&&r.getStartOffset(a)>g.endColumn-1);){if(!i(r.getStandardTokenType(a)))return!1;a++}}return!0}}),define(ee[482],te([5,6]),function(q,e){return q.create("vs/editor/common/editorContextKeys",e)}),define(ee[483],te([5,6]),function(q,e){return q.create("vs/editor/common/model/editStack",e)}),define(ee[252],te([0,1,483,13,21,25,230,104,42]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function h(a){return a.toString()}class g{constructor(s,o,n,d,u,f,S){this.beforeVersionId=s,this.afterVersionId=o,this.beforeEOL=n,this.afterEOL=d,this.beforeCursorState=u,this.afterCursorState=f,this.changes=S}static create(s,o){const n=s.getAlternativeVersionId(),d=r(s);return new g(n,n,d,d,o,o,[])}append(s,o,n,d,u){o.length>0&&(this.changes=(0,b.compressConsecutiveTextChanges)(this.changes,o)),this.afterEOL=n,this.afterVersionId=d,this.afterCursorState=u}static _writeSelectionsSize(s){return 4+4*4*(s?s.length:0)}static _writeSelections(s,o,n){if(C.writeUInt32BE(s,o?o.length:0,n),n+=4,o)for(const d of o)C.writeUInt32BE(s,d.selectionStartLineNumber,n),n+=4,C.writeUInt32BE(s,d.selectionStartColumn,n),n+=4,C.writeUInt32BE(s,d.positionLineNumber,n),n+=4,C.writeUInt32BE(s,d.positionColumn,n),n+=4;return n}static _readSelections(s,o,n){const d=C.readUInt32BE(s,o);o+=4;for(let u=0;u<d;u++){const f=C.readUInt32BE(s,o);o+=4;const S=C.readUInt32BE(s,o);o+=4;const v=C.readUInt32BE(s,o);o+=4;const m=C.readUInt32BE(s,o);o+=4,n.push(new T.Selection(f,S,v,m))}return o}serialize(){let s=4+4+1+1+g._writeSelectionsSize(this.beforeCursorState)+g._writeSelectionsSize(this.afterCursorState)+4;for(const d of this.changes)s+=d.writeSize();const o=new Uint8Array(s);let n=0;C.writeUInt32BE(o,this.beforeVersionId,n),n+=4,C.writeUInt32BE(o,this.afterVersionId,n),n+=4,C.writeUInt8(o,this.beforeEOL,n),n+=1,C.writeUInt8(o,this.afterEOL,n),n+=1,n=g._writeSelections(o,this.beforeCursorState,n),n=g._writeSelections(o,this.afterCursorState,n),C.writeUInt32BE(o,this.changes.length,n),n+=4;for(const d of this.changes)n=d.write(o,n);return o.buffer}static deserialize(s){const o=new Uint8Array(s);let n=0;const d=C.readUInt32BE(o,n);n+=4;const u=C.readUInt32BE(o,n);n+=4;const f=C.readUInt8(o,n);n+=1;const S=C.readUInt8(o,n);n+=1;const v=[];n=g._readSelections(o,n,v);const m=[];n=g._readSelections(o,n,m);const _=C.readUInt32BE(o,n);n+=4;const L=[];for(let w=0;w<_;w++)n=b.TextChange.read(o,n,L);return new g(d,u,f,S,v,m,L)}}e.SingleModelEditStackData=g;class i{constructor(s,o){this.model=s,this._data=g.create(s,o)}get type(){return 0}get resource(){return I.URI.isUri(this.model)?this.model:this.model.uri}get label(){return y.localize(0,null)}toString(){return(this._data instanceof g?this._data:g.deserialize(this._data)).changes.map(o=>o.toString()).join(", ")}matchesResource(s){return(I.URI.isUri(this.model)?this.model:this.model.uri).toString()===s.toString()}setModel(s){this.model=s}canAppend(s){return this.model===s&&this._data instanceof g}append(s,o,n,d,u){this._data instanceof g&&this._data.append(s,o,n,d,u)}close(){this._data instanceof g&&(this._data=this._data.serialize())}open(){this._data instanceof g||(this._data=g.deserialize(this._data))}undo(){if(I.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());const s=g.deserialize(this._data);this.model._applyUndo(s.changes,s.beforeEOL,s.beforeVersionId,s.beforeCursorState)}redo(){if(I.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());const s=g.deserialize(this._data);this.model._applyRedo(s.changes,s.afterEOL,s.afterVersionId,s.afterCursorState)}heapSize(){return this._data instanceof g&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=i;class t{constructor(s,o){this.type=1,this.label=s,this._isOpen=!0,this._editStackElementsArr=o.slice(0),this._editStackElementsMap=new Map;for(const n of this._editStackElementsArr){const d=h(n.resource);this._editStackElementsMap.set(d,n)}this._delegate=null}get resources(){return this._editStackElementsArr.map(s=>s.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(s){const o=h(s);return this._editStackElementsMap.has(o)}setModel(s){const o=h(I.URI.isUri(s)?s:s.uri);this._editStackElementsMap.has(o)&&this._editStackElementsMap.get(o).setModel(s)}canAppend(s){if(!this._isOpen)return!1;const o=h(s.uri);return this._editStackElementsMap.has(o)?this._editStackElementsMap.get(o).canAppend(s):!1}append(s,o,n,d,u){const f=h(s.uri);this._editStackElementsMap.get(f).append(s,o,n,d,u)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const s of this._editStackElementsArr)s.undo()}redo(){for(const s of this._editStackElementsArr)s.redo()}heapSize(s){const o=h(s);return this._editStackElementsMap.has(o)?this._editStackElementsMap.get(o).heapSize():0}split(){return this._editStackElementsArr}toString(){let s=[];for(const o of this._editStackElementsArr)s.push(`${(0,p.basename)(o.resource)}: ${o}`);return`{${s.join(", ")}}`}}e.MultiModelEditStackElement=t;function r(a){return a.getEOL()===`
`?0:1}function c(a){return a?a instanceof i||a instanceof t:!1}e.isEditStackElement=c;class l{constructor(s,o){this._model=s,this._undoRedoService=o}pushStackElement(){const s=this._undoRedoService.getLastElement(this._model.uri);c(s)&&s.close()}popStackElement(){const s=this._undoRedoService.getLastElement(this._model.uri);c(s)&&s.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(s){const o=this._undoRedoService.getLastElement(this._model.uri);if(c(o)&&o.canAppend(this._model))return o;const n=new i(this._model,s);return this._undoRedoService.pushElement(n),n}pushEOL(s){const o=this._getOrCreateEditStackElement(null);this._model.setEOL(s),o.append(this._model,[],r(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(s,o,n){const d=this._getOrCreateEditStackElement(s),u=this._model.applyEdits(o,!0),f=l._computeCursorState(n,u),S=u.map((v,m)=>({index:m,textChange:v.textChange}));return S.sort((v,m)=>v.textChange.oldPosition===m.textChange.oldPosition?v.index-m.index:v.textChange.oldPosition-m.textChange.oldPosition),d.append(this._model,S.map(v=>v.textChange),r(this._model),this._model.getAlternativeVersionId(),f),f}static _computeCursorState(s,o){try{return s?s(o):null}catch(n){return(0,N.onUnexpectedError)(n),null}}}e.EditStack=l}),define(ee[484],te([5,6]),function(q,e){return q.create("vs/editor/common/modes/modesRegistry",e)}),define(ee[485],te([5,6]),function(q,e){return q.create("vs/editor/common/standaloneStrings",e)}),define(ee[65],te([0,1,485]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var N;(function(t){t.noSelection=y.localize(0,null),t.singleSelectionRange=y.localize(1,null),t.singleSelection=y.localize(2,null),t.multiSelectionRange=y.localize(3,null),t.multiSelection=y.localize(4,null),t.emergencyConfOn=y.localize(5,null),t.openingDocs=y.localize(6,null),t.readonlyDiffEditor=y.localize(7,null),t.editableDiffEditor=y.localize(8,null),t.readonlyEditor=y.localize(9,null),t.editableEditor=y.localize(10,null),t.changeConfigToOnMac=y.localize(11,null),t.changeConfigToOnWinLinux=y.localize(12,null),t.auto_on=y.localize(13,null),t.auto_off=y.localize(14,null),t.tabFocusModeOnMsg=y.localize(15,null),t.tabFocusModeOnMsgNoKb=y.localize(16,null),t.tabFocusModeOffMsg=y.localize(17,null),t.tabFocusModeOffMsgNoKb=y.localize(18,null),t.openDocMac=y.localize(19,null),t.openDocWinLinux=y.localize(20,null),t.outroMsg=y.localize(21,null),t.showAccessibilityHelpAction=y.localize(22,null)})(N=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var T;(function(t){t.inspectTokensAction=y.localize(23,null)})(T=e.InspectTokensNLS||(e.InspectTokensNLS={}));var I;(function(t){t.gotoLineActionLabel=y.localize(24,null)})(I=e.GoToLineNLS||(e.GoToLineNLS={}));var b;(function(t){t.helpQuickAccessActionLabel=y.localize(25,null)})(b=e.QuickHelpNLS||(e.QuickHelpNLS={}));var C;(function(t){t.quickCommandActionLabel=y.localize(26,null),t.quickCommandHelp=y.localize(27,null)})(C=e.QuickCommandNLS||(e.QuickCommandNLS={}));var p;(function(t){t.quickOutlineActionLabel=y.localize(28,null),t.quickOutlineByCategoryActionLabel=y.localize(29,null)})(p=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var h;(function(t){t.editorViewAccessibleLabel=y.localize(30,null),t.accessibilityHelpMessage=y.localize(31,null)})(h=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var g;(function(t){t.toggleHighContrast=y.localize(32,null)})(g=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var i;(function(t){t.bulkEditServiceSummary=y.localize(33,null)})(i=e.SimpleServicesNLS||(e.SimpleServicesNLS={}))}),define(ee[486],te([5,6]),function(q,e){return q.create("vs/editor/common/view/editorColorRegistry",e)}),define(ee[487],te([5,6]),function(q,e){return q.create("vs/editor/contrib/anchorSelect/anchorSelect",e)}),define(ee[488],te([5,6]),function(q,e){return q.create("vs/editor/contrib/bracketMatching/bracketMatching",e)}),define(ee[489],te([5,6]),function(q,e){return q.create("vs/editor/contrib/caretOperations/caretOperations",e)}),define(ee[490],te([5,6]),function(q,e){return q.create("vs/editor/contrib/caretOperations/transpose",e)}),define(ee[491],te([5,6]),function(q,e){return q.create("vs/editor/contrib/clipboard/clipboard",e)}),define(ee[492],te([5,6]),function(q,e){return q.create("vs/editor/contrib/codeAction/codeActionCommands",e)}),define(ee[493],te([5,6]),function(q,e){return q.create("vs/editor/contrib/codeAction/lightBulbWidget",e)}),define(ee[494],te([5,6]),function(q,e){return q.create("vs/editor/contrib/codelens/codelensController",e)}),define(ee[495],te([5,6]),function(q,e){return q.create("vs/editor/contrib/colorPicker/colorPickerWidget",e)}),define(ee[496],te([5,6]),function(q,e){return q.create("vs/editor/contrib/comment/comment",e)}),define(ee[497],te([5,6]),function(q,e){return q.create("vs/editor/contrib/contextmenu/contextmenu",e)}),define(ee[498],te([5,6]),function(q,e){return q.create("vs/editor/contrib/cursorUndo/cursorUndo",e)}),define(ee[499],te([5,6]),function(q,e){return q.create("vs/editor/contrib/find/findController",e)}),define(ee[500],te([5,6]),function(q,e){return q.create("vs/editor/contrib/find/findWidget",e)}),define(ee[501],te([5,6]),function(q,e){return q.create("vs/editor/contrib/folding/folding",e)}),define(ee[502],te([5,6]),function(q,e){return q.create("vs/editor/contrib/folding/foldingDecorations",e)}),define(ee[503],te([5,6]),function(q,e){return q.create("vs/editor/contrib/fontZoom/fontZoom",e)}),define(ee[504],te([5,6]),function(q,e){return q.create("vs/editor/contrib/format/format",e)}),define(ee[505],te([5,6]),function(q,e){return q.create("vs/editor/contrib/format/formatActions",e)}),define(ee[506],te([5,6]),function(q,e){return q.create("vs/editor/contrib/gotoError/gotoError",e)}),define(ee[507],te([5,6]),function(q,e){return q.create("vs/editor/contrib/gotoError/gotoErrorWidget",e)}),define(ee[508],te([5,6]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/goToCommands",e)}),define(ee[509],te([5,6]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition",e)}),define(ee[510],te([5,6]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/peek/referencesController",e)}),define(ee[511],te([5,6]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/peek/referencesTree",e)}),define(ee[512],te([5,6]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/peek/referencesWidget",e)}),define(ee[513],te([5,6]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/referencesModel",e)}),define(ee[121],te([0,1,13,4,132,2,47,42,8,3,513]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class i{constructor(a,s,o,n){this.isProviderFirst=a,this.parent=s,this.link=o,this._rangeCallback=n,this.id=T.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var a,s;return(s=(a=this._range)!==null&&a!==void 0?a:this.link.targetSelectionRange)!==null&&s!==void 0?s:this.link.range}set range(a){this._range=a,this._rangeCallback(this)}get ariaMessage(){var a;const s=(a=this.parent.getPreview(this))===null||a===void 0?void 0:a.preview(this.range);return s?(0,g.localize)(1,null,(0,C.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,s.value):(0,g.localize)(0,null,(0,C.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=i;class t{constructor(a){this._modelReference=a}dispose(){this._modelReference.dispose()}preview(a,s=8){const o=this._modelReference.object.textEditorModel;if(!o)return;const{startLineNumber:n,startColumn:d,endLineNumber:u,endColumn:f}=a,S=o.getWordUntilPosition({lineNumber:n,column:d-s}),v=new h.Range(n,S.startColumn,n,d),m=new h.Range(u,f,u,1073741824),_=o.getValueInRange(v).replace(/^\s+/,""),L=o.getValueInRange(a),w=o.getValueInRange(m).replace(/\s+$/,"");return{value:_+L+w,highlight:{start:_.length,end:_.length+L.length}}}}e.FilePreview=t;class r{constructor(a,s){this.parent=a,this.uri=s,this.children=[],this._previews=new b.ResourceMap}dispose(){(0,I.dispose)(this._previews.values()),this._previews.clear()}getPreview(a){return this._previews.get(a.uri)}get ariaMessage(){const a=this.children.length;return a===1?(0,g.localize)(2,null,(0,C.basename)(this.uri),this.uri.fsPath):(0,g.localize)(3,null,a,(0,C.basename)(this.uri),this.uri.fsPath)}resolve(a){return Ae(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let s of this.children)if(!this._previews.has(s.uri))try{const o=yield a.createModelReference(s.uri);this._previews.set(s.uri,new t(o))}catch(o){(0,y.onUnexpectedError)(o)}return this})}}e.FileReferences=r;class c{constructor(a,s){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new N.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=a,this._title=s;const[o]=a;a.sort(c._compareReferences);let n;for(let d of a)if((!n||!C.extUri.isEqual(n.uri,d.uri,!0))&&(n=new r(this,d.uri),this.groups.push(n)),n.children.length===0||c._compareReferences(d,n.children[n.children.length-1])!==0){const u=new i(o===d,n,d,f=>this._onDidChangeReferenceRange.fire(f));this.references.push(u),n.children.push(u)}}dispose(){(0,I.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new c(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,g.localize)(4,null):this.references.length===1?(0,g.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,g.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,g.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(a,s){let{parent:o}=a,n=o.children.indexOf(a),d=o.children.length,u=o.parent.groups.length;return u===1||s&&n+1<d||!s&&n>0?(s?n=(n+1)%d:n=(n+d-1)%d,o.children[n]):(n=o.parent.groups.indexOf(o),s?(n=(n+1)%u,o.parent.groups[n].children[0]):(n=(n+u-1)%u,o.parent.groups[n].children[o.parent.groups[n].children.length-1]))}nearestReference(a,s){const o=this.references.map((n,d)=>({idx:d,prefixLen:p.commonPrefixLength(n.uri.toString(),a.toString()),offsetDist:Math.abs(n.range.startLineNumber-s.lineNumber)*100+Math.abs(n.range.startColumn-s.column)})).sort((n,d)=>n.prefixLen>d.prefixLen?-1:n.prefixLen<d.prefixLen?1:n.offsetDist<d.offsetDist?-1:n.offsetDist>d.offsetDist?1:0)[0];if(o)return this.references[o.idx]}referenceAt(a,s){for(const o of this.references)if(o.uri.toString()===a.toString()&&h.Range.containsPosition(o.range,s))return o}firstReference(){for(const a of this.references)if(a.isProviderFirst)return a;return this.references[0]}static _compareReferences(a,s){return C.extUri.compare(a.uri,s.uri)||h.Range.compareRangesUsingStarts(a.range,s.range)}}e.ReferencesModel=c}),define(ee[514],te([5,6]),function(q,e){return q.create("vs/editor/contrib/gotoSymbol/symbolNavigation",e)}),define(ee[515],te([5,6]),function(q,e){return q.create("vs/editor/contrib/hover/hover",e)}),define(ee[516],te([5,6]),function(q,e){return q.create("vs/editor/contrib/hover/markdownHoverParticipant",e)}),define(ee[517],te([5,6]),function(q,e){return q.create("vs/editor/contrib/hover/markerHoverParticipant",e)}),define(ee[518],te([5,6]),function(q,e){return q.create("vs/editor/contrib/inPlaceReplace/inPlaceReplace",e)}),define(ee[519],te([5,6]),function(q,e){return q.create("vs/editor/contrib/indentation/indentation",e)}),define(ee[520],te([5,6]),function(q,e){return q.create("vs/editor/contrib/inlineCompletions/ghostTextController",e)}),define(ee[521],te([5,6]),function(q,e){return q.create("vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant",e)}),define(ee[522],te([5,6]),function(q,e){return q.create("vs/editor/contrib/lineSelection/lineSelection",e)}),define(ee[523],te([5,6]),function(q,e){return q.create("vs/editor/contrib/linesOperations/linesOperations",e)}),define(ee[524],te([5,6]),function(q,e){return q.create("vs/editor/contrib/linkedEditing/linkedEditing",e)}),define(ee[525],te([5,6]),function(q,e){return q.create("vs/editor/contrib/links/links",e)}),define(ee[526],te([5,6]),function(q,e){return q.create("vs/editor/contrib/message/messageController",e)}),define(ee[527],te([5,6]),function(q,e){return q.create("vs/editor/contrib/multicursor/multicursor",e)}),define(ee[528],te([5,6]),function(q,e){return q.create("vs/editor/contrib/parameterHints/parameterHints",e)}),define(ee[529],te([5,6]),function(q,e){return q.create("vs/editor/contrib/parameterHints/parameterHintsWidget",e)}),define(ee[530],te([5,6]),function(q,e){return q.create("vs/editor/contrib/peekView/peekView",e)}),define(ee[531],te([5,6]),function(q,e){return q.create("vs/editor/contrib/quickAccess/gotoLineQuickAccess",e)}),define(ee[532],te([5,6]),function(q,e){return q.create("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess",e)}),define(ee[533],te([5,6]),function(q,e){return q.create("vs/editor/contrib/rename/rename",e)}),define(ee[534],te([5,6]),function(q,e){return q.create("vs/editor/contrib/rename/renameInputField",e)}),define(ee[535],te([5,6]),function(q,e){return q.create("vs/editor/contrib/smartSelect/smartSelect",e)}),define(ee[536],te([5,6]),function(q,e){return q.create("vs/editor/contrib/snippet/snippetController2",e)}),define(ee[537],te([5,6]),function(q,e){return q.create("vs/editor/contrib/snippet/snippetVariables",e)}),define(ee[538],te([5,6]),function(q,e){return q.create("vs/editor/contrib/suggest/suggest",e)}),define(ee[539],te([5,6]),function(q,e){return q.create("vs/editor/contrib/suggest/suggestController",e)}),define(ee[540],te([5,6]),function(q,e){return q.create("vs/editor/contrib/suggest/suggestWidget",e)}),define(ee[541],te([5,6]),function(q,e){return q.create("vs/editor/contrib/suggest/suggestWidgetDetails",e)}),define(ee[542],te([5,6]),function(q,e){return q.create("vs/editor/contrib/suggest/suggestWidgetRenderer",e)}),define(ee[543],te([5,6]),function(q,e){return q.create("vs/editor/contrib/suggest/suggestWidgetStatus",e)}),define(ee[544],te([5,6]),function(q,e){return q.create("vs/editor/contrib/symbolIcons/symbolIcons",e)}),define(ee[545],te([5,6]),function(q,e){return q.create("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",e)}),define(ee[546],te([5,6]),function(q,e){return q.create("vs/editor/contrib/tokenization/tokenization",e)}),define(ee[547],te([5,6]),function(q,e){return q.create("vs/editor/contrib/unicodeHighlighter/unicodeHighlighter",e)}),define(ee[548],te([5,6]),function(q,e){return q.create("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators",e)}),define(ee[549],te([5,6]),function(q,e){return q.create("vs/editor/contrib/wordHighlighter/wordHighlighter",e)}),define(ee[550],te([5,6]),function(q,e){return q.create("vs/editor/contrib/wordOperations/wordOperations",e)}),define(ee[551],te([5,6]),function(q,e){return q.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(ee[552],te([5,6]),function(q,e){return q.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ee[553],te([5,6]),function(q,e){return q.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(ee[554],te([5,6]),function(q,e){return q.create("vs/platform/contextkey/common/contextkeys",e)}),define(ee[555],te([5,6]),function(q,e){return q.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(ee[556],te([5,6]),function(q,e){return q.create("vs/platform/list/browser/listService",e)}),define(ee[557],te([5,6]),function(q,e){return q.create("vs/platform/markers/common/markers",e)}),define(ee[558],te([5,6]),function(q,e){return q.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(ee[559],te([5,6]),function(q,e){return q.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(ee[560],te([5,6]),function(q,e){return q.create("vs/platform/theme/common/colorRegistry",e)}),define(ee[561],te([5,6]),function(q,e){return q.create("vs/platform/theme/common/iconRegistry",e)}),define(ee[562],te([5,6]),function(q,e){return q.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(ee[563],te([5,6]),function(q,e){return q.create("vs/platform/workspaces/common/workspaces",e)}),define(ee[564],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function y(N){var T,I;return((T=N.lookupKeybinding("history.showPrevious"))===null||T===void 0?void 0:T.getElectronAccelerator())==="Up"&&((I=N.lookupKeybinding("history.showNext"))===null||I===void 0?void 0:I.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=y}),define(ee[565],te([0,1,7]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;class N{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(I,b){return Ae(this,void 0,void 0,function*(){if(b){this.mapTextToType.set(b,I);return}try{return yield navigator.clipboard.writeText(I)}catch(h){console.error(h)}const C=document.activeElement,p=document.body.appendChild((0,y.$)("textarea",{"aria-hidden":!0}));p.style.height="1px",p.style.width="1px",p.style.position="absolute",p.value=I,p.focus(),p.select(),document.execCommand("copy"),C instanceof HTMLElement&&C.focus(),document.body.removeChild(p)})}readText(I){return Ae(this,void 0,void 0,function*(){if(I)return this.mapTextToType.get(I)||"";try{return yield navigator.clipboard.readText()}catch(b){return console.error(b),""}})}readFindText(){return Ae(this,void 0,void 0,function*(){return this.findText})}writeFindText(I){return Ae(this,void 0,void 0,function*(){this.findText=I})}}e.BrowserClipboardService=N}),define(ee[566],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenContext=void 0;var y;(function(N){N[N.API=0]="API",N[N.USER=1]="USER"})(y=e.EditorOpenContext||(e.EditorOpenContext={}))}),define(ee[567],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class y{constructor(T){this.value=T,this._lower=T.toLowerCase()}static toKey(T){return typeof T=="string"?T.toLowerCase():T._lower}}e.ExtensionIdentifier=y}),define(ee[253],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var y;(function(N){N[N.FILE=0]="FILE",N[N.FOLDER=1]="FOLDER",N[N.ROOT_FOLDER=2]="ROOT_FOLDER"})(y=e.FileKind||(e.FileKind={}))}),define(ee[254],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class y{constructor(T,I=[],b=!1){this.ctor=T,this.staticArguments=I,this.supportsDelayedInstantiation=b}}e.SyncDescriptor=y}),define(ee[71],te([0,1,254]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const N=[];function T(b,C,p){C instanceof y.SyncDescriptor||(C=new y.SyncDescriptor(C,[],p)),N.push([b,C])}e.registerSingleton=T;function I(){return N}e.getSingletonServiceDescriptors=I}),define(ee[568],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class y{constructor(I){this.incoming=new Map,this.outgoing=new Map,this.data=I}}e.Node=y;class N{constructor(I){this._hashFn=I,this._nodes=new Map}roots(){const I=[];for(let b of this._nodes.values())b.outgoing.size===0&&I.push(b);return I}insertEdge(I,b){const C=this.lookupOrInsertNode(I),p=this.lookupOrInsertNode(b);C.outgoing.set(this._hashFn(b),p),p.incoming.set(this._hashFn(I),C)}removeNode(I){const b=this._hashFn(I);this._nodes.delete(b);for(let C of this._nodes.values())C.outgoing.delete(b),C.incoming.delete(b)}lookupOrInsertNode(I){const b=this._hashFn(I);let C=this._nodes.get(b);return C||(C=new y(I),this._nodes.set(b,C)),C}isEmpty(){return this._nodes.size===0}toString(){let I=[];for(let[b,C]of this._nodes)I.push(`${b}, (incoming)[${[...C.incoming.keys()].join(", ")}], (outgoing)[${[...C.outgoing.keys()].join(",")}]`);return I.join(`
`)}findCycleSlow(){for(let[I,b]of this._nodes){const C=new Set([I]),p=this._findCycle(b,C);if(p)return p}}_findCycle(I,b){for(let[C,p]of I.outgoing){if(b.has(C))return[...b,C].join(" -> ");b.add(C);const h=this._findCycle(p,b);if(h)return h;b.delete(C)}}}e.Graph=N}),define(ee[9],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.IInstantiationService=e._util=void 0;var y;(function(I){I.serviceIds=new Map,I.DI_TARGET="$di$target",I.DI_DEPENDENCIES="$di$dependencies";function b(C){return C[I.DI_DEPENDENCIES]||[]}I.getServiceDependencies=b})(y=e._util||(e._util={})),e.IInstantiationService=T("instantiationService");function N(I,b,C,p){b[y.DI_TARGET]===b?b[y.DI_DEPENDENCIES].push({id:I,index:C,optional:p}):(b[y.DI_DEPENDENCIES]=[{id:I,index:C,optional:p}],b[y.DI_TARGET]=b)}function T(I){if(y.serviceIds.has(I))return y.serviceIds.get(I);const b=function(C,p,h){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");N(b,C,h,!1)};return b.toString=()=>I,y.serviceIds.set(I,b),b}e.createDecorator=T}),define(ee[150],te([0,1,9,25,20]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,y.createDecorator)("IWorkspaceEditService");function I(g){return(0,T.isObject)(g)&&(Boolean(g.newUri)||Boolean(g.oldUri))}function b(g){return(0,T.isObject)(g)&&N.URI.isUri(g.resource)&&(0,T.isObject)(g.edit)}class C{constructor(i){this.metadata=i}static convert(i){return i.edits.map(t=>{if(b(t))return new p(t.resource,t.edit,t.modelVersionId,t.metadata);if(I(t))return new h(t.oldUri,t.newUri,t.options,t.metadata);throw new Error("Unsupported edit")})}}e.ResourceEdit=C;class p extends C{constructor(i,t,r,c){super(c);this.resource=i,this.textEdit=t,this.versionId=r}}e.ResourceTextEdit=p;class h extends C{constructor(i,t,r,c){super(c);this.oldResource=i,this.newResource=t,this.options=r}}e.ResourceFileEdit=h}),define(ee[28],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,y.createDecorator)("codeEditorService")}),define(ee[72],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=(0,y.createDecorator)(e.ID_EDITOR_WORKER_SERVICE)}),define(ee[189],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,y.createDecorator)("markerDecorationsService")}),define(ee[38],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModeService=void 0,e.IModeService=(0,y.createDecorator)("modeService")}),define(ee[43],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.IModelService=void 0,e.IModelService=(0,y.createDecorator)("modelService");function N(T){return!T.isTooLargeForSyncing()&&!T.isForSimpleWidget}e.shouldSynchronizeModel=N}),define(ee[151],te([0,1,4,106,2,47,105,402,43]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRequestDelays=e.LanguageFeatureRegistry=void 0;function h(l){return typeof l=="string"?!1:Array.isArray(l)?l.every(h):!!l.exclusive}class g{constructor(){this._clock=0,this._entries=[],this._onDidChange=new y.Emitter}get onDidChange(){return this._onDidChange.event}register(a,s){let o={selector:a,provider:s,_score:-1,_time:this._clock++};return this._entries.push(o),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,T.toDisposable)(()=>{if(o){let n=this._entries.indexOf(o);n>=0&&(this._entries.splice(n,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),o=void 0)}})}has(a){return this.all(a).length>0}all(a){if(!a)return[];this._updateScores(a);const s=[];for(let o of this._entries)o._score>0&&s.push(o.provider);return s}ordered(a){const s=[];return this._orderedForEach(a,o=>s.push(o.provider)),s}orderedGroups(a){const s=[];let o,n;return this._orderedForEach(a,d=>{o&&n===d._score?o.push(d.provider):(n=d._score,o=[d.provider],s.push(o))}),s}_orderedForEach(a,s){if(!!a){this._updateScores(a);for(const o of this._entries)o._score>0&&s(o)}}_updateScores(a){let s={uri:a.uri.toString(),language:a.getLanguageId()};if(!(this._lastCandidate&&this._lastCandidate.language===s.language&&this._lastCandidate.uri===s.uri)){this._lastCandidate=s;for(let o of this._entries)if(o._score=(0,C.score)(o.selector,a.uri,a.getLanguageId(),(0,p.shouldSynchronizeModel)(a)),h(o.selector)&&o._score>0){for(let n of this._entries)n._score=0;o._score=1e3;break}this._entries.sort(g._compareByScoreAndTime)}}static _compareByScoreAndTime(a,s){return a._score<s._score?1:a._score>s._score?-1:a._time<s._time?1:a._time>s._time?-1:0}}e.LanguageFeatureRegistry=g;const i=new WeakMap;let t=0;function r(l){let a=i.get(l);return a===void 0&&(a=++t,i.set(l,a)),a}class c{constructor(a,s,o=Number.MAX_SAFE_INTEGER){this._registry=a,this.min=s,this.max=o,this._cache=new I.LRUCache(50,.7)}_key(a){return a.id+this._registry.all(a).reduce((s,o)=>(0,N.doHash)(r(o),s),0)}_clamp(a){return a===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(a*1.3)))}get(a){const s=this._key(a),o=this._cache.get(s);return this._clamp(o==null?void 0:o.value)}update(a,s){const o=this._key(a);let n=this._cache.get(o);return n||(n=new b.MovingAverage,this._cache.set(o,n)),n.update(s),this.get(a)}}e.LanguageFeatureRequestDelays=c}),define(ee[18],te([0,1,25,3,151,410,27]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.DocumentRangeSemanticTokensProviderRegistry=e.DocumentSemanticTokensProviderRegistry=e.FoldingRangeProviderRegistry=e.SelectionRangeRegistry=e.ColorProviderRegistry=e.LinkProviderRegistry=e.OnTypeFormattingEditProviderRegistry=e.DocumentRangeFormattingEditProviderRegistry=e.DocumentFormattingEditProviderRegistry=e.CodeActionProviderRegistry=e.InlayHintsProviderRegistry=e.CodeLensProviderRegistry=e.TypeDefinitionProviderRegistry=e.ImplementationProviderRegistry=e.DeclarationProviderRegistry=e.DefinitionProviderRegistry=e.LinkedEditingRangeProviderRegistry=e.DocumentHighlightProviderRegistry=e.DocumentSymbolProviderRegistry=e.HoverProviderRegistry=e.SignatureHelpProviderRegistry=e.InlineCompletionsProviderRegistry=e.CompletionProviderRegistry=e.RenameProviderRegistry=e.ReferenceProviderRegistry=e.InlayHintKind=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.InlineCompletionTriggerKind=e.completionKindFromString=e.completionKindToCssClass=e.TokenMetadata=void 0;class C{static getLanguageId(a){return(a&255)>>>0}static getTokenType(a){return(a&1792)>>>8}static getFontStyle(a){return(a&14336)>>>11}static getForeground(a){return(a&8372224)>>>14}static getBackground(a){return(a&4286578688)>>>23}static getClassNameFromMetadata(a){let s=this.getForeground(a),o="mtk"+s,n=this.getFontStyle(a);return n&1&&(o+=" mtki"),n&2&&(o+=" mtkb"),n&4&&(o+=" mtku"),o}static getInlineStyleFromMetadata(a,s){const o=this.getForeground(a),n=this.getFontStyle(a);let d=`color: ${s[o]};`;return n&1&&(d+="font-style: italic;"),n&2&&(d+="font-weight: bold;"),n&4&&(d+="text-decoration: underline;"),d}}e.TokenMetadata=C,e.completionKindToCssClass=function(){let l=Object.create(null);return l[0]="symbol-method",l[1]="symbol-function",l[2]="symbol-constructor",l[3]="symbol-field",l[4]="symbol-variable",l[5]="symbol-class",l[6]="symbol-struct",l[7]="symbol-interface",l[8]="symbol-module",l[9]="symbol-property",l[10]="symbol-event",l[11]="symbol-operator",l[12]="symbol-unit",l[13]="symbol-value",l[14]="symbol-constant",l[15]="symbol-enum",l[16]="symbol-enum-member",l[17]="symbol-keyword",l[27]="symbol-snippet",l[18]="symbol-text",l[19]="symbol-color",l[20]="symbol-file",l[21]="symbol-reference",l[22]="symbol-customcolor",l[23]="symbol-folder",l[24]="symbol-type-parameter",l[25]="account",l[26]="issues",function(a){const s=l[a];let o=s&&b.iconRegistry.get(s);return o||(console.info("No codicon found for CompletionItemKind "+a),o=b.Codicon.symbolProperty),o.classNames}}(),e.completionKindFromString=function(){let l=Object.create(null);return l.method=0,l.function=1,l.constructor=2,l.field=3,l.variable=4,l.class=5,l.struct=6,l.interface=7,l.module=8,l.property=9,l.event=10,l.operator=11,l.unit=12,l.value=13,l.constant=14,l.enum=15,l["enum-member"]=16,l.enumMember=16,l.keyword=17,l.snippet=27,l.text=18,l.color=19,l.file=20,l.reference=21,l.customcolor=22,l.folder=23,l["type-parameter"]=24,l.typeParameter=24,l.account=25,l.issue=26,function(a,s){let o=l[a];return typeof o=="undefined"&&!s&&(o=9),o}}();var p;(function(l){l[l.Automatic=0]="Automatic",l[l.Explicit=1]="Explicit"})(p=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var h;(function(l){l[l.Invoke=1]="Invoke",l[l.TriggerCharacter=2]="TriggerCharacter",l[l.ContentChange=3]="ContentChange"})(h=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var g;(function(l){l[l.Text=0]="Text",l[l.Read=1]="Read",l[l.Write=2]="Write"})(g=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function i(l){return l&&y.URI.isUri(l.uri)&&N.Range.isIRange(l.range)&&(N.Range.isIRange(l.originSelectionRange)||N.Range.isIRange(l.targetSelectionRange))}e.isLocationLink=i;var t;(function(l){const a=new Map;a.set("file",0),a.set("module",1),a.set("namespace",2),a.set("package",3),a.set("class",4),a.set("method",5),a.set("property",6),a.set("field",7),a.set("constructor",8),a.set("enum",9),a.set("interface",10),a.set("function",11),a.set("variable",12),a.set("constant",13),a.set("string",14),a.set("number",15),a.set("boolean",16),a.set("array",17),a.set("object",18),a.set("key",19),a.set("null",20),a.set("enum-member",21),a.set("struct",22),a.set("event",23),a.set("operator",24),a.set("type-parameter",25);const s=new Map;s.set(0,"file"),s.set(1,"module"),s.set(2,"namespace"),s.set(3,"package"),s.set(4,"class"),s.set(5,"method"),s.set(6,"property"),s.set(7,"field"),s.set(8,"constructor"),s.set(9,"enum"),s.set(10,"interface"),s.set(11,"function"),s.set(12,"variable"),s.set(13,"constant"),s.set(14,"string"),s.set(15,"number"),s.set(16,"boolean"),s.set(17,"array"),s.set(18,"object"),s.set(19,"key"),s.set(20,"null"),s.set(21,"enum-member"),s.set(22,"struct"),s.set(23,"event"),s.set(24,"operator"),s.set(25,"type-parameter");function o(u){return a.get(u)}l.fromString=o;function n(u){return s.get(u)}l.toString=n;function d(u,f){const S=s.get(u);let v=S&&b.iconRegistry.get("symbol-"+S);return v||(console.info("No codicon found for SymbolKind "+u),v=b.Codicon.symbolProperty),`${f?"inline":"block"} ${v.classNames}`}l.toCssClassName=d})(t=e.SymbolKinds||(e.SymbolKinds={}));class r{constructor(a){this.value=a}}e.FoldingRangeKind=r,r.Comment=new r("comment"),r.Imports=new r("imports"),r.Region=new r("region");var c;(function(l){l[l.Other=0]="Other",l[l.Type=1]="Type",l[l.Parameter=2]="Parameter"})(c=e.InlayHintKind||(e.InlayHintKind={})),e.ReferenceProviderRegistry=new T.LanguageFeatureRegistry,e.RenameProviderRegistry=new T.LanguageFeatureRegistry,e.CompletionProviderRegistry=new T.LanguageFeatureRegistry,e.InlineCompletionsProviderRegistry=new T.LanguageFeatureRegistry,e.SignatureHelpProviderRegistry=new T.LanguageFeatureRegistry,e.HoverProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentSymbolProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentHighlightProviderRegistry=new T.LanguageFeatureRegistry,e.LinkedEditingRangeProviderRegistry=new T.LanguageFeatureRegistry,e.DefinitionProviderRegistry=new T.LanguageFeatureRegistry,e.DeclarationProviderRegistry=new T.LanguageFeatureRegistry,e.ImplementationProviderRegistry=new T.LanguageFeatureRegistry,e.TypeDefinitionProviderRegistry=new T.LanguageFeatureRegistry,e.CodeLensProviderRegistry=new T.LanguageFeatureRegistry,e.InlayHintsProviderRegistry=new T.LanguageFeatureRegistry,e.CodeActionProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentFormattingEditProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentRangeFormattingEditProviderRegistry=new T.LanguageFeatureRegistry,e.OnTypeFormattingEditProviderRegistry=new T.LanguageFeatureRegistry,e.LinkProviderRegistry=new T.LanguageFeatureRegistry,e.ColorProviderRegistry=new T.LanguageFeatureRegistry,e.SelectionRangeRegistry=new T.LanguageFeatureRegistry,e.FoldingRangeProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentSemanticTokensProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentRangeSemanticTokensProviderRegistry=new T.LanguageFeatureRegistry,e.TokenizationRegistry=new I.TokenizationRegistryImpl}),define(ee[90],te([0,1,18]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlicedLineTokens=e.LineTokens=void 0;class N{constructor(b,C,p){this._lineTokensBrand=void 0,this._tokens=b,this._tokensCount=this._tokens.length>>>1,this._text=C,this._languageIdCodec=p}static createEmpty(b,C){const p=N.defaultTokenMetadata,h=new Uint32Array(2);return h[0]=b.length,h[1]=p,new N(h,b,C)}equals(b){return b instanceof N?this.slicedEquals(b,0,this._tokensCount):!1}slicedEquals(b,C,p){if(this._text!==b._text||this._tokensCount!==b._tokensCount)return!1;const h=C<<1,g=h+(p<<1);for(let i=h;i<g;i++)if(this._tokens[i]!==b._tokens[i])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(b){return b>0?this._tokens[b-1<<1]:0}getMetadata(b){return this._tokens[(b<<1)+1]}getLanguageId(b){const C=this._tokens[(b<<1)+1],p=y.TokenMetadata.getLanguageId(C);return this._languageIdCodec.decodeLanguageId(p)}getStandardTokenType(b){const C=this._tokens[(b<<1)+1];return y.TokenMetadata.getTokenType(C)}getForeground(b){const C=this._tokens[(b<<1)+1];return y.TokenMetadata.getForeground(C)}getClassName(b){const C=this._tokens[(b<<1)+1];return y.TokenMetadata.getClassNameFromMetadata(C)}getInlineStyle(b,C){const p=this._tokens[(b<<1)+1];return y.TokenMetadata.getInlineStyleFromMetadata(p,C)}getEndOffset(b){return this._tokens[b<<1]}findTokenIndexAtOffset(b){return N.findIndexInTokensArray(this._tokens,b)}inflate(){return this}sliceAndInflate(b,C,p){return new T(this,b,C,p)}static convertToEndOffset(b,C){const h=(b.length>>>1)-1;for(let g=0;g<h;g++)b[g<<1]=b[g+1<<1];b[h<<1]=C}static findIndexInTokensArray(b,C){if(b.length<=2)return 0;let p=0,h=(b.length>>>1)-1;for(;p<h;){const g=p+Math.floor((h-p)/2),i=b[g<<1];if(i===C)return g+1;i<C?p=g+1:i>C&&(h=g)}return p}withInserted(b){if(b.length===0)return this;let C=0,p=0,h="";const g=new Array;let i=0;for(;;){let t=C<this._tokensCount?this._tokens[C<<1]:-1,r=p<b.length?b[p]:null;if(t!==-1&&(r===null||t<=r.offset)){h+=this._text.substring(i,t);const c=this._tokens[(C<<1)+1];g.push(h.length,c),C++,i=t}else if(r){if(r.offset>i){h+=this._text.substring(i,r.offset);const c=this._tokens[(C<<1)+1];g.push(h.length,c),i=r.offset}h+=r.text,g.push(h.length,r.tokenMetadata),p++}else break}return new N(new Uint32Array(g),h,this._languageIdCodec)}}e.LineTokens=N,N.defaultTokenMetadata=(0<<11|1<<14|2<<23)>>>0;class T{constructor(b,C,p,h){this._source=b,this._startOffset=C,this._endOffset=p,this._deltaOffset=h,this._firstTokenIndex=b.findTokenIndexAtOffset(C),this._tokensCount=0;for(let g=this._firstTokenIndex,i=b.getCount();g<i&&!(b.getStartOffset(g)>=p);g++)this._tokensCount++}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(b){return b instanceof T?this._startOffset===b._startOffset&&this._endOffset===b._endOffset&&this._deltaOffset===b._deltaOffset&&this._source.slicedEquals(b._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(b){return this._source.getForeground(this._firstTokenIndex+b)}getEndOffset(b){const C=this._source.getEndOffset(this._firstTokenIndex+b);return Math.min(this._endOffset,C)-this._startOffset+this._deltaOffset}getClassName(b){return this._source.getClassName(this._firstTokenIndex+b)}getInlineStyle(b,C){return this._source.getInlineStyle(this._firstTokenIndex+b,C)}findTokenIndexAtOffset(b){return this._source.findTokenIndexAtOffset(b+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}e.SlicedLineTokens=T}),define(ee[255],te([0,1,13,114,18,144,88]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class C{constructor(t,r,c,l,a){this.length=t,this.kind=r,this.bracketId=c,this.bracketIds=l,this.astNode=a}}e.Token=C;class p{constructor(t,r){this.textModel=t,this.bracketTokens=r,this.reader=new h(this.textModel,this.bracketTokens),this._offset=b.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,b.toLength)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(t){this.didPeek=!1,this._offset=(0,b.lengthAdd)(this._offset,t);const r=(0,b.lengthToObj)(this._offset);this.reader.setPosition(r.lineCount,r.columnCount)}read(){let t;return this.peeked?(this.didPeek=!1,t=this.peeked):t=this.reader.read(),t&&(this._offset=(0,b.lengthAdd)(this._offset,t.length)),t}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=p;class h{constructor(t,r){this.textModel=t,this.bracketTokens=r,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}setPosition(t,r){t===this.lineIdx?(this.lineCharOffset=r,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=t,this.lineCharOffset=r,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const a=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,b.lengthGetColumnCountIfZeroLineCount)(a.length),a}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const t=this.lineIdx,r=this.lineCharOffset;let c=0;for(;;){const a=this.lineTokens,s=a.getCount();let o=null;if(this.lineTokenOffset<s){const n=a.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<s&&n===a.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const d=T.TokenMetadata.getTokenType(n)===0,u=a.getEndOffset(this.lineTokenOffset);if(d&&u!==this.lineCharOffset){const f=a.getLanguageId(this.lineTokenOffset),S=this.line.substring(this.lineCharOffset,u),v=this.bracketTokens.getSingleLanguageBracketTokens(f),m=v.regExpGlobal;if(m){m.lastIndex=0;const _=m.exec(S);_&&(o=v.getToken(_[0]),o&&(this.lineCharOffset+=_.index))}}if(c+=u-this.lineCharOffset,o)if(t!==this.lineIdx||r!==this.lineCharOffset){this.peekedToken=o;break}else return this.lineCharOffset+=(0,b.lengthGetColumnCountIfZeroLineCount)(o.length),o;else this.lineTokenOffset++,this.lineCharOffset=u}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,c+=33,c>1e3))break;if(c>1500)break}const l=(0,b.lengthDiff)(t,r,this.lineIdx,this.lineCharOffset);return new C(l,0,-1,N.SmallImmutableSet.getEmpty(),new I.TextAstNode(l))}}class g{constructor(t,r){this.text=t,this._offset=b.lengthZero,this.idx=0;const l=r.getRegExpStr()?new RegExp(r.getRegExpStr()+`|
`,"g"):null,a=[];let s,o=0,n=0,d=0,u=0;const f=new Array;for(let m=0;m<60;m++)f.push(new C((0,b.toLength)(0,m),0,-1,N.SmallImmutableSet.getEmpty(),new I.TextAstNode((0,b.toLength)(0,m))));const S=new Array;for(let m=0;m<60;m++)S.push(new C((0,b.toLength)(1,m),0,-1,N.SmallImmutableSet.getEmpty(),new I.TextAstNode((0,b.toLength)(1,m))));if(l)for(l.lastIndex=0;(s=l.exec(t))!==null;){const m=s.index,_=s[0];if(_===`
`)o++,n=m+1;else{if(d!==m){let L;if(u===o){const w=m-d;if(w<f.length)L=f[w];else{const k=(0,b.toLength)(0,w);L=new C(k,0,-1,N.SmallImmutableSet.getEmpty(),new I.TextAstNode(k))}}else{const w=o-u,k=m-n;if(w===1&&k<S.length)L=S[k];else{const D=(0,b.toLength)(w,k);L=new C(D,0,-1,N.SmallImmutableSet.getEmpty(),new I.TextAstNode(D))}}a.push(L)}a.push(r.getToken(_)),d=m+_.length,u=o}}const v=t.length;if(d!==v){const m=u===o?(0,b.toLength)(0,v-d):(0,b.toLength)(o-u,v-n);a.push(new C(m,0,-1,N.SmallImmutableSet.getEmpty(),new I.TextAstNode(m)))}this.length=(0,b.toLength)(o,v-n),this.tokens=a}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(t){throw new y.NotSupportedError}}e.FastTokenizer=g}),define(ee[569],te([0,1,8,144,88,114,255]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class C{constructor(i){this.map=i,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(i,t){function r(o,n){return t.getKey(`${o}:::${n}`)}const c=i.characterPair.getColorizedBrackets(),l=new Map,a=new Set;for(const[o,n]of c){a.add(o);let d=l.get(n);const u=r(i.languageId,o);d||(d={openingBrackets:I.SmallImmutableSet.getEmpty(),first:u},l.set(n,d)),d.openingBrackets=d.openingBrackets.add(u,I.identityKeyProvider)}const s=new Map;for(const[o,n]of l){const d=(0,T.toLength)(0,o.length);s.set(o,new b.Token(d,2,n.first,n.openingBrackets,N.BracketAstNode.create(d)))}for(const o of a){const n=(0,T.toLength)(0,o.length),d=r(i.languageId,o);s.set(o,new b.Token(n,1,d,I.SmallImmutableSet.getEmpty().add(d,I.identityKeyProvider),N.BracketAstNode.create(n)))}return new C(s)}getRegExpStr(){if(this.isEmpty)return null;{const i=[...this.map.keys()];return i.sort(),i.reverse(),i.map(t=>p(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const i=this.getRegExpStr();this._regExpGlobal=i?new RegExp(i,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(i){return this.map.get(i)}get isEmpty(){return this.map.size===0}}e.BracketTokens=C;function p(g){const i=(0,y.escapeRegExpCharacters)(g);return/^[\w ]+$/.test(g)?`\\b${i}\\b`:i}class h{constructor(i,t){this.denseKeyProvider=i,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(i){const t=this.languageIdToBracketTokens.get(i);if(!t)return!1;const r=C.createFromLanguage(this.getLanguageConfiguration(i),this.denseKeyProvider).getRegExpStr();return t.getRegExpStr()!==r}getSingleLanguageBracketTokens(i){let t=this.languageIdToBracketTokens.get(i);return t||(t=C.createFromLanguage(this.getLanguageConfiguration(i),this.denseKeyProvider),this.languageIdToBracketTokens.set(i,t)),t}}e.LanguageAgnosticBracketTokens=h}),define(ee[570],te([0,1,4,2,3,395,229,569,88,398,114,255]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class t extends N.Disposable{constructor(s,o){super();if(this.textModel=s,this.getLanguageConfiguration=o,this.didChangeEmitter=new y.Emitter,this.denseKeyProvider=new g.DenseKeyProvider,this.brackets=new C.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(s.onBackgroundTokenizationStateChanged(()=>{if(s.backgroundTokenizationState===2){const n=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,n||this.didChangeEmitter.fire()}})),this._register(s.onDidChangeTokens(({ranges:n})=>{const d=n.map(u=>new b.TextEditInfo((0,p.toLength)(u.fromLineNumber-1,0),(0,p.toLength)(u.toLineNumber,0),(0,p.toLength)(u.toLineNumber-u.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(d,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()})),s.backgroundTokenizationState===0){const n=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),d=new i.FastTokenizer(this.textModel.getValue(),n);this.initialAstWithoutTokens=(0,h.parseDocument)(d,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else s.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):s.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(s){return this.brackets.didLanguageChange(s)}handleContentChanged(s){const o=s.changes.map(n=>{const d=T.Range.lift(n.range);return new b.TextEditInfo((0,p.positionToLength)(d.getStartPosition()),(0,p.positionToLength)(d.getEndPosition()),(0,p.lengthOfString)(n.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(o,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(o,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(s,o,n){const u=!1?o==null?void 0:o.deepClone():o,f=new i.TextBufferTokenizer(this.textModel,this.brackets);return(0,h.parseDocument)(f,s,u,n)}getBracketsInRange(s){const o=(0,p.toLength)(s.startLineNumber-1,s.startColumn-1),n=(0,p.toLength)(s.endLineNumber-1,s.endColumn-1),d=new Array,u=this.initialAstWithoutTokens||this.astWithTokens;return r(u,p.lengthZero,u.length,o,n,d),d}getBracketPairsInRange(s,o){const n=new Array,d=(0,p.positionToLength)(s.getStartPosition()),u=(0,p.positionToLength)(s.getEndPosition()),f=this.initialAstWithoutTokens||this.astWithTokens,S=new c(n,o,this.textModel);return l(f,p.lengthZero,f.length,d,u,S),n}}e.BracketPairsTree=t;function r(a,s,o,n,d,u,f=0){if(a.kind===1){const S=(0,p.lengthsToRange)(s,o);u.push(new I.BracketInfo(S,f-1,!1))}else if(a.kind===3){const S=(0,p.lengthsToRange)(s,o);u.push(new I.BracketInfo(S,f-1,!0))}else if(a.kind===4)for(const S of a.children)o=(0,p.lengthAdd)(s,S.length),(0,p.lengthLessThanEqual)(s,d)&&(0,p.lengthGreaterThanEqual)(o,n)&&r(S,s,o,n,d,u,f),s=o;else if(a.kind===2){f++;{const S=a.openingBracket;o=(0,p.lengthAdd)(s,S.length),(0,p.lengthLessThanEqual)(s,d)&&(0,p.lengthGreaterThanEqual)(o,n)&&r(S,s,o,n,d,u,f),s=o}if(a.child){const S=a.child;o=(0,p.lengthAdd)(s,S.length),(0,p.lengthLessThanEqual)(s,d)&&(0,p.lengthGreaterThanEqual)(o,n)&&r(S,s,o,n,d,u,f),s=o}if(a.closingBracket){const S=a.closingBracket;o=(0,p.lengthAdd)(s,S.length),(0,p.lengthLessThanEqual)(s,d)&&(0,p.lengthGreaterThanEqual)(o,n)&&r(S,s,o,n,d,u,f),s=o}}}class c{constructor(s,o,n){this.result=s,this.includeMinIndentation=o,this.textModel=n}}function l(a,s,o,n,d,u,f=0){var S;if(a.kind===2){const m=(0,p.lengthAdd)(s,a.openingBracket.length);let _=-1;u.includeMinIndentation&&(_=a.computeMinIndentation(s,u.textModel)),u.result.push(new I.BracketPairWithMinIndentationInfo((0,p.lengthsToRange)(s,o),(0,p.lengthsToRange)(s,m),a.closingBracket?(0,p.lengthsToRange)((0,p.lengthAdd)(m,((S=a.child)===null||S===void 0?void 0:S.length)||p.lengthZero),o):void 0,f,_)),f++}let v=s;for(const m of a.children){const _=v;v=(0,p.lengthAdd)(v,m.length),(0,p.lengthLessThanEqual)(_,d)&&(0,p.lengthLessThanEqual)(n,v)&&l(m,_,v,n,d,u,f)}}}),define(ee[571],te([0,1,4,2,570,147,177]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairs=void 0;class C extends N.Disposable{constructor(t,r){super();this.textModel=t,this.languageConfigurationService=r,this.bracketPairsTree=this._register(new N.MutableDisposable),this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(t.onDidChangeOptions(c=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(t.onDidChangeLanguage(c=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(this.languageConfigurationService.onDidChange(c=>{var l;(!c.languageId||((l=this.bracketPairsTree.value)===null||l===void 0?void 0:l.object.didLanguageChange(c.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get isDocumentSupported(){const t=5e4*100;return this.textModel.getValueLength()<=t}updateBracketPairsTree(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){const t=new N.DisposableStore;this.bracketPairsTree.value=p(t.add(new T.BracketPairsTree(this.textModel,r=>this.languageConfigurationService.getLanguageConfiguration(r))),t),t.add(this.bracketPairsTree.value.object.onDidChange(r=>this.onDidChangeEmitter.fire(r))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}handleContentChanged(t){var r;(r=this.bracketPairsTree.value)===null||r===void 0||r.object.handleContentChanged(t)}getBracketPairsInRange(t){var r;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((r=this.bracketPairsTree.value)===null||r===void 0?void 0:r.object.getBracketPairsInRange(t,!1))||[]}getBracketPairsInRangeWithMinIndentation(t){var r;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((r=this.bracketPairsTree.value)===null||r===void 0?void 0:r.object.getBracketPairsInRange(t,!0))||[]}getBracketsInRange(t){var r;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((r=this.bracketPairsTree.value)===null||r===void 0?void 0:r.object.getBracketsInRange(t))||[]}findMatchingBracketUp(t,r){let c=t.toLowerCase(),l=this.textModel.validatePosition(r);const a=this.textModel.getLanguageIdAtPosition(l.lineNumber,l.column);let s=this.languageConfigurationService.getLanguageConfiguration(a).brackets;if(!s)return null;let o=s.textIsBracket[c];return o?g(this._findMatchingBracketUp(o,l,null)):null}matchBracket(t){return this._matchBracket(this.textModel.validatePosition(t))}_establishBracketSearchOffsets(t,r,c,l){const a=r.getCount(),s=r.getLanguageId(l);let o=Math.max(0,t.column-1-c.maxBracketLength);for(let d=l-1;d>=0;d--){const u=r.getEndOffset(d);if(u<=o)break;if((0,I.ignoreBracketsInToken)(r.getStandardTokenType(d))||r.getLanguageId(d)!==s){o=u;break}}let n=Math.min(r.getLineContent().length,t.column-1+c.maxBracketLength);for(let d=l+1;d<a;d++){const u=r.getStartOffset(d);if(u>=n)break;if((0,I.ignoreBracketsInToken)(r.getStandardTokenType(d))||r.getLanguageId(d)!==s){n=u;break}}return{searchStartOffset:o,searchEndOffset:n}}_matchBracket(t){const r=t.lineNumber,c=this.textModel.getLineTokens(r),l=this.textModel.getLineContent(r),a=c.findTokenIndexAtOffset(t.column-1);if(a<0)return null;const s=this.languageConfigurationService.getLanguageConfiguration(c.getLanguageId(a)).brackets;if(s&&!(0,I.ignoreBracketsInToken)(c.getStandardTokenType(a))){let{searchStartOffset:o,searchEndOffset:n}=this._establishBracketSearchOffsets(t,c,s,a),d=null;for(;;){const u=b.BracketsUtils.findNextBracketInRange(s.forwardRegex,r,l,o,n);if(!u)break;if(u.startColumn<=t.column&&t.column<=u.endColumn){const f=l.substring(u.startColumn-1,u.endColumn-1).toLowerCase(),S=this._matchFoundBracket(u,s.textIsBracket[f],s.textIsOpenBracket[f],null);if(S){if(S instanceof h)return null;d=S}}o=u.endColumn-1}if(d)return d}if(a>0&&c.getStartOffset(a)===t.column-1){const o=a-1,n=this.languageConfigurationService.getLanguageConfiguration(c.getLanguageId(o)).brackets;if(n&&!(0,I.ignoreBracketsInToken)(c.getStandardTokenType(o))){let{searchStartOffset:d,searchEndOffset:u}=this._establishBracketSearchOffsets(t,c,n,o);const f=b.BracketsUtils.findPrevBracketInRange(n.reversedRegex,r,l,d,u);if(f&&f.startColumn<=t.column&&t.column<=f.endColumn){const S=l.substring(f.startColumn-1,f.endColumn-1).toLowerCase(),v=this._matchFoundBracket(f,n.textIsBracket[S],n.textIsOpenBracket[S],null);if(v)return v instanceof h?null:v}}}return null}_matchFoundBracket(t,r,c,l){if(!r)return null;const a=c?this._findMatchingBracketDown(r,t.getEndPosition(),l):this._findMatchingBracketUp(r,t.getStartPosition(),l);return a?a instanceof h?a:[t,a]:null}_findMatchingBracketUp(t,r,c){const l=t.languageId,a=t.reversedRegex;let s=-1,o=0;const n=(d,u,f,S)=>{for(;;){if(c&&++o%100==0&&!c())return h.INSTANCE;const v=b.BracketsUtils.findPrevBracketInRange(a,d,u,f,S);if(!v)break;const m=u.substring(v.startColumn-1,v.endColumn-1).toLowerCase();if(t.isOpen(m)?s++:t.isClose(m)&&s--,s===0)return v;S=v.startColumn-1}return null};for(let d=r.lineNumber;d>=1;d--){const u=this.textModel.getLineTokens(d),f=u.getCount(),S=this.textModel.getLineContent(d);let v=f-1,m=S.length,_=S.length;d===r.lineNumber&&(v=u.findTokenIndexAtOffset(r.column-1),m=r.column-1,_=r.column-1);let L=!0;for(;v>=0;v--){const w=u.getLanguageId(v)===l&&!(0,I.ignoreBracketsInToken)(u.getStandardTokenType(v));if(w)L?m=u.getStartOffset(v):(m=u.getStartOffset(v),_=u.getEndOffset(v));else if(L&&m!==_){const k=n(d,S,m,_);if(k)return k}L=w}if(L&&m!==_){const w=n(d,S,m,_);if(w)return w}}return null}_findMatchingBracketDown(t,r,c){const l=t.languageId,a=t.forwardRegex;let s=1,o=0;const n=(u,f,S,v)=>{for(;;){if(c&&++o%100==0&&!c())return h.INSTANCE;const m=b.BracketsUtils.findNextBracketInRange(a,u,f,S,v);if(!m)break;const _=f.substring(m.startColumn-1,m.endColumn-1).toLowerCase();if(t.isOpen(_)?s++:t.isClose(_)&&s--,s===0)return m;S=m.endColumn-1}return null},d=this.textModel.getLineCount();for(let u=r.lineNumber;u<=d;u++){const f=this.textModel.getLineTokens(u),S=f.getCount(),v=this.textModel.getLineContent(u);let m=0,_=0,L=0;u===r.lineNumber&&(m=f.findTokenIndexAtOffset(r.column-1),_=r.column-1,L=r.column-1);let w=!0;for(;m<S;m++){const k=f.getLanguageId(m)===l&&!(0,I.ignoreBracketsInToken)(f.getStandardTokenType(m));if(k)w||(_=f.getStartOffset(m)),L=f.getEndOffset(m);else if(w&&_!==L){const D=n(u,v,_,L);if(D)return D}w=k}if(w&&_!==L){const k=n(u,v,_,L);if(k)return k}}return null}findPrevBracket(t){const r=this.textModel.validatePosition(t);let c=null,l=null;for(let a=r.lineNumber;a>=1;a--){const s=this.textModel.getLineTokens(a),o=s.getCount(),n=this.textModel.getLineContent(a);let d=o-1,u=n.length,f=n.length;if(a===r.lineNumber){d=s.findTokenIndexAtOffset(r.column-1),u=r.column-1,f=r.column-1;const v=s.getLanguageId(d);c!==v&&(c=v,l=this.languageConfigurationService.getLanguageConfiguration(c).brackets)}let S=!0;for(;d>=0;d--){const v=s.getLanguageId(d);if(c!==v){if(l&&S&&u!==f){const _=b.BracketsUtils.findPrevBracketInRange(l.reversedRegex,a,n,u,f);if(_)return this._toFoundBracket(l,_);S=!1}c=v,l=this.languageConfigurationService.getLanguageConfiguration(c).brackets}const m=!!l&&!(0,I.ignoreBracketsInToken)(s.getStandardTokenType(d));if(m)S?u=s.getStartOffset(d):(u=s.getStartOffset(d),f=s.getEndOffset(d));else if(l&&S&&u!==f){const _=b.BracketsUtils.findPrevBracketInRange(l.reversedRegex,a,n,u,f);if(_)return this._toFoundBracket(l,_)}S=m}if(l&&S&&u!==f){const v=b.BracketsUtils.findPrevBracketInRange(l.reversedRegex,a,n,u,f);if(v)return this._toFoundBracket(l,v)}}return null}findNextBracket(t){const r=this.textModel.validatePosition(t),c=this.textModel.getLineCount();let l=null,a=null;for(let s=r.lineNumber;s<=c;s++){const o=this.textModel.getLineTokens(s),n=o.getCount(),d=this.textModel.getLineContent(s);let u=0,f=0,S=0;if(s===r.lineNumber){u=o.findTokenIndexAtOffset(r.column-1),f=r.column-1,S=r.column-1;const m=o.getLanguageId(u);l!==m&&(l=m,a=this.languageConfigurationService.getLanguageConfiguration(l).brackets)}let v=!0;for(;u<n;u++){const m=o.getLanguageId(u);if(l!==m){if(a&&v&&f!==S){const L=b.BracketsUtils.findNextBracketInRange(a.forwardRegex,s,d,f,S);if(L)return this._toFoundBracket(a,L);v=!1}l=m,a=this.languageConfigurationService.getLanguageConfiguration(l).brackets}const _=!!a&&!(0,I.ignoreBracketsInToken)(o.getStandardTokenType(u));if(_)v||(f=o.getStartOffset(u)),S=o.getEndOffset(u);else if(a&&v&&f!==S){const L=b.BracketsUtils.findNextBracketInRange(a.forwardRegex,s,d,f,S);if(L)return this._toFoundBracket(a,L)}v=_}if(a&&v&&f!==S){const m=b.BracketsUtils.findNextBracketInRange(a.forwardRegex,s,d,f,S);if(m)return this._toFoundBracket(a,m)}}return null}findEnclosingBrackets(t,r){let c;if(typeof r=="undefined")c=null;else{const v=Date.now();c=()=>Date.now()-v<=r}const l=this.textModel.validatePosition(t),a=this.textModel.getLineCount(),s=new Map;let o=[];const n=(v,m)=>{if(!s.has(v)){let _=[];for(let L=0,w=m?m.brackets.length:0;L<w;L++)_[L]=0;s.set(v,_)}o=s.get(v)};let d=0;const u=(v,m,_,L,w)=>{for(;;){if(c&&++d%100==0&&!c())return h.INSTANCE;const k=b.BracketsUtils.findNextBracketInRange(v.forwardRegex,m,_,L,w);if(!k)break;const D=_.substring(k.startColumn-1,k.endColumn-1).toLowerCase(),M=v.textIsBracket[D];if(M&&(M.isOpen(D)?o[M.index]++:M.isClose(D)&&o[M.index]--,o[M.index]===-1))return this._matchFoundBracket(k,M,!1,c);L=k.endColumn-1}return null};let f=null,S=null;for(let v=l.lineNumber;v<=a;v++){const m=this.textModel.getLineTokens(v),_=m.getCount(),L=this.textModel.getLineContent(v);let w=0,k=0,D=0;if(v===l.lineNumber){w=m.findTokenIndexAtOffset(l.column-1),k=l.column-1,D=l.column-1;const O=m.getLanguageId(w);f!==O&&(f=O,S=this.languageConfigurationService.getLanguageConfiguration(f).brackets,n(f,S))}let M=!0;for(;w<_;w++){const O=m.getLanguageId(w);if(f!==O){if(S&&M&&k!==D){const R=u(S,v,L,k,D);if(R)return g(R);M=!1}f=O,S=this.languageConfigurationService.getLanguageConfiguration(f).brackets,n(f,S)}const F=!!S&&!(0,I.ignoreBracketsInToken)(m.getStandardTokenType(w));if(F)M||(k=m.getStartOffset(w)),D=m.getEndOffset(w);else if(S&&M&&k!==D){const R=u(S,v,L,k,D);if(R)return g(R)}M=F}if(S&&M&&k!==D){const O=u(S,v,L,k,D);if(O)return g(O)}}return null}_toFoundBracket(t,r){if(!r)return null;let c=this.textModel.getValueInRange(r);c=c.toLowerCase();let l=t.textIsBracket[c];return l?{range:r,open:l.open,close:l.close,isOpen:t.textIsOpenBracket[c]}:null}}e.BracketPairs=C;function p(i,t){return{object:i,dispose:()=>t==null?void 0:t.dispose()}}class h{constructor(){this._searchCanceledBrand=void 0}}h.INSTANCE=new h;function g(i){return i instanceof h?null:i}}),define(ee[122],te([0,1,19,90,14,3,18]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokensStore=e.TokensStore2=e.MultilineTokens=e.MultilineTokens2=e.LineTokens2=e.SparseEncodedTokens=e.MultilineTokensBuilder=e.countEOL=void 0;function C(o){let n=0,d=0,u=0,f=0;for(let S=0,v=o.length;S<v;S++){const m=o.charCodeAt(S);m===13?(n===0&&(d=S),n++,S+1<v&&o.charCodeAt(S+1)===10?(f|=2,S++):f|=3,u=S+1):m===10&&(f|=1,n===0&&(d=S),n++,u=S+1)}return n===0&&(d=o.length),[n,d,o.length-u,f]}e.countEOL=C;function p(o){return(o<<0|0<<8|0<<11|1<<14|2<<23)>>>0}const h=new Uint32Array(0).buffer;class g{constructor(){this.tokens=[]}add(n,d){if(this.tokens.length>0){const u=this.tokens[this.tokens.length-1];if(u.startLineNumber+u.tokens.length-1+1===n){u.tokens.push(d);return}}this.tokens.push(new c(n,[d]))}}e.MultilineTokensBuilder=g;class i{constructor(n){this._tokens=n,this._tokenCount=n.length/4}toString(n){let d=[];for(let u=0;u<this._tokenCount;u++)d.push(`(${this._getDeltaLine(u)+n},${this._getStartCharacter(u)}-${this._getEndCharacter(u)})`);return`[${d.join(",")}]`}getMaxDeltaLine(){const n=this._getTokenCount();return n===0?-1:this._getDeltaLine(n-1)}getRange(){const n=this._getTokenCount();if(n===0)return null;const d=this._getStartCharacter(0),u=this._getDeltaLine(n-1),f=this._getEndCharacter(n-1);return new I.Range(0,d+1,u,f+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(n){return this._tokens[4*n]}_getStartCharacter(n){return this._tokens[4*n+1]}_getEndCharacter(n){return this._tokens[4*n+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(n){let d=0,u=this._getTokenCount()-1;for(;d<u;){const f=d+Math.floor((u-d)/2),S=this._getDeltaLine(f);if(S<n)d=f+1;else if(S>n)u=f-1;else{let v=f;for(;v>d&&this._getDeltaLine(v-1)===n;)v--;let m=f;for(;m<u&&this._getDeltaLine(m+1)===n;)m++;return new t(this._tokens.subarray(4*v,4*m+4))}}return this._getDeltaLine(d)===n?new t(this._tokens.subarray(4*d,4*d+4)):null}clear(){this._tokenCount=0}removeTokens(n,d,u,f){const S=this._tokens,v=this._tokenCount;let m=0,_=!1,L=0;for(let w=0;w<v;w++){const k=4*w,D=S[k],M=S[k+1],O=S[k+2],F=S[k+3];if((D>n||D===n&&O>=d)&&(D<u||D===u&&M<=f))_=!0;else{if(m===0&&(L=D),_){const R=4*m;S[R]=D-L,S[R+1]=M,S[R+2]=O,S[R+3]=F}m++}}return this._tokenCount=m,L}split(n,d,u,f){const S=this._tokens,v=this._tokenCount;let m=[],_=[],L=m,w=0,k=0;for(let D=0;D<v;D++){const M=4*D,O=S[M],F=S[M+1],R=S[M+2],A=S[M+3];if(O>n||O===n&&R>=d){if(O<u||O===u&&F<=f)continue;L!==_&&(L=_,w=0,k=O)}L[w++]=O-k,L[w++]=F,L[w++]=R,L[w++]=A}return[new i(new Uint32Array(m)),new i(new Uint32Array(_)),k]}acceptDeleteRange(n,d,u,f,S){const v=this._tokens,m=this._tokenCount,_=f-d;let L=0,w=!1;for(let k=0;k<m;k++){const D=4*k;let M=v[D],O=v[D+1],F=v[D+2];const R=v[D+3];if(M<d||M===d&&F<=u){L++;continue}else if(M===d&&O<u)M===f&&F>S?F-=S-u:F=u;else if(M===d&&O===u)if(M===f&&F>S)F-=S-u;else{w=!0;continue}else if(M<f||M===f&&O<S)if(M===f&&F>S)M===d?(O=u,F=O+(F-S)):(O=0,F=O+(F-S));else{w=!0;continue}else if(M>f){if(_===0&&!w){L=m;break}M-=_}else if(M===f&&O>=S)n&&M===0&&(O+=n,F+=n),M-=_,O-=S-u,F-=S-u;else throw new Error("Not possible!");const A=4*L;v[A]=M,v[A+1]=O,v[A+2]=F,v[A+3]=R,L++}this._tokenCount=L}acceptInsertText(n,d,u,f,S,v){const m=u===0&&f===1&&(v>=48&&v<=57||v>=65&&v<=90||v>=97&&v<=122),_=this._tokens,L=this._tokenCount;for(let w=0;w<L;w++){const k=4*w;let D=_[k],M=_[k+1],O=_[k+2];if(!(D<n||D===n&&O<d)){if(D===n&&O===d)if(m)O+=1;else continue;else if(D===n&&M<d&&d<O)u===0?O+=f:O=d;else{if(D===n&&M===d&&m)continue;if(D===n)if(D+=u,u===0)M+=f,O+=f;else{const F=O-M;M=S+(M-d),O=M+F}else D+=u}_[k]=D,_[k+1]=M,_[k+2]=O}}}}e.SparseEncodedTokens=i;class t{constructor(n){this._tokens=n}getCount(){return this._tokens.length/4}getStartCharacter(n){return this._tokens[4*n+1]}getEndCharacter(n){return this._tokens[4*n+2]}getMetadata(n){return this._tokens[4*n+3]}}e.LineTokens2=t;class r{constructor(n,d){this.startLineNumber=n,this.tokens=d,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(n){return this.startLineNumber<=n&&n<=this.endLineNumber?this.tokens.getLineTokens(n-this.startLineNumber):null}getRange(){const n=this.tokens.getRange();return n&&new I.Range(this.startLineNumber+n.startLineNumber,n.startColumn,this.startLineNumber+n.endLineNumber,n.endColumn)}removeTokens(n){const d=n.startLineNumber-this.startLineNumber,u=n.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(d,n.startColumn-1,u,n.endColumn-1),this._updateEndLineNumber()}split(n){const d=n.startLineNumber-this.startLineNumber,u=n.endLineNumber-this.startLineNumber,[f,S,v]=this.tokens.split(d,n.startColumn-1,u,n.endColumn-1);return[new r(this.startLineNumber,f),new r(this.startLineNumber+v,S)]}applyEdit(n,d){const[u,f,S]=C(d);this.acceptEdit(n,u,f,S,d.length>0?d.charCodeAt(0):0)}acceptEdit(n,d,u,f,S){this._acceptDeleteRange(n),this._acceptInsertText(new T.Position(n.startLineNumber,n.startColumn),d,u,f,S),this._updateEndLineNumber()}_acceptDeleteRange(n){if(n.startLineNumber===n.endLineNumber&&n.startColumn===n.endColumn)return;const d=n.startLineNumber-this.startLineNumber,u=n.endLineNumber-this.startLineNumber;if(u<0){const S=u-d;this.startLineNumber-=S;return}const f=this.tokens.getMaxDeltaLine();if(!(d>=f+1)){if(d<0&&u>=f+1){this.startLineNumber=0,this.tokens.clear();return}if(d<0){const S=-d;this.startLineNumber-=S,this.tokens.acceptDeleteRange(n.startColumn-1,0,0,u,n.endColumn-1)}else this.tokens.acceptDeleteRange(0,d,n.startColumn-1,u,n.endColumn-1)}}_acceptInsertText(n,d,u,f,S){if(d===0&&u===0)return;const v=n.lineNumber-this.startLineNumber;if(v<0){this.startLineNumber+=d;return}const m=this.tokens.getMaxDeltaLine();v>=m+1||this.tokens.acceptInsertText(v,n.column-1,d,u,f,S)}}e.MultilineTokens2=r;class c{constructor(n,d){this.startLineNumber=n,this.tokens=d}}e.MultilineTokens=c;function l(o){return o instanceof Uint32Array?o:new Uint32Array(o)}class a{constructor(n){this._pieces=[],this._isComplete=!1,this._languageIdCodec=n}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(n,d){this._pieces=n||[],this._isComplete=d}setPartial(n,d){let u=n;if(d.length>0){const S=d[0].getRange(),v=d[d.length-1].getRange();if(!S||!v)return n;u=n.plusRange(S).plusRange(v)}let f=null;for(let S=0,v=this._pieces.length;S<v;S++){const m=this._pieces[S];if(m.endLineNumber<u.startLineNumber)continue;if(m.startLineNumber>u.endLineNumber){f=f||{index:S};break}if(m.removeTokens(u),m.isEmpty()){this._pieces.splice(S,1),S--,v--;continue}if(m.endLineNumber<u.startLineNumber)continue;if(m.startLineNumber>u.endLineNumber){f=f||{index:S};continue}const[_,L]=m.split(u);if(_.isEmpty()){f=f||{index:S};continue}L.isEmpty()||(this._pieces.splice(S,1,_,L),S++,v++,f=f||{index:S})}return f=f||{index:this._pieces.length},d.length>0&&(this._pieces=y.arrayInsert(this._pieces,f.index,d)),u}isComplete(){return this._isComplete}addSemanticTokens(n,d){const u=this._pieces;if(u.length===0)return d;const f=a._findFirstPieceWithLine(u,n),S=u[f].getLineTokens(n);if(!S)return d;const v=d.getCount(),m=S.getCount();let _=0,L=[],w=0,k=0;const D=(M,O)=>{M!==k&&(k=M,L[w++]=M,L[w++]=O)};for(let M=0;M<m;M++){const O=S.getStartCharacter(M),F=S.getEndCharacter(M),R=S.getMetadata(M),A=((R&1?2048:0)|(R&2?4096:0)|(R&4?8192:0)|(R&8?8372224:0)|(R&16?4286578688:0))>>>0,P=~A>>>0;for(;_<v&&d.getEndOffset(_)<=O;)D(d.getEndOffset(_),d.getMetadata(_)),_++;for(_<v&&d.getStartOffset(_)<O&&D(O,d.getMetadata(_));_<v&&d.getEndOffset(_)<F;)D(d.getEndOffset(_),d.getMetadata(_)&P|R&A),_++;if(_<v)D(F,d.getMetadata(_)&P|R&A),d.getEndOffset(_)===F&&_++;else{const E=Math.min(Math.max(0,_-1),v-1);D(F,d.getMetadata(E)&P|R&A)}}for(;_<v;)D(d.getEndOffset(_),d.getMetadata(_)),_++;return new N.LineTokens(new Uint32Array(L),d.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(n,d){let u=0,f=n.length-1;for(;u<f;){let S=u+Math.floor((f-u)/2);if(n[S].endLineNumber<d)u=S+1;else if(n[S].startLineNumber>d)f=S-1;else{for(;S>u&&n[S-1].startLineNumber<=d&&d<=n[S-1].endLineNumber;)S--;return S}}return u}acceptEdit(n,d,u,f,S){for(const v of this._pieces)v.acceptEdit(n,d,u,f,S)}}e.TokensStore2=a;class s{constructor(n){this._lineTokens=[],this._len=0,this._languageIdCodec=n}flush(){this._lineTokens=[],this._len=0}getTokens(n,d,u){let f=null;if(d<this._len&&(f=this._lineTokens[d]),f!==null&&f!==h)return new N.LineTokens(l(f),u,this._languageIdCodec);const S=new Uint32Array(2);return S[0]=u.length,S[1]=p(this._languageIdCodec.encodeLanguageId(n)),new N.LineTokens(S,u,this._languageIdCodec)}static _massageTokens(n,d,u){const f=u?l(u):null;if(d===0){let S=!1;if(f&&f.length>1&&(S=b.TokenMetadata.getLanguageId(f[1])!==n),!S)return h}if(!f||f.length===0){const S=new Uint32Array(2);return S[0]=d,S[1]=p(n),S.buffer}return f[f.length-2]=d,f.byteOffset===0&&f.byteLength===f.buffer.byteLength?f.buffer:f}_ensureLine(n){for(;n>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(n,d){d!==0&&(n+d>this._len&&(d=this._len-n),this._lineTokens.splice(n,d),this._len-=d)}_insertLines(n,d){if(d===0)return;let u=[];for(let f=0;f<d;f++)u[f]=null;this._lineTokens=y.arrayInsert(this._lineTokens,n,u),this._len+=d}setTokens(n,d,u,f,S){const v=s._massageTokens(this._languageIdCodec.encodeLanguageId(n),u,f);this._ensureLine(d);const m=this._lineTokens[d];return this._lineTokens[d]=v,S?!s._equals(m,v):!1}static _equals(n,d){if(!n||!d)return!n&&!d;const u=l(n),f=l(d);if(u.length!==f.length)return!1;for(let S=0,v=u.length;S<v;S++)if(u[S]!==f[S])return!1;return!0}acceptEdit(n,d,u){this._acceptDeleteRange(n),this._acceptInsertText(new T.Position(n.startLineNumber,n.startColumn),d,u)}_acceptDeleteRange(n){const d=n.startLineNumber-1;if(d>=this._len)return;if(n.startLineNumber===n.endLineNumber){if(n.startColumn===n.endColumn)return;this._lineTokens[d]=s._delete(this._lineTokens[d],n.startColumn-1,n.endColumn-1);return}this._lineTokens[d]=s._deleteEnding(this._lineTokens[d],n.startColumn-1);const u=n.endLineNumber-1;let f=null;u<this._len&&(f=s._deleteBeginning(this._lineTokens[u],n.endColumn-1)),this._lineTokens[d]=s._append(this._lineTokens[d],f),this._deleteLines(n.startLineNumber,n.endLineNumber-n.startLineNumber)}_acceptInsertText(n,d,u){if(d===0&&u===0)return;const f=n.lineNumber-1;if(!(f>=this._len)){if(d===0){this._lineTokens[f]=s._insert(this._lineTokens[f],n.column-1,u);return}this._lineTokens[f]=s._deleteEnding(this._lineTokens[f],n.column-1),this._lineTokens[f]=s._insert(this._lineTokens[f],n.column-1,u),this._insertLines(n.lineNumber,d)}}static _deleteBeginning(n,d){return n===null||n===h?n:s._delete(n,0,d)}static _deleteEnding(n,d){if(n===null||n===h)return n;const u=l(n),f=u[u.length-2];return s._delete(n,d,f)}static _delete(n,d,u){if(n===null||n===h||d===u)return n;const f=l(n),S=f.length>>>1;if(d===0&&f[f.length-2]===u)return h;const v=N.LineTokens.findIndexInTokensArray(f,d),m=v>0?f[v-1<<1]:0,_=f[v<<1];if(u<_){const M=u-d;for(let O=v;O<S;O++)f[O<<1]-=M;return n}let L,w;m!==d?(f[v<<1]=d,L=v+1<<1,w=d):(L=v<<1,w=m);const k=u-d;for(let M=v+1;M<S;M++){const O=f[M<<1]-k;O>w&&(f[L++]=O,f[L++]=f[(M<<1)+1],w=O)}if(L===f.length)return n;let D=new Uint32Array(L);return D.set(f.subarray(0,L),0),D.buffer}static _append(n,d){if(d===h)return n;if(n===h)return d;if(n===null)return n;if(d===null)return null;const u=l(n),f=l(d),S=f.length>>>1;let v=new Uint32Array(u.length+f.length);v.set(u,0);let m=u.length;const _=u[u.length-2];for(let L=0;L<S;L++)v[m++]=f[L<<1]+_,v[m++]=f[(L<<1)+1];return v.buffer}static _insert(n,d,u){if(n===null||n===h)return n;const f=l(n),S=f.length>>>1;let v=N.LineTokens.findIndexInTokensArray(f,d);v>0&&f[v-1<<1]===d&&v--;for(let m=v;m<S;m++)f[m<<1]+=u;return n}}e.TokensStore=s}),define(ee[256],te([0,1,4,8,3,49,231,122,230,2]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class g extends h.Disposable{constructor(t,r,c,l,a,s,o){super();this._onDidChangeContent=this._register(new y.Emitter),this._BOM=r,this._mightContainNonBasicASCII=!s,this._mightContainRTL=l,this._mightContainUnusualLineTerminators=a,this._pieceTree=new b.PieceTreeBase(t,c,o)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(t){return this._pieceTree.createSnapshot(t?this._BOM:"")}getOffsetAt(t,r){return this._pieceTree.getOffsetAt(t,r)}getPositionAt(t){return this._pieceTree.getPositionAt(t)}getRangeAt(t,r){let c=t+r;const l=this.getPositionAt(t),a=this.getPositionAt(c);return new T.Range(l.lineNumber,l.column,a.lineNumber,a.column)}getValueInRange(t,r=0){if(t.isEmpty())return"";const c=this._getEndOfLine(r);return this._pieceTree.getValueInRange(t,c)}getValueLengthInRange(t,r=0){if(t.isEmpty())return 0;if(t.startLineNumber===t.endLineNumber)return t.endColumn-t.startColumn;let c=this.getOffsetAt(t.startLineNumber,t.startColumn);return this.getOffsetAt(t.endLineNumber,t.endColumn)-c}getCharacterCountInRange(t,r=0){if(this._mightContainNonBasicASCII){let c=0;const l=t.startLineNumber,a=t.endLineNumber;for(let s=l;s<=a;s++){const o=this.getLineContent(s),n=s===l?t.startColumn-1:0,d=s===a?t.endColumn-1:o.length;for(let u=n;u<d;u++)N.isHighSurrogate(o.charCodeAt(u))?(c=c+1,u=u+1):c=c+1}return c+=this._getEndOfLine(r).length*(a-l),c}return this.getValueLengthInRange(t,r)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(t){return this._pieceTree.getLineContent(t)}getLineCharCode(t,r){return this._pieceTree.getLineCharCode(t,r)}getLineLength(t){return this._pieceTree.getLineLength(t)}getLineFirstNonWhitespaceColumn(t){const r=N.firstNonWhitespaceIndex(this.getLineContent(t));return r===-1?0:r+1}getLineLastNonWhitespaceColumn(t){const r=N.lastNonWhitespaceIndex(this.getLineContent(t));return r===-1?0:r+2}_getEndOfLine(t){switch(t){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(t){this._pieceTree.setEOL(t)}applyEdits(t,r,c){let l=this._mightContainRTL,a=this._mightContainUnusualLineTerminators,s=this._mightContainNonBasicASCII,o=!0,n=[];for(let _=0;_<t.length;_++){let L=t[_];o&&L._isTracked&&(o=!1);let w=L.range;if(L.text){let F=!0;s||(F=!N.isBasicASCII(L.text),s=F),!l&&F&&(l=N.containsRTL(L.text)),!a&&F&&(a=N.containsUnusualLineTerminators(L.text))}let k="",D=0,M=0,O=0;if(L.text){let F;[D,M,O,F]=(0,C.countEOL)(L.text);const R=this.getEOL();F===0||F===(R===`\r
`?2:1)?k=L.text:k=L.text.replace(/\r\n|\r|\n/g,R)}n[_]={sortIndex:_,identifier:L.identifier||null,range:w,rangeOffset:this.getOffsetAt(w.startLineNumber,w.startColumn),rangeLength:this.getValueLengthInRange(w),text:k,eolCount:D,firstLineLength:M,lastLineLength:O,forceMoveMarkers:Boolean(L.forceMoveMarkers),isAutoWhitespaceEdit:L.isAutoWhitespaceEdit||!1}}n.sort(g._sortOpsAscending);let d=!1;for(let _=0,L=n.length-1;_<L;_++){let w=n[_].range.getEndPosition(),k=n[_+1].range.getStartPosition();if(k.isBeforeOrEqual(w)){if(k.isBefore(w))throw new Error("Overlapping ranges are not allowed!");d=!0}}o&&(n=this._reduceOperations(n));let u=c||r?g._getInverseEditRanges(n):[],f=[];if(r)for(let _=0;_<n.length;_++){let L=n[_],w=u[_];if(L.isAutoWhitespaceEdit&&L.range.isEmpty())for(let k=w.startLineNumber;k<=w.endLineNumber;k++){let D="";k===w.startLineNumber&&(D=this.getLineContent(L.range.startLineNumber),N.firstNonWhitespaceIndex(D)!==-1)||f.push({lineNumber:k,oldContent:D})}}let S=null;if(c){let _=0;S=[];for(let L=0;L<n.length;L++){const w=n[L],k=u[L],D=this.getValueInRange(w.range),M=w.rangeOffset+_;_+=w.text.length-D.length,S[L]={sortIndex:w.sortIndex,identifier:w.identifier,range:k,text:D,textChange:new p.TextChange(w.rangeOffset,D,M,w.text)}}d||S.sort((L,w)=>L.sortIndex-w.sortIndex)}this._mightContainRTL=l,this._mightContainUnusualLineTerminators=a,this._mightContainNonBasicASCII=s;const v=this._doApplyEdits(n);let m=null;if(r&&f.length>0){f.sort((_,L)=>L.lineNumber-_.lineNumber),m=[];for(let _=0,L=f.length;_<L;_++){let w=f[_].lineNumber;if(_>0&&f[_-1].lineNumber===w)continue;let k=f[_].oldContent,D=this.getLineContent(w);D.length===0||D===k||N.firstNonWhitespaceIndex(D)!==-1||m.push(w)}}return this._onDidChangeContent.fire(),new I.ApplyEditsResult(S,v,m)}_reduceOperations(t){return t.length<1e3?t:[this._toSingleEditOperation(t)]}_toSingleEditOperation(t){let r=!1;const c=t[0].range,l=t[t.length-1].range,a=new T.Range(c.startLineNumber,c.startColumn,l.endLineNumber,l.endColumn);let s=c.startLineNumber,o=c.startColumn;const n=[];for(let v=0,m=t.length;v<m;v++){const _=t[v],L=_.range;r=r||_.forceMoveMarkers,n.push(this.getValueInRange(new T.Range(s,o,L.startLineNumber,L.startColumn))),_.text.length>0&&n.push(_.text),s=L.endLineNumber,o=L.endColumn}const d=n.join(""),[u,f,S]=(0,C.countEOL)(d);return{sortIndex:0,identifier:t[0].identifier,range:a,rangeOffset:this.getOffsetAt(a.startLineNumber,a.startColumn),rangeLength:this.getValueLengthInRange(a,0),text:d,eolCount:u,firstLineLength:f,lastLineLength:S,forceMoveMarkers:r,isAutoWhitespaceEdit:!1}}_doApplyEdits(t){t.sort(g._sortOpsDescending);let r=[];for(let c=0;c<t.length;c++){let l=t[c];const a=l.range.startLineNumber,s=l.range.startColumn,o=l.range.endLineNumber,n=l.range.endColumn;if(a===o&&s===n&&l.text.length===0)continue;l.text?(this._pieceTree.delete(l.rangeOffset,l.rangeLength),this._pieceTree.insert(l.rangeOffset,l.text,!0)):this._pieceTree.delete(l.rangeOffset,l.rangeLength);const d=new T.Range(a,s,o,n);r.push({range:d,rangeLength:l.rangeLength,text:l.text,rangeOffset:l.rangeOffset,forceMoveMarkers:l.forceMoveMarkers})}return r}findMatchesLineByLine(t,r,c,l){return this._pieceTree.findMatchesLineByLine(t,r,c,l)}static _getInverseEditRanges(t){let r=[],c=0,l=0,a=null;for(let s=0,o=t.length;s<o;s++){let n=t[s],d,u;a?a.range.endLineNumber===n.range.startLineNumber?(d=c,u=l+(n.range.startColumn-a.range.endColumn)):(d=c+(n.range.startLineNumber-a.range.endLineNumber),u=n.range.startColumn):(d=n.range.startLineNumber,u=n.range.startColumn);let f;if(n.text.length>0){const S=n.eolCount+1;S===1?f=new T.Range(d,u,d,u+n.firstLineLength):f=new T.Range(d,u,d+S-1,n.lastLineLength+1)}else f=new T.Range(d,u,d,u);c=f.endLineNumber,l=f.endColumn,r.push(f),a=n}return r}static _sortOpsAscending(t,r){let c=T.Range.compareRangesUsingEnds(t.range,r.range);return c===0?t.sortIndex-r.sortIndex:c}static _sortOpsDescending(t,r){let c=T.Range.compareRangesUsingEnds(t.range,r.range);return c===0?r.sortIndex-t.sortIndex:-c}}e.PieceTreeTextBuffer=g}),define(ee[572],te([0,1,8,231,256]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class I{constructor(p,h,g,i,t,r,c,l,a){this._chunks=p,this._bom=h,this._cr=g,this._lf=i,this._crlf=t,this._containsRTL=r,this._containsUnusualLineTerminators=c,this._isBasicASCII=l,this._normalizeEOL=a}_getEOL(p){const h=this._cr+this._lf+this._crlf,g=this._cr+this._crlf;return h===0?p===1?`
`:`\r
`:g>h/2?`\r
`:`
`}create(p){const h=this._getEOL(p);let g=this._chunks;if(this._normalizeEOL&&(h===`\r
`&&(this._cr>0||this._lf>0)||h===`
`&&(this._cr>0||this._crlf>0)))for(let t=0,r=g.length;t<r;t++){let c=g[t].buffer.replace(/\r\n|\r|\n/g,h),l=(0,N.createLineStartsFast)(c);g[t]=new N.StringBuffer(c,l)}const i=new T.PieceTreeTextBuffer(g,this._bom,h,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:i,disposable:i}}}e.PieceTreeTextBufferFactory=I;class b{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(p){if(p.length===0)return;this.chunks.length===0&&y.startsWithUTF8BOM(p)&&(this.BOM=y.UTF8_BOM_CHARACTER,p=p.substr(1));const h=p.charCodeAt(p.length-1);h===13||h>=55296&&h<=56319?(this._acceptChunk1(p.substr(0,p.length-1),!1),this._hasPreviousChar=!0,this._previousChar=h):(this._acceptChunk1(p,!1),this._hasPreviousChar=!1,this._previousChar=h)}_acceptChunk1(p,h){!h&&p.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+p):this._acceptChunk2(p))}_acceptChunk2(p){const h=(0,N.createLineStarts)(this._tmpLineStarts,p);this.chunks.push(new N.StringBuffer(p,h.lineStarts)),this.cr+=h.cr,this.lf+=h.lf,this.crlf+=h.crlf,this.isBasicASCII&&(this.isBasicASCII=h.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=y.containsRTL(p)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=y.containsUnusualLineTerminators(p))}finish(p=!0){return this._finish(),new I(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,p)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let p=this.chunks[this.chunks.length-1];p.buffer+=String.fromCharCode(this._previousChar);let h=(0,N.createLineStartsFast)(p.buffer);p.lineStarts=h,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=b}),define(ee[573],te([0,1,19,13,90,14,18,80,2,85,122,17]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class t{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(s){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,s&&this._setBeginState(0,s)}flush(s){this._reset(s)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(s){s<this._len&&(this._valid[s]=!1),s<this._invalidLineStartIndex&&(this._invalidLineStartIndex=s)}_isValid(s){return s<this._len?this._valid[s]:!1}getBeginState(s){return s<this._len?this._beginState[s]:null}_ensureLine(s){for(;s>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(s,o){o!==0&&(s+o>this._len&&(o=this._len-s),this._beginState.splice(s,o),this._valid.splice(s,o),this._len-=o)}_insertLines(s,o){if(o===0)return;const n=[],d=[];for(let u=0;u<o;u++)n[u]=null,d[u]=!1;this._beginState=y.arrayInsert(this._beginState,s,n),this._valid=y.arrayInsert(this._valid,s,d),this._len+=o}_setValid(s,o){this._ensureLine(s),this._valid[s]=o}_setBeginState(s,o){this._ensureLine(s),this._beginState[s]=o}setEndState(s,o,n){if(this._setValid(o,!0),this._invalidLineStartIndex=o+1,o===s-1)return;const d=this.getBeginState(o+1);if(d===null||!n.equals(d)){this._setBeginState(o+1,n),this._invalidateLine(o+1);return}let u=o+1;for(;u<s&&this._isValid(u);)u++;this._invalidLineStartIndex=u}setFakeTokens(s){this._setValid(s,!1)}applyEdits(s,o){const n=s.endLineNumber-s.startLineNumber,u=Math.min(n,o);for(let f=u;f>=0;f--)this._invalidateLine(s.startLineNumber+f-1);this._acceptDeleteRange(s),this._acceptInsertText(new I.Position(s.startLineNumber,s.startColumn),o)}_acceptDeleteRange(s){s.startLineNumber-1>=this._len||this._deleteLines(s.startLineNumber,s.endLineNumber-s.startLineNumber)}_acceptInsertText(s,o){s.lineNumber-1>=this._len||this._insertLines(s.lineNumber,o)}}e.TokenizationStateStore=t;class r extends p.Disposable{constructor(s,o){super();this._textModel=s,this._languageIdCodec=o,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=new t,this._tokenizationSupport=null,this._register(b.TokenizationRegistry.onDidChange(n=>{const d=this._textModel.getLanguageId();n.changedLanguages.indexOf(d)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(n=>{if(n.isFlush){this._resetTokenizationState();return}for(let d=0,u=n.changes.length;d<u;d++){const f=n.changes[d],[S]=(0,g.countEOL)(f.text);this._tokenizationStateStore.applyEdits(f.range,S)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[s,o]=c(this._textModel);this._tokenizationSupport=s,this._tokenizationStateStore.flush(o),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,i.setImmediate)(()=>{this._isScheduled=!1,!this._isDisposed&&this._revalidateTokensNow()}))}_revalidateTokensNow(){const s=this._textModel.getLineCount(),o=1,n=new g.MultilineTokensBuilder,d=h.StopWatch.create(!1);let u=-1;do if(d.elapsed()>o||(u=this._tokenizeOneInvalidLine(n),u>=s))break;while(this._hasLinesToTokenize());this._beginBackgroundTokenization(),this._textModel.setTokens(n.tokens,!this._hasLinesToTokenize())}tokenizeViewport(s,o){const n=new g.MultilineTokensBuilder;this._tokenizeViewport(n,s,o),this._textModel.setTokens(n.tokens,!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(s){const o=new g.MultilineTokensBuilder;this._updateTokensUntilLine(o,s),this._textModel.setTokens(o.tokens,!this._hasLinesToTokenize())}getTokenTypeIfInsertingCharacter(s,o){if(!this._tokenizationSupport)return 0;this.forceTokenization(s.lineNumber);const n=this._tokenizationStateStore.getBeginState(s.lineNumber-1);if(!n)return 0;const d=this._textModel.getLanguageId(),u=this._textModel.getLineContent(s.lineNumber),f=u.substring(0,s.column-1)+o+u.substring(s.column-1),S=l(this._languageIdCodec,d,this._tokenizationSupport,f,!0,n),v=new T.LineTokens(S.tokens,f,this._languageIdCodec);if(v.getCount()===0)return 0;const m=v.findTokenIndexAtOffset(s.column-1);return v.getStandardTokenType(m)}isCheapToTokenize(s){if(!this._tokenizationSupport)return!0;const o=this._tokenizationStateStore.invalidLineStartIndex+1;return s>o?!1:s<o||this._textModel.getLineLength(s)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(s){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const o=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(s,o),o}_updateTokensUntilLine(s,o){if(!this._tokenizationSupport)return;const n=this._textModel.getLanguageId(),d=this._textModel.getLineCount(),u=o-1;for(let f=this._tokenizationStateStore.invalidLineStartIndex;f<=u;f++){const S=this._textModel.getLineContent(f+1),v=this._tokenizationStateStore.getBeginState(f),m=l(this._languageIdCodec,n,this._tokenizationSupport,S,!0,v);s.add(f+1,m.tokens),this._tokenizationStateStore.setEndState(d,f,m.endState),f=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(s,o,n){if(!this._tokenizationSupport||n<=this._tokenizationStateStore.invalidLineStartIndex)return;if(o<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(s,n);return}let d=this._textModel.getLineFirstNonWhitespaceColumn(o);const u=[];let f=null;for(let m=o-1;d>1&&m>=1;m--){const _=this._textModel.getLineFirstNonWhitespaceColumn(m);if(_!==0&&_<d){if(f=this._tokenizationStateStore.getBeginState(m-1),f)break;u.push(this._textModel.getLineContent(m)),d=_}}f||(f=this._tokenizationSupport.getInitialState());const S=this._textModel.getLanguageId();let v=f;for(let m=u.length-1;m>=0;m--)v=l(this._languageIdCodec,S,this._tokenizationSupport,u[m],!1,v).endState;for(let m=o;m<=n;m++){const _=this._textModel.getLineContent(m),L=l(this._languageIdCodec,S,this._tokenizationSupport,_,!0,v);s.add(m,L.tokens),this._tokenizationStateStore.setFakeTokens(m-1),v=L.endState}}}e.TextModelTokenization=r;function c(a){const s=a.getLanguageId();let o=a.isTooLargeForTokenization()?null:b.TokenizationRegistry.get(s),n=null;if(o)try{n=o.getInitialState()}catch(d){(0,N.onUnexpectedError)(d),o=null}return[o,n]}function l(a,s,o,n,d,u){let f=null;if(o)try{f=o.tokenize2(n,d,u.clone(),0)}catch(S){(0,N.onUnexpectedError)(S)}return f||(f=(0,C.nullTokenize2)(a.encodeLanguageId(s),n,u,0)),T.LineTokens.convertToEndOffset(f.tokens,n.length),f}}),define(ee[257],te([0,1,8,90,80]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeLineToHTML=e.tokenizeToString=void 0;const I={getInitialState:()=>T.NULL_STATE,tokenize2:(h,g,i,t)=>(0,T.nullTokenize2)(0,h,i,t)};function b(h,g,i=I){return p(h,g,i||I)}e.tokenizeToString=b;function C(h,g,i,t,r,c,l){let a="<div>",s=t,o=0,n=!0;for(let d=0,u=g.getCount();d<u;d++){const f=g.getEndOffset(d);if(f<=t)continue;let S="";for(;s<f&&s<r;s++){const v=h.charCodeAt(s);switch(v){case 9:let m=c-(s+o)%c;for(o+=m-1;m>0;)l&&n?(S+="&#160;",n=!1):(S+=" ",n=!0),m--;break;case 60:S+="&lt;",n=!1;break;case 62:S+="&gt;",n=!1;break;case 38:S+="&amp;",n=!1;break;case 0:S+="&#00;",n=!1;break;case 65279:case 8232:case 8233:case 133:S+="\uFFFD",n=!1;break;case 13:S+="&#8203",n=!1;break;case 32:l&&n?(S+="&#160;",n=!1):(S+=" ",n=!0);break;default:S+=String.fromCharCode(v),n=!1}}if(a+=`<span style="${g.getInlineStyle(d,i)}">${S}</span>`,f>r||s>=r)break}return a+="</div>",a}e.tokenizeLineToHTML=C;function p(h,g,i){let t='<div class="monaco-tokenized-source">';const r=y.splitLines(h);let c=i.getInitialState();for(let l=0,a=r.length;l<a;l++){const s=r[l];l>0&&(t+="<br/>");const o=i.tokenize2(s,!0,c,0);N.LineTokens.convertToEndOffset(o.tokens,s.length);const d=new N.LineTokens(o.tokens,s,g).inflate();let u=0;for(let f=0,S=d.getCount();f<S;f++){const v=d.getClassName(f),m=d.getEndOffset(f);t+=`<span class="${v}">${y.escape(s.substring(u,m))}</span>`,u=m}c=o.endState}return t+="</div>",t}}),define(ee[66],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,y.createDecorator)("textModelService")}),define(ee[152],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,y.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,y.createDecorator)("textResourcePropertiesService")}),define(ee[258],te([0,1,4,2,227,18]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class b extends N.Disposable{constructor(){super();this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(I.TokenizationRegistry.onDidChange(p=>{p.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,N.markAsSingleton)(new b)),this._INSTANCE}_updateColorMap(){const p=I.TokenizationRegistry.getColorMap();if(!p){this._colors=[T.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[T.RGBA8.Empty];for(let g=1;g<p.length;g++){const i=p[g].rgba;this._colors[g]=new T.RGBA8(i.r,i.g,i.b,Math.round(i.a*255))}let h=p[2].getRelativeLuminance();this._backgroundIsLight=h>=.5,this._onDidChange.fire(void 0)}getColor(p){return(p<1||p>=this._colors.length)&&(p=2),this._colors[p]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=b,b._INSTANCE=null}),define(ee[574],te([0,1,90,14,89,64]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function b(r,c){return r===null?c?p.INSTANCE:h.INSTANCE:new C(r,c)}e.createModelLineProjection=b;class C{constructor(c,l){this._lineBreakData=c,this._isVisible=l}isVisible(){return this._isVisible}setVisible(c){return this._isVisible=c,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.getOutputLineCount():0}getInputStartOffsetOfOutputLineIndex(c){return this._lineBreakData.translateToInputOffset(c,0)}getInputEndOffsetOfOutputLineIndex(c){return this._lineBreakData.translateToInputOffset(c,this._lineBreakData.getMaxOutputOffset(c))}getViewLineContent(c,l,a){this.assertVisible();const s=a>0?this._lineBreakData.breakOffsets[a-1]:0,o=a<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[a]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let n;if(this._lineBreakData.injectionOffsets!==null){const d=this._lineBreakData.injectionOffsets.map((u,f)=>new T.LineInjectedText(0,0,u+1,this._lineBreakData.injectionOptions[f],0));n=T.LineInjectedText.applyInjectedText(c.getLineContent(l),d).substring(s,o)}else n=c.getValueInRange({startLineNumber:l,startColumn:s+1,endLineNumber:l,endColumn:o+1});return a>0&&(n=i(this._lineBreakData.wrappedTextIndentLength)+n),n}getViewLineLength(c,l,a){return this.assertVisible(),this._lineBreakData.getLineLength(a)}getViewLineMinColumn(c,l,a){return this.assertVisible(),this._lineBreakData.getMinOutputOffset(a)+1}getViewLineMaxColumn(c,l,a){return this.assertVisible(),this._lineBreakData.getMaxOutputOffset(a)+1}getViewLineData(c,l,a){this.assertVisible();const s=this._lineBreakData,o=a>0?s.wrappedTextIndentLength:0,n=s.injectionOffsets,d=s.injectionOptions;let u,f;if(n){const w=c.getLineTokens(l).withInserted(n.map((O,F)=>({offset:O,text:d[F].content,tokenMetadata:y.LineTokens.defaultTokenMetadata}))),k=a>0?s.breakOffsets[a-1]:0,D=s.breakOffsets[a];u=w.sliceAndInflate(k,D,o),f=new Array;let M=0;for(let O=0;O<n.length;O++){const F=d[O].content.length,R=n[O]+M,A=n[O]+M+F;if(R>D)break;if(k<A){const P=d[O];if(P.inlineClassName){const E=a>0?s.wrappedTextIndentLength:0,B=E+Math.max(R-k,0),V=E+Math.min(A-k,D);B!==V&&f.push(new I.SingleLineInlineDecoration(B,V,P.inlineClassName,P.inlineClassNameAffectsLetterSpacing))}}M+=F}}else{const w=this.getInputStartOffsetOfOutputLineIndex(a),k=this.getInputEndOffsetOfOutputLineIndex(a);u=c.getLineTokens(l).sliceAndInflate(w,k,o),f=null}let S=u.getLineContent();a>0&&(S=i(s.wrappedTextIndentLength)+S);const v=this._lineBreakData.getMinOutputOffset(a)+1,m=S.length+1,_=a+1<this.getViewLineCount(),L=a===0?0:s.breakOffsetsVisibleColumn[a-1];return new I.ViewLineData(S,_,v,m,L,u,f)}getViewLinesData(c,l,a,s,o,n,d){this.assertVisible();for(let u=a;u<s;u++){let f=o+u-a;if(!n[f]){d[f]=null;continue}d[f]=this.getViewLineData(c,l,u)}}getModelColumnOfViewPosition(c,l){return this.assertVisible(),this._lineBreakData.translateToInputOffset(c,l-1)+1}getViewPositionOfModelPosition(c,l,a=2){return this.assertVisible(),this._lineBreakData.translateToOutputPosition(l-1,a).toPosition(c)}getViewLineNumberOfModelPosition(c,l){this.assertVisible();const a=this._lineBreakData.translateToOutputPosition(l-1);return c+a.outputLineIndex}normalizePosition(c,l,a){const s=l.lineNumber-c;return this._lineBreakData.normalizeOutputPosition(c,l.column-1,a).toPosition(s)}getInjectedTextAt(c,l){return this._lineBreakData.getInjectedText(c,l-1)}assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class p{constructor(){}isVisible(){return!0}setVisible(c){return c?this:h.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(c,l,a){return c.getLineContent(l)}getViewLineLength(c,l,a){return c.getLineLength(l)}getViewLineMinColumn(c,l,a){return c.getLineMinColumn(l)}getViewLineMaxColumn(c,l,a){return c.getLineMaxColumn(l)}getViewLineData(c,l,a){let s=c.getLineTokens(l),o=s.getLineContent();return new I.ViewLineData(o,!1,1,o.length+1,0,s.inflate(),null)}getViewLinesData(c,l,a,s,o,n,d){if(!n[o]){d[o]=null;return}d[o]=this.getViewLineData(c,l,0)}getModelColumnOfViewPosition(c,l){return l}getViewPositionOfModelPosition(c,l){return new N.Position(c,l)}getViewLineNumberOfModelPosition(c,l){return c}normalizePosition(c,l,a){return l}getInjectedTextAt(c,l){return null}}p.INSTANCE=new p;class h{constructor(){}isVisible(){return!1}setVisible(c){return c?p.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(c,l,a){throw new Error("Not supported")}getViewLineLength(c,l,a){throw new Error("Not supported")}getViewLineMinColumn(c,l,a){throw new Error("Not supported")}getViewLineMaxColumn(c,l,a){throw new Error("Not supported")}getViewLineData(c,l,a){throw new Error("Not supported")}getViewLinesData(c,l,a,s,o,n,d){throw new Error("Not supported")}getModelColumnOfViewPosition(c,l){throw new Error("Not supported")}getViewPositionOfModelPosition(c,l){throw new Error("Not supported")}getViewLineNumberOfModelPosition(c,l){throw new Error("Not supported")}normalizePosition(c,l,a){throw new Error("Not supported")}getInjectedTextAt(c,l){throw new Error("Not supported")}}h.INSTANCE=new h;let g=[""];function i(r){if(r>=g.length)for(let c=1;c<=r;c++)g[c]=t(c);return g[r]}function t(r){return new Array(r+1).join(" ")}}),define(ee[259],te([0,1,19,23,13,55,47,3,18,151]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class g{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(l,a){let s;typeof l=="string"?s=`${a.id}/${l}`:(s=`${a.id}/${l.name}`,a.children.get(s)!==void 0&&(s=`${a.id}/${l.name}_${l.range.startLineNumber}_${l.range.startColumn}`));let o=s;for(let n=0;a.children.get(o)!==void 0;n++)o=`${s}_${n}`;return o}static empty(l){return l.children.size===0}}e.TreeElement=g;class i extends g{constructor(l,a,s){super();this.id=l,this.parent=a,this.symbol=s,this.children=new Map}}e.OutlineElement=i;class t extends g{constructor(l,a,s,o){super();this.id=l,this.parent=a,this.label=s,this.order=o,this.children=new Map}}e.OutlineGroup=t;class r extends g{constructor(l){super();this.uri=l,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(l,a){let s=this._keys.for(l,!0),o=r._requests.get(s);if(!o){let n=new N.CancellationTokenSource;o={promiseCnt:0,source:n,promise:r._create(l,n.token),model:void 0},r._requests.set(s,o);const d=Date.now();o.promise.then(()=>{this._requestDurations.update(l,Date.now()-d)})}return o.model?Promise.resolve(o.model):(o.promiseCnt+=1,a.onCancellationRequested(()=>{--o.promiseCnt==0&&(o.source.cancel(),r._requests.delete(s))}),new Promise((n,d)=>{o.promise.then(u=>{o.model=u,n(u)},u=>{r._requests.delete(s),d(u)})}))}static _create(l,a){const s=new N.CancellationTokenSource(a),o=new r(l.uri),n=p.DocumentSymbolProviderRegistry.ordered(l),d=n.map((f,S)=>{var v;let m=g.findId(`provider_${S}`,o),_=new t(m,o,(v=f.displayName)!==null&&v!==void 0?v:"Unknown Outline Provider",S);return Promise.resolve(f.provideDocumentSymbols(l,s.token)).then(L=>{for(const w of L||[])r._makeOutlineElement(w,_);return _},L=>((0,T.onUnexpectedExternalError)(L),_)).then(L=>{g.empty(L)?L.remove():o._groups.set(m,L)})}),u=p.DocumentSymbolProviderRegistry.onDidChange(()=>{const f=p.DocumentSymbolProviderRegistry.ordered(l);(0,y.equals)(f,n)||s.cancel()});return Promise.all(d).then(()=>s.token.isCancellationRequested&&!a.isCancellationRequested?r._create(l,a):o._compact()).finally(()=>{u.dispose()})}static _makeOutlineElement(l,a){let s=g.findId(l,a),o=new i(s,a,l);if(l.children)for(const n of l.children)r._makeOutlineElement(n,o);a.children.set(o.id,o)}_compact(){let l=0;for(const[a,s]of this._groups)s.children.size===0?this._groups.delete(a):l+=1;if(l!==1)this.children=this._groups;else{let a=I.Iterable.first(this._groups.values());for(let[,s]of a.children)s.parent=this,this.children.set(s.id,s)}return this}getTopLevelSymbols(){const l=[];for(const a of this.children.values())a instanceof i?l.push(a.symbol):l.push(...I.Iterable.map(a.children.values(),s=>s.symbol));return l.sort((a,s)=>C.Range.compareRangesUsingStarts(a.range,s.range))}asListOfDocumentSymbols(){const l=this.getTopLevelSymbols(),a=[];return r._flattenDocumentSymbols(a,l,""),a.sort((s,o)=>C.Range.compareRangesUsingStarts(s.range,o.range))}static _flattenDocumentSymbols(l,a,s){for(const o of a)l.push({kind:o.kind,tags:o.tags,name:o.name,detail:o.detail,containerName:o.containerName||s,range:o.range,selectionRange:o.selectionRange,children:void 0}),o.children&&r._flattenDocumentSymbols(l,o.children,o.name)}}e.OutlineModel=r,r._requestDurations=new h.LanguageFeatureRequestDelays(p.DocumentSymbolProviderRegistry,350),r._requests=new b.LRUCache(9,.75),r._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(c,l){return`${c.id}/${l?c.getVersionId():""}/${this._hash(p.DocumentSymbolProviderRegistry.all(c))}`}_hash(c){let l="";for(const a of c){let s=this._data.get(a);typeof s=="undefined"&&(s=this._counter++,this._data.set(a,s)),l+=s}return l}}}),define(ee[575],te([0,1,19,4,3,122]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class b{constructor(g){this._updateEventEmitter=new N.Emitter,this._hasLineChanges=!1,this._foldingModel=g,this._foldingModelListener=g.onDidChange(i=>this.updateHiddenRanges()),this._hiddenRanges=[],g.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(g){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=g.changes.some(i=>i.range.endLineNumber!==i.range.startLineNumber||(0,I.countEOL)(i.text)[0]!==0))}updateHiddenRanges(){let g=!1,i=[],t=0,r=0,c=Number.MAX_VALUE,l=-1,a=this._foldingModel.regions;for(;t<a.length;t++){if(!a.isCollapsed(t))continue;let s=a.getStartLineNumber(t)+1,o=a.getEndLineNumber(t);c<=s&&o<=l||(!g&&r<this._hiddenRanges.length&&this._hiddenRanges[r].startLineNumber===s&&this._hiddenRanges[r].endLineNumber===o?(i.push(this._hiddenRanges[r]),r++):(g=!0,i.push(new T.Range(s,1,o,1))),c=s,l=o)}(this._hasLineChanges||g||r<this._hiddenRanges.length)&&this.applyHiddenRanges(i)}applyMemento(g){if(!Array.isArray(g)||g.length===0)return!1;let i=[];for(let t of g){if(!t.startLineNumber||!t.endLineNumber)return!1;i.push(new T.Range(t.startLineNumber+1,1,t.endLineNumber,1))}return this.applyHiddenRanges(i),!0}getMemento(){return this._hiddenRanges.map(g=>({startLineNumber:g.startLineNumber-1,endLineNumber:g.endLineNumber}))}applyHiddenRanges(g){this._hiddenRanges=g,this._hasLineChanges=!1,this._updateEventEmitter.fire(g)}hasRanges(){return this._hiddenRanges.length>0}isHidden(g){return p(this._hiddenRanges,g)!==null}adjustSelections(g){let i=!1,t=this._foldingModel.textModel,r=null,c=l=>((!r||!C(l,r))&&(r=p(this._hiddenRanges,l)),r?r.startLineNumber-1:null);for(let l=0,a=g.length;l<a;l++){let s=g[l],o=c(s.startLineNumber);o&&(s=s.setStartPosition(o,t.getLineMaxColumn(o)),i=!0);let n=c(s.endLineNumber);n&&(s=s.setEndPosition(n,t.getLineMaxColumn(n)),i=!0),g[l]=s}return i}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=b;function C(h,g){return h>=g.startLineNumber&&h<=g.endLineNumber}function p(h,g){let i=(0,y.findFirstInSorted)(h,t=>g<t.startLineNumber)-1;return i>=0&&h[i].endLineNumber>=g?h[i]:null}}),define(ee[260],te([0,1,142,18,80,248]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTokenizationSupport=e.MonarchTokenizer=void 0;const b=5;class C{constructor(o){this._maxCacheDepth=o,this._entries=Object.create(null)}static create(o,n){return this._INSTANCE.create(o,n)}create(o,n){if(o!==null&&o.depth>=this._maxCacheDepth)return new p(o,n);let d=p.getStackElementId(o);d.length>0&&(d+="|"),d+=n;let u=this._entries[d];return u||(u=new p(o,n),this._entries[d]=u,u)}}C._INSTANCE=new C(b);class p{constructor(o,n){this.parent=o,this.state=n,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(o){let n="";for(;o!==null;)n.length>0&&(n+="|"),n+=o.state,o=o.parent;return n}static _equals(o,n){for(;o!==null&&n!==null;){if(o===n)return!0;if(o.state!==n.state)return!1;o=o.parent,n=n.parent}return o===null&&n===null}equals(o){return p._equals(this,o)}push(o){return C.create(this,o)}pop(){return this.parent}popall(){let o=this;for(;o.parent;)o=o.parent;return o}switchTo(o){return C.create(this.parent,o)}}class h{constructor(o,n){this.languageId=o,this.state=n}equals(o){return this.languageId===o.languageId&&this.state.equals(o.state)}clone(){return this.state.clone()===this.state?this:new h(this.languageId,this.state)}}class g{constructor(o){this._maxCacheDepth=o,this._entries=Object.create(null)}static create(o,n){return this._INSTANCE.create(o,n)}create(o,n){if(n!==null)return new i(o,n);if(o!==null&&o.depth>=this._maxCacheDepth)return new i(o,n);let d=p.getStackElementId(o),u=this._entries[d];return u||(u=new i(o,null),this._entries[d]=u,u)}}g._INSTANCE=new g(b);class i{constructor(o,n){this.stack=o,this.embeddedModeData=n}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:g.create(this.stack,this.embeddedModeData)}equals(o){return!(o instanceof i)||!this.stack.equals(o.stack)?!1:this.embeddedModeData===null&&o.embeddedModeData===null?!0:this.embeddedModeData===null||o.embeddedModeData===null?!1:this.embeddedModeData.equals(o.embeddedModeData)}}class t{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(o,n){this._languageId=n}emit(o,n){this._lastTokenType===n&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=n,this._lastTokenLanguage=this._languageId,this._tokens.push(new y.Token(o,n,this._languageId)))}nestedModeTokenize(o,n,d,u){const f=d.languageId,S=d.state,v=N.TokenizationRegistry.get(f);if(!v)return this.enterMode(u,f),this.emit(u,""),S;let m=v.tokenize(o,n,S,u);return this._tokens=this._tokens.concat(m.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,m.endState}finalize(o){return new y.TokenizationResult(this._tokens,o)}}class r{constructor(o,n){this._modeService=o,this._theme=n,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(o,n){this._currentLanguageId=this._modeService.languageIdCodec.encodeLanguageId(n)}emit(o,n){let d=this._theme.match(this._currentLanguageId,n);this._lastTokenMetadata!==d&&(this._lastTokenMetadata=d,this._tokens.push(o),this._tokens.push(d))}static _merge(o,n,d){let u=o!==null?o.length:0,f=n.length,S=d!==null?d.length:0;if(u===0&&f===0&&S===0)return new Uint32Array(0);if(u===0&&f===0)return d;if(f===0&&S===0)return o;let v=new Uint32Array(u+f+S);o!==null&&v.set(o);for(let m=0;m<f;m++)v[u+m]=n[m];return d!==null&&v.set(d,u+f),v}nestedModeTokenize(o,n,d,u){const f=d.languageId,S=d.state,v=N.TokenizationRegistry.get(f);if(!v)return this.enterMode(u,f),this.emit(u,""),S;let m=v.tokenize2(o,n,S,u);return this._prependTokens=r._merge(this._prependTokens,this._tokens,m.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,m.endState}finalize(o){return new y.TokenizationResult2(r._merge(this._prependTokens,this._tokens,null),o)}}class c{constructor(o,n,d,u){this._modeService=o,this._standaloneThemeService=n,this._languageId=d,this._lexer=u,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let f=!1;this._tokenizationRegistryListener=N.TokenizationRegistry.onDidChange(S=>{if(f)return;let v=!1;for(let m=0,_=S.changedLanguages.length;m<_;m++){let L=S.changedLanguages[m];if(this._embeddedModes[L]){v=!0;break}}v&&(f=!0,N.TokenizationRegistry.fire([this._languageId]),f=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let o=[];for(let n in this._embeddedModes){const d=N.TokenizationRegistry.get(n);if(d){if(d instanceof c){const f=d.getLoadStatus();f.loaded===!1&&o.push(f.promise)}continue}const u=N.TokenizationRegistry.getPromise(n);u&&o.push(u)}return o.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(o).then(n=>{})}}getInitialState(){let o=C.create(null,this._lexer.start);return g.create(o,null)}tokenize(o,n,d,u){let f=new t,S=this._tokenize(o,n,d,u,f);return f.finalize(S)}tokenize2(o,n,d,u){let f=new r(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),S=this._tokenize(o,n,d,u,f);return f.finalize(S)}_tokenize(o,n,d,u,f){return d.embeddedModeData?this._nestedTokenize(o,n,d,u,f):this._myTokenize(o,n,d,u,f)}_findLeavingNestedModeOffset(o,n){let d=this._lexer.tokenizer[n.stack.state];if(!d&&(d=I.findRules(this._lexer,n.stack.state),!d))throw I.createError(this._lexer,"tokenizer state is not defined: "+n.stack.state);let u=-1,f=!1;for(const S of d){if(!I.isIAction(S.action)||S.action.nextEmbedded!=="@pop")continue;f=!0;let v=S.regex,m=S.regex.source;if(m.substr(0,4)==="^(?:"&&m.substr(m.length-1,1)===")"){let L=(v.ignoreCase?"i":"")+(v.unicode?"u":"");v=new RegExp(m.substr(4,m.length-5),L)}let _=o.search(v);_===-1||_!==0&&S.matchOnlyAtLineStart||(u===-1||_<u)&&(u=_)}if(!f)throw I.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+n.stack.state);return u}_nestedTokenize(o,n,d,u,f){let S=this._findLeavingNestedModeOffset(o,d);if(S===-1){let _=f.nestedModeTokenize(o,n,d.embeddedModeData,u);return g.create(d.stack,new h(d.embeddedModeData.languageId,_))}let v=o.substring(0,S);v.length>0&&f.nestedModeTokenize(v,!1,d.embeddedModeData,u);let m=o.substring(S);return this._myTokenize(m,n,d,u+S,f)}_safeRuleName(o){return o?o.name:"(unknown)"}_myTokenize(o,n,d,u,f){f.enterMode(u,this._languageId);const S=o.length,v=n&&this._lexer.includeLF?o+`
`:o,m=v.length;let _=d.embeddedModeData,L=d.stack,w=0,k=null,D=!0;for(;D||w<m;){const M=w,O=L.depth,F=k?k.groups.length:0,R=L.state;let A=null,P=null,E=null,B=null,V=null;if(k){A=k.matches;const Y=k.groups.shift();P=Y.matched,E=Y.action,B=k.rule,k.groups.length===0&&(k=null)}else{if(!D&&w>=m)break;D=!1;let Y=this._lexer.tokenizer[R];if(!Y&&(Y=I.findRules(this._lexer,R),!Y))throw I.createError(this._lexer,"tokenizer state is not defined: "+R);let J=v.substr(w);for(const Z of Y)if((w===0||!Z.matchOnlyAtLineStart)&&(A=J.match(Z.regex),A)){P=A[0],E=Z.action;break}}if(A||(A=[""],P=""),E||(w<m&&(A=[v.charAt(w)],P=A[0]),E=this._lexer.defaultToken),P===null)break;for(w+=P.length;I.isFuzzyAction(E)&&I.isIAction(E)&&E.test;)E=E.test(P,A,R,w===m);let j=null;if(typeof E=="string"||Array.isArray(E))j=E;else if(E.group)j=E.group;else if(E.token!==null&&E.token!==void 0){if(E.tokenSubst?j=I.substituteMatches(this._lexer,E.token,P,A,R):j=E.token,E.nextEmbedded)if(E.nextEmbedded==="@pop"){if(!_)throw I.createError(this._lexer,"cannot pop embedded mode if not inside one");_=null}else{if(_)throw I.createError(this._lexer,"cannot enter embedded mode from within an embedded mode");V=I.substituteMatches(this._lexer,E.nextEmbedded,P,A,R)}if(E.goBack&&(w=Math.max(0,w-E.goBack)),E.switchTo&&typeof E.switchTo=="string"){let Y=I.substituteMatches(this._lexer,E.switchTo,P,A,R);if(Y[0]==="@"&&(Y=Y.substr(1)),I.findRules(this._lexer,Y))L=L.switchTo(Y);else throw I.createError(this._lexer,"trying to switch to a state '"+Y+"' that is undefined in rule: "+this._safeRuleName(B))}else{if(E.transform&&typeof E.transform=="function")throw I.createError(this._lexer,"action.transform not supported");if(E.next)if(E.next==="@push"){if(L.depth>=this._lexer.maxStack)throw I.createError(this._lexer,"maximum tokenizer stack size reached: ["+L.state+","+L.parent.state+",...]");L=L.push(R)}else if(E.next==="@pop"){if(L.depth<=1)throw I.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(B));L=L.pop()}else if(E.next==="@popall")L=L.popall();else{let Y=I.substituteMatches(this._lexer,E.next,P,A,R);if(Y[0]==="@"&&(Y=Y.substr(1)),I.findRules(this._lexer,Y))L=L.push(Y);else throw I.createError(this._lexer,"trying to set a next state '"+Y+"' that is undefined in rule: "+this._safeRuleName(B))}}E.log&&typeof E.log=="string"&&I.log(this._lexer,this._lexer.languageId+": "+I.substituteMatches(this._lexer,E.log,P,A,R))}if(j===null)throw I.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(B));const K=Y=>{let J=this._modeService.getModeIdForLanguageName(Y);J&&(Y=J);const Z=this._getNestedEmbeddedModeData(Y);if(w<m){const ie=o.substr(w);return this._nestedTokenize(ie,n,g.create(L,Z),u+w,f)}else return g.create(L,Z)};if(Array.isArray(j)){if(k&&k.groups.length>0)throw I.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(B));if(A.length!==j.length+1)throw I.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(B));let Y=0;for(let J=1;J<A.length;J++)Y+=A[J].length;if(Y!==P.length)throw I.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(B));k={rule:B,matches:A,groups:[]};for(let J=0;J<j.length;J++)k.groups[J]={action:j[J],matched:A[J+1]};w-=P.length;continue}else{if(j==="@rematch"&&(w-=P.length,P="",A=null,j="",V!==null))return K(V);if(P.length===0){if(m===0||O!==L.depth||R!==L.state||(k?k.groups.length:0)!==F)continue;throw I.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(B))}let Y=null;if(I.isString(j)&&j.indexOf("@brackets")===0){let J=j.substr("@brackets".length),Z=l(this._lexer,P);if(!Z)throw I.createError(this._lexer,"@brackets token returned but no bracket defined as: "+P);Y=I.sanitize(Z.token+J)}else{let J=j===""?"":j+this._lexer.tokenPostfix;Y=I.sanitize(J)}M<S&&f.emit(M+u,Y)}if(V!==null)return K(V)}return g.create(L,_)}_getNestedEmbeddedModeData(o){let n=this._locateMode(o);if(n){let d=N.TokenizationRegistry.get(n);if(d)return new h(n,d.getInitialState())}return new h(n||T.NULL_MODE_ID,T.NULL_STATE)}_locateMode(o){if(!o||!this._modeService.isRegisteredMode(o))return null;if(o===this._languageId)return o;const n=this._modeService.getModeId(o);return n&&(this._modeService.triggerMode(n),this._embeddedModes[n]=!0),n}}e.MonarchTokenizer=c;function l(s,o){if(!o)return null;o=I.fixCase(s,o);let n=s.brackets;for(const d of n){if(d.open===o)return{token:d.token,bracketType:1};if(d.close===o)return{token:d.token,bracketType:-1}}return null}function a(s,o,n,d){return new c(s,o,n,d)}e.createTokenizationSupport=a}),define(ee[576],te([0,1,10,8,90,18,117,64,260]),function(q,e,y,N,T,I,b,C,p){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const g=(h=window.trustedTypes)===null||h===void 0?void 0:h.createPolicy("standaloneColorizer",{createHTML:l=>l});class i{static colorizeElement(a,s,o,n){n=n||{};let d=n.theme||"vs",u=n.mimeType||o.getAttribute("lang")||o.getAttribute("data-lang");if(!u)return console.error("Mode not detected"),Promise.resolve();a.setTheme(d);let f=o.firstChild?o.firstChild.nodeValue:"";o.className+=" "+d;let S=v=>{var m;const _=(m=g==null?void 0:g.createHTML(v))!==null&&m!==void 0?m:v;o.innerHTML=_};return this.colorize(s,f||"",u,n).then(S,v=>console.error(v))}static colorize(a,s,o,n){const d=a.languageIdCodec;let u=4;n&&typeof n.tabSize=="number"&&(u=n.tabSize),N.startsWithUTF8BOM(s)&&(s=s.substr(1));let f=N.splitLines(s),S=a.getModeId(o);if(!S)return Promise.resolve(r(f,u,d));a.triggerMode(S);const v=I.TokenizationRegistry.get(S);if(v)return t(f,u,v,d);const m=I.TokenizationRegistry.getPromise(S);return m?new Promise((_,L)=>{m.then(w=>{t(f,u,w,d).then(_,L)},L)}):new Promise((_,L)=>{let w=null,k=null;const D=()=>{w&&(w.dispose(),w=null),k&&(k.dispose(),k=null);const M=I.TokenizationRegistry.get(S);if(M){t(f,u,M,d).then(_,L);return}_(r(f,u,d))};k=new y.TimeoutTimer,k.cancelAndSet(D,500),w=I.TokenizationRegistry.onDidChange(M=>{M.changedLanguages.indexOf(S)>=0&&D()})})}static colorizeLine(a,s,o,n,d=4){const u=C.ViewLineRenderingData.isBasicASCII(a,s),f=C.ViewLineRenderingData.containsRTL(a,u,o);return(0,b.renderViewLine2)(new b.RenderLineInput(!1,!0,a,!1,u,f,0,n,[],d,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(a,s,o=4){let n=a.getLineContent(s);a.forceTokenization(s);let u=a.getLineTokens(s).inflate();return this.colorizeLine(n,a.mightContainNonBasicASCII(),a.mightContainRTL(),u,o)}}e.Colorizer=i;function t(l,a,s,o){return new Promise((n,d)=>{const u=()=>{const f=c(l,a,s,o);if(s instanceof p.MonarchTokenizer){const S=s.getLoadStatus();if(S.loaded===!1){S.promise.then(u,d);return}}n(f)};u()})}function r(l,a,s){let o=[];const n=(0<<11|1<<14|2<<23)>>>0,d=new Uint32Array(2);d[0]=0,d[1]=n;for(let u=0,f=l.length;u<f;u++){let S=l[u];d[0]=S.length;const v=new T.LineTokens(d,S,s),m=C.ViewLineRenderingData.isBasicASCII(S,!0),_=C.ViewLineRenderingData.containsRTL(S,m,!0);let L=(0,b.renderViewLine2)(new b.RenderLineInput(!1,!0,S,!1,m,_,0,v,[],a,0,0,0,0,-1,"none",!1,!1,null));o=o.concat(L.html),o.push("<br/>")}return o.join("")}function c(l,a,s,o){let n=[],d=s.getInitialState();for(let u=0,f=l.length;u<f;u++){let S=l[u],v=s.tokenize2(S,!0,d,0);T.LineTokens.convertToEndOffset(v.tokens,S.length);let m=new T.LineTokens(v.tokens,S,o);const _=C.ViewLineRenderingData.isBasicASCII(S,!0),L=C.ViewLineRenderingData.containsRTL(S,_,!0);let w=(0,b.renderViewLine2)(new b.RenderLineInput(!1,!0,S,!1,_,L,0,m.inflate(),[],a,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(w.html),n.push("<br/>"),d=v.endState}return n.join("")}}),define(ee[123],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,y.createDecorator)("themeService")}),define(ee[91],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,y.createDecorator)("clipboardService")}),define(ee[26],te([0,1,4,55,2,77,20,9]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullCommandService=e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,C.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new y.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(p,h){if(!p)throw new Error("invalid command");if(typeof p=="string"){if(!h)throw new Error("invalid command");return this.registerCommand({id:p,handler:h})}if(p.description){const c=[];for(let a of p.description.args)c.push(a.constraint);const l=p.handler;p.handler=function(a,...s){return(0,b.validateConstraints)(s,c),l(a,...s)}}const{id:g}=p;let i=this._commands.get(g);i||(i=new I.LinkedList,this._commands.set(g,i));let t=i.unshift(p),r=(0,T.toDisposable)(()=>{t();const c=this._commands.get(g);(c==null?void 0:c.isEmpty())&&this._commands.delete(g)});return this._onDidRegisterCommand.fire(g),r}registerCommandAlias(p,h){return e.CommandsRegistry.registerCommand(p,(g,...i)=>g.get(e.ICommandService).executeCommand(h,...i))}getCommand(p){const h=this._commands.get(p);if(!(!h||h.isEmpty()))return N.Iterable.first(h)}getCommands(){const p=new Map;for(const h of this._commands.keys()){const g=this.getCommand(h);g&&p.set(h,g)}return p}},e.NullCommandService={_serviceBrand:void 0,onWillExecuteCommand:()=>T.Disposable.None,onDidExecuteCommand:()=>T.Disposable.None,executeCommand(){return Promise.resolve(void 0)}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(ee[261],te([0,1,23,13,25,18,43,26,20,411,3]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function i(f){return f&&!!f.data}e.isSemanticTokens=i;function t(f){return f&&Array.isArray(f.edits)}e.isSemanticTokensEdits=t;class r{constructor(S,v,m){this.provider=S,this.tokens=v,this.error=m}}e.DocumentSemanticTokensResult=r;function c(f){return I.DocumentSemanticTokensProviderRegistry.has(f)}e.hasDocumentSemanticTokensProvider=c;function l(f){const S=I.DocumentSemanticTokensProviderRegistry.orderedGroups(f);return S.length>0?S[0]:[]}function a(f,S,v,m){return Ae(this,void 0,void 0,function*(){const _=l(f),L=yield Promise.all(_.map(w=>Ae(this,void 0,void 0,function*(){let k,D=null;try{k=yield w.provideDocumentSemanticTokens(f,w===S?v:null,m)}catch(M){D=M,k=null}return(!k||!i(k)&&!t(k))&&(k=null),new r(w,k,D)})));for(const w of L){if(w.error)throw w.error;if(w.tokens)return w}return L.length>0?L[0]:null})}e.getDocumentSemanticTokens=a;function s(f){const S=I.DocumentSemanticTokensProviderRegistry.orderedGroups(f);return S.length>0?S[0]:null}class o{constructor(S,v){this.provider=S,this.tokens=v}}function n(f){return I.DocumentRangeSemanticTokensProviderRegistry.has(f)}e.hasDocumentRangeSemanticTokensProvider=n;function d(f){const S=I.DocumentRangeSemanticTokensProviderRegistry.orderedGroups(f);return S.length>0?S[0]:[]}function u(f,S,v){return Ae(this,void 0,void 0,function*(){const m=d(f),_=yield Promise.all(m.map(L=>Ae(this,void 0,void 0,function*(){let w;try{w=yield L.provideDocumentRangeSemanticTokens(f,S,v)}catch(k){(0,N.onUnexpectedExternalError)(k),w=null}return(!w||!i(w))&&(w=null),new o(L,w)})));for(const L of _)if(L.tokens)return L;return _.length>0?_[0]:null})}e.getDocumentRangeSemanticTokens=u,C.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(f,...S)=>Ae(void 0,void 0,void 0,function*(){const[v]=S;(0,p.assertType)(v instanceof T.URI);const m=f.get(b.IModelService).getModel(v);if(!m)return;const _=s(m);return _?_[0].getLegend():f.get(C.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",v)})),C.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(f,...S)=>Ae(void 0,void 0,void 0,function*(){const[v]=S;(0,p.assertType)(v instanceof T.URI);const m=f.get(b.IModelService).getModel(v);if(!m)return;if(!c(m))return f.get(C.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",v,m.getFullModelRange());const _=yield a(m,null,null,y.CancellationToken.None);if(!_)return;const{provider:L,tokens:w}=_;if(!w||!i(w))return;const k=(0,h.encodeSemanticTokensDto)({id:0,type:"full",data:w.data});return w.resultId&&L.releaseDocumentSemanticTokens(w.resultId),k})),C.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(f,...S)=>Ae(void 0,void 0,void 0,function*(){const[v,m]=S;(0,p.assertType)(v instanceof T.URI);const _=f.get(b.IModelService).getModel(v);if(!_)return;const L=d(_);if(L.length===0)return;if(L.length===1)return L[0].getLegend();if(!m||!g.Range.isIRange(m))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),L[0].getLegend();const w=yield u(_,g.Range.lift(m),y.CancellationToken.None);if(!!w)return w.provider.getLegend()})),C.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(f,...S)=>Ae(void 0,void 0,void 0,function*(){const[v,m]=S;(0,p.assertType)(v instanceof T.URI),(0,p.assertType)(g.Range.isIRange(m));const _=f.get(b.IModelService).getModel(v);if(!_)return;const L=yield u(_,g.Range.lift(m),y.CancellationToken.None);if(!(!L||!L.tokens))return(0,h.encodeSemanticTokensDto)({id:0,type:"full",data:L.tokens.data})}))}),define(ee[262],te([0,1,23,13,2,20,25,18,43,26]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class g{constructor(){this.lenses=[],this._disposables=new T.DisposableStore}dispose(){this._disposables.dispose()}add(r,c){this._disposables.add(r);for(const l of r.lenses)this.lenses.push({symbol:l,provider:c})}}e.CodeLensModel=g;function i(t,r){return Ae(this,void 0,void 0,function*(){const c=C.CodeLensProviderRegistry.ordered(t),l=new Map,a=new g,s=c.map((o,n)=>Ae(this,void 0,void 0,function*(){l.set(o,n);try{const d=yield Promise.resolve(o.provideCodeLenses(t,r));d&&a.add(d,o)}catch(d){(0,N.onUnexpectedExternalError)(d)}}));return yield Promise.all(s),a.lenses=a.lenses.sort((o,n)=>o.symbol.range.startLineNumber<n.symbol.range.startLineNumber?-1:o.symbol.range.startLineNumber>n.symbol.range.startLineNumber?1:l.get(o.provider)<l.get(n.provider)?-1:l.get(o.provider)>l.get(n.provider)?1:o.symbol.range.startColumn<n.symbol.range.startColumn?-1:o.symbol.range.startColumn>n.symbol.range.startColumn?1:0),a})}e.getCodeLensModel=i,h.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(t,...r){let[c,l]=r;(0,I.assertType)(b.URI.isUri(c)),(0,I.assertType)(typeof l=="number"||!l);const a=t.get(p.IModelService).getModel(c);if(!a)throw(0,N.illegalArgument)();const s=[],o=new T.DisposableStore;return i(a,y.CancellationToken.None).then(n=>{o.add(n);let d=[];for(const u of n.lenses)l==null||Boolean(u.symbol.command)?s.push(u.symbol):l-- >0&&u.provider.resolveCodeLens&&d.push(Promise.resolve(u.provider.resolveCodeLens(a,u.symbol,y.CancellationToken.None)).then(f=>s.push(f||u.symbol)));return Promise.all(d)}).then(()=>s).finally(()=>{setTimeout(()=>o.dispose(),100)})})}),define(ee[263],te([0,1,23,13,25,3,18,43,26]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function h(i,t){const r=[],l=b.ColorProviderRegistry.ordered(i).reverse().map(a=>Promise.resolve(a.provideDocumentColors(i,t)).then(s=>{if(Array.isArray(s))for(let o of s)r.push({colorInfo:o,provider:a})}));return Promise.all(l).then(()=>r)}e.getColors=h;function g(i,t,r,c){return Promise.resolve(r.provideColorPresentations(i,t,c))}e.getColorPresentations=g,p.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(i,...t){const[r]=t;if(!(r instanceof T.URI))throw(0,N.illegalArgument)();const c=i.get(C.IModelService).getModel(r);if(!c)throw(0,N.illegalArgument)();const l=[],s=b.ColorProviderRegistry.ordered(c).reverse().map(o=>Promise.resolve(o.provideDocumentColors(c,y.CancellationToken.None)).then(n=>{if(Array.isArray(n))for(let d of n)l.push({range:d.range,color:[d.color.red,d.color.green,d.color.blue,d.color.alpha]})}));return Promise.all(s).then(()=>l)}),p.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(i,...t){const[r,c]=t,{uri:l,range:a}=c;if(!(l instanceof T.URI)||!Array.isArray(r)||r.length!==4||!I.Range.isIRange(a))throw(0,N.illegalArgument)();const[s,o,n,d]=r,u=i.get(C.IModelService).getModel(l);if(!u)throw(0,N.illegalArgument)();const f={range:a,color:{red:s,green:o,blue:n,alpha:d}},S=[],m=b.ColorProviderRegistry.ordered(u).reverse().map(_=>Promise.resolve(_.provideColorPresentations(u,f,y.CancellationToken.None)).then(L=>{Array.isArray(L)&&S.push(...L)}));return Promise.all(m).then(()=>S)})}),define(ee[577],te([0,1,23,20,25,43,66,259,26]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentSymbols=void 0;function h(g,i,t){return Ae(this,void 0,void 0,function*(){const r=yield C.OutlineModel.create(g,t);return i?r.asListOfDocumentSymbols():r.getTopLevelSymbols()})}e.getDocumentSymbols=h,p.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(g,...i){return Ae(this,void 0,void 0,function*(){const[t]=i;(0,N.assertType)(T.URI.isUri(t));const r=g.get(I.IModelService).getModel(t);if(r)return h(r,!1,y.CancellationToken.None);const c=yield g.get(b.ITextModelService).createModelReference(t);try{return yield h(c.object.textEditorModel,!1,y.CancellationToken.None)}finally{c.dispose()}})})}),define(ee[578],te([0,1,19,23,13,2,20,25,3,18,43,26]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class t{constructor(a,s){this._link=a,this._provider=s}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(a){return Ae(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,a)).then(s=>(this._link=s||this._link,this._link.url?this.resolve(a):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=t;class r{constructor(a){this._disposables=new I.DisposableStore;let s=[];for(const[o,n]of a){const d=o.links.map(u=>new t(u,n));s=r._union(s,d),(0,I.isDisposable)(o)&&this._disposables.add(o)}this.links=s}dispose(){this._disposables.dispose(),this.links.length=0}static _union(a,s){let o=[],n,d,u,f;for(n=0,u=0,d=a.length,f=s.length;n<d&&u<f;){const S=a[n],v=s[u];if(p.Range.areIntersectingOrTouching(S.range,v.range)){n++;continue}p.Range.compareRangesUsingStarts(S.range,v.range)<0?(o.push(S),n++):(o.push(v),u++)}for(;n<d;n++)o.push(a[n]);for(;u<f;u++)o.push(s[u]);return o}}e.LinksList=r;function c(l,a){const s=[],o=h.LinkProviderRegistry.ordered(l).reverse().map((n,d)=>Promise.resolve(n.provideLinks(l,a)).then(u=>{u&&(s[d]=[u,n])},T.onUnexpectedExternalError));return Promise.all(o).then(()=>{const n=new r((0,y.coalesce)(s));return a.isCancellationRequested?(n.dispose(),new r([])):n})}e.getLinks=c,i.CommandsRegistry.registerCommand("_executeLinkProvider",(l,...a)=>Ae(void 0,void 0,void 0,function*(){let[s,o]=a;(0,b.assertType)(s instanceof C.URI),typeof o!="number"&&(o=0);const n=l.get(g.IModelService).getModel(s);if(!n)return[];const d=yield c(n,N.CancellationToken.None);if(!d)return[];for(let f=0;f<Math.min(o,d.links.length);f++)yield d.links[f].resolve(N.CancellationToken.None);const u=d.links.slice(0);return d.dispose(),u}))}),define(ee[35],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,y.createDecorator)("configurationService");function N(p,h){const g=Object.create(null);for(let i in p)T(g,i,p[i],h);return g}e.toValuesTree=N;function T(p,h,g,i){const t=h.split("."),r=t.pop();let c=p;for(let l=0;l<t.length;l++){let a=t[l],s=c[a];switch(typeof s){case"undefined":s=c[a]=Object.create(null);break;case"object":break;default:i(`Ignoring ${h} as ${t.slice(0,l+1).join(".")} is ${JSON.stringify(s)}`);return}c=s}if(typeof c=="object"&&c!==null)try{c[r]=g}catch(l){i(`Ignoring ${h} as ${t.join(".")} is ${JSON.stringify(c)}`)}else i(`Ignoring ${h} as ${t.join(".")} is ${JSON.stringify(c)}`)}e.addToValueTree=T;function I(p,h){const g=h.split(".");b(p,g)}e.removeFromValueTree=I;function b(p,h){const g=h.shift();if(h.length===0){delete p[g];return}if(Object.keys(p).indexOf(g)!==-1){const i=p[g];typeof i=="object"&&!Array.isArray(i)&&(b(i,h),Object.keys(i).length===0&&delete p[g])}}function C(p,h,g){function i(c,l){let a=c;for(const s of l){if(typeof a!="object"||a===null)return;a=a[s]}return a}const t=h.split("."),r=i(p,t);return typeof r=="undefined"?g:r}e.getConfigurationValue=C});var Ce=this&&this.__param||function(q,e){return function(y,N){e(y,N,q)}};define(ee[39],te([0,1,4,2,8,146,115,147,404,408,405,407,177,9,35,38,71]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationRegistryImpl=e.LanguageConfigurationChangeEvent=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class s{constructor(D){this.languageId=D}affects(D){return this.languageId?this.languageId===D:!0}}e.LanguageConfigurationServiceChangeEvent=s,e.ILanguageConfigurationService=(0,r.createDecorator)("languageConfigurationService");let o=class extends N.Disposable{constructor(D,M){super();this.configurationService=D,this.modeService=M,this.onDidChangeEmitter=this._register(new y.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const O=new Set(Object.values(d));this._register(this.configurationService.onDidChangeConfiguration(F=>{const R=F.change.keys.some(P=>O.has(P)),A=F.change.overrides.filter(([P,E])=>E.some(B=>O.has(B))).map(([P])=>this.modeService.validateLanguageId(P));if(R)this.configurations.clear(),this.onDidChangeEmitter.fire(new s(void 0));else for(const P of A)P&&(this.configurations.delete(P),this.onDidChangeEmitter.fire(new s(P)))})),this._register(e.LanguageConfigurationRegistry.onDidChange(F=>{this.configurations.delete(F.languageId),this.onDidChangeEmitter.fire(new s(F.languageId))}))}getLanguageConfiguration(D){let M=this.configurations.get(D);return M||(M=n(D,this.configurationService,this.modeService),this.configurations.set(D,M)),M}};o=Be([Ce(0,c.IConfigurationService),Ce(1,l.IModeService)],o),e.LanguageConfigurationService=o;function n(k,D,M){let O=e.LanguageConfigurationRegistry.getLanguageConfiguration(k);if(!O){const P=M.validateLanguageId(k);if(!P)throw new Error("Unexpected languageId");O=new w(P,{})}const F=u(O.languageId,D),R=_([O.underlyingConfig,F]);return new w(O.languageId,R)}const d={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function u(k,D){const M=D.getValue(d.brackets,{overrideIdentifier:k}),O=D.getValue(d.colorizedBracketPairs,{overrideIdentifier:k});return{brackets:f(M),colorizedBracketPairs:f(O)}}function f(k){if(!!Array.isArray(k))return k.map(D=>{if(!(!Array.isArray(D)||D.length!==2))return[D[0],D[1]]}).filter(D=>!!D)}class S{constructor(D){this.languageId=D}}e.LanguageConfigurationChangeEvent=S;class v{constructor(){this._entries=new Map,this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event}register(D,M,O=0){let F=this._entries.get(D);F||(F=new m(D),this._entries.set(D,F));const R=F.register(M,O);return this._onDidChange.fire(new S(D)),(0,N.toDisposable)(()=>{R.dispose(),this._onDidChange.fire(new S(D))})}getLanguageConfiguration(D){let M=this._entries.get(D);return(M==null?void 0:M.getResolvedConfiguration())||null}getIndentationRules(D){const M=this.getLanguageConfiguration(D);return M&&M.indentationRules||null}_getElectricCharacterSupport(D){let M=this.getLanguageConfiguration(D);return M&&M.electricCharacter||null}getElectricCharacters(D){let M=this._getElectricCharacterSupport(D);return M?M.getElectricCharacters():[]}onElectricCharacter(D,M,O){let F=(0,C.createScopedLineTokens)(M,O-1),R=this._getElectricCharacterSupport(F.languageId);return R?R.onElectricCharacter(D,F,O-F.firstCharOffset):null}getComments(D){let M=this.getLanguageConfiguration(D);return M&&M.comments||null}_getCharacterPairSupport(D){let M=this.getLanguageConfiguration(D);return M&&M.characterPair||null}getAutoClosingPairs(D){const M=this._getCharacterPairSupport(D);return new b.AutoClosingPairs(M?M.getAutoClosingPairs():[])}getAutoCloseBeforeSet(D){let M=this._getCharacterPairSupport(D);return M?M.getAutoCloseBeforeSet():p.CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(D){let M=this._getCharacterPairSupport(D);return M?M.getSurroundingPairs():[]}getWordDefinition(D){let M=this.getLanguageConfiguration(D);return M?(0,I.ensureValidWordDefinition)(M.wordDefinition||null):(0,I.ensureValidWordDefinition)(null)}getFoldingRules(D){let M=this.getLanguageConfiguration(D);return M?M.foldingRules:{}}getIndentRulesSupport(D){let M=this.getLanguageConfiguration(D);return M&&M.indentRulesSupport||null}getPrecedingValidLine(D,M,O){let F=D.getLanguageIdAtPosition(M,0);if(M>1){let R,A=-1;for(R=M-1;R>=1;R--){if(D.getLanguageIdAtPosition(R,0)!==F)return A;let P=D.getLineContent(R);if(O.shouldIgnore(P)||/^\s+$/.test(P)||P===""){A=R;continue}return R}}return-1}getInheritIndentForLine(D,M,O,F=!0){if(D<4)return null;const R=this.getIndentRulesSupport(M.getLanguageId());if(!R)return null;if(O<=1)return{indentation:"",action:null};const A=this.getPrecedingValidLine(M,O,R);if(A<0)return null;if(A<1)return{indentation:"",action:null};const P=M.getLineContent(A);if(R.shouldIncrease(P)||R.shouldIndentNextLine(P))return{indentation:T.getLeadingWhitespace(P),action:b.IndentAction.Indent,line:A};if(R.shouldDecrease(P))return{indentation:T.getLeadingWhitespace(P),action:null,line:A};{if(A===1)return{indentation:T.getLeadingWhitespace(M.getLineContent(A)),action:null,line:A};const E=A-1,B=R.getIndentMetadata(M.getLineContent(E));if(!(B&(1|2))&&B&4){let V=0;for(let j=E-1;j>0;j--)if(!R.shouldIndentNextLine(M.getLineContent(j))){V=j;break}return{indentation:T.getLeadingWhitespace(M.getLineContent(V+1)),action:null,line:V+1}}if(F)return{indentation:T.getLeadingWhitespace(M.getLineContent(A)),action:null,line:A};for(let V=A;V>0;V--){const j=M.getLineContent(V);if(R.shouldIncrease(j))return{indentation:T.getLeadingWhitespace(j),action:b.IndentAction.Indent,line:V};if(R.shouldIndentNextLine(j)){let K=0;for(let Y=V-1;Y>0;Y--)if(!R.shouldIndentNextLine(M.getLineContent(V))){K=Y;break}return{indentation:T.getLeadingWhitespace(M.getLineContent(K+1)),action:null,line:K+1}}else if(R.shouldDecrease(j))return{indentation:T.getLeadingWhitespace(j),action:null,line:V}}return{indentation:T.getLeadingWhitespace(M.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(D,M,O,F,R){if(D<4)return null;const A=this.getLanguageConfiguration(O);if(!A)return null;const P=this.getIndentRulesSupport(O);if(!P)return null;const E=this.getInheritIndentForLine(D,M,F),B=M.getLineContent(F);if(E){const V=E.line;if(V!==void 0){const j=A.onEnter(D,"",M.getLineContent(V),"");if(j){let K=T.getLeadingWhitespace(M.getLineContent(V));return j.removeText&&(K=K.substring(0,K.length-j.removeText)),j.indentAction===b.IndentAction.Indent||j.indentAction===b.IndentAction.IndentOutdent?K=R.shiftIndent(K):j.indentAction===b.IndentAction.Outdent&&(K=R.unshiftIndent(K)),P.shouldDecrease(B)&&(K=R.unshiftIndent(K)),j.appendText&&(K+=j.appendText),T.getLeadingWhitespace(K)}}return P.shouldDecrease(B)?E.action===b.IndentAction.Indent?E.indentation:R.unshiftIndent(E.indentation):E.action===b.IndentAction.Indent?R.shiftIndent(E.indentation):E.indentation}return null}getIndentForEnter(D,M,O,F){if(D<4)return null;M.forceTokenization(O.startLineNumber);const R=M.getLineTokens(O.startLineNumber),A=(0,C.createScopedLineTokens)(R,O.startColumn-1),P=A.getLineContent();let E=!1,B;A.firstCharOffset>0&&R.getLanguageId(0)!==A.languageId?(E=!0,B=P.substr(0,O.startColumn-1-A.firstCharOffset)):B=R.getLineContent().substring(0,O.startColumn-1);let V;O.isEmpty()?V=P.substr(O.startColumn-1-A.firstCharOffset):V=this.getScopedLineTokens(M,O.endLineNumber,O.endColumn).getLineContent().substr(O.endColumn-1-A.firstCharOffset);const j=this.getIndentRulesSupport(A.languageId);if(!j)return null;const K=B,Y=T.getLeadingWhitespace(B),J={getLineTokens:G=>M.getLineTokens(G),getLanguageId:()=>M.getLanguageId(),getLanguageIdAtPosition:(G,W)=>M.getLanguageIdAtPosition(G,W),getLineContent:G=>G===O.startLineNumber?K:M.getLineContent(G)},Z=T.getLeadingWhitespace(R.getLineContent()),ie=this.getInheritIndentForLine(D,J,O.startLineNumber+1);if(!ie){const G=E?Z:Y;return{beforeEnter:G,afterEnter:G}}let ne=E?Z:ie.indentation;return ie.action===b.IndentAction.Indent&&(ne=F.shiftIndent(ne)),j.shouldDecrease(V)&&(ne=F.unshiftIndent(ne)),{beforeEnter:E?Z:Y,afterEnter:ne}}getIndentActionForType(D,M,O,F,R){if(D<4)return null;const A=this.getScopedLineTokens(M,O.startLineNumber,O.startColumn);if(A.firstCharOffset)return null;const P=this.getIndentRulesSupport(A.languageId);if(!P)return null;const E=A.getLineContent(),B=E.substr(0,O.startColumn-1-A.firstCharOffset);let V;if(O.isEmpty()?V=E.substr(O.startColumn-1-A.firstCharOffset):V=this.getScopedLineTokens(M,O.endLineNumber,O.endColumn).getLineContent().substr(O.endColumn-1-A.firstCharOffset),!P.shouldDecrease(B+V)&&P.shouldDecrease(B+F+V)){const j=this.getInheritIndentForLine(D,M,O.startLineNumber,!1);if(!j)return null;let K=j.indentation;return j.action!==b.IndentAction.Indent&&(K=R.unshiftIndent(K)),K}return null}getIndentMetadata(D,M){const O=this.getIndentRulesSupport(D.getLanguageId());return!O||M<1||M>D.getLineCount()?null:O.getIndentMetadata(D.getLineContent(M))}getEnterAction(D,M,O){const F=this.getScopedLineTokens(M,O.startLineNumber,O.startColumn),R=this.getLanguageConfiguration(F.languageId);if(!R)return null;const A=F.getLineContent(),P=A.substr(0,O.startColumn-1-F.firstCharOffset);let E;O.isEmpty()?E=A.substr(O.startColumn-1-F.firstCharOffset):E=this.getScopedLineTokens(M,O.endLineNumber,O.endColumn).getLineContent().substr(O.endColumn-1-F.firstCharOffset);let B="";if(O.startLineNumber>1&&F.firstCharOffset===0){const Z=this.getScopedLineTokens(M,O.startLineNumber-1);Z.languageId===F.languageId&&(B=Z.getLineContent())}const V=R.onEnter(D,B,P,E);if(!V)return null;const j=V.indentAction;let K=V.appendText;const Y=V.removeText||0;K?j===b.IndentAction.Indent&&(K="	"+K):j===b.IndentAction.Indent||j===b.IndentAction.IndentOutdent?K="	":K="";let J=this.getIndentationAtPosition(M,O.startLineNumber,O.startColumn);return Y&&(J=J.substring(0,J.length-Y)),{indentAction:j,appendText:K,removeText:Y,indentation:J}}getIndentationAtPosition(D,M,O){const F=D.getLineContent(M);let R=T.getLeadingWhitespace(F);return R.length>O-1&&(R=R.substring(0,O-1)),R}getScopedLineTokens(D,M,O){D.forceTokenization(M);const F=D.getLineTokens(M),R=typeof O=="undefined"?D.getLineMaxColumn(M)-1:O-1;return(0,C.createScopedLineTokens)(F,R)}}e.LanguageConfigurationRegistryImpl=v,e.LanguageConfigurationRegistry=new v;class m{constructor(D){this.languageId=D,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(D,M){const O=new L(D,M,++this._order);return this._entries.push(O),this._resolved=null,(0,N.toDisposable)(()=>{for(let F=0;F<this._entries.length;F++)if(this._entries[F]===O){this._entries.splice(F,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const D=this._resolve();D&&(this._resolved=new w(this.languageId,D))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(L.cmp),_(this._entries.map(D=>D.configuration)))}}function _(k){let D={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const M of k)D={comments:M.comments||D.comments,brackets:M.brackets||D.brackets,wordPattern:M.wordPattern||D.wordPattern,indentationRules:M.indentationRules||D.indentationRules,onEnterRules:M.onEnterRules||D.onEnterRules,autoClosingPairs:M.autoClosingPairs||D.autoClosingPairs,surroundingPairs:M.surroundingPairs||D.surroundingPairs,autoCloseBefore:M.autoCloseBefore||D.autoCloseBefore,folding:M.folding||D.folding,colorizedBracketPairs:M.colorizedBracketPairs||D.colorizedBracketPairs,__electricCharacterSupport:M.__electricCharacterSupport||D.__electricCharacterSupport};return D}class L{constructor(D,M,O){this.configuration=D,this.priority=M,this.order=O}static cmp(D,M){return D.priority===M.priority?D.order-M.order:D.priority-M.priority}}class w{constructor(D,M){this.languageId=D,this.underlyingConfig=M,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new i.OnEnterSupport(this.underlyingConfig):null,this.comments=w._handleComments(this.underlyingConfig),this.characterPair=new p.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||I.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new g.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return(0,I.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new t.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new h.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(D,M,O,F){return this._onEnterSupport?this._onEnterSupport.onEnter(D,M,O,F):null}static _handleComments(D){let M=D.comments;if(!M)return null;let O={};if(M.lineComment&&(O.lineCommentToken=M.lineComment),M.blockComment){let[F,R]=M.blockComment;O.blockCommentStartToken=F,O.blockCommentEndToken=R}return O}}e.ResolvedLanguageConfiguration=w,(0,a.registerSingleton)(e.ILanguageConfigurationService,o)}),define(ee[264],te([0,1,59,14,3,21,39]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class C{constructor(h,g){this._selection=h,this._insertSpace=g,this._usedEndToken=null}static _haystackHasNeedleAtOffset(h,g,i){if(i<0)return!1;const t=g.length,r=h.length;if(i+t>r)return!1;for(let c=0;c<t;c++){const l=h.charCodeAt(i+c),a=g.charCodeAt(c);if(l!==a&&!(l>=65&&l<=90&&l+32===a)&&!(a>=65&&a<=90&&a+32===l))return!1}return!0}_createOperationsForBlockComment(h,g,i,t,r,c){const l=h.startLineNumber,a=h.startColumn,s=h.endLineNumber,o=h.endColumn,n=r.getLineContent(l),d=r.getLineContent(s);let u=n.lastIndexOf(g,a-1+g.length),f=d.indexOf(i,o-1-i.length);if(u!==-1&&f!==-1)if(l===s)n.substring(u+g.length,f).indexOf(i)>=0&&(u=-1,f=-1);else{const v=n.substring(u+g.length),m=d.substring(0,f);(v.indexOf(i)>=0||m.indexOf(i)>=0)&&(u=-1,f=-1)}let S;u!==-1&&f!==-1?(t&&u+g.length<n.length&&n.charCodeAt(u+g.length)===32&&(g=g+" "),t&&f>0&&d.charCodeAt(f-1)===32&&(i=" "+i,f-=1),S=C._createRemoveBlockCommentOperations(new T.Range(l,u+g.length+1,s,f+1),g,i)):(S=C._createAddBlockCommentOperations(h,g,i,this._insertSpace),this._usedEndToken=S.length===1?i:null);for(const v of S)c.addTrackedEditOperation(v.range,v.text)}static _createRemoveBlockCommentOperations(h,g,i){let t=[];return T.Range.isEmpty(h)?t.push(y.EditOperation.delete(new T.Range(h.startLineNumber,h.startColumn-g.length,h.endLineNumber,h.endColumn+i.length))):(t.push(y.EditOperation.delete(new T.Range(h.startLineNumber,h.startColumn-g.length,h.startLineNumber,h.startColumn))),t.push(y.EditOperation.delete(new T.Range(h.endLineNumber,h.endColumn,h.endLineNumber,h.endColumn+i.length)))),t}static _createAddBlockCommentOperations(h,g,i,t){let r=[];return T.Range.isEmpty(h)?r.push(y.EditOperation.replace(new T.Range(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn),g+"  "+i)):(r.push(y.EditOperation.insert(new N.Position(h.startLineNumber,h.startColumn),g+(t?" ":""))),r.push(y.EditOperation.insert(new N.Position(h.endLineNumber,h.endColumn),(t?" ":"")+i))),r}getEditOperations(h,g){const i=this._selection.startLineNumber,t=this._selection.startColumn;h.tokenizeIfCheap(i);const r=h.getLanguageIdAtPosition(i,t),c=b.LanguageConfigurationRegistry.getComments(r);!c||!c.blockCommentStartToken||!c.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,c.blockCommentStartToken,c.blockCommentEndToken,this._insertSpace,h,g)}computeCursorState(h,g){const i=g.getInverseEditOperations();if(i.length===2){const t=i[0],r=i[1];return new I.Selection(t.range.endLineNumber,t.range.endColumn,r.range.startLineNumber,r.range.startColumn)}else{const t=i[0].range,r=this._usedEndToken?-this._usedEndToken.length-1:0;return new I.Selection(t.endLineNumber,t.endColumn+r,t.endLineNumber,t.endColumn+r)}}}e.BlockCommentCommand=C}),define(ee[579],te([0,1,8,59,14,3,21,39,264]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class h{constructor(i,t,r,c,l,a){this._selection=i,this._tabSize=t,this._type=r,this._insertSpace=c,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=l,this._ignoreFirstLine=a||!1}static _gatherPreflightCommentStrings(i,t,r){i.tokenizeIfCheap(t);const c=i.getLanguageIdAtPosition(t,1),l=C.LanguageConfigurationRegistry.getComments(c),a=l?l.lineCommentToken:null;if(!a)return null;let s=[];for(let o=0,n=r-t+1;o<n;o++)s[o]={ignore:!1,commentStr:a,commentStrOffset:0,commentStrLength:a.length};return s}static _analyzeLines(i,t,r,c,l,a,s){let o=!0,n;i===0?n=!0:i===1?n=!1:n=!0;for(let d=0,u=c.length;d<u;d++){const f=c[d],S=l+d;if(S===l&&s){f.ignore=!0;continue}const v=r.getLineContent(S),m=y.firstNonWhitespaceIndex(v);if(m===-1){f.ignore=a,f.commentStrOffset=v.length;continue}if(o=!1,f.ignore=!1,f.commentStrOffset=m,n&&!p.BlockCommentCommand._haystackHasNeedleAtOffset(v,f.commentStr,m)&&(i===0?n=!1:i===1||(f.ignore=!0)),n&&t){const _=m+f.commentStrLength;_<v.length&&v.charCodeAt(_)===32&&(f.commentStrLength+=1)}}if(i===0&&o){n=!1;for(let d=0,u=c.length;d<u;d++)c[d].ignore=!1}return{supported:!0,shouldRemoveComments:n,lines:c}}static _gatherPreflightData(i,t,r,c,l,a,s){const o=h._gatherPreflightCommentStrings(r,c,l);return o===null?{supported:!1}:h._analyzeLines(i,t,r,o,c,a,s)}_executeLineComments(i,t,r,c){let l;r.shouldRemoveComments?l=h._createRemoveLineCommentsOperations(r.lines,c.startLineNumber):(h._normalizeInsertionPoint(i,r.lines,c.startLineNumber,this._tabSize),l=this._createAddLineCommentsOperations(r.lines,c.startLineNumber));const a=new T.Position(c.positionLineNumber,c.positionColumn);for(let s=0,o=l.length;s<o;s++)t.addEditOperation(l[s].range,l[s].text),I.Range.isEmpty(l[s].range)&&I.Range.getStartPosition(l[s].range).equals(a)&&i.getLineContent(a.lineNumber).length+1===a.column&&(this._deltaColumn=(l[s].text||"").length);this._selectionId=t.trackSelection(c)}_attemptRemoveBlockComment(i,t,r,c){let l=t.startLineNumber,a=t.endLineNumber,s=c.length+Math.max(i.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),o=i.getLineContent(l).lastIndexOf(r,s-1),n=i.getLineContent(a).indexOf(c,t.endColumn-1-r.length);return o!==-1&&n===-1&&(n=i.getLineContent(l).indexOf(c,o+r.length),a=l),o===-1&&n!==-1&&(o=i.getLineContent(a).lastIndexOf(r,n),l=a),t.isEmpty()&&(o===-1||n===-1)&&(o=i.getLineContent(l).indexOf(r),o!==-1&&(n=i.getLineContent(l).indexOf(c,o+r.length))),o!==-1&&i.getLineContent(l).charCodeAt(o+r.length)===32&&(r+=" "),n!==-1&&i.getLineContent(a).charCodeAt(n-1)===32&&(c=" "+c,n-=1),o!==-1&&n!==-1?p.BlockCommentCommand._createRemoveBlockCommentOperations(new I.Range(l,o+r.length+1,a,n+1),r,c):null}_executeBlockComment(i,t,r){i.tokenizeIfCheap(r.startLineNumber);let c=i.getLanguageIdAtPosition(r.startLineNumber,1),l=C.LanguageConfigurationRegistry.getComments(c);if(!l||!l.blockCommentStartToken||!l.blockCommentEndToken)return;const a=l.blockCommentStartToken,s=l.blockCommentEndToken;let o=this._attemptRemoveBlockComment(i,r,a,s);if(!o){if(r.isEmpty()){const n=i.getLineContent(r.startLineNumber);let d=y.firstNonWhitespaceIndex(n);d===-1&&(d=n.length),o=p.BlockCommentCommand._createAddBlockCommentOperations(new I.Range(r.startLineNumber,d+1,r.startLineNumber,n.length+1),a,s,this._insertSpace)}else o=p.BlockCommentCommand._createAddBlockCommentOperations(new I.Range(r.startLineNumber,i.getLineFirstNonWhitespaceColumn(r.startLineNumber),r.endLineNumber,i.getLineMaxColumn(r.endLineNumber)),a,s,this._insertSpace);o.length===1&&(this._deltaColumn=a.length+1)}this._selectionId=t.trackSelection(r);for(const n of o)t.addEditOperation(n.range,n.text)}getEditOperations(i,t){let r=this._selection;if(this._moveEndPositionDown=!1,r.startLineNumber===r.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new I.Range(r.startLineNumber,i.getLineMaxColumn(r.startLineNumber),r.startLineNumber+1,1),r.startLineNumber===i.getLineCount()?"":`
`),this._selectionId=t.trackSelection(r);return}r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,i.getLineMaxColumn(r.endLineNumber-1)));const c=h._gatherPreflightData(this._type,this._insertSpace,i,r.startLineNumber,r.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return c.supported?this._executeLineComments(i,t,c,r):this._executeBlockComment(i,t,r)}computeCursorState(i,t){let r=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(r=r.setEndPosition(r.endLineNumber+1,1)),new b.Selection(r.selectionStartLineNumber,r.selectionStartColumn+this._deltaColumn,r.positionLineNumber,r.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(i,t){let r=[];for(let c=0,l=i.length;c<l;c++){const a=i[c];a.ignore||r.push(N.EditOperation.delete(new I.Range(t+c,a.commentStrOffset+1,t+c,a.commentStrOffset+a.commentStrLength+1)))}return r}_createAddLineCommentsOperations(i,t){let r=[];const c=this._insertSpace?" ":"";for(let l=0,a=i.length;l<a;l++){const s=i[l];s.ignore||r.push(N.EditOperation.insert(new T.Position(t+l,s.commentStrOffset+1),s.commentStr+c))}return r}static nextVisibleColumn(i,t,r,c){return r?i+(t-i%t):i+c}static _normalizeInsertionPoint(i,t,r,c){let l=1073741824,a,s;for(let o=0,n=t.length;o<n;o++){if(t[o].ignore)continue;const d=i.getLineContent(r+o);let u=0;for(let f=0,S=t[o].commentStrOffset;u<l&&f<S;f++)u=h.nextVisibleColumn(u,c,d.charCodeAt(f)===9,1);u<l&&(l=u)}l=Math.floor(l/c)*c;for(let o=0,n=t.length;o<n;o++){if(t[o].ignore)continue;const d=i.getLineContent(r+o);let u=0;for(a=0,s=t[o].commentStrOffset;u<l&&a<s;a++)u=h.nextVisibleColumn(u,c,d.charCodeAt(a)===9,1);u>l?t[o].commentStrOffset=a-1:t[o].commentStrOffset=a}}}e.LineCommentCommand=h}),define(ee[16],te([0,1,17,8,9]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=void 0;let I=y.userAgent||"";const b=new Map;b.set("false",!1),b.set("true",!0),b.set("isMac",y.isMacintosh),b.set("isLinux",y.isLinux),b.set("isWindows",y.isWindows),b.set("isWeb",y.isWeb),b.set("isMacNative",y.isMacintosh&&!y.isWeb),b.set("isEdge",I.indexOf("Edg/")>=0),b.set("isFirefox",I.indexOf("Firefox")>=0),b.set("isChrome",I.indexOf("Chrome")>=0),b.set("isSafari",I.indexOf("Safari")>=0);const C=Object.prototype.hasOwnProperty;class p{static has(A){return r.create(A)}static equals(A,P){return c.create(A,P)}static regex(A,P){return v.create(A,P)}static not(A){return o.create(A)}static and(...A){return L.create(A,null)}static or(...A){return w.create(A,null,!0)}static deserialize(A,P=!1){if(!!A)return this._deserializeOrExpression(A,P)}static _deserializeOrExpression(A,P){let E=A.split("||");return w.create(E.map(B=>this._deserializeAndExpression(B,P)),null,!0)}static _deserializeAndExpression(A,P){let E=A.split("&&");return L.create(E.map(B=>this._deserializeOne(B,P)),null)}static _deserializeOne(A,P){if(A=A.trim(),A.indexOf("!=")>=0){let E=A.split("!=");return s.create(E[0].trim(),this._deserializeValue(E[1],P))}if(A.indexOf("==")>=0){let E=A.split("==");return c.create(E[0].trim(),this._deserializeValue(E[1],P))}if(A.indexOf("=~")>=0){let E=A.split("=~");return v.create(E[0].trim(),this._deserializeRegexValue(E[1],P))}if(A.indexOf(" in ")>=0){let E=A.split(" in ");return l.create(E[0].trim(),E[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(A)){const E=A.split(">=");return u.create(E[0].trim(),E[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(A)){const E=A.split(">");return d.create(E[0].trim(),E[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(A)){const E=A.split("<=");return S.create(E[0].trim(),E[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(A)){const E=A.split("<");return f.create(E[0].trim(),E[1].trim())}return/^\!\s*/.test(A)?o.create(A.substr(1).trim()):r.create(A)}static _deserializeValue(A,P){if(A=A.trim(),A==="true")return!0;if(A==="false")return!1;let E=/^'([^']*)'$/.exec(A);return E?E[1].trim():A}static _deserializeRegexValue(A,P){if((0,N.isFalsyOrWhitespace)(A)){if(P)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let E=A.indexOf("/"),B=A.lastIndexOf("/");if(E===B||E<0){if(P)throw new Error(`bad regexp-value '${A}', missing /-enclosure`);return console.warn(`bad regexp-value '${A}', missing /-enclosure`),null}let V=A.slice(E+1,B),j=A[B+1]==="i"?"i":"";try{return new RegExp(V,j)}catch(K){if(P)throw new Error(`bad regexp-value '${A}', parse error: ${K}`);return console.warn(`bad regexp-value '${A}', parse error: ${K}`),null}}}e.ContextKeyExpr=p;function h(R,A){const P=R?R.substituteConstants():void 0,E=A?A.substituteConstants():void 0;return!P&&!E?!0:!P||!E?!1:P.equals(E)}e.expressionsAreEqualWithConstantSubstitution=h;function g(R,A){return R.cmp(A)}class i{constructor(){this.type=0}cmp(A){return this.type-A.type}equals(A){return A.type===this.type}substituteConstants(){return this}evaluate(A){return!1}serialize(){return"false"}keys(){return[]}negate(){return t.INSTANCE}}e.ContextKeyFalseExpr=i,i.INSTANCE=new i;class t{constructor(){this.type=1}cmp(A){return this.type-A.type}equals(A){return A.type===this.type}substituteConstants(){return this}evaluate(A){return!0}serialize(){return"true"}keys(){return[]}negate(){return i.INSTANCE}}e.ContextKeyTrueExpr=t,t.INSTANCE=new t;class r{constructor(A,P){this.key=A,this.negated=P,this.type=2}static create(A,P=null){const E=b.get(A);return typeof E=="boolean"?E?t.INSTANCE:i.INSTANCE:new r(A,P)}cmp(A){return A.type!==this.type?this.type-A.type:D(this.key,A.key)}equals(A){return A.type===this.type?this.key===A.key:!1}substituteConstants(){const A=b.get(this.key);return typeof A=="boolean"?A?t.INSTANCE:i.INSTANCE:this}evaluate(A){return!!A.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=o.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=r;class c{constructor(A,P,E){this.key=A,this.value=P,this.negated=E,this.type=4}static create(A,P,E=null){if(typeof P=="boolean")return P?r.create(A,E):o.create(A,E);const B=b.get(A);return typeof B=="boolean"?P===(B?"true":"false")?t.INSTANCE:i.INSTANCE:new c(A,P,E)}cmp(A){return A.type!==this.type?this.type-A.type:M(this.key,this.value,A.key,A.value)}equals(A){return A.type===this.type?this.key===A.key&&this.value===A.value:!1}substituteConstants(){const A=b.get(this.key);if(typeof A=="boolean"){const P=A?"true":"false";return this.value===P?t.INSTANCE:i.INSTANCE}return this}evaluate(A){return A.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=s.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=c;class l{constructor(A,P){this.key=A,this.valueKey=P,this.type=10,this.negated=null}static create(A,P){return new l(A,P)}cmp(A){return A.type!==this.type?this.type-A.type:M(this.key,this.valueKey,A.key,A.valueKey)}equals(A){return A.type===this.type?this.key===A.key&&this.valueKey===A.valueKey:!1}substituteConstants(){return this}evaluate(A){const P=A.getValue(this.valueKey),E=A.getValue(this.key);return Array.isArray(P)?P.indexOf(E)>=0:typeof E=="string"&&typeof P=="object"&&P!==null?C.call(P,E):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=a.create(this)),this.negated}}e.ContextKeyInExpr=l;class a{constructor(A){this._actual=A,this.type=11}static create(A){return new a(A)}cmp(A){return A.type!==this.type?this.type-A.type:this._actual.cmp(A._actual)}equals(A){return A.type===this.type?this._actual.equals(A._actual):!1}substituteConstants(){return this}evaluate(A){return!this._actual.evaluate(A)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotInExpr=a;class s{constructor(A,P,E){this.key=A,this.value=P,this.negated=E,this.type=5}static create(A,P,E=null){if(typeof P=="boolean")return P?o.create(A,E):r.create(A,E);const B=b.get(A);return typeof B=="boolean"?P===(B?"true":"false")?i.INSTANCE:t.INSTANCE:new s(A,P,E)}cmp(A){return A.type!==this.type?this.type-A.type:M(this.key,this.value,A.key,A.value)}equals(A){return A.type===this.type?this.key===A.key&&this.value===A.value:!1}substituteConstants(){const A=b.get(this.key);if(typeof A=="boolean"){const P=A?"true":"false";return this.value===P?i.INSTANCE:t.INSTANCE}return this}evaluate(A){return A.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=c.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=s;class o{constructor(A,P){this.key=A,this.negated=P,this.type=3}static create(A,P=null){const E=b.get(A);return typeof E=="boolean"?E?i.INSTANCE:t.INSTANCE:new o(A,P)}cmp(A){return A.type!==this.type?this.type-A.type:D(this.key,A.key)}equals(A){return A.type===this.type?this.key===A.key:!1}substituteConstants(){const A=b.get(this.key);return typeof A=="boolean"?A?i.INSTANCE:t.INSTANCE:this}evaluate(A){return!A.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=r.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=o;function n(R,A){if(typeof R=="string"){const P=parseFloat(R);isNaN(P)||(R=P)}return typeof R=="string"||typeof R=="number"?A(R):i.INSTANCE}class d{constructor(A,P,E){this.key=A,this.value=P,this.negated=E,this.type=12}static create(A,P,E=null){return n(P,B=>new d(A,B,E))}cmp(A){return A.type!==this.type?this.type-A.type:M(this.key,this.value,A.key,A.value)}equals(A){return A.type===this.type?this.key===A.key&&this.value===A.value:!1}substituteConstants(){return this}evaluate(A){return typeof this.value=="string"?!1:parseFloat(A.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=S.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=d;class u{constructor(A,P,E){this.key=A,this.value=P,this.negated=E,this.type=13}static create(A,P,E=null){return n(P,B=>new u(A,B,E))}cmp(A){return A.type!==this.type?this.type-A.type:M(this.key,this.value,A.key,A.value)}equals(A){return A.type===this.type?this.key===A.key&&this.value===A.value:!1}substituteConstants(){return this}evaluate(A){return typeof this.value=="string"?!1:parseFloat(A.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=f.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=u;class f{constructor(A,P,E){this.key=A,this.value=P,this.negated=E,this.type=14}static create(A,P,E=null){return n(P,B=>new f(A,B,E))}cmp(A){return A.type!==this.type?this.type-A.type:M(this.key,this.value,A.key,A.value)}equals(A){return A.type===this.type?this.key===A.key&&this.value===A.value:!1}substituteConstants(){return this}evaluate(A){return typeof this.value=="string"?!1:parseFloat(A.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=u.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=f;class S{constructor(A,P,E){this.key=A,this.value=P,this.negated=E,this.type=15}static create(A,P,E=null){return n(P,B=>new S(A,B,E))}cmp(A){return A.type!==this.type?this.type-A.type:M(this.key,this.value,A.key,A.value)}equals(A){return A.type===this.type?this.key===A.key&&this.value===A.value:!1}substituteConstants(){return this}evaluate(A){return typeof this.value=="string"?!1:parseFloat(A.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=d.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=S;class v{constructor(A,P){this.key=A,this.regexp=P,this.type=7,this.negated=null}static create(A,P){return new v(A,P)}cmp(A){if(A.type!==this.type)return this.type-A.type;if(this.key<A.key)return-1;if(this.key>A.key)return 1;const P=this.regexp?this.regexp.source:"",E=A.regexp?A.regexp.source:"";return P<E?-1:P>E?1:0}equals(A){if(A.type===this.type){const P=this.regexp?this.regexp.source:"",E=A.regexp?A.regexp.source:"";return this.key===A.key&&P===E}return!1}substituteConstants(){return this}evaluate(A){let P=A.getValue(this.key);return this.regexp?this.regexp.test(P):!1}serialize(){const A=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${A}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=m.create(this)),this.negated}}e.ContextKeyRegexExpr=v;class m{constructor(A){this._actual=A,this.type=8}static create(A){return new m(A)}cmp(A){return A.type!==this.type?this.type-A.type:this._actual.cmp(A._actual)}equals(A){return A.type===this.type?this._actual.equals(A._actual):!1}substituteConstants(){return this}evaluate(A){return!this._actual.evaluate(A)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=m;function _(R){let A=null;for(let P=0,E=R.length;P<E;P++){const B=R[P].substituteConstants();if(R[P]!==B&&A===null){A=[];for(let V=0;V<P;V++)A[V]=R[V]}A!==null&&(A[P]=B)}return A===null?R:A}class L{constructor(A,P){this.expr=A,this.negated=P,this.type=6}static create(A,P){return L._normalizeArr(A,P)}cmp(A){if(A.type!==this.type)return this.type-A.type;if(this.expr.length<A.expr.length)return-1;if(this.expr.length>A.expr.length)return 1;for(let P=0,E=this.expr.length;P<E;P++){const B=g(this.expr[P],A.expr[P]);if(B!==0)return B}return 0}equals(A){if(A.type===this.type){if(this.expr.length!==A.expr.length)return!1;for(let P=0,E=this.expr.length;P<E;P++)if(!this.expr[P].equals(A.expr[P]))return!1;return!0}return!1}substituteConstants(){const A=_(this.expr);return A===this.expr?this:L.create(A,this.negated)}evaluate(A){for(let P=0,E=this.expr.length;P<E;P++)if(!this.expr[P].evaluate(A))return!1;return!0}static _normalizeArr(A,P){const E=[];let B=!1;for(const V of A)if(!!V){if(V.type===1){B=!0;continue}if(V.type===0)return i.INSTANCE;if(V.type===6){E.push(...V.expr);continue}E.push(V)}if(E.length===0&&B)return t.INSTANCE;if(E.length!==0){if(E.length===1)return E[0];E.sort(g);for(let V=1;V<E.length;V++)E[V-1].equals(E[V])&&(E.splice(V,1),V--);if(E.length===1)return E[0];for(;E.length>1;){const V=E[E.length-1];if(V.type!==9)break;E.pop();const j=E.pop(),K=E.length===0,Y=w.create(V.expr.map(J=>L.create([J,j],null)),null,K);Y&&(E.push(Y),E.sort(g))}return E.length===1?E[0]:new L(E,P)}}serialize(){return this.expr.map(A=>A.serialize()).join(" && ")}keys(){const A=[];for(let P of this.expr)A.push(...P.keys());return A}negate(){if(!this.negated){const A=[];for(let P of this.expr)A.push(P.negate());this.negated=w.create(A,this,!0)}return this.negated}}class w{constructor(A,P){this.expr=A,this.negated=P,this.type=9}static create(A,P,E){return w._normalizeArr(A,P,E)}cmp(A){if(A.type!==this.type)return this.type-A.type;if(this.expr.length<A.expr.length)return-1;if(this.expr.length>A.expr.length)return 1;for(let P=0,E=this.expr.length;P<E;P++){const B=g(this.expr[P],A.expr[P]);if(B!==0)return B}return 0}equals(A){if(A.type===this.type){if(this.expr.length!==A.expr.length)return!1;for(let P=0,E=this.expr.length;P<E;P++)if(!this.expr[P].equals(A.expr[P]))return!1;return!0}return!1}substituteConstants(){const A=_(this.expr);return A===this.expr?this:w.create(A,this.negated,!1)}evaluate(A){for(let P=0,E=this.expr.length;P<E;P++)if(this.expr[P].evaluate(A))return!0;return!1}static _normalizeArr(A,P,E){let B=[],V=!1;if(A){for(let j=0,K=A.length;j<K;j++){const Y=A[j];if(!!Y){if(Y.type===0){V=!0;continue}if(Y.type===1)return t.INSTANCE;if(Y.type===9){B=B.concat(Y.expr);continue}B.push(Y)}}if(B.length===0&&V)return i.INSTANCE;B.sort(g)}if(B.length!==0){if(B.length===1)return B[0];for(let j=1;j<B.length;j++)B[j-1].equals(B[j])&&(B.splice(j,1),j--);if(B.length===1)return B[0];if(E){for(let j=0;j<B.length;j++)for(let K=j+1;K<B.length;K++)O(B[j],B[K])&&(B.splice(K,1),K--);if(B.length===1)return B[0]}return new w(B,P)}}serialize(){return this.expr.map(A=>A.serialize()).join(" || ")}keys(){const A=[];for(let P of this.expr)A.push(...P.keys());return A}negate(){if(!this.negated){let A=[];for(let P of this.expr)A.push(P.negate());for(;A.length>1;){const P=A.shift(),E=A.shift(),B=[];for(const j of F(P))for(const K of F(E))B.push(L.create([j,K],null));const V=A.length===0;A.unshift(w.create(B,null,V))}this.negated=A[0]}return this.negated}}class k extends r{constructor(A,P,E){super(A,null);this._defaultValue=P,typeof E=="object"?k._info.push(Object.assign(Object.assign({},E),{key:A})):E!==!0&&k._info.push({key:A,description:E,type:P!=null?typeof P:void 0})}static all(){return k._info.values()}bindTo(A){return A.createKey(this.key,this._defaultValue)}getValue(A){return A.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(A){return c.create(this.key,A)}}e.RawContextKey=k,k._info=[],e.IContextKeyService=(0,T.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function D(R,A){return R<A?-1:R>A?1:0}function M(R,A,P,E){return R<P?-1:R>P?1:A<E?-1:A>E?1:0}function O(R,A){if(A.type===6&&R.type!==9&&R.type!==6){for(const B of A.expr)if(R.equals(B))return!0}const P=R.negate(),E=F(P).concat(F(A));E.sort(g);for(let B=0;B<E.length;B++){const j=E[B].negate();for(let K=B+1;K<E.length;K++){const Y=E[K];if(j.equals(Y))return!0}}return!1}e.implies=O;function F(R){return R.type===9?R.expr:[R]}}),define(ee[24],te([0,1,482,16]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var T;(function(I){I.editorSimpleInput=new N.RawContextKey("editorSimpleInput",!1,!0),I.editorTextFocus=new N.RawContextKey("editorTextFocus",!1,y.localize(0,null)),I.focus=new N.RawContextKey("editorFocus",!1,y.localize(1,null)),I.textInputFocus=new N.RawContextKey("textInputFocus",!1,y.localize(2,null)),I.readOnly=new N.RawContextKey("editorReadonly",!1,y.localize(3,null)),I.inDiffEditor=new N.RawContextKey("inDiffEditor",!1,y.localize(4,null)),I.columnSelection=new N.RawContextKey("editorColumnSelection",!1,y.localize(5,null)),I.writable=I.readOnly.toNegated(),I.hasNonEmptySelection=new N.RawContextKey("editorHasSelection",!1,y.localize(6,null)),I.hasOnlyEmptySelection=I.hasNonEmptySelection.toNegated(),I.hasMultipleSelections=new N.RawContextKey("editorHasMultipleSelections",!1,y.localize(7,null)),I.hasSingleSelection=I.hasMultipleSelections.toNegated(),I.tabMovesFocus=new N.RawContextKey("editorTabMovesFocus",!1,y.localize(8,null)),I.tabDoesNotMoveFocus=I.tabMovesFocus.toNegated(),I.isInWalkThroughSnippet=new N.RawContextKey("isInEmbeddedEditor",!1,!0),I.canUndo=new N.RawContextKey("canUndo",!1,!0),I.canRedo=new N.RawContextKey("canRedo",!1,!0),I.hoverVisible=new N.RawContextKey("editorHoverVisible",!1,y.localize(9,null)),I.inCompositeEditor=new N.RawContextKey("inCompositeEditor",void 0,y.localize(10,null)),I.notInCompositeEditor=I.inCompositeEditor.toNegated(),I.languageId=new N.RawContextKey("editorLangId","",y.localize(11,null)),I.hasCompletionItemProvider=new N.RawContextKey("editorHasCompletionItemProvider",!1,y.localize(12,null)),I.hasCodeActionsProvider=new N.RawContextKey("editorHasCodeActionsProvider",!1,y.localize(13,null)),I.hasCodeLensProvider=new N.RawContextKey("editorHasCodeLensProvider",!1,y.localize(14,null)),I.hasDefinitionProvider=new N.RawContextKey("editorHasDefinitionProvider",!1,y.localize(15,null)),I.hasDeclarationProvider=new N.RawContextKey("editorHasDeclarationProvider",!1,y.localize(16,null)),I.hasImplementationProvider=new N.RawContextKey("editorHasImplementationProvider",!1,y.localize(17,null)),I.hasTypeDefinitionProvider=new N.RawContextKey("editorHasTypeDefinitionProvider",!1,y.localize(18,null)),I.hasHoverProvider=new N.RawContextKey("editorHasHoverProvider",!1,y.localize(19,null)),I.hasDocumentHighlightProvider=new N.RawContextKey("editorHasDocumentHighlightProvider",!1,y.localize(20,null)),I.hasDocumentSymbolProvider=new N.RawContextKey("editorHasDocumentSymbolProvider",!1,y.localize(21,null)),I.hasReferenceProvider=new N.RawContextKey("editorHasReferenceProvider",!1,y.localize(22,null)),I.hasRenameProvider=new N.RawContextKey("editorHasRenameProvider",!1,y.localize(23,null)),I.hasSignatureHelpProvider=new N.RawContextKey("editorHasSignatureHelpProvider",!1,y.localize(24,null)),I.hasInlayHintsProvider=new N.RawContextKey("editorHasInlayHintsProvider",!1,y.localize(25,null)),I.hasDocumentFormattingProvider=new N.RawContextKey("editorHasDocumentFormattingProvider",!1,y.localize(26,null)),I.hasDocumentSelectionFormattingProvider=new N.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,y.localize(27,null)),I.hasMultipleDocumentFormattingProvider=new N.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,y.localize(28,null)),I.hasMultipleDocumentSelectionFormattingProvider=new N.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,y.localize(29,null))})(T=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(ee[190],te([0,1,23,13,20,25,14,18,66,26,16]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new g.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new g.RawContextKey("parameterHintsMultipleSignatures",!1)};function i(t,r,c,l){return Ae(this,void 0,void 0,function*(){const a=C.SignatureHelpProviderRegistry.ordered(t);for(const s of a)try{const o=yield s.provideSignatureHelp(t,r,l,c);if(o)return o}catch(o){(0,N.onUnexpectedExternalError)(o)}})}e.provideSignatureHelp=i,h.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(t,...r)=>Ae(void 0,void 0,void 0,function*(){const[c,l,a]=r;(0,T.assertType)(I.URI.isUri(c)),(0,T.assertType)(b.Position.isIPosition(l)),(0,T.assertType)(typeof a=="string"||!a);const s=yield t.get(p.ITextModelService).createModelReference(c);try{const o=yield i(s.object.textEditorModel,b.Position.lift(l),{triggerKind:C.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:a},y.CancellationToken.None);return o?(setTimeout(()=>o.dispose(),0),o.value):void 0}finally{s.dispose()}}))}),define(ee[580],te([0,1,10,13,4,2,97,18,190]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var h;(function(t){t.Default={type:0};class r{constructor(a,s){this.request=a,this.previouslyActiveHints=s,this.type=2}}t.Pending=r;class c{constructor(a){this.hints=a,this.type=1}}t.Active=c})(h||(h={}));class g extends I.Disposable{constructor(r,c=g.DEFAULT_DELAY){super();this._onChangedHints=this._register(new T.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=h.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new I.MutableDisposable),this.triggerChars=new b.CharacterSet,this.retriggerChars=new b.CharacterSet,this.triggerId=0,this.editor=r,this.throttledDelayer=new y.Delayer(c),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(l=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(l=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(l=>this.onCursorChange(l))),this._register(this.editor.onDidChangeModelContent(l=>this.onModelContentChange())),this._register(C.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(l=>this.onDidType(l))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(r){this._state.type===2&&this._state.request.cancel(),this._state=r}cancel(r=!1){this.state=h.Default,this.throttledDelayer.cancel(),r||this._onChangedHints.fire(void 0)}trigger(r,c){const l=this.editor.getModel();if(!l||!C.SignatureHelpProviderRegistry.has(l))return;const a=++this.triggerId;this._pendingTriggers.push(r),this.throttledDelayer.trigger(()=>this.doTrigger(a),c).catch(N.onUnexpectedError)}next(){if(this.state.type!==1)return;const r=this.state.hints.signatures.length,c=this.state.hints.activeSignature,l=c%r==r-1,a=this.editor.getOption(75).cycle;if((r<2||l)&&!a){this.cancel();return}this.updateActiveSignature(l&&a?0:c+1)}previous(){if(this.state.type!==1)return;const r=this.state.hints.signatures.length,c=this.state.hints.activeSignature,l=c===0,a=this.editor.getOption(75).cycle;if((r<2||l)&&!a){this.cancel();return}this.updateActiveSignature(l&&a?r-1:c-1)}updateActiveSignature(r){this.state.type===1&&(this.state=new h.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:r})),this._onChangedHints.fire(this.state.hints))}doTrigger(r){return Ae(this,void 0,void 0,function*(){const c=this.state.type===1||this.state.type===2,l=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const a=this._pendingTriggers.reduce(i);this._pendingTriggers=[];const s={triggerKind:a.triggerKind,triggerCharacter:a.triggerCharacter,isRetrigger:c,activeSignatureHelp:l};if(!this.editor.hasModel())return!1;const o=this.editor.getModel(),n=this.editor.getPosition();this.state=new h.Pending((0,y.createCancelablePromise)(d=>(0,p.provideSignatureHelp)(o,n,s,d)),l);try{const d=yield this.state.request;return r!==this.triggerId?(d==null||d.dispose(),!1):!d||!d.value.signatures||d.value.signatures.length===0?(d==null||d.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new h.Active(d.value),this._lastSignatureHelpResult.value=d,this._onChangedHints.fire(this.state.hints),!0)}catch(d){return r===this.triggerId&&(this.state=h.Default),(0,N.onUnexpectedError)(d),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new b.CharacterSet,this.retriggerChars=new b.CharacterSet;const r=this.editor.getModel();if(!!r)for(const c of C.SignatureHelpProviderRegistry.ordered(r)){for(const l of c.signatureHelpTriggerCharacters||[])this.triggerChars.add(l.charCodeAt(0)),this.retriggerChars.add(l.charCodeAt(0));for(const l of c.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(l.charCodeAt(0))}}onDidType(r){if(!this.triggerOnType)return;const c=r.length-1,l=r.charCodeAt(c);(this.triggerChars.has(l)||this.isTriggered&&this.retriggerChars.has(l))&&this.trigger({triggerKind:C.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:r.charAt(c)})}onCursorChange(r){r.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:C.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:C.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(75).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=g,g.DEFAULT_DELAY=120;function i(t,r){switch(r.triggerKind){case C.SignatureHelpTriggerKind.Invoke:return r;case C.SignatureHelpTriggerKind.ContentChange:return t;case C.SignatureHelpTriggerKind.TriggerCharacter:default:return r}}}),define(ee[581],te([0,1,16]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let N=class Mt{constructor(I,b){this._editor=I,this._index=0,this._ckOtherSuggestions=Mt.OtherSuggestions.bindTo(b)}dispose(){this.reset()}reset(){var I;this._ckOtherSuggestions.reset(),(I=this._listener)===null||I===void 0||I.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:I,index:b},C){if(I.items.length===0){this.reset();return}if(Mt._moveIndex(!0,I,b)===b){this.reset();return}this._acceptNext=C,this._model=I,this._index=b,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(I,b,C){let p=C;for(;p=(p+b.items.length+(I?1:-1))%b.items.length,!(p===C||!b.items[p].completion.additionalTextEdits););return p}next(){this._move(!0)}prev(){this._move(!1)}_move(I){if(!!this._model)try{this._ignore=!0,this._index=Mt._moveIndex(I,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};N.OtherSuggestions=new y.RawContextKey("hasOtherSuggestions",!1),N=Be([Ce(1,y.IContextKeyService)],N),e.SuggestAlternatives=N}),define(ee[582],te([0,1,16]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let N=class vi{constructor(I,b){this._editor=I,this._enabled=!1,this._ckAtEnd=vi.AtEnd.bindTo(b),this._configListener=this._editor.onDidChangeConfiguration(C=>C.hasChanged(110)&&this._update()),this._update()}dispose(){var I;this._configListener.dispose(),(I=this._selectionListener)===null||I===void 0||I.dispose(),this._ckAtEnd.reset()}_update(){const I=this._editor.getOption(110)==="on";if(this._enabled!==I)if(this._enabled=I,this._enabled){const b=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const C=this._editor.getModel(),p=this._editor.getSelection(),h=C.getWordAtPosition(p.getStartPosition());if(!h){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(h.endColumn===p.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(b),b()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};N.AtEnd=new y.RawContextKey("atEndOfWord",!1),N=Be([Ce(1,y.IContextKeyService)],N),e.WordContextKey=N}),define(ee[60],te([0,1,16,9]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,N.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new y.RawContextKey("accessibilityModeEnabled",!1)}),define(ee[583],te([0,1,4,2,60,35,16]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let C=class extends N.Disposable{constructor(h,g){super();this._contextKeyService=h,this._configurationService=g,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new y.Emitter,this._accessibilityModeEnabledContext=T.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const i=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(t=>{t.affectsConfiguration("editor.accessibilitySupport")&&(i(),this._onDidChangeScreenReaderOptimized.fire())})),i(),this.onDidChangeScreenReaderOptimized(()=>i())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const h=this._configurationService.getValue("editor.accessibilitySupport");return h==="on"||h==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};C=Be([Ce(0,b.IContextKeyService),Ce(1,I.IConfigurationService)],C),e.AccessibilityService=C}),define(ee[265],te([0,1,17,554,16]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new T.RawContextKey("isMac",y.isMacintosh,(0,N.localize)(0,null)),e.IsLinuxContext=new T.RawContextKey("isLinux",y.isLinux,(0,N.localize)(1,null)),e.IsWindowsContext=new T.RawContextKey("isWindows",y.isWindows,(0,N.localize)(2,null)),e.IsWebContext=new T.RawContextKey("isWeb",y.isWeb,(0,N.localize)(3,null)),e.IsMacNativeContext=new T.RawContextKey("isMacNative",y.isMacintosh&&!y.isWeb,(0,N.localize)(4,null)),e.IsIOSContext=new T.RawContextKey("isIOS",y.isIOS,(0,N.localize)(5,null)),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new T.RawContextKey(e.InputFocusedContextKey,!1,(0,N.localize)(6,null))}),define(ee[73],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,y.createDecorator)("contextViewService"),e.IContextMenuService=(0,y.createDecorator)("contextMenuService")}),define(ee[124],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,y.createDecorator)("dialogService")}),define(ee[153],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class y{constructor(...T){this._entries=new Map;for(let[I,b]of T)this.set(I,b)}set(T,I){const b=this._entries.get(T);return this._entries.set(T,I),b}has(T){return this._entries.has(T)}get(T){return this._entries.get(T)}}e.ServiceCollection=y}),define(ee[584],te([0,1,10,13,254,568,9,153]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationService=void 0;const p=!1;class h extends Error{constructor(r){var c;super("cyclic dependency between services");this.message=(c=r.findCycleSlow())!==null&&c!==void 0?c:`UNABLE to detect cycle, dumping graph: 
${r.toString()}`}}class g{constructor(r=new C.ServiceCollection,c=!1,l){this._activeInstantiations=new Set,this._services=r,this._strict=c,this._parent=l,this._services.set(b.IInstantiationService,this)}createChild(r){return new g(r,this._strict,this)}invokeFunction(r,...c){let l=i.traceInvocation(r),a=!1;try{return r({get:o=>{if(a)throw(0,N.illegalState)("service accessor is only valid during the invocation of its target method");const n=this._getOrCreateServiceInstance(o,l);if(!n)throw new Error(`[invokeFunction] unknown service '${o}'`);return n}},...c)}finally{a=!0,l.stop()}}createInstance(r,...c){let l,a;return r instanceof T.SyncDescriptor?(l=i.traceCreation(r.ctor),a=this._createInstance(r.ctor,r.staticArguments.concat(c),l)):(l=i.traceCreation(r),a=this._createInstance(r,c,l)),l.stop(),a}_createInstance(r,c=[],l){let a=b._util.getServiceDependencies(r).sort((n,d)=>n.index-d.index),s=[];for(const n of a){let d=this._getOrCreateServiceInstance(n.id,l);if(!d&&this._strict&&!n.optional)throw new Error(`[createInstance] ${r.name} depends on UNKNOWN service ${n.id}.`);s.push(d)}let o=a.length>0?a[0].index:c.length;if(c.length!==o){console.warn(`[createInstance] First service dependency of ${r.name} at position ${o+1} conflicts with ${c.length} static arguments`);let n=o-c.length;n>0?c=c.concat(new Array(n)):c=c.slice(0,o)}return new r(...[...c,...s])}_setServiceInstance(r,c){if(this._services.get(r)instanceof T.SyncDescriptor)this._services.set(r,c);else if(this._parent)this._parent._setServiceInstance(r,c);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(r){let c=this._services.get(r);return!c&&this._parent?this._parent._getServiceInstanceOrDescriptor(r):c}_getOrCreateServiceInstance(r,c){let l=this._getServiceInstanceOrDescriptor(r);return l instanceof T.SyncDescriptor?this._safeCreateAndCacheServiceInstance(r,l,c.branch(r,!0)):(c.branch(r,!1),l)}_safeCreateAndCacheServiceInstance(r,c,l){if(this._activeInstantiations.has(r))throw new Error(`illegal state - RECURSIVELY instantiating service '${r}'`);this._activeInstantiations.add(r);try{return this._createAndCacheServiceInstance(r,c,l)}finally{this._activeInstantiations.delete(r)}}_createAndCacheServiceInstance(r,c,l){const a=new I.Graph(n=>n.id.toString());let s=0;const o=[{id:r,desc:c,_trace:l}];for(;o.length;){const n=o.pop();if(a.lookupOrInsertNode(n),s++>1e3)throw new h(a);for(let d of b._util.getServiceDependencies(n.desc.ctor)){let u=this._getServiceInstanceOrDescriptor(d.id);if(!u&&!d.optional&&console.warn(`[createInstance] ${r} depends on ${d.id} which is NOT registered.`),u instanceof T.SyncDescriptor){const f={id:d.id,desc:u,_trace:n._trace.branch(d.id,!0)};a.insertEdge(n,f),o.push(f)}}}for(;;){const n=a.roots();if(n.length===0){if(!a.isEmpty())throw new h(a);break}for(const{data:d}of n){if(this._getServiceInstanceOrDescriptor(d.id)instanceof T.SyncDescriptor){const f=this._createServiceInstanceWithOwner(d.id,d.desc.ctor,d.desc.staticArguments,d.desc.supportsDelayedInstantiation,d._trace);this._setServiceInstance(d.id,f)}a.removeNode(d)}}return this._getServiceInstanceOrDescriptor(r)}_createServiceInstanceWithOwner(r,c,l=[],a,s){if(this._services.get(r)instanceof T.SyncDescriptor)return this._createServiceInstance(c,l,a,s);if(this._parent)return this._parent._createServiceInstanceWithOwner(r,c,l,a,s);throw new Error(`illegalState - creating UNKNOWN service instance ${c.name}`)}_createServiceInstance(r,c=[],l,a){if(l){const s=new y.IdleValue(()=>this._createInstance(r,c,a));return new Proxy(Object.create(null),{get(o,n){if(n in o)return o[n];let d=s.value,u=d[n];return typeof u!="function"||(u=u.bind(d),o[n]=u),u},set(o,n,d){return s.value[n]=d,!0}})}else return this._createInstance(r,c,a)}}e.InstantiationService=g;class i{constructor(r,c){this.type=r,this.name=c,this._start=Date.now(),this._dep=[]}static traceInvocation(r){return p?new i(1,r.name||r.toString().substring(0,42).replace(/\n/g,"")):i._None}static traceCreation(r){return p?new i(0,r.name):i._None}branch(r,c){let l=new i(2,r.toString());return this._dep.push([r,c,l]),l}stop(){let r=Date.now()-this._start;i._totals+=r;let c=!1;function l(s,o){let n=[],d=new Array(s+1).join("	");for(const[u,f,S]of o._dep)if(f&&S){c=!0,n.push(`${d}CREATES -> ${u}`);let v=l(s+1,S);v&&n.push(v)}else n.push(`${d}uses -> ${u}`);return n.join(`
`)}let a=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${l(1,this)}`,`DONE, took ${r.toFixed(2)}ms (grand total ${i._totals.toFixed(2)}ms)`];(r>2||c)&&console.log(a.join(`
`))}}i._None=new class extends i{constructor(){super(-1,null)}stop(){}branch(){return this}},i._totals=0}),define(ee[585],te([0,1,10,4,2,555]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const b=/^(cursor|delete)/;class C extends T.Disposable{constructor(g,i,t,r,c){super();this._contextKeyService=g,this._commandService=i,this._telemetryService=t,this._notificationService=r,this._logService=c,this._onDidUpdateKeybindings=this._register(new N.Emitter),this._currentChord=null,this._currentChordChecker=new y.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=p.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new y.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:N.Event.None}dispose(){super.dispose()}_log(g){this._logging&&this._logService.info(`[KeybindingService]: ${g}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(g,i){const t=this._getResolver().lookupPrimaryKeybinding(g,i||this._contextKeyService);if(!!t)return t.resolvedKeybinding}dispatchEvent(g,i){return this._dispatch(g,i)}softDispatch(g,i){const t=this.resolveKeyboardEvent(g);if(t.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[r]=t.getDispatchParts();if(r===null)return null;const c=this._contextKeyService.getContext(i),l=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(c,l,r)}_enterChordMode(g,i){this._currentChord={keypress:g,label:i},this._currentChordStatusMessage=this._notificationService.status(I.localize(0,null,i));const t=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-t>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(g,i){return this._doDispatch(this.resolveKeyboardEvent(g),i,!1)}_singleModifierDispatch(g,i){const t=this.resolveKeyboardEvent(g),[r]=t.getSingleModifierDispatchParts();if(r)return this._ignoreSingleModifiers.has(r)?(this._log(`+ Ignoring single modifier ${r} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=p.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=p.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${r}.`),this._currentSingleModifier=r,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):r===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${r} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(t,i,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[c]=t.getParts();return this._ignoreSingleModifiers=new p(c),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(g,i,t=!1){let r=!1;if(g.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let c=null,l=null;if(t){const[n]=g.getSingleModifierDispatchParts();c=n,l=n}else[c]=g.getDispatchParts(),l=this._currentChord?this._currentChord.keypress:null;if(c===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),r;const a=this._contextKeyService.getContext(i),s=g.getLabel(),o=this._getResolver().resolve(a,l,c);return this._logService.trace("KeybindingService#dispatch",s,o==null?void 0:o.commandId),o&&o.enterChord?(r=!0,this._enterChordMode(c,s),r):(this._currentChord&&(!o||!o.commandId)&&(this._notificationService.status(I.localize(1,null,this._currentChord.label,s),{hideAfter:10*1e3}),r=!0),this._leaveChordMode(),o&&o.commandId&&(o.bubble||(r=!0),typeof o.commandArgs=="undefined"?this._commandService.executeCommand(o.commandId).then(void 0,n=>this._notificationService.warn(n)):this._commandService.executeCommand(o.commandId,o.commandArgs).then(void 0,n=>this._notificationService.warn(n)),b.test(o.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:o.commandId,from:"keybinding"})),r)}mightProducePrintableCharacter(g){return g.ctrlKey||g.metaKey?!1:g.keyCode>=31&&g.keyCode<=56||g.keyCode>=21&&g.keyCode<=30}}e.AbstractKeybindingService=C;class p{constructor(g){this._ctrlKey=g?g.ctrlKey:!1,this._shiftKey=g?g.shiftKey:!1,this._altKey=g?g.altKey:!1,this._metaKey=g?g.metaKey:!1}has(g){switch(g){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}p.EMPTY=new p(null)}),define(ee[586],te([0,1,13,188,95]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class I extends T.ResolvedKeybinding{constructor(C,p){super();if(p.length===0)throw(0,y.illegalArgument)("parts");this._os=C,this._parts=p}getLabel(){return N.UILabelProvider.toLabel(this._os,this._parts,C=>this._getLabel(C))}getAriaLabel(){return N.AriaLabelProvider.toLabel(this._os,this._parts,C=>this._getAriaLabel(C))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:N.ElectronAcceleratorLabelProvider.toLabel(this._os,this._parts,C=>this._getElectronAccelerator(C))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(C=>this._getPart(C))}_getPart(C){return new T.ResolvedKeybindingPart(C.ctrlKey,C.shiftKey,C.altKey,C.metaKey,this._getLabel(C),this._getAriaLabel(C))}getDispatchParts(){return this._parts.map(C=>this._getDispatchPart(C))}getSingleModifierDispatchParts(){return this._parts.map(C=>this._getSingleModifierDispatchPart(C))}}e.BaseResolvedKeybinding=I}),define(ee[41],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,y.createDecorator)("keybindingService")}),define(ee[266],te([0,1,16]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class N{constructor(C,p,h){this._log=h,this._defaultKeybindings=C,this._defaultBoundCommands=new Map;for(let g=0,i=C.length;g<i;g++){const t=C[g].command;t&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=N.combine(C,p);for(let g=0,i=this._keybindings.length;g<i;g++){let t=this._keybindings[g];t.keypressParts.length!==0&&(t.when&&t.when.type===0||this._addKeyPress(t.keypressParts[0],t))}}static _isTargetedForRemoval(C,p,h,g,i){return!(C.command!==g||p&&C.keypressParts[0]!==p||h&&C.keypressParts[1]!==h||i&&(!C.when||!(0,y.expressionsAreEqualWithConstantSubstitution)(i,C.when)))}static combine(C,p){C=C.slice(0);let h=[];for(const g of p){if(!g.command||g.command.length===0||g.command.charAt(0)!=="-"){h.push(g);continue}const i=g.command.substr(1),t=g.keypressParts[0],r=g.keypressParts[1],c=g.when;for(let l=C.length-1;l>=0;l--)this._isTargetedForRemoval(C[l],t,r,i,c)&&C.splice(l,1)}return C.concat(h)}_addKeyPress(C,p){const h=this._map.get(C);if(typeof h=="undefined"){this._map.set(C,[p]),this._addToLookupMap(p);return}for(let g=h.length-1;g>=0;g--){let i=h[g];if(i.command===p.command)continue;const t=i.keypressParts.length>1,r=p.keypressParts.length>1;t&&r&&i.keypressParts[1]!==p.keypressParts[1]||N.whenIsEntirelyIncluded(i.when,p.when)&&this._removeFromLookupMap(i)}h.push(p),this._addToLookupMap(p)}_addToLookupMap(C){if(!C.command)return;let p=this._lookupMap.get(C.command);typeof p=="undefined"?(p=[C],this._lookupMap.set(C.command,p)):p.push(C)}_removeFromLookupMap(C){if(!C.command)return;let p=this._lookupMap.get(C.command);if(typeof p!="undefined"){for(let h=0,g=p.length;h<g;h++)if(p[h]===C){p.splice(h,1);return}}}static whenIsEntirelyIncluded(C,p){return!p||p.type===1?!0:!C||C.type===1?!1:(0,y.implies)(C,p)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(C,p){const h=this._lookupMap.get(C);if(typeof h=="undefined"||h.length===0)return null;if(h.length===1)return h[0];for(let g=h.length-1;g>=0;g--){const i=h[g];if(p.contextMatchesRules(i.when))return i}return h[h.length-1]}resolve(C,p,h){this._log(`| Resolving ${h}${p?` chorded from ${p}`:""}`);let g=null;if(p!==null){const t=this._map.get(p);if(typeof t=="undefined")return this._log("\\ No keybinding entries."),null;g=[];for(let r=0,c=t.length;r<c;r++){let l=t[r];l.keypressParts[1]===h&&g.push(l)}}else{const t=this._map.get(h);if(typeof t=="undefined")return this._log("\\ No keybinding entries."),null;g=t}let i=this._findCommand(C,g);return i?p===null&&i.keypressParts.length>1&&i.keypressParts[1]!==null?(this._log(`\\ From ${g.length} keybinding entries, matched chord, when: ${T(i.when)}, source: ${I(i)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${g.length} keybinding entries, matched ${i.command}, when: ${T(i.when)}, source: ${I(i)}.`),{enterChord:!1,leaveChord:i.keypressParts.length>1,commandId:i.command,commandArgs:i.commandArgs,bubble:i.bubble}):(this._log(`\\ From ${g.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(C,p){for(let h=p.length-1;h>=0;h--){let g=p[h];if(!!N.contextMatchesRules(C,g.when))return g}return null}static contextMatchesRules(C,p){return p?p.evaluate(C):!0}}e.KeybindingResolver=N;function T(b){return b?`${b.serialize()}`:"no when condition"}function I(b){return b.extensionId?b.isBuiltinExtension?`built-in extension ${b.extensionId}`:`user extension ${b.extensionId}`:b.isDefault?"built-in":"user"}}),define(ee[587],te([0,1,4,55,2,47,553,26,35,16,266]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const i="data-keybinding-context";class t{constructor(v,m){this._id=v,this._parent=m,this._value=Object.create(null),this._value._contextId=v}setValue(v,m){return this._value[v]!==m?(this._value[v]=m,!0):!1}removeValue(v){return v in this._value?(delete this._value[v],!0):!1}getValue(v){const m=this._value[v];return typeof m=="undefined"&&this._parent?this._parent.getValue(v):m}}e.Context=t;class r extends t{constructor(){super(-1,null)}setValue(v,m){return!1}removeValue(v){return!1}getValue(v){}}r.INSTANCE=new r;class c extends t{constructor(v,m,_){super(v,null);this._configurationService=m,this._values=I.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(L=>{if(L.source===6){const w=Array.from(N.Iterable.map(this._values,([k])=>k));this._values.clear(),_.fire(new s(w))}else{const w=[];for(const k of L.affectedKeys){const D=`config.${k}`,M=this._values.findSuperstr(D);M!==void 0&&(w.push(...N.Iterable.map(M,([O])=>O)),this._values.deleteSuperstr(D)),this._values.has(D)&&(w.push(D),this._values.delete(D))}_.fire(new s(w))}})}dispose(){this._listener.dispose()}getValue(v){if(v.indexOf(c._keyPrefix)!==0)return super.getValue(v);if(this._values.has(v))return this._values.get(v);const m=v.substr(c._keyPrefix.length),_=this._configurationService.getValue(m);let L;switch(typeof _){case"number":case"boolean":case"string":L=_;break;default:Array.isArray(_)?L=JSON.stringify(_):L=_}return this._values.set(v,L),L}setValue(v,m){return super.setValue(v,m)}removeValue(v){return super.removeValue(v)}}c._keyPrefix="config.";class l{constructor(v,m,_){this._service=v,this._key=m,this._defaultValue=_,this.reset()}set(v){this._service.setContext(this._key,v)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class a{constructor(v){this.key=v}affectsSome(v){return v.has(this.key)}}class s{constructor(v){this.keys=v}affectsSome(v){for(const m of this.keys)if(v.has(m))return!0;return!1}}class o{constructor(v){this.events=v}affectsSome(v){for(const m of this.events)if(m.affectsSome(v))return!0;return!1}}class n{constructor(v){this._onDidChangeContext=new y.PauseableEmitter({merge:m=>new o(m)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=v}createKey(v,m){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new l(this,v,m)}bufferChangeEvents(v){this._onDidChangeContext.pause();try{v()}finally{this._onDidChangeContext.resume()}}createScoped(v){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new u(this,v)}contextMatchesRules(v){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const m=this.getContextValuesContainer(this._myContextId);return g.KeybindingResolver.contextMatchesRules(m,v)}getContextKeyValue(v){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(v)}setContext(v,m){if(this._isDisposed)return;const _=this.getContextValuesContainer(this._myContextId);!_||_.setValue(v,m)&&this._onDidChangeContext.fire(new a(v))}removeContext(v){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(v)&&this._onDidChangeContext.fire(new a(v))}getContext(v){return this._isDisposed?r.INSTANCE:this.getContextValuesContainer(f(v))}}e.AbstractContextKeyService=n;let d=class extends n{constructor(v){super(0);this._contexts=new Map,this._toDispose=new T.DisposableStore,this._lastContextId=0;const m=new c(this._myContextId,v,this._onDidChangeContext);this._contexts.set(this._myContextId,m),this._toDispose.add(m)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(v){return this._isDisposed?r.INSTANCE:this._contexts.get(v)||r.INSTANCE}createChildContext(v=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let m=++this._lastContextId;return this._contexts.set(m,new t(m,this.getContextValuesContainer(v))),m}disposeContext(v){this._isDisposed||this._contexts.delete(v)}};d=Be([Ce(0,p.IConfigurationService)],d),e.ContextKeyService=d;class u extends n{constructor(v,m){super(v.createChildContext());if(this._parentChangeListener=new T.MutableDisposable,this._parent=v,this._updateParentChangeListener(),this._domNode=m,this._domNode.hasAttribute(i)){let _="";this._domNode.classList&&(_=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${_?": "+_:""}`)}this._domNode.setAttribute(i,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(i),this._isDisposed=!0)}getContextValuesContainer(v){return this._isDisposed?r.INSTANCE:this._parent.getContextValuesContainer(v)}createChildContext(v=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(v)}disposeContext(v){this._isDisposed||this._parent.disposeContext(v)}}function f(S){for(;S;){if(S.hasAttribute(i)){const v=S.getAttribute(i);return v?parseInt(v,10):NaN}S=S.parentElement}return 0}C.CommandsRegistry.registerCommand(h.SET_CONTEXT_COMMAND_ID,function(S,v,m){S.get(h.IContextKeyService).createKey(String(v),m)}),C.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...h.RawContextKey.all()].sort((S,v)=>S.key.localeCompare(v.key))},description:{description:(0,b.localize)(0,null),args:[]}}),C.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const S=[],v=new Set;for(let m of h.RawContextKey.all())v.has(m.key)||(v.add(m.key),S.push(m));S.sort((m,_)=>m.key.localeCompare(_.key)),console.log(JSON.stringify(S,void 0,2))})}),define(ee[267],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class y{constructor(I,b,C,p,h,g,i){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=I,this.keypressParts=I?N(I.getDispatchParts()):[],I&&this.keypressParts.length===0&&(this.keypressParts=N(I.getSingleModifierDispatchParts())),this.bubble=b?b.charCodeAt(0)===94:!1,this.command=this.bubble?b.substr(1):b,this.commandArgs=C,this.when=p,this.isDefault=h,this.extensionId=g,this.isBuiltinExtension=i}}e.ResolvedKeybindingItem=y;function N(T){let I=[];for(let b=0,C=T.length;b<C;b++){const p=T[b];if(!p)return I;I.push(p)}return I}e.removeElementsAfterNulls=N}),define(ee[588],te([0,1,56,95,586,267]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class b extends T.BaseResolvedKeybinding{constructor(p,h){super(h,p.parts)}_keyCodeToUILabel(p){if(this._os===2)switch(p){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return y.KeyCodeUtils.toString(p)}_getLabel(p){return p.isDuplicateModifierCase()?"":this._keyCodeToUILabel(p.keyCode)}_getAriaLabel(p){return p.isDuplicateModifierCase()?"":y.KeyCodeUtils.toString(p.keyCode)}_getElectronAccelerator(p){return y.KeyCodeUtils.toElectronAccelerator(p.keyCode)}_getDispatchPart(p){return b.getDispatchStr(p)}static getDispatchStr(p){if(p.isModifierKey())return null;let h="";return p.ctrlKey&&(h+="ctrl+"),p.shiftKey&&(h+="shift+"),p.altKey&&(h+="alt+"),p.metaKey&&(h+="meta+"),h+=y.KeyCodeUtils.toString(p.keyCode),h}_getSingleModifierDispatchPart(p){return p.keyCode===5&&!p.shiftKey&&!p.altKey&&!p.metaKey?"ctrl":p.keyCode===4&&!p.ctrlKey&&!p.altKey&&!p.metaKey?"shift":p.keyCode===6&&!p.ctrlKey&&!p.shiftKey&&!p.metaKey?"alt":p.keyCode===57&&!p.ctrlKey&&!p.shiftKey&&!p.altKey?"meta":null}static _scanCodeToKeyCode(p){const h=y.IMMUTABLE_CODE_TO_KEY_CODE[p];if(h!==-1)return h;switch(p){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(p){if(!p)return null;if(p instanceof N.SimpleKeybinding)return p;const h=this._scanCodeToKeyCode(p.scanCode);return h===0?null:new N.SimpleKeybinding(p.ctrlKey,p.shiftKey,p.altKey,p.metaKey,h)}static resolveUserBinding(p,h){const g=(0,I.removeElementsAfterNulls)(p.map(i=>this._resolveSimpleUserBinding(i)));return g.length>0?[new b(new N.ChordKeybinding(g),h)]:[]}}e.USLayoutResolvedKeybinding=b}),define(ee[125],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,y.createDecorator)("labelService")}),define(ee[154],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,y.createDecorator)("layoutService")}),define(ee[589],te([0,1,215,2,154]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let I=class extends N.Disposable{constructor(C){super();this.layoutService=C,this.currentViewDisposable=N.Disposable.None,this.container=C.container,this.contextView=this._register(new y.ContextView(this.container,1)),this.layout(),this._register(C.onDidLayout(()=>this.layout()))}setContainer(C,p){this.contextView.setContainer(C,p||1)}showContextView(C,p,h){p?p!==this.container&&(this.container=p,this.setContainer(p,h?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(C);const g=(0,N.toDisposable)(()=>{this.currentViewDisposable===g&&this.hideContextView()});return this.currentViewDisposable=g,g}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(C){this.contextView.hide(C)}};I=Be([Ce(0,T.ILayoutService)],I),e.ContextViewService=I}),define(ee[74],te([0,1,4,2,9]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,T.createDecorator)("logService");var I;(function(h){h[h.Trace=0]="Trace",h[h.Debug=1]="Debug",h[h.Info=2]="Info",h[h.Warning=3]="Warning",h[h.Error=4]="Error",h[h.Critical=5]="Critical",h[h.Off=6]="Off"})(I=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=I.Info;class b extends N.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new y.Emitter)}setLevel(g){this.level!==g&&(this.level=g,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=b;class C extends b{constructor(g=e.DEFAULT_LOG_LEVEL){super();this.setLevel(g)}trace(g,...i){this.getLevel()<=I.Trace&&console.log("%cTRACE","color: #888",g,...i)}debug(g,...i){this.getLevel()<=I.Debug&&console.log("%cDEBUG","background: #eee; color: #888",g,...i)}info(g,...i){this.getLevel()<=I.Info&&console.log("%c INFO","color: #33f",g,...i)}error(g,...i){this.getLevel()<=I.Error&&console.log("%c  ERR","color: #f33",g,...i)}dispose(){}}e.ConsoleLogger=C;class p extends N.Disposable{constructor(g){super();this.logger=g,this._register(g)}getLevel(){return this.logger.getLevel()}trace(g,...i){this.logger.trace(g,...i)}debug(g,...i){this.logger.debug(g,...i)}info(g,...i){this.logger.info(g,...i)}error(g,...i){this.logger.error(g,...i)}}e.LogService=p}),define(ee[268],te([0,1,10,2,212,318,3,18,39,418,43,152,8,19,74,85,13]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerServiceImpl=void 0;const s=60*1e3,o=5*60*1e3;function n(L,w){let k=L.getModel(w);return!(!k||k.isTooLargeForSyncing())}let d=class extends N.Disposable{constructor(w,k,D){super();this._modelService=w,this._workerManager=this._register(new f(this._modelService)),this._logService=D,this._register(C.LinkProviderRegistry.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(M,O)=>n(this._modelService,M.uri)?this._workerManager.withWorker().then(F=>F.computeLinks(M.uri)).then(F=>F&&{links:F}):Promise.resolve({links:[]})})),this._register(C.CompletionProviderRegistry.register("*",new u(this._workerManager,k,this._modelService)))}dispose(){super.dispose()}canComputeUnicodeHighlights(w){return n(this._modelService,w)}computedUnicodeHighlights(w,k,D){return this._workerManager.withWorker().then(M=>M.computedUnicodeHighlights(w,k,D))}computeDiff(w,k,D,M){return this._workerManager.withWorker().then(O=>O.computeDiff(w,k,D,M))}computeMoreMinimalEdits(w,k){if((0,r.isNonEmptyArray)(k)){if(!n(this._modelService,w))return Promise.resolve(k);const D=l.StopWatch.create(!0),M=this._workerManager.withWorker().then(O=>O.computeMoreMinimalEdits(w,k));return M.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",w.toString(!0),D.elapsed())),Promise.race([M,(0,y.timeout)(1e3).then(()=>k)])}else return Promise.resolve(void 0)}canNavigateValueSet(w){return n(this._modelService,w)}navigateValueSet(w,k,D){return this._workerManager.withWorker().then(M=>M.navigateValueSet(w,k,D))}canComputeWordRanges(w){return n(this._modelService,w)}computeWordRanges(w,k){return this._workerManager.withWorker().then(D=>D.computeWordRanges(w,k))}};d=Be([Ce(0,g.IModelService),Ce(1,i.ITextResourceConfigurationService),Ce(2,c.ILogService)],d),e.EditorWorkerServiceImpl=d;class u{constructor(w,k,D){this._debugDisplayName="wordbasedCompletions",this._workerManager=w,this._configurationService=k,this._modelService=D}provideCompletionItems(w,k){return Ae(this,void 0,void 0,function*(){const D=this._configurationService.getValue(w.uri,k,"editor");if(!D.wordBasedSuggestions)return;const M=[];if(D.wordBasedSuggestionsMode==="currentDocument")n(this._modelService,w.uri)&&M.push(w.uri);else for(const B of this._modelService.getModels())!n(this._modelService,B.uri)||(B===w?M.unshift(B.uri):(D.wordBasedSuggestionsMode==="allDocuments"||B.getLanguageId()===w.getLanguageId())&&M.push(B.uri));if(M.length===0)return;const O=p.LanguageConfigurationRegistry.getWordDefinition(w.getLanguageId()),F=w.getWordAtPosition(k),R=F?new b.Range(k.lineNumber,F.startColumn,k.lineNumber,F.endColumn):b.Range.fromPositions(k),A=R.setEndPosition(k.lineNumber,k.column),E=yield(yield this._workerManager.withWorker()).textualSuggest(M,F==null?void 0:F.word,O);if(!!E)return{duration:E.duration,suggestions:E.words.map(B=>({kind:18,label:B,insertText:B,range:{insert:A,replace:R}}))}})}}class f extends N.Disposable{constructor(w){super();this._modelService=w,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new y.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(o/2)),this._register(this._modelService.onModelRemoved(D=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>o&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new _(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class S extends N.Disposable{constructor(w,k,D){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=w,this._modelService=k,!D){let M=new y.IntervalTimer;M.cancelAndSet(()=>this._checkStopModelSync(),Math.round(s/2)),this._register(M)}}dispose(){for(let w in this._syncedModels)(0,N.dispose)(this._syncedModels[w]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(w,k){for(const D of w){let M=D.toString();this._syncedModels[M]||this._beginModelSync(D,k),this._syncedModels[M]&&(this._syncedModelsLastUsedTime[M]=new Date().getTime())}}_checkStopModelSync(){let w=new Date().getTime(),k=[];for(let D in this._syncedModelsLastUsedTime)w-this._syncedModelsLastUsedTime[D]>s&&k.push(D);for(const D of k)this._stopModelSync(D)}_beginModelSync(w,k){let D=this._modelService.getModel(w);if(!D||!k&&D.isTooLargeForSyncing())return;let M=w.toString();this._proxy.acceptNewModel({url:D.uri.toString(),lines:D.getLinesContent(),EOL:D.getEOL(),versionId:D.getVersionId()});const O=new N.DisposableStore;O.add(D.onDidChangeContent(F=>{this._proxy.acceptModelChanged(M.toString(),F)})),O.add(D.onWillDispose(()=>{this._stopModelSync(M)})),O.add((0,N.toDisposable)(()=>{this._proxy.acceptRemovedModel(M)})),this._syncedModels[M]=O}_stopModelSync(w){let k=this._syncedModels[w];delete this._syncedModels[w],delete this._syncedModelsLastUsedTime[w],(0,N.dispose)(k)}}class v{constructor(w){this._instance=w,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class m{constructor(w){this._workerClient=w}fhr(w,k){return this._workerClient.fhr(w,k)}}e.EditorWorkerHost=m;class _ extends N.Disposable{constructor(w,k,D){super();this._disposed=!1,this._modelService=w,this._keepIdleModels=k,this._workerFactory=new I.DefaultWorkerFactory(D),this._worker=null,this._modelManager=null}fhr(w,k){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new T.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new m(this)))}catch(w){(0,T.logOnceWebWorkerWarning)(w),this._worker=new v(new h.EditorSimpleWorker(new m(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,w=>((0,T.logOnceWebWorkerWarning)(w),this._worker=new v(new h.EditorSimpleWorker(new m(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(w){return this._modelManager||(this._modelManager=this._register(new S(w,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(w,k=!1){return Ae(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,a.canceled)()):this._getProxy().then(D=>(this._getOrCreateModelManager(D).ensureSyncedResources(w,k),D))})}computedUnicodeHighlights(w,k,D){return this._withSyncedResources([w]).then(M=>M.computeUnicodeHighlights(w.toString(),k,D))}computeDiff(w,k,D,M){return this._withSyncedResources([w,k],!0).then(O=>O.computeDiff(w.toString(),k.toString(),D,M))}computeMoreMinimalEdits(w,k){return this._withSyncedResources([w]).then(D=>D.computeMoreMinimalEdits(w.toString(),k))}computeLinks(w){return this._withSyncedResources([w]).then(k=>k.computeLinks(w.toString()))}textualSuggest(w,k,D){return Ae(this,void 0,void 0,function*(){const M=yield this._withSyncedResources(w),O=D.source,F=(0,t.regExpFlags)(D);return M.textualSuggest(w.map(R=>R.toString()),k,O,F)})}computeWordRanges(w,k){return this._withSyncedResources([w]).then(D=>{let M=this._modelService.getModel(w);if(!M)return Promise.resolve(null);let O=p.LanguageConfigurationRegistry.getWordDefinition(M.getLanguageId()),F=O.source,R=(0,t.regExpFlags)(O);return D.computeWordRanges(w.toString(),k,F,R)})}navigateValueSet(w,k,D){return this._withSyncedResources([w]).then(M=>{let O=this._modelService.getModel(w);if(!O)return null;let F=p.LanguageConfigurationRegistry.getWordDefinition(O.getLanguageId()),R=F.source,A=(0,t.regExpFlags)(F);return M.navigateValueSet(w.toString(),k,D,R,A)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=_}),define(ee[590],te([0,1,268,20]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function T(b,C){return new I(b,C)}e.createWebWorker=T;class I extends y.EditorWorkerClient{constructor(C,p){super(C,p.keepIdleModels||!1,p.label);this._foreignModuleId=p.moduleId,this._foreignModuleCreateData=p.createData||null,this._foreignModuleHost=p.host||null,this._foreignProxy=null}fhr(C,p){if(!this._foreignModuleHost||typeof this._foreignModuleHost[C]!="function")return Promise.reject(new Error("Missing method "+C+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[C].apply(this._foreignModuleHost,p))}catch(h){return Promise.reject(h)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(C=>{const p=this._foreignModuleHost?N.getAllMethodNames(this._foreignModuleHost):[];return C.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,p).then(h=>{this._foreignModuleCreateData=null;const g=(r,c)=>C.fmr(r,c),i=(r,c)=>function(){const l=Array.prototype.slice.call(arguments,0);return c(r,l)};let t={};for(const r of h)t[r]=i(r,g);return t})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(C){return this._withSyncedResources(C).then(p=>this.getProxy())}}}),define(ee[92],te([0,1,79,557,9]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var I;(function(C){C[C.Hint=1]="Hint",C[C.Info=2]="Info",C[C.Warning=4]="Warning",C[C.Error=8]="Error"})(I=e.MarkerSeverity||(e.MarkerSeverity={})),function(C){function p(r,c){return c-r}C.compare=p;const h=Object.create(null);h[C.Error]=(0,N.localize)(0,null),h[C.Warning]=(0,N.localize)(1,null),h[C.Info]=(0,N.localize)(2,null);function g(r){return h[r]||""}C.toString=g;function i(r){switch(r){case y.default.Error:return C.Error;case y.default.Warning:return C.Warning;case y.default.Info:return C.Info;case y.default.Ignore:return C.Hint}}C.fromSeverity=i;function t(r){switch(r){case C.Error:return y.default.Error;case C.Warning:return y.default.Warning;case C.Info:return y.default.Info;case C.Hint:return y.default.Ignore}}C.toSeverity=t}(I=e.MarkerSeverity||(e.MarkerSeverity={}));var b;(function(C){const p="";function h(i){return g(i,!0)}C.makeKey=h;function g(i,t){let r=[p];return i.source?r.push(i.source.replace("\xA6","\\\xA6")):r.push(p),i.code?typeof i.code=="string"?r.push(i.code.replace("\xA6","\\\xA6")):r.push(i.code.value.replace("\xA6","\\\xA6")):r.push(p),i.severity!==void 0&&i.severity!==null?r.push(I.toString(i.severity)):r.push(p),i.message&&t?r.push(i.message.replace("\xA6","\\\xA6")):r.push(p),i.startLineNumber!==void 0&&i.startLineNumber!==null?r.push(i.startLineNumber.toString()):r.push(p),i.startColumn!==void 0&&i.startColumn!==null?r.push(i.startColumn.toString()):r.push(p),i.endLineNumber!==void 0&&i.endLineNumber!==null?r.push(i.endLineNumber.toString()):r.push(p),i.endColumn!==void 0&&i.endColumn!==null?r.push(i.endColumn.toString()):r.push(p),r.push(p),r.join("\xA6")}C.makeKeyOptionalMessage=g})(b=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,T.createDecorator)("markerService")}),define(ee[591],te([0,1,19,4,2,77,8,25,3,71,9,92,35]),function(q,e,y,N,T,I,b,C,p,h,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class r{constructor(s,o,n){this.marker=s,this.index=o,this.total=n}}e.MarkerCoordinate=r;let c=class{constructor(s,o,n){this._markerService=o,this._configService=n,this._onDidChange=new N.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new T.DisposableStore,this._markers=[],this._nextIdx=-1,C.URI.isUri(s)?this._resourceFilter=S=>S.toString()===s.toString():s&&(this._resourceFilter=s);const d=this._configService.getValue("problems.sortOrder"),u=(S,v)=>{let m=(0,b.compare)(S.resource.toString(),v.resource.toString());return d==="position"?m=p.Range.compareRangesUsingStarts(S,v)||i.MarkerSeverity.compare(S.severity,v.severity):m=i.MarkerSeverity.compare(S.severity,v.severity)||p.Range.compareRangesUsingStarts(S,v),m},f=()=>{this._markers=this._markerService.read({resource:C.URI.isUri(s)?s:void 0,severities:i.MarkerSeverity.Error|i.MarkerSeverity.Warning|i.MarkerSeverity.Info}),typeof s=="function"&&(this._markers=this._markers.filter(S=>this._resourceFilter(S.resource))),this._markers.sort(u)};f(),this._dispoables.add(o.onMarkerChanged(S=>{(!this._resourceFilter||S.some(v=>this._resourceFilter(v)))&&(f(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(s){return!this._resourceFilter&&!s?!0:!this._resourceFilter||!s?!1:this._resourceFilter(s)}get selected(){const s=this._markers[this._nextIdx];return s&&new r(s,this._nextIdx+1,this._markers.length)}_initIdx(s,o,n){let d=!1,u=this._markers.findIndex(f=>f.resource.toString()===s.uri.toString());u<0&&(u=(0,y.binarySearch)(this._markers,{resource:s.uri},(f,S)=>(0,b.compare)(f.resource.toString(),S.resource.toString())),u<0&&(u=~u));for(let f=u;f<this._markers.length;f++){let S=p.Range.lift(this._markers[f]);if(S.isEmpty()){const v=s.getWordAtPosition(S.getStartPosition());v&&(S=new p.Range(S.startLineNumber,v.startColumn,S.startLineNumber,v.endColumn))}if(o&&(S.containsPosition(o)||o.isBeforeOrEqual(S.getStartPosition()))){this._nextIdx=f,d=!0;break}if(this._markers[f].resource.toString()!==s.uri.toString())break}d||(this._nextIdx=n?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(s,o,n){if(this._markers.length===0)return!1;let d=this._nextIdx;return this._nextIdx===-1?this._initIdx(o,n,s):s?this._nextIdx=(this._nextIdx+1)%this._markers.length:s||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),d!==this._nextIdx}find(s,o){let n=this._markers.findIndex(d=>d.resource.toString()===s.toString());if(!(n<0)){for(;n<this._markers.length;n++)if(p.Range.containsPosition(this._markers[n],o))return new r(this._markers[n],n+1,this._markers.length)}}};c=Be([Ce(1,i.IMarkerService),Ce(2,t.IConfigurationService)],c),e.MarkerList=c,e.IMarkerNavigationService=(0,g.createDecorator)("IMarkerNavigationService");let l=class{constructor(s,o){this._markerService=s,this._configService=o,this._provider=new I.LinkedList}getMarkerList(s){for(let o of this._provider){const n=o.getMarkerList(s);if(n)return n}return new c(s,this._markerService,this._configService)}};l=Be([Ce(0,i.IMarkerService),Ce(1,t.IConfigurationService)],l),(0,h.registerSingleton)(e.IMarkerNavigationService,l,!0)}),define(ee[592],te([0,1,19,4,55,47,48,25,92]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class h{constructor(){this._byResource=new I.ResourceMap,this._byOwner=new Map}set(r,c,l){let a=this._byResource.get(r);a||(a=new Map,this._byResource.set(r,a)),a.set(c,l);let s=this._byOwner.get(c);s||(s=new I.ResourceMap,this._byOwner.set(c,s)),s.set(r,l)}get(r,c){let l=this._byResource.get(r);return l==null?void 0:l.get(c)}delete(r,c){let l=!1,a=!1,s=this._byResource.get(r);s&&(l=s.delete(c));let o=this._byOwner.get(c);if(o&&(a=o.delete(r)),l!==a)throw new Error("illegal state");return l&&a}values(r){var c,l,a,s;return typeof r=="string"?(l=(c=this._byOwner.get(r))===null||c===void 0?void 0:c.values())!==null&&l!==void 0?l:T.Iterable.empty():C.URI.isUri(r)?(s=(a=this._byResource.get(r))===null||a===void 0?void 0:a.values())!==null&&s!==void 0?s:T.Iterable.empty():T.Iterable.map(T.Iterable.concat(...this._byOwner.values()),o=>o[1])}}class g{constructor(r){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new I.ResourceMap,this._service=r,this._subscription=r.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(r){for(const c of r){const l=this._data.get(c);l&&this._substract(l);const a=this._resourceStats(c);this._add(a),this._data.set(c,a)}}_resourceStats(r){const c={errors:0,warnings:0,infos:0,unknowns:0};if(r.scheme===b.Schemas.inMemory||r.scheme===b.Schemas.walkThrough||r.scheme===b.Schemas.walkThroughSnippet)return c;for(const{severity:l}of this._service.read({resource:r}))l===p.MarkerSeverity.Error?c.errors+=1:l===p.MarkerSeverity.Warning?c.warnings+=1:l===p.MarkerSeverity.Info?c.infos+=1:c.unknowns+=1;return c}_substract(r){this.errors-=r.errors,this.warnings-=r.warnings,this.infos-=r.infos,this.unknowns-=r.unknowns}_add(r){this.errors+=r.errors,this.warnings+=r.warnings,this.infos+=r.infos,this.unknowns+=r.unknowns}}class i{constructor(){this._onMarkerChanged=new N.DebounceEmitter({delay:0,merge:i._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new h,this._stats=new g(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(r,c){for(const l of c||[])this.changeOne(r,l,[])}changeOne(r,c,l){if((0,y.isFalsyOrEmpty)(l))this._data.delete(c,r)&&this._onMarkerChanged.fire([c]);else{const a=[];for(const s of l){const o=i._toMarker(r,c,s);o&&a.push(o)}this._data.set(c,r,a),this._onMarkerChanged.fire([c])}}static _toMarker(r,c,l){let{code:a,severity:s,message:o,source:n,startLineNumber:d,startColumn:u,endLineNumber:f,endColumn:S,relatedInformation:v,tags:m}=l;if(!!o)return d=d>0?d:1,u=u>0?u:1,f=f>=d?f:d,S=S>0?S:u,{resource:c,owner:r,code:a,severity:s,message:o,source:n,startLineNumber:d,startColumn:u,endLineNumber:f,endColumn:S,relatedInformation:v,tags:m}}read(r=Object.create(null)){let{owner:c,resource:l,severities:a,take:s}=r;if((!s||s<0)&&(s=-1),c&&l){const o=this._data.get(l,c);if(o){const n=[];for(const d of o)if(i._accept(d,a)){const u=n.push(d);if(s>0&&u===s)break}return n}else return[]}else if(!c&&!l){const o=[];for(let n of this._data.values())for(let d of n)if(i._accept(d,a)){const u=o.push(d);if(s>0&&u===s)return o}return o}else{const o=this._data.values(l??c),n=[];for(const d of o)for(const u of d)if(i._accept(u,a)){const f=n.push(u);if(s>0&&f===s)return n}return n}}static _accept(r,c){return c===void 0||(c&r.severity)===r.severity}static _merge(r){const c=new I.ResourceMap;for(let l of r)for(let a of l)c.set(a,!0);return Array.from(c.keys())}}e.MarkerService=i}),define(ee[40],te([0,1,79,9]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=y.default,e.INotificationService=(0,N.createDecorator)("notificationService");class T{}e.NoOpNotification=T}),define(ee[53],te([0,1,2,8,25,9]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesSomeScheme=e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=(0,I.createDecorator)("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return y.Disposable.None},registerValidator(){return y.Disposable.None},registerExternalUriResolver(){return y.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return y.Disposable.None},open(){return Ae(this,void 0,void 0,function*(){return!1})},resolveExternalUri(p){return Ae(this,void 0,void 0,function*(){return{resolved:p,dispose(){}}})}});function b(p,h){return T.URI.isUri(p)?(0,N.equalsIgnoreCase)(p.scheme,h):(0,N.startsWithIgnoreCase)(p,h+":")}e.matchesScheme=b;function C(p,...h){return h.some(g=>b(p,g))}e.matchesSomeScheme=C}),define(ee[593],te([0,1,7,23,77,47,209,48,42,25,28,26,566,53]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let c=class{constructor(o){this._commandService=o}open(o,n){return Ae(this,void 0,void 0,function*(){if(!(0,r.matchesScheme)(o,C.Schemas.command))return!1;if(!(n==null?void 0:n.allowCommands))return!0;typeof o=="string"&&(o=h.URI.parse(o));let d=[];try{d=(0,b.parse)(decodeURIComponent(o.query))}catch(u){try{d=(0,b.parse)(o.query)}catch(f){}}return Array.isArray(d)||(d=[d]),yield this._commandService.executeCommand(o.path,...d),!0})}};c=Be([Ce(0,i.ICommandService)],c);let l=class{constructor(o){this._editorService=o}open(o,n){return Ae(this,void 0,void 0,function*(){typeof o=="string"&&(o=h.URI.parse(o));let d;const u=/^L?(\d+)(?:,(\d+))?/.exec(o.fragment);return u&&(d={startLineNumber:parseInt(u[1]),startColumn:u[2]?parseInt(u[2]):1},o=o.with({fragment:""})),o.scheme===C.Schemas.file&&(o=(0,p.normalizePath)(o)),yield this._editorService.openCodeEditor({resource:o,options:Object.assign({selection:d,context:(n==null?void 0:n.fromUserGesture)?t.EditorOpenContext.USER:t.EditorOpenContext.API},n==null?void 0:n.editorOptions)},this._editorService.getFocusedCodeEditor(),n==null?void 0:n.openToSide),!0})}};l=Be([Ce(0,g.ICodeEditorService)],l);let a=class{constructor(o,n){this._openers=new T.LinkedList,this._validators=new T.LinkedList,this._resolvers=new T.LinkedList,this._resolvedUriTargets=new I.ResourceMap(d=>d.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new T.LinkedList,this._defaultExternalOpener={openExternal:d=>Ae(this,void 0,void 0,function*(){return(0,r.matchesSomeScheme)(d,C.Schemas.http,C.Schemas.https)?y.windowOpenNoOpener(d):window.location.href=d,!0})},this._openers.push({open:(d,u)=>Ae(this,void 0,void 0,function*(){return(u==null?void 0:u.openExternal)||(0,r.matchesSomeScheme)(d,C.Schemas.mailto,C.Schemas.http,C.Schemas.https,C.Schemas.vsls)?(yield this._doOpenExternal(d,u),!0):!1})}),this._openers.push(new c(n)),this._openers.push(new l(o))}registerOpener(o){return{dispose:this._openers.unshift(o)}}registerValidator(o){return{dispose:this._validators.push(o)}}registerExternalUriResolver(o){return{dispose:this._resolvers.push(o)}}setDefaultExternalOpener(o){this._defaultExternalOpener=o}registerExternalOpener(o){return{dispose:this._externalOpeners.push(o)}}open(o,n){var d;return Ae(this,void 0,void 0,function*(){const u=typeof o=="string"?h.URI.parse(o):o,f=(d=this._resolvedUriTargets.get(u))!==null&&d!==void 0?d:o;for(const S of this._validators)if(!(yield S.shouldOpen(f)))return!1;for(const S of this._openers)if(yield S.open(o,n))return!0;return!1})}resolveExternalUri(o,n){return Ae(this,void 0,void 0,function*(){for(const d of this._resolvers)try{const u=yield d.resolveExternalUri(o,n);if(u)return this._resolvedUriTargets.has(u.resolved)||this._resolvedUriTargets.set(u.resolved,o),u}catch(u){}throw new Error("Could not resolve external URI: "+o.toString())})}_doOpenExternal(o,n){return Ae(this,void 0,void 0,function*(){const d=typeof o=="string"?h.URI.parse(o):o;let u;try{u=(yield this.resolveExternalUri(d,n)).resolved}catch(S){u=d}let f;if(typeof o=="string"&&d.toString()===u.toString()?f=o:f=encodeURI(u.toString(!0)),n==null?void 0:n.allowContributedOpeners){const S=typeof(n==null?void 0:n.allowContributedOpeners)=="string"?n==null?void 0:n.allowContributedOpeners:void 0;for(const v of this._externalOpeners)if(yield v.openExternal(f,{sourceUri:d,preferredOpenerId:S},N.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(f,{sourceUri:d},N.CancellationToken.None)})}dispose(){this._validators.clear()}};a=Be([Ce(0,g.ICodeEditorService),Ce(1,i.ICommandService)],a),e.OpenerService=a}),define(ee[61],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=void 0,e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class N{constructor(I){this.callback=I}report(I){this._value=I,this.callback(this._value)}}e.Progress=N,N.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,y.createDecorator)("editorProgressService")}),define(ee[594],te([0,1,10,23,2]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var I;(function(h){h[h.NO_ACTION=0]="NO_ACTION",h[h.CLOSE_PICKER=1]="CLOSE_PICKER",h[h.REFRESH_PICKER=2]="REFRESH_PICKER",h[h.REMOVE_ITEM=3]="REMOVE_ITEM"})(I=e.TriggerAction||(e.TriggerAction={}));function b(h){const g=h;return Array.isArray(g.items)}function C(h){const g=h;return!!g.picks&&g.additionalPicks instanceof Promise}class p extends T.Disposable{constructor(g,i){super();this.prefix=g,this.options=i}provide(g,i){var t;const r=new T.DisposableStore;g.canAcceptInBackground=!!((t=this.options)===null||t===void 0?void 0:t.canAcceptInBackground),g.matchOnLabel=g.matchOnDescription=g.matchOnDetail=g.sortByLabel=!1;let c;const l=r.add(new T.MutableDisposable),a=()=>Ae(this,void 0,void 0,function*(){const s=l.value=new T.DisposableStore;c==null||c.dispose(!0),g.busy=!1,c=new N.CancellationTokenSource(i);const o=c.token,n=g.value.substr(this.prefix.length).trim(),d=this._getPicks(n,s,o),u=(f,S)=>{var v;let m,_;if(b(f)?(m=f.items,_=f.active):m=f,m.length===0){if(S)return!1;n.length>0&&((v=this.options)===null||v===void 0?void 0:v.noResultsPick)&&(m=[this.options.noResultsPick])}return g.items=m,_&&(g.activeItems=[_]),!0};if(d!==null)if(C(d)){let f=!1,S=!1;yield Promise.all([(()=>Ae(this,void 0,void 0,function*(){yield(0,y.timeout)(p.FAST_PICKS_RACE_DELAY),!o.isCancellationRequested&&(S||(f=u(d.picks,!0)))}))(),(()=>Ae(this,void 0,void 0,function*(){g.busy=!0;try{const v=yield d.additionalPicks;if(o.isCancellationRequested)return;let m,_;b(d.picks)?(m=d.picks.items,_=d.picks.active):m=d.picks;let L,w;if(b(v)?(L=v.items,w=v.active):L=v,L.length>0||!f){let k;if(!_&&!w){const D=g.activeItems[0];D&&m.indexOf(D)!==-1&&(k=D)}u({items:[...m,...L],active:_||w||k})}}finally{o.isCancellationRequested||(g.busy=!1),S=!0}}))()])}else if(!(d instanceof Promise))u(d);else{g.busy=!0;try{const f=yield d;if(o.isCancellationRequested)return;u(f)}finally{o.isCancellationRequested||(g.busy=!1)}}});return r.add(g.onDidChangeValue(()=>a())),a(),r.add(g.onDidAccept(s=>{const[o]=g.selectedItems;typeof(o==null?void 0:o.accept)=="function"&&(s.inBackground||g.hide(),o.accept(g.keyMods,s))})),r.add(g.onDidTriggerItemButton(({button:s,item:o})=>Ae(this,void 0,void 0,function*(){var n,d;if(typeof o.trigger=="function"){const u=(d=(n=o.buttons)===null||n===void 0?void 0:n.indexOf(s))!==null&&d!==void 0?d:-1;if(u>=0){const f=o.trigger(u,g.keyMods),S=typeof f=="number"?f:yield f;if(i.isCancellationRequested)return;switch(S){case I.NO_ACTION:break;case I.CLOSE_PICKER:g.hide();break;case I.REFRESH_PICKER:a();break;case I.REMOVE_ITEM:const v=g.items.indexOf(o);if(v!==-1){const m=g.items.slice(),_=m.splice(v,1),L=g.activeItems.filter(k=>k!==_[0]),w=g.keepScrollPosition;g.keepScrollPosition=!0,g.items=m,L&&(g.activeItems=L),g.keepScrollPosition=w}break}}}}))),r}}e.PickerQuickAccessProvider=p,p.FAST_PICKS_RACE_DELAY=200});var Kt=this&&this.__createBinding||(Object.create?function(q,e,y,N){N===void 0&&(N=y),Object.defineProperty(q,N,{enumerable:!0,get:function(){return e[y]}})}:function(q,e,y,N){N===void 0&&(N=y),q[N]=e[y]}),jt=this&&this.__exportStar||function(q,e){for(var y in q)y!=="default"&&!Object.prototype.hasOwnProperty.call(e,y)&&Kt(e,q,y)};define(ee[75],te([0,1,9,213]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,jt(N,e),e.IQuickInputService=(0,y.createDecorator)("quickInputService")}),define(ee[33],te([0,1,206,20]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class T{constructor(){this.data=new Map}add(b,C){y.ok(N.isString(b)),y.ok(N.isObject(C)),y.ok(!this.data.has(b),"There is already an extension with this id"),this.data.set(b,C)}as(b){return this.data.get(b)||null}}e.Registry=new T}),define(ee[191],te([0,1,4,33]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function T(C){return C.length>0&&C.charAt(C.length-1)==="#"?C.substring(0,C.length-1):C}class I{constructor(){this._onDidChangeSchema=new y.Emitter,this.schemasById={}}registerSchema(p,h){this.schemasById[T(p)]=h,this._onDidChangeSchema.fire(p)}notifySchemaChanged(p){this._onDidChangeSchema.fire(p)}}const b=new I;N.Registry.add(e.Extensions.JSONContribution,b)}),define(ee[100],te([0,1,19,4,20,552,191,33]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const p=C.Registry.as(b.Extensions.JSONContribution);class h{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new N.Emitter,this._onDidUpdateConfiguration=new N.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:I.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},p.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(s,o=!0){this.registerConfigurations([s],o)}registerConfigurations(s,o=!0){const n=this.doRegisterConfigurations(s,o);p.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n})}registerDefaultConfigurations(s){var o;const n=[],d=[];for(const{overrides:u,source:f}of s)for(const S in u)if(n.push(S),e.OVERRIDE_PROPERTY_REGEX.test(S)){const v=Object.assign(Object.assign({},((o=this.configurationDefaultsOverrides.get(S))===null||o===void 0?void 0:o.value)||{}),u[S]);this.configurationDefaultsOverrides.set(S,{source:f,value:v});const m={type:"object",default:v,description:I.localize(1,null,S),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:v,source:T.isString(f)?void 0:f};d.push(...t(S)),this.configurationProperties[S]=m,this.defaultLanguageConfigurationOverridesNode.properties[S]=m}else{this.configurationDefaultsOverrides.set(S,{value:u[S],source:f});const v=this.configurationProperties[S];v&&(this.updatePropertyDefaultValue(S,v),this.updateSchema(S,v))}this.registerOverrideIdentifiers(d),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n,defaultsOverrides:!0})}registerOverrideIdentifiers(s){for(const o of s)this.overrideIdentifiers.add(o);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(s,o){const n=[];return s.forEach(d=>{n.push(...this.validateAndRegisterProperties(d,o,d.extensionInfo,d.restrictedProperties)),this.configurationContributors.push(d),this.registerJSONConfiguration(d)}),n}validateAndRegisterProperties(s,o=!0,n,d,u=3){u=T.isUndefinedOrNull(s.scope)?u:s.scope;let f=[],S=s.properties;if(S)for(let m in S){if(o&&l(m)){delete S[m];continue}const _=S[m];if(_.source=n,_.defaultDefaultValue=S[m].default,this.updatePropertyDefaultValue(m,_),e.OVERRIDE_PROPERTY_REGEX.test(m)?_.scope=void 0:(_.scope=T.isUndefinedOrNull(_.scope)?u:_.scope,_.restricted=T.isUndefinedOrNull(_.restricted)?!!(d==null?void 0:d.includes(m)):_.restricted),S[m].hasOwnProperty("included")&&!S[m].included){this.excludedConfigurationProperties[m]=S[m],delete S[m];continue}else this.configurationProperties[m]=S[m];!S[m].deprecationMessage&&S[m].markdownDeprecationMessage&&(S[m].deprecationMessage=S[m].markdownDeprecationMessage),f.push(m)}let v=s.allOf;if(v)for(let m of v)f.push(...this.validateAndRegisterProperties(m,o,n,d,u));return f}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(s){const o=n=>{let d=n.properties;if(d)for(const f in d)this.updateSchema(f,d[f]);let u=n.allOf;u&&u.forEach(o)};o(s)}updateSchema(s,o){switch(e.allSettings.properties[s]=o,o.scope){case 1:e.applicationSettings.properties[s]=o;break;case 2:e.machineSettings.properties[s]=o;break;case 6:e.machineOverridableSettings.properties[s]=o;break;case 3:e.windowSettings.properties[s]=o;break;case 4:e.resourceSettings.properties[s]=o;break;case 5:e.resourceSettings.properties[s]=o,this.resourceLanguageSettingsSchema.properties[s]=o;break}}updateOverridePropertyPatternKey(){for(const s of this.overrideIdentifiers.values()){const o=`[${s}]`,n={type:"object",description:I.localize(2,null),errorMessage:I.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(o,n),e.allSettings.properties[o]=n,e.applicationSettings.properties[o]=n,e.machineSettings.properties[o]=n,e.machineOverridableSettings.properties[o]=n,e.windowSettings.properties[o]=n,e.resourceSettings.properties[o]=n}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const s={type:"object",description:I.localize(4,null),errorMessage:I.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(s,o){const n=this.configurationDefaultsOverrides.get(s);let d=n==null?void 0:n.value,u=n==null?void 0:n.source;T.isUndefined(d)&&(d=o.defaultDefaultValue,u=void 0),T.isUndefined(d)&&(d=r(o.type)),o.default=d,o.defaultValueSource=u}}const g="\\[([^\\]]+)\\]",i=new RegExp(g,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${g})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function t(a){const s=[];if(e.OVERRIDE_PROPERTY_REGEX.test(a)){let o=i.exec(a);for(;o==null?void 0:o.length;){const n=o[1].trim();n&&s.push(n),o=i.exec(a)}}return(0,y.distinct)(s)}e.overrideIdentifiersFromKey=t;function r(a){switch(Array.isArray(a)?a[0]:a){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=r;const c=new h;C.Registry.add(e.Extensions.Configuration,c);function l(a){return a.trim()?e.OVERRIDE_PROPERTY_REGEX.test(a)?I.localize(7,null,a):c.getConfigurationProperties()[a]!==void 0?I.localize(8,null,a):null:I.localize(6,null)}e.validateProperty=l}),define(ee[192],te([0,1,479,4,2,37,19,30,140,174,100,33,207]),function(q,e,y,N,T,I,b,C,p,h,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=e.CommonEditorConfiguration=e.ComputedEditorOptions=e.TabFocus=void 0,e.TabFocus=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new N.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(L){this._tabFocus!==L&&(this._tabFocus=L,this._onDidChangeTabFocus.fire(this._tabFocus))}};const r=Object.hasOwnProperty;class c{constructor(){this._values=[]}_read(w){return this._values[w]}get(w){return this._values[w]}_write(w,k){this._values[w]=k}}e.ComputedEditorOptions=c;class l{constructor(){this._values=[]}_read(w){return this._values[w]}_write(w,k){this._values[w]=k}}class a{static readOptions(w){const k=w,D=new l;for(const M of C.editorOptionsRegistry){const O=M.name==="_never_"?void 0:k[M.name];D._write(M.id,O)}return D}static validateOptions(w){const k=new C.ValidatedEditorOptions;for(const D of C.editorOptionsRegistry)k._write(D.id,D.validate(w._read(D.id)));return k}static computeOptions(w,k){const D=new c;for(const M of C.editorOptionsRegistry)D._write(M.id,M.compute(k,D,w._read(M.id)));return D}static _deepEquals(w,k){if(typeof w!="object"||typeof k!="object"||!w||!k)return w===k;if(Array.isArray(w)||Array.isArray(k))return Array.isArray(w)&&Array.isArray(k)?b.equals(w,k):!1;if(Object.keys(w).length!==Object.keys(k).length)return!1;for(let D in w)if(!a._deepEquals(w[D],k[D]))return!1;return!0}static checkEquals(w,k){const D=[];let M=!1;for(const O of C.editorOptionsRegistry){const F=!a._deepEquals(w._read(O.id),k._read(O.id));D[O.id]=F,F&&(M=!0)}return M?new C.ConfigurationChangedEvent(D):null}static applyUpdate(w,k){let D=!1;for(const M of C.editorOptionsRegistry)if(k.hasOwnProperty(M.name)){const O=M.applyUpdate(w[M.name],k[M.name]);w[M.name]=O.newValue,D=D||O.didChange}return D}}function s(L){const w=L.wordWrap;w===!0?L.wordWrap="on":w===!1&&(L.wordWrap="off");const k=L.lineNumbers;k===!0?L.lineNumbers="on":k===!1&&(L.lineNumbers="off"),L.autoClosingBrackets===!1&&(L.autoClosingBrackets="never",L.autoClosingQuotes="never",L.autoSurround="never"),L.cursorBlinking==="visible"&&(L.cursorBlinking="solid");const O=L.renderWhitespace;O===!0?L.renderWhitespace="boundary":O===!1&&(L.renderWhitespace="none");const F=L.renderLineHighlight;F===!0?L.renderLineHighlight="line":F===!1&&(L.renderLineHighlight="none");const R=L.acceptSuggestionOnEnter;R===!0?L.acceptSuggestionOnEnter="on":R===!1&&(L.acceptSuggestionOnEnter="off");const A=L.tabCompletion;A===!1?L.tabCompletion="off":A===!0&&(L.tabCompletion="onlySnippets");const P=L.suggest;if(P&&typeof P.filteredTypes=="object"&&P.filteredTypes){const J={};J.method="showMethods",J.function="showFunctions",J.constructor="showConstructors",J.deprecated="showDeprecated",J.field="showFields",J.variable="showVariables",J.class="showClasses",J.struct="showStructs",J.interface="showInterfaces",J.module="showModules",J.property="showProperties",J.event="showEvents",J.operator="showOperators",J.unit="showUnits",J.value="showValues",J.constant="showConstants",J.enum="showEnums",J.enumMember="showEnumMembers",J.keyword="showKeywords",J.text="showWords",J.color="showColors",J.file="showFiles",J.reference="showReferences",J.folder="showFolders",J.typeParameter="showTypeParameters",J.snippet="showSnippets",(0,t.forEach)(J,Z=>{const ie=P.filteredTypes[Z.key];ie===!1&&(P[Z.value]=ie)})}const E=L.hover;E===!0?L.hover={enabled:!0}:E===!1&&(L.hover={enabled:!1});const B=L.parameterHints;B===!0?L.parameterHints={enabled:!0}:B===!1&&(L.parameterHints={enabled:!1});const V=L.autoIndent;V===!0?L.autoIndent="full":V===!1&&(L.autoIndent="advanced");const j=L.matchBrackets;j===!0?L.matchBrackets="always":j===!1&&(L.matchBrackets="never");const{renderIndentGuides:K,highlightActiveIndentGuide:Y}=L;L.guides||(L.guides={}),K!==void 0&&(L.guides.indentation=!!K),Y!==void 0&&(L.guides.highlightActiveIndentation=!!Y)}function o(L){const w=I.deepClone(L);return s(w),w}class n extends T.Disposable{constructor(w,k){super();this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new N.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._reservedHeight=0,this.isSimpleWidget=w,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new C.ComputeOptionsMemory,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=o(k),this._readOptions=a.readOptions(this._rawOptions),this._validatedOptions=a.validateOptions(this._readOptions),this._register(p.EditorZoom.onDidChangeZoomLevel(D=>this._recomputeOptions())),this._register(e.TabFocus.onDidChangeTabFocus(D=>this._recomputeOptions()))}observeReferenceElement(w){}updatePixelRatio(){}_recomputeOptions(){const w=this.options,k=this._computeInternalOptions();if(!w)this.options=k;else{const D=a.checkEquals(w,k);if(D===null)return;this.options=k,this._onDidChangeFast.fire(D),this._onDidChange.fire(D)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const w=this._getEnvConfiguration(),k=h.BareFontInfo.createFromValidatedSettings(this._validatedOptions,w.zoomLevel,w.pixelRatio,this.isSimpleWidget),D={memory:this._computeOptionsMemory,outerWidth:w.outerWidth,outerHeight:w.outerHeight-this._reservedHeight,fontInfo:this.readConfiguration(k),extraEditorClassName:w.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:w.emptySelectionClipboard,pixelRatio:w.pixelRatio,tabFocusMode:e.TabFocus.getTabFocusMode(),accessibilitySupport:w.accessibilitySupport};return a.computeOptions(this._validatedOptions,D)}updateOptions(w){if(typeof w=="undefined")return;const k=o(w);!a.applyUpdate(this._rawOptions,k)||(this._readOptions=a.readOptions(this._rawOptions),this._validatedOptions=a.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(w){this._isDominatedByLongLines=w,this._recomputeOptions()}setMaxLineNumber(w){const k=n._digitCount(w);this._lineNumbersDigitCount!==k&&(this._lineNumbersDigitCount=k,this._recomputeOptions())}setViewLineCount(w){this._viewLineCount!==w&&(this._viewLineCount=w,this._recomputeOptions())}static _digitCount(w){let k=0;for(;w;)w=Math.floor(w/10),k++;return k||1}reserveHeight(w){this._reservedHeight=w,this._recomputeOptions()}}e.CommonEditorConfiguration=n,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:y.localize(0,null),scope:5});const d=i.Registry.as(g.Extensions.Configuration),u=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:C.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:y.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:C.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:y.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:C.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:y.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:C.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:y.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:C.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:y.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:y.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[y.localize(7,null),y.localize(8,null),y.localize(9,null)],description:y.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[y.localize(11,null),y.localize(12,null),y.localize(13,null)],default:"configuredByTheme",description:y.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:y.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:y.localize(16,null)},"editor.language.brackets":{type:"array",default:!1,description:y.localize(17,null),items:{type:"array",items:[{type:"string",description:y.localize(18,null)},{type:"string",description:y.localize(19,null)}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:y.localize(20,null),items:{type:"array",items:[{type:"string",description:y.localize(21,null)},{type:"string",description:y.localize(22,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:y.localize(23,null)},"diffEditor.maxFileSize":{type:"number",default:50,description:y.localize(24,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:y.localize(25,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:y.localize(26,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:y.localize(27,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:y.localize(28,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[y.localize(29,null),y.localize(30,null),y.localize(31,null)]}}});function f(L){return typeof L.type!="undefined"||typeof L.anyOf!="undefined"}for(const L of C.editorOptionsRegistry){const w=L.schema;if(typeof w!="undefined")if(f(w))u.properties[`editor.${L.name}`]=w;else for(let k in w)r.call(w,k)&&(u.properties[k]=w[k])}let S=null;function v(){return S===null&&(S=Object.create(null),Object.keys(u.properties).forEach(L=>{S[L]=!0})),S}function m(L){return v()[`editor.${L}`]||!1}e.isEditorConfigurationKey=m;function _(L){return v()[`diffEditor.${L}`]||!1}e.isDiffEditorConfigurationKey=_,d.registerConfiguration(u)}),define(ee[62],te([0,1,34,4,2,17,481,223,192,30,174]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Configuration=e.clearAllFontInfos=void 0;class i{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(a){const s=a.getId();return!!this._values[s]}get(a){const s=a.getId();return this._values[s]}put(a,s){const o=a.getId();this._keys[o]=a,this._values[o]=s}remove(a){const s=a.getId();delete this._keys[s],delete this._values[s]}getValues(){return Object.keys(this._keys).map(a=>this._values[a])}}function t(){r.INSTANCE.clearCache()}e.clearAllFontInfos=t;class r extends T.Disposable{constructor(){super();this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new i,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new i,this._onDidChange.fire()}_writeToCache(a,s){this._cache.put(a,s),!s.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const a=this._cache.getValues();let s=!1;for(const o of a)o.isTrusted||(s=!0,this._cache.remove(o));s&&this._onDidChange.fire()}readConfiguration(a){if(!this._cache.has(a)){let s=r._actualReadConfiguration(a);(s.typicalHalfwidthCharacterWidth<=2||s.typicalFullwidthCharacterWidth<=2||s.spaceWidth<=2||s.maxDigitWidth<=2)&&(s=new g.FontInfo({zoomLevel:y.getZoomLevel(),pixelRatio:y.getPixelRatio(),fontFamily:s.fontFamily,fontWeight:s.fontWeight,fontSize:s.fontSize,fontFeatureSettings:s.fontFeatureSettings,lineHeight:s.lineHeight,letterSpacing:s.letterSpacing,isMonospace:s.isMonospace,typicalHalfwidthCharacterWidth:Math.max(s.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(s.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:s.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(s.spaceWidth,5),middotWidth:Math.max(s.middotWidth,5),wsmiddotWidth:Math.max(s.wsmiddotWidth,5),maxDigitWidth:Math.max(s.maxDigitWidth,5)},!1)),this._writeToCache(a,s)}return this._cache.get(a)}static createRequest(a,s,o,n){const d=new b.CharWidthRequest(a,s);return o.push(d),n&&n.push(d),d}static _actualReadConfiguration(a){const s=[],o=[],n=this.createRequest("n",0,s,o),d=this.createRequest("\uFF4D",0,s,null),u=this.createRequest(" ",0,s,o),f=this.createRequest("0",0,s,o),S=this.createRequest("1",0,s,o),v=this.createRequest("2",0,s,o),m=this.createRequest("3",0,s,o),_=this.createRequest("4",0,s,o),L=this.createRequest("5",0,s,o),w=this.createRequest("6",0,s,o),k=this.createRequest("7",0,s,o),D=this.createRequest("8",0,s,o),M=this.createRequest("9",0,s,o),O=this.createRequest("\u2192",0,s,o),F=this.createRequest("\uFFEB",0,s,null),R=this.createRequest("\xB7",0,s,o),A=this.createRequest(String.fromCharCode(11825),0,s,null),P="|/-_ilm%";for(let Y=0,J=P.length;Y<J;Y++)this.createRequest(P.charAt(Y),0,s,o),this.createRequest(P.charAt(Y),1,s,o),this.createRequest(P.charAt(Y),2,s,o);(0,b.readCharWidths)(a,s);const E=Math.max(f.width,S.width,v.width,m.width,_.width,L.width,w.width,k.width,D.width,M.width);let B=a.fontFeatureSettings===h.EditorFontLigatures.OFF;const V=o[0].width;for(let Y=1,J=o.length;B&&Y<J;Y++){const Z=V-o[Y].width;if(Z<-.001||Z>.001){B=!1;break}}let j=!0;B&&F.width!==V&&(j=!1),F.width>O.width&&(j=!1);const K=y.getTimeSinceLastZoomLevelChanged()>2e3;return new g.FontInfo({zoomLevel:y.getZoomLevel(),pixelRatio:y.getPixelRatio(),fontFamily:a.fontFamily,fontWeight:a.fontWeight,fontSize:a.fontSize,fontFeatureSettings:a.fontFeatureSettings,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,isMonospace:B,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:d.width,canUseHalfwidthRightwardsArrow:j,spaceWidth:u.width,middotWidth:R.width,wsmiddotWidth:A.width,maxDigitWidth:E},K)}}r.INSTANCE=new r;class c extends p.CommonEditorConfiguration{constructor(a,s,o=null,n){super(a,s);this.accessibilityService=n,this._elementSizeObserver=this._register(new C.ElementSizeObserver(o,s.dimension,()=>this._recomputeOptions())),this._register(r.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(y.onDidChangeZoomLevel(d=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(a,s){a.style.fontFamily=s.getMassagedFontFamily(y.isSafari?h.EDITOR_FONT_DEFAULTS.fontFamily:null),a.style.fontWeight=s.fontWeight,a.style.fontSize=s.fontSize+"px",a.style.fontFeatureSettings=s.fontFeatureSettings,a.style.lineHeight=s.lineHeight+"px",a.style.letterSpacing=s.letterSpacing+"px"}static applyFontInfo(a,s){a.setFontFamily(s.getMassagedFontFamily(y.isSafari?h.EDITOR_FONT_DEFAULTS.fontFamily:null)),a.setFontWeight(s.fontWeight),a.setFontSize(s.fontSize),a.setFontFeatureSettings(s.fontFeatureSettings),a.setLineHeight(s.lineHeight),a.setLetterSpacing(s.letterSpacing)}observeReferenceElement(a){this._elementSizeObserver.observe(a)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let a="";return!y.isSafari&&!y.isWebkitWebView&&(a+="no-user-select "),y.isSafari&&(a+="no-minimap-shadow "),I.isMacintosh&&(a+="mac "),a}_getEnvConfiguration(){return{extraEditorClassName:c._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:y.isWebKit||y.isFirefox,pixelRatio:y.getPixelRatio(),zoomLevel:y.getZoomLevel(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(a){return r.INSTANCE.readConfiguration(a)}}e.Configuration=c}),define(ee[101],te([0,1,315,53,38,13,257,4,2,18,62]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let t=class _i{constructor(c,l,a){this._options=c,this._modeService=l,this._openerService=a,this._onDidRenderAsync=new C.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(c,l,a){if(!c)return{element:document.createElement("span"),dispose:()=>{}};const s=new p.DisposableStore;return{element:s.add((0,y.renderMarkdown)(c,Object.assign(Object.assign({},this._getRenderOptions(c,s)),l),a)).element,dispose:()=>s.dispose()}}_getRenderOptions(c,l){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(a,s)=>Ae(this,void 0,void 0,function*(){var o,n,d,u;let f;a?f=this._modeService.getModeIdForLanguageName(a):this._options.editor&&(f=(o=this._options.editor.getModel())===null||o===void 0?void 0:o.getLanguageId()),f||(f="plaintext"),this._modeService.triggerMode(f);const S=(n=yield h.TokenizationRegistry.getPromise(f))!==null&&n!==void 0?n:void 0,v=document.createElement("span");if(v.innerHTML=(u=(d=_i._ttpTokenizer)===null||d===void 0?void 0:d.createHTML(s,this._modeService.languageIdCodec,S))!==null&&u!==void 0?u:(0,b.tokenizeToString)(s,this._modeService.languageIdCodec,S),this._options.editor){const m=this._options.editor.getOption(43);g.Configuration.applyFontInfoSlow(v,m)}else this._options.codeBlockFontFamily&&(v.style.fontFamily=this._options.codeBlockFontFamily);return v}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:a=>this._openerService.open(a,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:c.isTrusted}).catch(I.onUnexpectedError),disposables:l}}}};t._ttpTokenizer=(i=window.trustedTypes)===null||i===void 0?void 0:i.createPolicy("tokenizeToString",{createHTML(r,c,l){return(0,b.tokenizeToString)(r,c,l)}}),t=Be([Ce(1,T.IModeService),Ce(2,N.IOpenerService)],t),e.MarkdownRenderer=t}),define(ee[595],te([0,1,87,8,62,89,235]),function(q,e,y,N,T,I,b){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const p=(C=window.trustedTypes)===null||C===void 0?void 0:C.createPolicy("domLineBreaksComputer",{createHTML:l=>l});class h{static create(){return new h}constructor(){}createLineBreaksComputer(a,s,o,n){let d=[],u=[];return{addRequest:(f,S,v)=>{d.push(f),u.push(S)},finalize:()=>g(d,a,s,o,n,u)}}}e.DOMLineBreaksComputerFactory=h;function g(l,a,s,o,n,d){var u;function f(V){const j=d[V];if(j){const K=I.LineInjectedText.applyInjectedText(l[V],j),Y=j.map(Z=>Z.options),J=j.map(Z=>Z.column-1);return new b.ModelLineProjectionData(J,Y,[K.length],[],0)}else return null}if(o===-1){const V=[];for(let j=0,K=l.length;j<K;j++)V[j]=f(j);return V}const S=Math.round(o*a.typicalHalfwidthCharacterWidth),m=Math.round(s*(n===3?2:n===2?1:0)),_=Math.ceil(a.spaceWidth*m),L=document.createElement("div");T.Configuration.applyFontInfoSlow(L,a);const w=(0,y.createStringBuilder)(1e4),k=[],D=[],M=[],O=[],F=[];for(let V=0;V<l.length;V++){const j=I.LineInjectedText.applyInjectedText(l[V],d[V]);let K=0,Y=0,J=S;if(n!==0)if(K=N.firstNonWhitespaceIndex(j),K===-1)K=0;else{for(let G=0;G<K;G++)Y+=j.charCodeAt(G)===9?s-Y%s:1;const ne=Math.ceil(a.spaceWidth*Y);ne+a.typicalFullwidthCharacterWidth>S?(K=0,Y=0):J=S-ne}const Z=j.substr(K),ie=i(Z,Y,s,J,w,_);k[V]=K,D[V]=Y,M[V]=Z,O[V]=ie[0],F[V]=ie[1]}const R=w.build(),A=(u=p==null?void 0:p.createHTML(R))!==null&&u!==void 0?u:R;L.innerHTML=A,L.style.position="absolute",L.style.top="10000",L.style.wordWrap="break-word",document.body.appendChild(L);let P=document.createRange();const E=Array.prototype.slice.call(L.children,0);let B=[];for(let V=0;V<l.length;V++){const j=E[V],K=t(P,j,M[V],O[V]);if(K===null){B[V]=f(V);continue}const Y=k[V],J=D[V]+m,Z=F[V],ie=[];for(let z=0,U=K.length;z<U;z++)ie[z]=Z[K[z]];if(Y!==0)for(let z=0,U=K.length;z<U;z++)K[z]+=Y;let ne,G;const W=d[V];W?(ne=W.map(z=>z.options),G=W.map(z=>z.column-1)):(ne=null,G=null),B[V]=new b.ModelLineProjectionData(G,ne,K,ie,J)}return document.body.removeChild(L),B}function i(l,a,s,o,n,d){if(d!==0){let L=String(d);n.appendASCIIString('<div style="text-indent: -'),n.appendASCIIString(L),n.appendASCIIString("px; padding-left: "),n.appendASCIIString(L),n.appendASCIIString("px; box-sizing: border-box; width:")}else n.appendASCIIString('<div style="width:');n.appendASCIIString(String(o)),n.appendASCIIString('px;">');const u=l.length;let f=a,S=0,v=[],m=[],_=0<u?l.charCodeAt(0):0;n.appendASCIIString("<span>");for(let L=0;L<u;L++){L!==0&&L%16384==0&&n.appendASCIIString("</span><span>"),v[L]=S,m[L]=f;const w=_;_=L+1<u?l.charCodeAt(L+1):0;let k=1,D=1;switch(w){case 9:k=s-f%s,D=k;for(let M=1;M<=k;M++)M<k?n.write1(160):n.appendASCII(32);break;case 32:_===32?n.write1(160):n.appendASCII(32);break;case 60:n.appendASCIIString("&lt;");break;case 62:n.appendASCIIString("&gt;");break;case 38:n.appendASCIIString("&amp;");break;case 0:n.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:n.write1(65533);break;default:N.isFullWidthCharacter(w)&&D++,w<32?n.write1(9216+w):n.write1(w)}S+=k,f+=D}return n.appendASCIIString("</span>"),v[l.length]=S,m[l.length]=f,n.appendASCIIString("</div>"),[v,m]}function t(l,a,s,o){if(s.length<=1)return null;const n=Array.prototype.slice.call(a.children,0),d=[];try{r(l,n,o,0,null,s.length-1,null,d)}catch(u){return console.log(u),null}return d.length===0?null:(d.push(s.length),d)}function r(l,a,s,o,n,d,u,f){if(o===d||(n=n||c(l,a,s[o],s[o+1]),u=u||c(l,a,s[d],s[d+1]),Math.abs(n[0].top-u[0].top)<=.1))return;if(o+1===d){f.push(d);return}const S=o+(d-o)/2|0,v=c(l,a,s[S],s[S+1]);r(l,a,s,o,n,S,v,f),r(l,a,s,S,v,d,u,f)}function c(l,a,s,o){return l.setStart(a[s/16384|0].firstChild,s%16384),l.setEnd(a[o/16384|0].firstChild,o%16384),l.getClientRects()}}),define(ee[596],te([0,1,32,62,176,50]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class b extends I.ViewPart{constructor(i){super(i);this._visibleLines=new T.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let i=0,t=this._dynamicOverlays.length;i<t;i++)if(this._dynamicOverlays[i].shouldRender())return!0;return!1}dispose(){super.dispose();for(let i=0,t=this._dynamicOverlays.length;i<t;i++)this._dynamicOverlays[i].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new C(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(i){this._dynamicOverlays.push(i)}onConfigurationChanged(i){this._visibleLines.onConfigurationChanged(i);const t=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let c=t;c<=r;c++)this._visibleLines.getVisibleLine(c).onConfigurationChanged(i);return!0}onFlushed(i){return this._visibleLines.onFlushed(i)}onFocusChanged(i){return this._isFocused=i.isFocused,!0}onLinesChanged(i){return this._visibleLines.onLinesChanged(i)}onLinesDeleted(i){return this._visibleLines.onLinesDeleted(i)}onLinesInserted(i){return this._visibleLines.onLinesInserted(i)}onScrollChanged(i){return this._visibleLines.onScrollChanged(i)||!0}onTokensChanged(i){return this._visibleLines.onTokensChanged(i)}onZonesChanged(i){return this._visibleLines.onZonesChanged(i)}prepareRender(i){const t=this._dynamicOverlays.filter(r=>r.shouldRender());for(let r=0,c=t.length;r<c;r++){const l=t[r];l.prepareRender(i),l.onDidRender()}}render(i){this._viewOverlaysRender(i),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(i){this._visibleLines.renderLines(i.viewportData)}}e.ViewOverlays=b;class C{constructor(i,t){this._configuration=i,this._lineHeight=this._configuration.options.get(58),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(i){this._domNode=(0,y.createFastDomNode)(i)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(i){this._lineHeight=this._configuration.options.get(58)}renderLine(i,t,r,c){let l="";for(let a=0,s=this._dynamicOverlays.length;a<s;a++)l+=this._dynamicOverlays[a].render(r.startLineNumber,i);return this._renderedContent===l?!1:(this._renderedContent=l,c.appendASCIIString('<div style="position:absolute;top:'),c.appendASCIIString(String(t)),c.appendASCIIString("px;width:100%;height:"),c.appendASCIIString(String(this._lineHeight)),c.appendASCIIString('px;">'),c.appendASCIIString(l),c.appendASCIIString("</div>"),!0)}layoutLine(i,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=C;class p extends b{constructor(i){super(i);const r=this._context.configuration.options.get(130);this._contentWidth=r.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(i){const r=this._context.configuration.options.get(130);return this._contentWidth=r.contentWidth,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollWidthChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i),this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=p;class h extends b{constructor(i){super(i);const t=this._context.configuration.options,r=t.get(130);this._contentLeft=r.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),N.Configuration.applyFontInfo(this.domNode,t.get(43))}onConfigurationChanged(i){const t=this._context.configuration.options;N.Configuration.applyFontInfo(this.domNode,t.get(43));const r=t.get(130);return this._contentLeft=r.contentLeft,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollHeightChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i);const t=Math.min(i.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=h}),define(ee[597],te([0,1,7,32,8,62,30,14,3,138]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class g{constructor(r,c,l,a,s,o){this.top=r,this.left=c,this.width=l,this.height=a,this.textContent=s,this.textContentClassName=o}}class i{constructor(r){this._context=r;const c=this._context.configuration.options,l=c.get(43);this._cursorStyle=c.get(24),this._lineHeight=c.get(58),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,N.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${h.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),I.Configuration.applyFontInfo(this._domNode,l),this._domNode.setDisplay("none"),this._position=new C.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(r){const c=this._context.configuration.options,l=c.get(43);return this._cursorStyle=c.get(24),this._lineHeight=c.get(58),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(27),this._typicalHalfwidthCharacterWidth),I.Configuration.applyFontInfo(this._domNode,l),!0}onCursorPositionChanged(r){return this._position=r,!0}_prepareRender(r){let c="";if(this._cursorStyle===b.TextEditorCursorStyle.Line||this._cursorStyle===b.TextEditorCursorStyle.LineThin){const v=r.visibleRangeForPosition(this._position);if(!v||v.outsideRenderedLine)return null;let m;if(this._cursorStyle===b.TextEditorCursorStyle.Line){if(m=y.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),m>2){const w=this._context.model.getLineContent(this._position.lineNumber),k=T.nextCharLength(w,this._position.column-1);c=w.substr(this._position.column-1,k)}}else m=y.computeScreenAwareSize(1);let _=v.left;m>=2&&_>=1&&(_-=1);const L=r.getVerticalOffsetForLineNumber(this._position.lineNumber)-r.bigNumbersDelta;return new g(L,_,m,this._lineHeight,c,"")}const l=this._context.model.getLineContent(this._position.lineNumber),a=T.nextCharLength(l,this._position.column-1),s=r.linesVisibleRangesForRange(new p.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+a),!1);if(!s||s.length===0)return null;const o=s[0];if(o.outsideRenderedLine||o.ranges.length===0)return null;const n=o.ranges[0],d=n.width<1?this._typicalHalfwidthCharacterWidth:n.width;let u="";if(this._cursorStyle===b.TextEditorCursorStyle.Block){const v=this._context.model.getViewLineData(this._position.lineNumber);c=l.substr(this._position.column-1,a);const m=v.tokens.findTokenIndexAtOffset(this._position.column-1);u=v.tokens.getClassName(m)}let f=r.getVerticalOffsetForLineNumber(this._position.lineNumber)-r.bigNumbersDelta,S=this._lineHeight;return(this._cursorStyle===b.TextEditorCursorStyle.Underline||this._cursorStyle===b.TextEditorCursorStyle.UnderlineThin)&&(f+=this._lineHeight-2,S=2),new g(f,n.left,d,S,c,u)}prepareRender(r){this._renderData=this._prepareRender(r)}render(r){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${h.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=i}),define(ee[126],te([0,1,484,4,39,33,109,100]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_MODE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class p{constructor(){this._onDidChangeLanguages=new N.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(g){return this._languages.push(g),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let i=0,t=this._languages.length;i<t;i++)if(this._languages[i]===g){this._languages.splice(i,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}e.EditorModesRegistry=p,e.ModesRegistry=new p,I.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_MODE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_MODE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[y.localize(0,null),"text"],mimetypes:[b.Mimes.text]}),T.LanguageConfigurationRegistry.register(e.PLAINTEXT_MODE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0),I.Registry.as(C.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1}}}])}),define(ee[598],te([0,1,48,42,126,253]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.getIconClasses=void 0;function b(h,g,i,t){const r=t===I.FileKind.ROOT_FOLDER?["rootfolder-icon"]:t===I.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(i){let c;if(i.scheme===y.Schemas.data?c=N.DataUri.parseMetaData(i).get(N.DataUri.META_DATA_LABEL):c=p((0,N.basenameOrAuthority)(i).toLowerCase()),t===I.FileKind.FOLDER)r.push(`${c}-name-folder-icon`);else{if(c){if(r.push(`${c}-name-file-icon`),c.length<=255){const a=c.split(".");for(let s=1;s<a.length;s++)r.push(`${a.slice(s).join(".")}-ext-file-icon`)}r.push("ext-file-icon")}const l=C(h,g,i);l&&r.push(`${p(l)}-lang-file-icon`)}}return r}e.getIconClasses=b;function C(h,g,i){if(!i)return null;let t=null;if(i.scheme===y.Schemas.data){const c=N.DataUri.parseMetaData(i).get(N.DataUri.META_DATA_MIME);c&&(t=g.getModeId(c))}else{const r=h.getModel(i);r&&(t=r.getLanguageId())}return t&&t!==T.PLAINTEXT_MODE_ID?t:g.getModeIdByFilepathOrFirstLine(i)}function p(h){return h.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=p}),define(ee[599],te([0,1,13,4,2,109,8,126,80,100,33]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const i=Object.prototype.hasOwnProperty;class t{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(p.NULL_MODE_ID,0),this._register(C.PLAINTEXT_MODE_ID,1),this._nextLanguageId=2}_register(l,a){this._languageIdToLanguage[a]=l,this._languageToLanguageId.set(l,a)}register(l){if(this._languageToLanguageId.has(l))return;const a=this._nextLanguageId++;this._register(l,a)}encodeLanguageId(l){return this._languageToLanguageId.get(l)||0}decodeLanguageId(l){return this._languageIdToLanguage[l]||p.NULL_MODE_ID}}e.LanguageIdCodec=t;class r extends T.Disposable{constructor(l=!0,a=!1){super();this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,r.instanceCount++,this._warnOnOverwrite=a,this.languageIdCodec=new t,this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},l&&(this._initializeFromRegistry(),this._register(C.ModesRegistry.onDidChangeLanguages(s=>{this._initializeFromRegistry()})))}dispose(){r.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},I.clearTextMimes();const l=C.ModesRegistry.getLanguages();this._registerLanguages(l)}_registerLanguages(l){for(const a of l)this._registerLanguage(a);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(a=>{let s=this._languages[a];s.name&&(this._nameMap[s.name]=s.identifier),s.aliases.forEach(o=>{this._lowercaseNameMap[o.toLowerCase()]=s.identifier}),s.mimetypes.forEach(o=>{this._mimeTypesMap[o]=s.identifier})}),g.Registry.as(h.Extensions.Configuration).registerOverrideIdentifiers(C.ModesRegistry.getLanguages().map(a=>a.id)),this._onDidChange.fire()}_registerLanguage(l){const a=l.id;let s;i.call(this._languages,a)?s=this._languages[a]:(this.languageIdCodec.register(a),s={identifier:a,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[a]=s),this._mergeLanguage(s,l)}_mergeLanguage(l,a){const s=a.id;let o=null;if(Array.isArray(a.mimetypes)&&a.mimetypes.length>0&&(l.mimetypes.push(...a.mimetypes),o=a.mimetypes[0]),o||(o=`text/x-${s}`,l.mimetypes.push(o)),Array.isArray(a.extensions)){a.configuration?l.extensions=a.extensions.concat(l.extensions):l.extensions=l.extensions.concat(a.extensions);for(let u of a.extensions)I.registerTextMime({id:s,mime:o,extension:u},this._warnOnOverwrite)}if(Array.isArray(a.filenames))for(let u of a.filenames)I.registerTextMime({id:s,mime:o,filename:u},this._warnOnOverwrite),l.filenames.push(u);if(Array.isArray(a.filenamePatterns))for(let u of a.filenamePatterns)I.registerTextMime({id:s,mime:o,filepattern:u},this._warnOnOverwrite);if(typeof a.firstLine=="string"&&a.firstLine.length>0){let u=a.firstLine;u.charAt(0)!=="^"&&(u="^"+u);try{let f=new RegExp(u);b.regExpLeadsToEndlessLoop(f)||I.registerTextMime({id:s,mime:o,firstline:f},this._warnOnOverwrite)}catch(f){(0,y.onUnexpectedError)(f)}}l.aliases.push(s);let n=null;if(typeof a.aliases!="undefined"&&Array.isArray(a.aliases)&&(a.aliases.length===0?n=[null]:n=a.aliases),n!==null)for(const u of n)!u||u.length===0||l.aliases.push(u);let d=n!==null&&n.length>0;if(!(d&&n[0]===null)){let u=(d?n[0]:null)||s;(d||!l.name)&&(l.name=u)}a.configuration&&l.configurationFiles.push(a.configuration)}isRegisteredMode(l){return i.call(this._mimeTypesMap,l)?!0:i.call(this._languages,l)}getModeIdForLanguageNameLowercase(l){return i.call(this._lowercaseNameMap,l)?this._lowercaseNameMap[l]:null}extractModeIds(l){return l?l.split(",").map(a=>a.trim()).map(a=>i.call(this._mimeTypesMap,a)?this._mimeTypesMap[a]:a).filter(a=>i.call(this._languages,a)):[]}validateLanguageId(l){return!l||l===p.NULL_MODE_ID?p.NULL_MODE_ID:i.call(this._languages,l)?l:null}getModeIdsFromFilepathOrFirstLine(l,a){if(!l&&!a)return[];let s=I.guessMimeTypes(l,a);return this.extractModeIds(s.join(","))}}e.LanguagesRegistry=r,r.instanceCount=0}),define(ee[600],te([0,1,4,2,80,599,19]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeServiceImpl=void 0;class C{constructor(g,i){this._selector=i,this.languageId=this._selector();let t;this._onDidChange=new y.Emitter({onFirstListenerAdd:()=>{t=g(()=>this._evaluate())},onLastListenerRemove:()=>{t.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){const g=this._selector();g!==this.languageId&&(this.languageId=g,this._onDidChange.fire(this.languageId))}}class p extends N.Disposable{constructor(g=!1){super();this._onDidEncounterLanguage=this._register(new y.Emitter),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onLanguagesMaybeChanged=this._register(new y.Emitter({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,p.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new I.LanguagesRegistry(!0,g)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}dispose(){p.instanceCount--,super.dispose()}isRegisteredMode(g){return this._registry.isRegisteredMode(g)}getModeIdForLanguageName(g){return this._registry.getModeIdForLanguageNameLowercase(g)}getModeIdByFilepathOrFirstLine(g,i){const t=this._registry.getModeIdsFromFilepathOrFirstLine(g,i);return(0,b.firstOrDefault)(t,null)}getModeId(g){const i=this._registry.extractModeIds(g);return(0,b.firstOrDefault)(i,null)}validateLanguageId(g){return this._registry.validateLanguageId(g)}create(g){return new C(this.onLanguagesMaybeChanged,()=>{const i=this.getModeId(g);return this._createModeAndGetLanguageIdentifier(i)})}createByFilepathOrFirstLine(g,i){return new C(this.onLanguagesMaybeChanged,()=>{const t=this.getModeIdByFilepathOrFirstLine(g,i);return this._createModeAndGetLanguageIdentifier(t)})}_createModeAndGetLanguageIdentifier(g){const i=this.validateLanguageId(g||"plaintext")||T.NULL_MODE_ID;return this._getOrCreateMode(i),i}triggerMode(g){const i=this.getModeId(g);this._getOrCreateMode(i||"plaintext")}_getOrCreateMode(g){if(!this._encounteredLanguages.has(g)){this._encounteredLanguages.add(g);const i=this.validateLanguageId(g)||T.NULL_MODE_ID;this._onDidEncounterLanguage.fire(i)}}}e.ModeServiceImpl=p,p.instanceCount=0}),define(ee[601],te([0,1,7,19,70,2,101,241,54,53,220]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesGlyphHoverWidget=void 0;const i=y.$;class t{constructor(l){this._editor=l,this._lineNumber=-1,this._result=[]}setLineNumber(l){this._lineNumber=l,this._result=[]}clearResult(){this._result=[]}computeSync(){const l=o=>({value:o}),a=this._editor.getLineDecorations(this._lineNumber),s=[];if(!a)return s;for(const o of a){if(!o.options.glyphMarginClassName)continue;const n=o.options.glyphMarginHoverMessage;!n||(0,T.isEmptyMarkdownString)(n)||s.push(...(0,N.asArray)(n).map(l))}return s}onResult(l,a){this._result=this._result.concat(l)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class r extends p.Widget{constructor(l,a,s=h.NullOpenerService){super();this._renderDisposeables=this._register(new I.DisposableStore),this._editor=l,this._isVisible=!1,this._messages=[],this._lastLineNumber=-1,this._hover=this._register(new g.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new b.MarkdownRenderer({editor:this._editor},a,s)),this._computer=new t(this._editor),this._hoverOperation=new C.HoverOperation(this._computer,o=>this._withResult(o),void 0,o=>this._withResult(o),300),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(43)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._hoverOperation.cancel(),this._editor.removeOverlayWidget(this),super.dispose()}getId(){return r.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_showAt(l){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const a=this._editor.getLayoutInfo(),s=this._editor.getTopForLineNumber(l),o=this._editor.getScrollTop(),n=this._editor.getOption(58),d=this._hover.containerDomNode.clientHeight,u=s-o-(d-n)/2;this._hover.containerDomNode.style.left=`${a.glyphMarginLeft+a.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(u),0)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(a=>this._editor.applyFontInfo(a))}_updateContents(l){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(l),this._updateFont()}onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(l){this._lastLineNumber!==l&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=l,this._computer.setLineNumber(l),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),!!this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(l){this._messages=l,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(l,a){this._renderDisposeables.clear();const s=document.createDocumentFragment();for(const o of a){const n=i("div.hover-row.markdown-hover"),d=y.append(n,i("div.hover-contents")),u=this._renderDisposeables.add(this._markdownRenderer.render(o.value));d.appendChild(u.element),s.appendChild(n)}this._updateContents(s),this._showAt(l)}}e.ModesGlyphHoverWidget=r,r.ID="editor.contrib.modesGlyphHoverWidget"}),define(ee[269],te([0,1,34,7,63,27,4,70,2,101,30,247,541,9]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function c(s){return!!s&&Boolean(s.completion.documentation||s.completion.detail&&s.completion.detail!==s.completion.label)}e.canExpandCompletionItem=c;let l=class{constructor(o,n){this._editor=o,this._onDidClose=new b.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new b.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new p.DisposableStore,this._renderDisposeable=new p.DisposableStore,this._borderWidth=1,this._size=new N.Dimension(330,0),this.domNode=N.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=n.createInstance(h.MarkdownRenderer,{editor:o}),this._body=N.$(".body"),this._scrollbar=new T.DomScrollableElement(this._body,{}),N.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=N.append(this._body,N.$(".header")),this._close=N.append(this._header,N.$("span"+I.Codicon.close.cssSelector)),this._close.title=t.localize(0,null),this._type=N.append(this._header,N.$("p.type")),this._docs=N.append(this._body,N.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(43)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const o=this._editor.getOptions(),n=o.get(43),d=n.getMassagedFontFamily(y.isSafari?g.EDITOR_FONT_DEFAULTS.fontFamily:null),u=o.get(106)||n.fontSize,f=o.get(107)||n.lineHeight,S=n.fontWeight,v=`${u}px`,m=`${f}px`;this.domNode.style.fontSize=v,this.domNode.style.lineHeight=`${f/u}`,this.domNode.style.fontWeight=S,this.domNode.style.fontFeatureSettings=n.fontFeatureSettings,this._type.style.fontFamily=d,this._close.style.height=m,this._close.style.width=m}getLayoutInfo(){const o=this._editor.getOption(107)||this._editor.getOption(43).lineHeight,n=this._borderWidth,d=n*2;return{lineHeight:o,borderWidth:n,borderHeight:d,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=t.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(o,n){var d,u;this._renderDisposeable.clear();let{detail:f,documentation:S}=o.completion;if(n){let v="";v+=`score: ${o.score[0]}
`,v+=`prefix: ${(d=o.word)!==null&&d!==void 0?d:"(no prefix)"}
`,v+=`word: ${o.completion.filterText?o.completion.filterText+" (filterText)":o.textLabel}
`,v+=`distance: ${o.distance} (localityBonus-setting)
`,v+=`index: ${o.idx}, based on ${o.completion.sortText&&`sortText: "${o.completion.sortText}"`||"label"}
`,v+=`commit_chars: ${(u=o.completion.commitCharacters)===null||u===void 0?void 0:u.join("")}
`,S=new C.MarkdownString().appendCodeblock("empty",v),f=`Provider: ${o.provider._debugDisplayName}`}if(!n&&!c(o)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),f){const v=f.length>1e5?`${f.substr(0,1e5)}\u2026`:f;this._type.textContent=v,this._type.title=v,N.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(v))}else N.clearNode(this._type),this._type.title="",N.hide(this._type),this.domNode.classList.add("no-type");if(N.clearNode(this._docs),typeof S=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=S;else if(S){this._docs.classList.add("markdown-docs"),N.clearNode(this._docs);const v=this._markdownRenderer.render(S);this._docs.appendChild(v.element),this._renderDisposeable.add(v),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=v=>{v.preventDefault(),v.stopPropagation()},this._close.onclick=v=>{v.preventDefault(),v.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(o,n){const d=new N.Dimension(o,n);N.Dimension.equals(d,this._size)||(this._size=d,N.size(this.domNode,o,n)),this._scrollbar.scanDomNode()}scrollDown(o=8){this._body.scrollTop+=o}scrollUp(o=8){this._body.scrollTop-=o}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(o){this._borderWidth=o}get borderWidth(){return this._borderWidth}};l=Be([Ce(1,r.IInstantiationService)],l),e.SuggestDetailsWidget=l;class a{constructor(o,n){this.widget=o,this._editor=n,this._disposables=new p.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new i.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(o.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let d,u,f=0,S=0;this._disposables.add(this._resizable.onDidWillResize(()=>{d=this._topLeft,u=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(v=>{if(d&&u){this.widget.layout(v.dimension.width,v.dimension.height);let m=!1;v.west&&(S=u.width-v.dimension.width,m=!0),v.north&&(f=u.height-v.dimension.height,m=!0),m&&this._applyTopLeft({top:d.top+f,left:d.left+S})}v.done&&(d=void 0,u=void 0,f=0,S=0,this._userSize=v.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var v;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(v=this._userSize)!==null&&v!==void 0?v:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(o=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),o&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(o,n){var d;const u=o.getBoundingClientRect();this._anchorBox=u,this._preferAlignAtTop=n,this._placeAtAnchor(this._anchorBox,(d=this._userSize)!==null&&d!==void 0?d:this.widget.size,n)}_placeAtAnchor(o,n,d){var u;const f=N.getClientArea(document.body),S=this.widget.getLayoutInfo(),v=new N.Dimension(220,2*S.lineHeight),m=o.top,_=function(){const P=f.width-(o.left+o.width+S.borderWidth+S.horizontalPadding),E=-S.borderWidth+o.left+o.width,B=new N.Dimension(P,f.height-o.top-S.borderHeight-S.verticalPadding),V=B.with(void 0,o.top+o.height-S.borderHeight-S.verticalPadding);return{top:m,left:E,fit:P-n.width,maxSizeTop:B,maxSizeBottom:V,minSize:v.with(Math.min(P,v.width))}}(),L=function(){const P=o.left-S.borderWidth-S.horizontalPadding,E=Math.max(S.horizontalPadding,o.left-n.width-S.borderWidth),B=new N.Dimension(P,f.height-o.top-S.borderHeight-S.verticalPadding),V=B.with(void 0,o.top+o.height-S.borderHeight-S.verticalPadding);return{top:m,left:E,fit:P-n.width,maxSizeTop:B,maxSizeBottom:V,minSize:v.with(Math.min(P,v.width))}}(),w=function(){const P=o.left,E=-S.borderWidth+o.top+o.height,B=new N.Dimension(o.width-S.borderHeight,f.height-o.top-o.height-S.verticalPadding);return{top:E,left:P,fit:B.height-n.height,maxSizeBottom:B,maxSizeTop:B,minSize:v.with(B.width)}}(),k=[_,L,w],D=(u=k.find(P=>P.fit>=0))!==null&&u!==void 0?u:k.sort((P,E)=>E.fit-P.fit)[0],M=o.top+o.height-S.borderHeight;let O,F=n.height;const R=Math.max(D.maxSizeTop.height,D.maxSizeBottom.height);F>R&&(F=R);let A;d?F<=D.maxSizeTop.height?(O=!0,A=D.maxSizeTop):(O=!1,A=D.maxSizeBottom):F<=D.maxSizeBottom.height?(O=!1,A=D.maxSizeBottom):(O=!0,A=D.maxSizeTop),this._applyTopLeft({left:D.left,top:O?D.top:M-F}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!O,D===_,O,D!==_),this._resizable.minSize=D.minSize,this._resizable.maxSize=A,this._resizable.layout(F,Math.min(A.width,n.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(o){this._topLeft=o,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=a}),define(ee[602],te([0,1,19,47,37,20,25,35,100,33]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class g{constructor(l={},a=[],s=[]){this._contents=l,this._keys=a,this._overrides=s,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(l){return l?(0,C.getConfigurationValue)(this.contents,l):this.contents}override(l){let a=this.overrideConfigurations.get(l);return a||(a=this.createOverrideConfigurationModel(l),this.overrideConfigurations.set(l,a)),a}merge(...l){const a=T.deepClone(this.contents),s=T.deepClone(this.overrides),o=[...this.keys];for(const n of l){this.mergeContents(a,n.contents);for(const d of n.overrides){const[u]=s.filter(f=>y.equals(f.identifiers,d.identifiers));u?(this.mergeContents(u.contents,d.contents),u.keys.push(...d.keys),u.keys=y.distinct(u.keys)):s.push(T.deepClone(d))}for(const d of n.keys)o.indexOf(d)===-1&&o.push(d)}return new g(a,o,s)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(l){const a=this.getContentsForOverrideIdentifer(l);if(!a||typeof a!="object"||!Object.keys(a).length)return this;let s={};for(const o of y.distinct([...Object.keys(this.contents),...Object.keys(a)])){let n=this.contents[o],d=a[o];d&&(typeof n=="object"&&typeof d=="object"?(n=T.deepClone(n),this.mergeContents(n,d)):n=d),s[o]=n}return new g(s,this.keys,this.overrides)}mergeContents(l,a){for(const s of Object.keys(a)){if(s in l&&I.isObject(l[s])&&I.isObject(a[s])){this.mergeContents(l[s],a[s]);continue}l[s]=T.deepClone(a[s])}}checkAndFreeze(l){return this.isFrozen&&!Object.isFrozen(l)?T.deepFreeze(l):l}getContentsForOverrideIdentifer(l){let a=null,s=null;const o=n=>{n&&(s?this.mergeContents(s,n):s=T.deepClone(n))};for(const n of this.overrides)y.equals(n.identifiers,[l])?a=n.contents:n.identifiers.includes(l)&&o(n.contents);return o(a),s}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(l,a){this.addKey(l),(0,C.addToValueTree)(this.contents,l,a,s=>{throw new Error(s)})}removeValue(l){this.removeKey(l)&&(0,C.removeFromValueTree)(this.contents,l)}addKey(l){let a=this.keys.length;for(let s=0;s<a;s++)l.indexOf(this.keys[s])===0&&(a=s);this.keys.splice(a,1,l)}removeKey(l){let a=this.keys.indexOf(l);return a!==-1?(this.keys.splice(a,1),!0):!1}}e.ConfigurationModel=g;class i extends g{constructor(l={}){const a=h.Registry.as(p.Extensions.Configuration).getConfigurationProperties(),s=Object.keys(a),o=Object.create(null),n=[];for(const d in a){const u=l[d],f=u!==void 0?u:a[d].default;(0,C.addToValueTree)(o,d,f,S=>console.error(`Conflict in default settings: ${S}`))}for(const d of Object.keys(o))p.OVERRIDE_PROPERTY_REGEX.test(d)&&n.push({identifiers:(0,p.overrideIdentifiersFromKey)(d),keys:Object.keys(o[d]),contents:(0,C.toValuesTree)(o[d],u=>console.error(`Conflict in default settings file: ${u}`))});super(o,s,n)}}e.DefaultConfigurationModel=i;class t{constructor(l,a,s=new g,o=new g,n=new N.ResourceMap,d=new g,u=new N.ResourceMap,f=!0){this._defaultConfiguration=l,this._localUserConfiguration=a,this._remoteUserConfiguration=s,this._workspaceConfiguration=o,this._folderConfigurations=n,this._memoryConfiguration=d,this._memoryConfigurationByResource=u,this._freeze=f,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new N.ResourceMap,this._userConfiguration=null}getValue(l,a,s){return this.getConsolidateConfigurationModel(a,s).getValue(l)}updateValue(l,a,s={}){let o;s.resource?(o=this._memoryConfigurationByResource.get(s.resource),o||(o=new g,this._memoryConfigurationByResource.set(s.resource,o))):o=this._memoryConfiguration,a===void 0?o.removeValue(l):o.setValue(l,a),s.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(l,a){let s=this.getConsolidatedConfigurationModelForResource(l,a);return l.overrideIdentifier?s.override(l.overrideIdentifier):s}getConsolidatedConfigurationModelForResource({resource:l},a){let s=this.getWorkspaceConsolidatedConfiguration();if(a&&l){const o=a.getFolder(l);o&&(s=this.getFolderConsolidatedConfiguration(o.uri)||s);const n=this._memoryConfigurationByResource.get(l);n&&(s=s.merge(n))}return s}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(l){let a=this._foldersConsolidatedConfigurations.get(l);if(!a){const s=this.getWorkspaceConsolidatedConfiguration(),o=this._folderConfigurations.get(l);o?(a=s.merge(o),this._freeze&&(a=a.freeze()),this._foldersConsolidatedConfigurations.set(l,a)):a=s}return a}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((l,a)=>{const{contents:s,overrides:o,keys:n}=this._folderConfigurations.get(a);return l.push([a,{contents:s,overrides:o,keys:n}]),l},[])}}static parse(l){const a=this.parseConfigurationModel(l.defaults),s=this.parseConfigurationModel(l.user),o=this.parseConfigurationModel(l.workspace),n=l.folders.reduce((d,u)=>(d.set(b.URI.revive(u[0]),this.parseConfigurationModel(u[1])),d),new N.ResourceMap);return new t(a,s,new g,o,n,new g,new N.ResourceMap,!1)}static parseConfigurationModel(l){return new g(l.contents,l.keys,l.overrides).freeze()}}e.Configuration=t;class r{constructor(l,a,s,o){this.change=l,this.previous=a,this.currentConfiguraiton=s,this.currentWorkspace=o,this._previousConfiguration=void 0;const n=new Set;l.keys.forEach(u=>n.add(u)),l.overrides.forEach(([,u])=>u.forEach(f=>n.add(f))),this.affectedKeys=[...n.values()];const d=new g;this.affectedKeys.forEach(u=>d.setValue(u,{})),this.affectedKeysTree=d.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=t.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(l,a){var s;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,l)){if(a){const o=this.previousConfiguration?this.previousConfiguration.getValue(l,a,(s=this.previous)===null||s===void 0?void 0:s.workspace):void 0,n=this.currentConfiguraiton.getValue(l,a,this.currentWorkspace);return!T.equals(o,n)}return!0}return!1}doesAffectedKeysTreeContains(l,a){let s=(0,C.toValuesTree)({[a]:!0},()=>{}),o;for(;typeof s=="object"&&(o=Object.keys(s)[0]);){if(l=l[o],!l)return!1;s=s[o]}return!0}}e.ConfigurationChangeEvent=r}),define(ee[82],te([0,1,95,17,26,33]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class b{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(h){if(N.OS===1){if(h&&h.win)return h.win}else if(N.OS===2){if(h&&h.mac)return h.mac}else if(h&&h.linux)return h.linux;return h}registerKeybindingRule(h){const g=b.bindToCurrentPlatform(h);if(g&&g.primary){const i=(0,y.createKeybinding)(g.primary,N.OS);i&&this._registerDefaultKeybinding(i,h.id,h.args,h.weight,0,h.when)}if(g&&Array.isArray(g.secondary))for(let i=0,t=g.secondary.length;i<t;i++){const r=g.secondary[i],c=(0,y.createKeybinding)(r,N.OS);c&&this._registerDefaultKeybinding(c,h.id,h.args,h.weight,-i-1,h.when)}}registerCommandAndKeybindingRule(h){this.registerKeybindingRule(h),T.CommandsRegistry.registerCommand(h)}static _mightProduceChar(h){return h>=21&&h<=30||h>=31&&h<=56?!0:h===80||h===81||h===82||h===83||h===84||h===85||h===86||h===110||h===111||h===87||h===88||h===89||h===90||h===91||h===92}_assertNoCtrlAlt(h,g){h.ctrlKey&&h.altKey&&!h.metaKey&&b._mightProduceChar(h.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",h," for ",g)}_registerDefaultKeybinding(h,g,i,t,r,c){N.OS===1&&this._assertNoCtrlAlt(h.parts[0],g),this._coreKeybindings.push({keybinding:h.parts,command:g,commandArgs:i,when:c,weight1:t,weight2:r,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(C)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new b,e.Extensions={EditorModes:"platform.keybindingsRegistry"},I.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function C(p,h){return p.weight1!==h.weight1?p.weight1-h.weight1:p.command<h.command?-1:p.command>h.command?1:p.weight2-h.weight2}}),define(ee[102],te([0,1,19,2,33]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var I;(function(C){C[C.PRESERVE=0]="PRESERVE",C[C.LAST=1]="LAST"})(I=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class b{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(p){return p.prefix.length===0?this.defaultProvider=p:this.providers.push(p),this.providers.sort((h,g)=>g.prefix.length-h.prefix.length),(0,N.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(p),1),this.defaultProvider===p&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,y.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(p){return p&&this.providers.find(g=>p.startsWith(g.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=b,T.Registry.add(e.Extensions.Quickaccess,new b)}),define(ee[603],te([0,1,2,559,102,75,33]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let C=class At{constructor(h){this.quickInputService=h,this.registry=b.Registry.as(T.Extensions.Quickaccess)}provide(h){const g=new y.DisposableStore;g.add(h.onDidAccept(()=>{const[r]=h.selectedItems;r&&this.quickInputService.quickAccess.show(r.prefix,{preserveValue:!0})})),g.add(h.onDidChangeValue(r=>{const c=this.registry.getQuickAccessProvider(r.substr(At.PREFIX.length));c&&c.prefix&&c.prefix!==At.PREFIX&&this.quickInputService.quickAccess.show(c.prefix,{preserveValue:!0})}));const{editorProviders:i,globalProviders:t}=this.getQuickAccessProviders();return h.items=i.length===0||t.length===0?[...i.length===0?t:i]:[{label:(0,N.localize)(0,null),type:"separator"},...t,{label:(0,N.localize)(1,null),type:"separator"},...i],g}getQuickAccessProviders(){const h=[],g=[];for(const i of this.registry.getQuickAccessProviders().sort((t,r)=>t.prefix.localeCompare(r.prefix)))if(i.prefix!==At.PREFIX)for(const t of i.helpEntries){const r=t.prefix||i.prefix,c=r||"\u2026";(t.needsEditor?g:h).push({prefix:r,label:c,ariaLabel:(0,N.localize)(2,null,c,t.description),description:t.description})}return{editorProviders:g,globalProviders:h}}};C.PREFIX="?",C=Be([Ce(0,I.IQuickInputService)],C),e.HelpQuickAccessProvider=C}),define(ee[604],te([0,1,33,102,65,603]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),y.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:I.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:T.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})}),define(ee[605],te([0,1,10,23,84,2,9,102,75,33]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let g=class extends I.Disposable{constructor(t,r){super();this.quickInputService=t,this.instantiationService=r,this.registry=h.Registry.as(C.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(t="",r){this.doShowOrPick(t,!1,r)}doShowOrPick(t,r,c){var l;const[a,s]=this.getOrInstantiateProvider(t),o=this.visibleQuickAccess,n=o==null?void 0:o.descriptor;if(o&&s&&n===s){t!==s.prefix&&!(c==null?void 0:c.preserveValue)&&(o.picker.value=t),this.adjustValueSelection(o.picker,s,c);return}if(s&&!(c==null?void 0:c.preserveValue)){let v;if(o&&n&&n!==s){const m=o.value.substr(n.prefix.length);m&&(v=`${s.prefix}${m}`)}if(!v){const m=a==null?void 0:a.defaultFilterValue;m===C.DefaultQuickAccessFilterValue.LAST?v=this.lastAcceptedPickerValues.get(s):typeof m=="string"&&(v=`${s.prefix}${m}`)}typeof v=="string"&&(t=v)}const d=new I.DisposableStore,u=d.add(this.quickInputService.createQuickPick());u.value=t,this.adjustValueSelection(u,s,c),u.placeholder=s==null?void 0:s.placeholder,u.quickNavigate=c==null?void 0:c.quickNavigateConfiguration,u.hideInput=!!u.quickNavigate&&!o,(typeof(c==null?void 0:c.itemActivation)=="number"||(c==null?void 0:c.quickNavigateConfiguration))&&(u.itemActivation=(l=c==null?void 0:c.itemActivation)!==null&&l!==void 0?l:p.ItemActivation.SECOND),u.contextKey=s==null?void 0:s.contextKey,u.filterValue=v=>v.substring(s?s.prefix.length:0),(s==null?void 0:s.placeholder)&&(u.ariaLabel=s==null?void 0:s.placeholder);let f;r&&(f=new y.DeferredPromise,d.add((0,T.once)(u.onWillAccept)(v=>{v.veto(),u.hide()}))),d.add(this.registerPickerListeners(u,a,s,t));const S=d.add(new N.CancellationTokenSource);if(a&&d.add(a.provide(u,S.token)),(0,T.once)(u.onDidHide)(()=>{u.selectedItems.length===0&&S.cancel(),d.dispose(),f==null||f.complete(u.selectedItems.slice(0))}),u.show(),r)return f==null?void 0:f.p}adjustValueSelection(t,r,c){var l;let a;(c==null?void 0:c.preserveValue)?a=[t.value.length,t.value.length]:a=[(l=r==null?void 0:r.prefix.length)!==null&&l!==void 0?l:0,t.value.length],t.valueSelection=a}registerPickerListeners(t,r,c,l){const a=new I.DisposableStore,s=this.visibleQuickAccess={picker:t,descriptor:c,value:l};return a.add((0,I.toDisposable)(()=>{s===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),a.add(t.onDidChangeValue(o=>{const[n]=this.getOrInstantiateProvider(o);n!==r?this.show(o,{preserveValue:!0}):s.value=o})),c&&a.add(t.onDidAccept(()=>{this.lastAcceptedPickerValues.set(c,t.value)})),a}getOrInstantiateProvider(t){const r=this.registry.getQuickAccessProvider(t);if(!r)return[void 0,void 0];let c=this.mapProviderToDescriptor.get(r);return c||(c=this.instantiationService.createInstance(r.ctor),this.mapProviderToDescriptor.set(r,c)),[c,r]}};g=Be([Ce(0,p.IQuickInputService),Ce(1,b.IInstantiationService)],g),e.QuickAccessController=g}),define(ee[76],te([0,1,4,2,20,317,9]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const C="__$__targetStorageMarker";e.IStorageService=(0,b.createDecorator)("storageService");var p;(function(i){i[i.NONE=0]="NONE",i[i.SHUTDOWN=1]="SHUTDOWN"})(p=e.WillSaveStateReason||(e.WillSaveStateReason={}));class h extends N.Disposable{constructor(t={flushInterval:h.DEFAULT_FLUSH_INTERVAL}){super();this.options=t,this._onDidChangeValue=this._register(new y.PauseableEmitter),this._onDidChangeTarget=this._register(new y.PauseableEmitter),this._onWillSaveState=this._register(new y.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(t,r){r===C?(t===0?this._globalKeyTargets=void 0:t===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:t})):this._onDidChangeValue.fire({scope:t,key:r,target:this.getKeyTargets(t)[r]})}get(t,r,c){var l;return(l=this.getStorage(r))===null||l===void 0?void 0:l.get(t,c)}getBoolean(t,r,c){var l;return(l=this.getStorage(r))===null||l===void 0?void 0:l.getBoolean(t,c)}getNumber(t,r,c){var l;return(l=this.getStorage(r))===null||l===void 0?void 0:l.getNumber(t,c)}store(t,r,c,l){if((0,T.isUndefinedOrNull)(r)){this.remove(t,c);return}this.withPausedEmitters(()=>{var a;this.updateKeyTarget(t,c,l),(a=this.getStorage(c))===null||a===void 0||a.set(t,r)})}remove(t,r){this.withPausedEmitters(()=>{var c;this.updateKeyTarget(t,r,void 0),(c=this.getStorage(r))===null||c===void 0||c.delete(t)})}withPausedEmitters(t){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{t()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(t,r,c){var l,a;const s=this.getKeyTargets(r);typeof c=="number"?s[t]!==c&&(s[t]=c,(l=this.getStorage(r))===null||l===void 0||l.set(C,JSON.stringify(s))):typeof s[t]=="number"&&(delete s[t],(a=this.getStorage(r))===null||a===void 0||a.set(C,JSON.stringify(s)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(t){return t===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(t){const r=this.get(C,t);if(r)try{return JSON.parse(r)}catch(c){}return Object.create(null)}}e.AbstractStorageService=h,h.DEFAULT_FLUSH_INTERVAL=60*1e3;class g extends h{constructor(){super();this.globalStorage=this._register(new I.Storage(new I.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new I.Storage(new I.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(t=>this.emitDidChangeValue(1,t))),this._register(this.globalStorage.onDidChangeStorage(t=>this.emitDidChangeValue(0,t)))}getStorage(t){return t===0?this.globalStorage:this.workspaceStorage}}e.InMemoryStorageService=g}),define(ee[606],te([0,1,10,84,47,3,262,71,9,76]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,p.createDecorator)("ICodeLensCache");class g{constructor(r,c){this.lineCount=r,this.data=c}}let i=class{constructor(r){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new T.LRUCache(20,.75);const c="codelens/cache";(0,y.runWhenIdle)(()=>r.remove(c,1));const l="codelens/cache2",a=r.get(l,1,"{}");this._deserialize(a),(0,N.once)(r.onWillSaveState)(s=>{s.reason===h.WillSaveStateReason.SHUTDOWN&&r.store(l,this._serialize(),1,1)})}put(r,c){const l=c.lenses.map(o=>{var n;return{range:o.symbol.range,command:o.symbol.command&&{id:"",title:(n=o.symbol.command)===null||n===void 0?void 0:n.title}}}),a=new b.CodeLensModel;a.add({lenses:l,dispose:()=>{}},this._fakeProvider);const s=new g(r.getLineCount(),a);this._cache.set(r.uri.toString(),s)}get(r){const c=this._cache.get(r.uri.toString());return c&&c.lineCount===r.getLineCount()?c.data:void 0}delete(r){this._cache.delete(r.uri.toString())}_serialize(){const r=Object.create(null);for(const[c,l]of this._cache){const a=new Set;for(const s of l.data.lenses)a.add(s.symbol.range.startLineNumber);r[c]={lineCount:l.lineCount,lines:[...a.values()]}}return JSON.stringify(r)}_deserialize(r){try{const c=JSON.parse(r);for(const l in c){const a=c[l],s=[];for(const n of a.lines)s.push({range:new I.Range(n,1,n,11)});const o=new b.CodeLensModel;o.add({lenses:s,dispose(){}},this._fakeProvider),this._cache.set(l,new g(a.lineCount,o))}}catch(c){}}};i=Be([Ce(0,h.IStorageService)],i),e.CodeLensCache=i,(0,C.registerSingleton)(e.ICodeLensCache,i)}),define(ee[607],te([0,1,10,2,47,18,35,71,9,76]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class g{constructor(a){this.name=a}select(a,s,o){if(o.length===0)return 0;let n=o[0].score[0];for(let d=0;d<o.length;d++){const{score:u,completion:f}=o[d];if(u[0]!==n)break;if(f.preselect)return d}return 0}}e.Memory=g;class i extends g{constructor(){super("first")}memorize(a,s,o){}toJSON(){}fromJSON(){}}e.NoMemory=i;class t extends g{constructor(){super("recentlyUsed");this._cache=new T.LRUCache(300,.66),this._seq=0}memorize(a,s,o){const n=`${a.getLanguageId()}/${o.textLabel}`;this._cache.set(n,{touch:this._seq++,type:o.completion.kind,insertText:o.completion.insertText})}select(a,s,o){if(o.length===0)return 0;const n=a.getLineContent(s.lineNumber).substr(s.column-10,s.column-1);if(/\s$/.test(n))return super.select(a,s,o);let d=o[0].score[0],u=-1,f=-1,S=-1;for(let v=0;v<o.length&&o[v].score[0]===d;v++){const m=`${a.getLanguageId()}/${o[v].textLabel}`,_=this._cache.peek(m);if(_&&_.touch>S&&_.type===o[v].completion.kind&&_.insertText===o[v].completion.insertText&&(S=_.touch,f=v),o[v].completion.preselect&&u===-1)return u=v}return f!==-1?f:u!==-1?u:0}toJSON(){return this._cache.toJSON()}fromJSON(a){this._cache.clear();let s=0;for(const[o,n]of a)n.touch=s,n.type=typeof n.type=="number"?n.type:(0,I.completionKindFromString)(n.type),this._cache.set(o,n);this._seq=this._cache.size}}e.LRUMemory=t;class r extends g{constructor(){super("recentlyUsedByPrefix");this._trie=T.TernarySearchTree.forStrings(),this._seq=0}memorize(a,s,o){const{word:n}=a.getWordUntilPosition(s),d=`${a.getLanguageId()}/${n}`;this._trie.set(d,{type:o.completion.kind,insertText:o.completion.insertText,touch:this._seq++})}select(a,s,o){let{word:n}=a.getWordUntilPosition(s);if(!n)return super.select(a,s,o);let d=`${a.getLanguageId()}/${n}`,u=this._trie.get(d);if(u||(u=this._trie.findSubstr(d)),u)for(let f=0;f<o.length;f++){let{kind:S,insertText:v}=o[f].completion;if(S===u.type&&v===u.insertText)return f}return super.select(a,s,o)}toJSON(){let a=[];return this._trie.forEach((s,o)=>a.push([o,s])),a.sort((s,o)=>-(s[1].touch-o[1].touch)).forEach((s,o)=>s[1].touch=o),a.slice(0,200)}fromJSON(a){if(this._trie.clear(),a.length>0){this._seq=a[0][1].touch+1;for(const[s,o]of a)o.type=typeof o.type=="number"?o.type:(0,I.completionKindFromString)(o.type),this._trie.set(s,o)}}}e.PrefixMemory=r;let c=class Rt{constructor(a,s){this._storageService=a,this._configService=s,this._disposables=new N.DisposableStore,this._persistSoon=new y.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(a.onWillSaveState(o=>{o.reason===h.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(a,s,o){this._withStrategy(a,s).memorize(a,s,o),this._persistSoon.schedule()}select(a,s,o){return this._withStrategy(a,s).select(a,s,o)}_withStrategy(a,s){var o;const n=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:a.getLanguageIdAtPosition(s.lineNumber,s.column),resource:a.uri});if(((o=this._strategy)===null||o===void 0?void 0:o.name)!==n){this._saveState();const d=Rt._strategyCtors.get(n)||i;this._strategy=new d;try{const f=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,S=this._storageService.get(`${Rt._storagePrefix}/${n}`,f);S&&this._strategy.fromJSON(JSON.parse(S))}catch(u){}}return this._strategy}_saveState(){if(this._strategy){const s=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,o=JSON.stringify(this._strategy);this._storageService.store(`${Rt._storagePrefix}/${this._strategy.name}`,o,s,1)}}};c._strategyCtors=new Map([["recentlyUsedByPrefix",r],["recentlyUsed",t],["first",i]]),c._storagePrefix="suggest/memories",c=Be([Ce(0,h.IStorageService),Ce(1,b.IConfigurationService)],c),e.SuggestMemoryService=c,e.ISuggestMemoryService=(0,p.createDecorator)("ISuggestMemories"),(0,C.registerSingleton)(e.ISuggestMemoryService,c,!0)}),define(ee[83],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,y.createDecorator)("telemetryService")}),define(ee[608],te([0,1,463,13,69,2,47,79,20,558,26,35,124,9,41,594,76,83]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let o=class Pt extends l.PickerQuickAccessProvider{constructor(u,f,S,v,m,_){super(Pt.PREFIX,u);this.instantiationService=f,this.keybindingService=S,this.commandService=v,this.telemetryService=m,this.dialogService=_,this.commandsHistory=this._register(this.instantiationService.createInstance(n)),this.options=u}_getPicks(u,f,S){return Ae(this,void 0,void 0,function*(){const v=yield this.getCommandPicks(f,S);if(S.isCancellationRequested)return[];const m=[];for(const k of v){const D=(0,p.withNullAsUndefined)(Pt.WORD_FILTER(u,k.label)),M=k.commandAlias?(0,p.withNullAsUndefined)(Pt.WORD_FILTER(u,k.commandAlias)):void 0;D||M?(k.highlights={label:D,detail:this.options.showAlias?M:void 0},m.push(k)):u===k.commandId&&m.push(k)}const _=new Map;for(const k of m){const D=_.get(k.label);D?(k.description=k.commandId,D.description=D.commandId):_.set(k.label,k)}m.sort((k,D)=>{const M=this.commandsHistory.peek(k.commandId),O=this.commandsHistory.peek(D.commandId);return M&&O?M>O?-1:1:M?-1:O?1:k.label.localeCompare(D.label)});const L=[];let w=!1;for(let k=0;k<m.length;k++){const D=m[k],M=this.keybindingService.lookupKeybinding(D.commandId),O=M?(0,h.localize)(0,null,D.label,M.getAriaLabel()):D.label;k===0&&this.commandsHistory.peek(D.commandId)&&(L.push({type:"separator",label:(0,h.localize)(1,null)}),w=!0),k!==0&&w&&!this.commandsHistory.peek(D.commandId)&&(L.push({type:"separator",label:(0,h.localize)(2,null)}),w=!1),L.push(Object.assign(Object.assign({},D),{ariaLabel:O,detail:this.options.showAlias&&D.commandAlias!==D.label?D.commandAlias:void 0,keybinding:M,accept:()=>Ae(this,void 0,void 0,function*(){this.commandsHistory.push(D.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:D.commandId,from:"quick open"});try{yield this.commandService.executeCommand(D.commandId)}catch(F){(0,N.isPromiseCanceledError)(F)||this.dialogService.show(C.default.Error,(0,h.localize)(3,null,D.label,(0,y.toErrorMessage)(F)))}})}))}return L})}};o.PREFIX=">",o.WORD_FILTER=(0,T.or)(T.matchesPrefix,T.matchesWords,T.matchesContiguousSubString),o=Be([Ce(1,r.IInstantiationService),Ce(2,c.IKeybindingService),Ce(3,g.ICommandService),Ce(4,s.ITelemetryService),Ce(5,t.IDialogService)],o),e.AbstractCommandsQuickAccessProvider=o;let n=class tt extends I.Disposable{constructor(u,f){super();this.storageService=u,this.configurationService=f,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=tt.getConfiguredCommandHistoryLength(this.configurationService),tt.cache&&tt.cache.limit!==this.configuredCommandsHistoryLength&&(tt.cache.limit=this.configuredCommandsHistoryLength,tt.saveState(this.storageService))}load(){const u=this.storageService.get(tt.PREF_KEY_CACHE,0);let f;if(u)try{f=JSON.parse(u)}catch(v){}const S=tt.cache=new b.LRUCache(this.configuredCommandsHistoryLength,1);if(f){let v;f.usesLRU?v=f.entries:v=f.entries.sort((m,_)=>m.value-_.value),v.forEach(m=>S.set(m.key,m.value))}tt.counter=this.storageService.getNumber(tt.PREF_KEY_COUNTER,0,tt.counter)}push(u){!tt.cache||(tt.cache.set(u,tt.counter++),tt.saveState(this.storageService))}peek(u){var f;return(f=tt.cache)===null||f===void 0?void 0:f.peek(u)}static saveState(u){if(!tt.cache)return;const f={usesLRU:!0,entries:[]};tt.cache.forEach((S,v)=>f.entries.push({key:v,value:S})),u.store(tt.PREF_KEY_CACHE,JSON.stringify(f),0,0),u.store(tt.PREF_KEY_COUNTER,tt.counter,0,0)}static getConfiguredCommandHistoryLength(u){var f,S;const m=(S=(f=u.getValue().workbench)===null||f===void 0?void 0:f.commandPalette)===null||S===void 0?void 0:S.history;return typeof m=="number"?m:tt.DEFAULT_COMMANDS_HISTORY_LENGTH}};n.DEFAULT_COMMANDS_HISTORY_LENGTH=50,n.PREF_KEY_CACHE="commandPalette.mru.cache",n.PREF_KEY_COUNTER="commandPalette.mru.counter",n.counter=1,n=Be([Ce(0,a.IStorageService),Ce(1,i.IConfigurationService)],n),e.CommandsHistory=n}),define(ee[609],te([0,1,107,608]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class T extends N.AbstractCommandsQuickAccessProvider{constructor(b,C,p,h,g,i){super(b,C,p,h,g,i)}getCodeEditorCommandPicks(){const b=this.activeTextEditorControl;if(!b)return[];const C=[];for(const p of b.getSupportedActions())C.push({commandId:p.id,commandAlias:p.alias,label:(0,y.stripIcons)(p.label)||p.id});return C}}e.AbstractEditorCommandsQuickAccessProvider=T}),define(ee[22],te([0,1,10,29,4,20,560,191,33]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapUnicodeHighlight=e.minimapForegroundOpacity=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerUnicodeHighlightForeground=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonForeground=e.simpleCheckboxBorder=e.simpleCheckboxForeground=e.simpleCheckboxBackground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.foreground=e.registerColor=e.Extensions=e.asCssVariableName=void 0;function h(k){return`--vscode-${k.replace(".","-")}`}e.asCssVariableName=h,e.Extensions={ColorContribution:"base.contributions.colors"};class g{constructor(){this._onDidChangeSchema=new T.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(D,M,O,F=!1,R){let A={id:D,description:O,defaults:M,needsTransparency:F,deprecationMessage:R};this.colorsById[D]=A;let P={type:"string",description:O,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return R&&(P.deprecationMessage=R),this.colorSchema.properties[D]=P,this.colorReferenceSchema.enum.push(D),this.colorReferenceSchema.enumDescriptions.push(O),this._onDidChangeSchema.fire(),D}getColors(){return Object.keys(this.colorsById).map(D=>this.colorsById[D])}resolveDefaultColor(D,M){const O=this.colorsById[D];if(O&&O.defaults){const F=O.defaults[M.type];return _(F,M)}}getColorSchema(){return this.colorSchema}toString(){let D=(M,O)=>{let F=M.indexOf(".")===-1?0:1,R=O.indexOf(".")===-1?0:1;return F!==R?F-R:M.localeCompare(O)};return Object.keys(this.colorsById).sort(D).map(M=>`- \`${M}\`: ${this.colorsById[M].description}`).join(`
`)}}const i=new g;p.Registry.add(e.Extensions.ColorContribution,i);function t(k,D,M,O,F){return i.registerColor(k,D,M,O,F)}e.registerColor=t,e.foreground=t("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},b.localize(0,null)),e.errorForeground=t("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},b.localize(1,null)),e.descriptionForeground=t("descriptionForeground",{light:"#717171",dark:f(e.foreground,.7),hc:f(e.foreground,.7)},b.localize(2,null)),e.iconForeground=t("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},b.localize(3,null)),e.focusBorder=t("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},b.localize(4,null)),e.contrastBorder=t("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},b.localize(5,null)),e.activeContrastBorder=t("contrastActiveBorder",{light:null,dark:null,hc:e.focusBorder},b.localize(6,null)),e.selectionBackground=t("selection.background",{light:null,dark:null,hc:null},b.localize(7,null)),e.textSeparatorForeground=t("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:N.Color.black},b.localize(8,null)),e.textLinkForeground=t("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},b.localize(9,null)),e.textLinkActiveForeground=t("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},b.localize(10,null)),e.textPreformatForeground=t("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},b.localize(11,null)),e.textBlockQuoteBackground=t("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},b.localize(12,null)),e.textBlockQuoteBorder=t("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:N.Color.white},b.localize(13,null)),e.textCodeBlockBackground=t("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:N.Color.black},b.localize(14,null)),e.widgetShadow=t("widget.shadow",{dark:f(N.Color.black,.36),light:f(N.Color.black,.16),hc:null},b.localize(15,null)),e.inputBackground=t("input.background",{dark:"#3C3C3C",light:N.Color.white,hc:N.Color.black},b.localize(16,null)),e.inputForeground=t("input.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},b.localize(17,null)),e.inputBorder=t("input.border",{dark:null,light:null,hc:e.contrastBorder},b.localize(18,null)),e.inputActiveOptionBorder=t("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:e.contrastBorder},b.localize(19,null)),e.inputActiveOptionHoverBackground=t("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hc:null},b.localize(20,null)),e.inputActiveOptionBackground=t("inputOption.activeBackground",{dark:f(e.focusBorder,.4),light:f(e.focusBorder,.2),hc:N.Color.transparent},b.localize(21,null)),e.inputActiveOptionForeground=t("inputOption.activeForeground",{dark:N.Color.white,light:N.Color.black,hc:null},b.localize(22,null)),e.inputPlaceholderForeground=t("input.placeholderForeground",{light:f(e.foreground,.5),dark:f(e.foreground,.5),hc:f(e.foreground,.7)},b.localize(23,null)),e.inputValidationInfoBackground=t("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:N.Color.black},b.localize(24,null)),e.inputValidationInfoForeground=t("inputValidation.infoForeground",{dark:null,light:null,hc:null},b.localize(25,null)),e.inputValidationInfoBorder=t("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:e.contrastBorder},b.localize(26,null)),e.inputValidationWarningBackground=t("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:N.Color.black},b.localize(27,null)),e.inputValidationWarningForeground=t("inputValidation.warningForeground",{dark:null,light:null,hc:null},b.localize(28,null)),e.inputValidationWarningBorder=t("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:e.contrastBorder},b.localize(29,null)),e.inputValidationErrorBackground=t("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:N.Color.black},b.localize(30,null)),e.inputValidationErrorForeground=t("inputValidation.errorForeground",{dark:null,light:null,hc:null},b.localize(31,null)),e.inputValidationErrorBorder=t("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},b.localize(32,null)),e.selectBackground=t("dropdown.background",{dark:"#3C3C3C",light:N.Color.white,hc:N.Color.black},b.localize(33,null)),e.selectListBackground=t("dropdown.listBackground",{dark:null,light:null,hc:N.Color.black},b.localize(34,null)),e.selectForeground=t("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:N.Color.white},b.localize(35,null)),e.selectBorder=t("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hc:e.contrastBorder},b.localize(36,null)),e.simpleCheckboxBackground=t("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},b.localize(37,null)),e.simpleCheckboxForeground=t("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hc:e.selectForeground},b.localize(38,null)),e.simpleCheckboxBorder=t("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hc:e.selectBorder},b.localize(39,null)),e.buttonForeground=t("button.foreground",{dark:N.Color.white,light:N.Color.white,hc:N.Color.white},b.localize(40,null)),e.buttonBackground=t("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},b.localize(41,null)),e.buttonHoverBackground=t("button.hoverBackground",{dark:u(e.buttonBackground,.2),light:d(e.buttonBackground,.2),hc:null},b.localize(42,null)),e.buttonBorder=t("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hc:e.contrastBorder},b.localize(43,null)),e.buttonSecondaryForeground=t("button.secondaryForeground",{dark:N.Color.white,light:N.Color.white,hc:N.Color.white},b.localize(44,null)),e.buttonSecondaryBackground=t("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hc:null},b.localize(45,null)),e.buttonSecondaryHoverBackground=t("button.secondaryHoverBackground",{dark:u(e.buttonSecondaryBackground,.2),light:d(e.buttonSecondaryBackground,.2),hc:null},b.localize(46,null)),e.badgeBackground=t("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:N.Color.black},b.localize(47,null)),e.badgeForeground=t("badge.foreground",{dark:N.Color.white,light:"#333",hc:N.Color.white},b.localize(48,null)),e.scrollbarShadow=t("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},b.localize(49,null)),e.scrollbarSliderBackground=t("scrollbarSlider.background",{dark:N.Color.fromHex("#797979").transparent(.4),light:N.Color.fromHex("#646464").transparent(.4),hc:f(e.contrastBorder,.6)},b.localize(50,null)),e.scrollbarSliderHoverBackground=t("scrollbarSlider.hoverBackground",{dark:N.Color.fromHex("#646464").transparent(.7),light:N.Color.fromHex("#646464").transparent(.7),hc:f(e.contrastBorder,.8)},b.localize(51,null)),e.scrollbarSliderActiveBackground=t("scrollbarSlider.activeBackground",{dark:N.Color.fromHex("#BFBFBF").transparent(.4),light:N.Color.fromHex("#000000").transparent(.6),hc:e.contrastBorder},b.localize(52,null)),e.progressBarBackground=t("progressBar.background",{dark:N.Color.fromHex("#0E70C0"),light:N.Color.fromHex("#0E70C0"),hc:e.contrastBorder},b.localize(53,null)),e.editorErrorBackground=t("editorError.background",{dark:null,light:null,hc:null},b.localize(54,null),!0),e.editorErrorForeground=t("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},b.localize(55,null)),e.editorErrorBorder=t("editorError.border",{dark:null,light:null,hc:N.Color.fromHex("#E47777").transparent(.8)},b.localize(56,null)),e.editorWarningBackground=t("editorWarning.background",{dark:null,light:null,hc:null},b.localize(57,null),!0),e.editorWarningForeground=t("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},b.localize(58,null)),e.editorWarningBorder=t("editorWarning.border",{dark:null,light:null,hc:N.Color.fromHex("#FFCC00").transparent(.8)},b.localize(59,null)),e.editorInfoBackground=t("editorInfo.background",{dark:null,light:null,hc:null},b.localize(60,null),!0),e.editorInfoForeground=t("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},b.localize(61,null)),e.editorInfoBorder=t("editorInfo.border",{dark:null,light:null,hc:N.Color.fromHex("#3794FF").transparent(.8)},b.localize(62,null)),e.editorHintForeground=t("editorHint.foreground",{dark:N.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},b.localize(63,null)),e.editorHintBorder=t("editorHint.border",{dark:null,light:null,hc:N.Color.fromHex("#eeeeee").transparent(.8)},b.localize(64,null)),e.sashHoverBorder=t("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hc:e.focusBorder},b.localize(65,null)),e.editorBackground=t("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:N.Color.black},b.localize(66,null)),e.editorForeground=t("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:N.Color.white},b.localize(67,null)),e.editorWidgetBackground=t("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},b.localize(68,null)),e.editorWidgetForeground=t("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},b.localize(69,null)),e.editorWidgetBorder=t("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:e.contrastBorder},b.localize(70,null)),e.editorWidgetResizeBorder=t("editorWidget.resizeBorder",{light:null,dark:null,hc:null},b.localize(71,null)),e.quickInputBackground=t("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hc:e.editorWidgetBackground},b.localize(72,null)),e.quickInputForeground=t("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hc:e.editorWidgetForeground},b.localize(73,null)),e.quickInputTitleBackground=t("quickInputTitle.background",{dark:new N.Color(new N.RGBA(255,255,255,.105)),light:new N.Color(new N.RGBA(0,0,0,.06)),hc:"#000000"},b.localize(74,null)),e.pickerGroupForeground=t("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:N.Color.white},b.localize(75,null)),e.pickerGroupBorder=t("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:N.Color.white},b.localize(76,null)),e.keybindingLabelBackground=t("keybindingLabel.background",{dark:new N.Color(new N.RGBA(128,128,128,.17)),light:new N.Color(new N.RGBA(221,221,221,.4)),hc:N.Color.transparent},b.localize(77,null)),e.keybindingLabelForeground=t("keybindingLabel.foreground",{dark:N.Color.fromHex("#CCCCCC"),light:N.Color.fromHex("#555555"),hc:N.Color.white},b.localize(78,null)),e.keybindingLabelBorder=t("keybindingLabel.border",{dark:new N.Color(new N.RGBA(51,51,51,.6)),light:new N.Color(new N.RGBA(204,204,204,.4)),hc:new N.Color(new N.RGBA(111,195,223))},b.localize(79,null)),e.keybindingLabelBottomBorder=t("keybindingLabel.bottomBorder",{dark:new N.Color(new N.RGBA(68,68,68,.6)),light:new N.Color(new N.RGBA(187,187,187,.4)),hc:new N.Color(new N.RGBA(111,195,223))},b.localize(80,null)),e.editorSelectionBackground=t("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},b.localize(81,null)),e.editorSelectionForeground=t("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},b.localize(82,null)),e.editorInactiveSelection=t("editor.inactiveSelectionBackground",{light:f(e.editorSelectionBackground,.5),dark:f(e.editorSelectionBackground,.5),hc:f(e.editorSelectionBackground,.5)},b.localize(83,null),!0),e.editorSelectionHighlight=t("editor.selectionHighlightBackground",{light:m(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:m(e.editorSelectionBackground,e.editorBackground,.3,.6),hc:null},b.localize(84,null),!0),e.editorSelectionHighlightBorder=t("editor.selectionHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},b.localize(85,null)),e.editorFindMatch=t("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},b.localize(86,null)),e.editorFindMatchHighlight=t("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},b.localize(87,null),!0),e.editorFindRangeHighlight=t("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},b.localize(88,null),!0),e.editorFindMatchBorder=t("editor.findMatchBorder",{light:null,dark:null,hc:e.activeContrastBorder},b.localize(89,null)),e.editorFindMatchHighlightBorder=t("editor.findMatchHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},b.localize(90,null)),e.editorFindRangeHighlightBorder=t("editor.findRangeHighlightBorder",{dark:null,light:null,hc:f(e.activeContrastBorder,.4)},b.localize(91,null),!0),e.searchEditorFindMatch=t("searchEditor.findMatchBackground",{light:f(e.editorFindMatchHighlight,.66),dark:f(e.editorFindMatchHighlight,.66),hc:e.editorFindMatchHighlight},b.localize(92,null)),e.searchEditorFindMatchBorder=t("searchEditor.findMatchBorder",{light:f(e.editorFindMatchHighlightBorder,.66),dark:f(e.editorFindMatchHighlightBorder,.66),hc:e.editorFindMatchHighlightBorder},b.localize(93,null)),e.editorHoverHighlight=t("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},b.localize(94,null),!0),e.editorHoverBackground=t("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},b.localize(95,null)),e.editorHoverForeground=t("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hc:e.editorWidgetForeground},b.localize(96,null)),e.editorHoverBorder=t("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hc:e.editorWidgetBorder},b.localize(97,null)),e.editorHoverStatusBarBackground=t("editorHoverWidget.statusBarBackground",{dark:u(e.editorHoverBackground,.2),light:d(e.editorHoverBackground,.05),hc:e.editorWidgetBackground},b.localize(98,null)),e.editorActiveLinkForeground=t("editorLink.activeForeground",{dark:"#4E94CE",light:N.Color.blue,hc:N.Color.cyan},b.localize(99,null)),e.editorInlayHintForeground=t("editorInlayHint.foreground",{dark:f(e.badgeForeground,.8),light:f(e.badgeForeground,.8),hc:e.badgeForeground},b.localize(100,null)),e.editorInlayHintBackground=t("editorInlayHint.background",{dark:f(e.badgeBackground,.6),light:f(e.badgeBackground,.3),hc:e.badgeBackground},b.localize(101,null)),e.editorInlayHintTypeForeground=t("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hc:e.editorInlayHintForeground},b.localize(102,null)),e.editorInlayHintTypeBackground=t("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hc:e.editorInlayHintBackground},b.localize(103,null)),e.editorInlayHintParameterForeground=t("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hc:e.editorInlayHintForeground},b.localize(104,null)),e.editorInlayHintParameterBackground=t("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hc:e.editorInlayHintBackground},b.localize(105,null)),e.editorLightBulbForeground=t("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},b.localize(106,null)),e.editorLightBulbAutoFixForeground=t("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},b.localize(107,null)),e.defaultInsertColor=new N.Color(new N.RGBA(155,185,85,.2)),e.defaultRemoveColor=new N.Color(new N.RGBA(255,0,0,.2)),e.diffInserted=t("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hc:null},b.localize(108,null),!0),e.diffRemoved=t("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hc:null},b.localize(109,null),!0),e.diffInsertedOutline=t("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},b.localize(110,null)),e.diffRemovedOutline=t("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},b.localize(111,null)),e.diffBorder=t("diffEditor.border",{dark:null,light:null,hc:e.contrastBorder},b.localize(112,null)),e.diffDiagonalFill=t("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},b.localize(113,null)),e.listFocusBackground=t("list.focusBackground",{dark:null,light:null,hc:null},b.localize(114,null)),e.listFocusForeground=t("list.focusForeground",{dark:null,light:null,hc:null},b.localize(115,null)),e.listFocusOutline=t("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hc:e.activeContrastBorder},b.localize(116,null)),e.listActiveSelectionBackground=t("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},b.localize(117,null)),e.listActiveSelectionForeground=t("list.activeSelectionForeground",{dark:N.Color.white,light:N.Color.white,hc:null},b.localize(118,null)),e.listActiveSelectionIconForeground=t("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},b.localize(119,null)),e.listInactiveSelectionBackground=t("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},b.localize(120,null)),e.listInactiveSelectionForeground=t("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},b.localize(121,null)),e.listInactiveSelectionIconForeground=t("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},b.localize(122,null)),e.listInactiveFocusBackground=t("list.inactiveFocusBackground",{dark:null,light:null,hc:null},b.localize(123,null)),e.listInactiveFocusOutline=t("list.inactiveFocusOutline",{dark:null,light:null,hc:null},b.localize(124,null)),e.listHoverBackground=t("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},b.localize(125,null)),e.listHoverForeground=t("list.hoverForeground",{dark:null,light:null,hc:null},b.localize(126,null)),e.listDropBackground=t("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},b.localize(127,null)),e.listHighlightForeground=t("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:e.focusBorder},b.localize(128,null)),e.listFocusHighlightForeground=t("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:v(e.listActiveSelectionBackground,e.listHighlightForeground,"#9DDDFF"),hc:e.listHighlightForeground},b.localize(129,null)),e.listInvalidItemForeground=t("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hc:"#B89500"},b.localize(130,null)),e.listErrorForeground=t("list.errorForeground",{dark:"#F88070",light:"#B01011",hc:null},b.localize(131,null)),e.listWarningForeground=t("list.warningForeground",{dark:"#CCA700",light:"#855F00",hc:null},b.localize(132,null)),e.listFilterWidgetBackground=t("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:N.Color.black},b.localize(133,null)),e.listFilterWidgetOutline=t("listFilterWidget.outline",{dark:N.Color.transparent,light:N.Color.transparent,hc:"#f38518"},b.localize(134,null)),e.listFilterWidgetNoMatchesOutline=t("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},b.localize(135,null)),e.listFilterMatchHighlight=t("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hc:null},b.localize(136,null)),e.listFilterMatchHighlightBorder=t("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hc:e.contrastBorder},b.localize(137,null)),e.treeIndentGuidesStroke=t("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},b.localize(138,null)),e.tableColumnsBorder=t("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},b.localize(139,null)),e.tableOddRowsBackgroundColor=t("tree.tableOddRowsBackground",{dark:f(e.foreground,.04),light:f(e.foreground,.04),hc:null},b.localize(140,null)),e.listDeemphasizedForeground=t("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hc:"#A7A8A9"},b.localize(141,null)),e._deprecatedQuickInputListFocusBackground=t("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,b.localize(142,null)),e.quickInputListFocusForeground=t("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},b.localize(143,null)),e.quickInputListFocusIconForeground=t("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hc:e.listActiveSelectionIconForeground},b.localize(144,null)),e.quickInputListFocusBackground=t("quickInputList.focusBackground",{dark:S(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:S(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hc:null},b.localize(145,null)),e.menuBorder=t("menu.border",{dark:null,light:null,hc:e.contrastBorder},b.localize(146,null)),e.menuForeground=t("menu.foreground",{dark:e.selectForeground,light:e.foreground,hc:e.selectForeground},b.localize(147,null)),e.menuBackground=t("menu.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},b.localize(148,null)),e.menuSelectionForeground=t("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},b.localize(149,null)),e.menuSelectionBackground=t("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hc:e.listActiveSelectionBackground},b.localize(150,null)),e.menuSelectionBorder=t("menu.selectionBorder",{dark:null,light:null,hc:e.activeContrastBorder},b.localize(151,null)),e.menuSeparatorBackground=t("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:e.contrastBorder},b.localize(152,null)),e.toolbarHoverBackground=t("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},b.localize(153,null)),e.toolbarHoverOutline=t("toolbar.hoverOutline",{dark:null,light:null,hc:e.activeContrastBorder},b.localize(154,null)),e.toolbarActiveBackground=t("toolbar.activeBackground",{dark:u(e.toolbarHoverBackground,.1),light:d(e.toolbarHoverBackground,.1),hc:null},b.localize(155,null)),e.snippetTabstopHighlightBackground=t("editor.snippetTabstopHighlightBackground",{dark:new N.Color(new N.RGBA(124,124,124,.3)),light:new N.Color(new N.RGBA(10,50,100,.2)),hc:new N.Color(new N.RGBA(124,124,124,.3))},b.localize(156,null)),e.snippetTabstopHighlightBorder=t("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},b.localize(157,null)),e.snippetFinalTabstopHighlightBackground=t("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},b.localize(158,null)),e.snippetFinalTabstopHighlightBorder=t("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new N.Color(new N.RGBA(10,50,100,.5)),hc:"#525252"},b.localize(159,null)),e.breadcrumbsForeground=t("breadcrumb.foreground",{light:f(e.foreground,.8),dark:f(e.foreground,.8),hc:f(e.foreground,.8)},b.localize(160,null)),e.breadcrumbsBackground=t("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hc:e.editorBackground},b.localize(161,null)),e.breadcrumbsFocusForeground=t("breadcrumb.focusForeground",{light:d(e.foreground,.2),dark:u(e.foreground,.1),hc:u(e.foreground,.1)},b.localize(162,null)),e.breadcrumbsActiveSelectionForeground=t("breadcrumb.activeSelectionForeground",{light:d(e.foreground,.2),dark:u(e.foreground,.1),hc:u(e.foreground,.1)},b.localize(163,null)),e.breadcrumbsPickerBackground=t("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},b.localize(164,null));const r=.5,c=N.Color.fromHex("#40C8AE").transparent(r),l=N.Color.fromHex("#40A6FF").transparent(r),a=N.Color.fromHex("#606060").transparent(.4),s=.4,o=1;e.mergeCurrentHeaderBackground=t("merge.currentHeaderBackground",{dark:c,light:c,hc:null},b.localize(165,null),!0),e.mergeCurrentContentBackground=t("merge.currentContentBackground",{dark:f(e.mergeCurrentHeaderBackground,s),light:f(e.mergeCurrentHeaderBackground,s),hc:f(e.mergeCurrentHeaderBackground,s)},b.localize(166,null),!0),e.mergeIncomingHeaderBackground=t("merge.incomingHeaderBackground",{dark:l,light:l,hc:null},b.localize(167,null),!0),e.mergeIncomingContentBackground=t("merge.incomingContentBackground",{dark:f(e.mergeIncomingHeaderBackground,s),light:f(e.mergeIncomingHeaderBackground,s),hc:f(e.mergeIncomingHeaderBackground,s)},b.localize(168,null),!0),e.mergeCommonHeaderBackground=t("merge.commonHeaderBackground",{dark:a,light:a,hc:null},b.localize(169,null),!0),e.mergeCommonContentBackground=t("merge.commonContentBackground",{dark:f(e.mergeCommonHeaderBackground,s),light:f(e.mergeCommonHeaderBackground,s),hc:f(e.mergeCommonHeaderBackground,s)},b.localize(170,null),!0),e.mergeBorder=t("merge.border",{dark:null,light:null,hc:"#C3DF6F"},b.localize(171,null)),e.overviewRulerCurrentContentForeground=t("editorOverviewRuler.currentContentForeground",{dark:f(e.mergeCurrentHeaderBackground,o),light:f(e.mergeCurrentHeaderBackground,o),hc:e.mergeBorder},b.localize(172,null)),e.overviewRulerIncomingContentForeground=t("editorOverviewRuler.incomingContentForeground",{dark:f(e.mergeIncomingHeaderBackground,o),light:f(e.mergeIncomingHeaderBackground,o),hc:e.mergeBorder},b.localize(173,null)),e.overviewRulerCommonContentForeground=t("editorOverviewRuler.commonContentForeground",{dark:f(e.mergeCommonHeaderBackground,o),light:f(e.mergeCommonHeaderBackground,o),hc:e.mergeBorder},b.localize(174,null)),e.overviewRulerFindMatchForeground=t("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},b.localize(175,null),!0),e.overviewRulerSelectionHighlightForeground=t("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},b.localize(176,null),!0),e.overviewRulerUnicodeHighlightForeground=t("editorOverviewRuler.unicodeForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},b.localize(177,null),!0),e.minimapFindMatch=t("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},b.localize(178,null),!0),e.minimapSelectionOccurrenceHighlight=t("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},b.localize(179,null),!0),e.minimapSelection=t("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},b.localize(180,null),!0),e.minimapError=t("minimap.errorHighlight",{dark:new N.Color(new N.RGBA(255,18,18,.7)),light:new N.Color(new N.RGBA(255,18,18,.7)),hc:new N.Color(new N.RGBA(255,50,50,1))},b.localize(181,null)),e.minimapWarning=t("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningBorder},b.localize(182,null)),e.minimapBackground=t("minimap.background",{dark:null,light:null,hc:null},b.localize(183,null)),e.minimapForegroundOpacity=t("minimap.foregroundOpacity",{dark:N.Color.fromHex("#000f"),light:N.Color.fromHex("#000f"),hc:N.Color.fromHex("#000f")},b.localize(184,null)),e.minimapUnicodeHighlight=t("minimap.unicodeHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},b.localize(185,null)),e.minimapSliderBackground=t("minimapSlider.background",{light:f(e.scrollbarSliderBackground,.5),dark:f(e.scrollbarSliderBackground,.5),hc:f(e.scrollbarSliderBackground,.5)},b.localize(186,null)),e.minimapSliderHoverBackground=t("minimapSlider.hoverBackground",{light:f(e.scrollbarSliderHoverBackground,.5),dark:f(e.scrollbarSliderHoverBackground,.5),hc:f(e.scrollbarSliderHoverBackground,.5)},b.localize(187,null)),e.minimapSliderActiveBackground=t("minimapSlider.activeBackground",{light:f(e.scrollbarSliderActiveBackground,.5),dark:f(e.scrollbarSliderActiveBackground,.5),hc:f(e.scrollbarSliderActiveBackground,.5)},b.localize(188,null)),e.problemsErrorIconForeground=t("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},b.localize(189,null)),e.problemsWarningIconForeground=t("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},b.localize(190,null)),e.problemsInfoIconForeground=t("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},b.localize(191,null)),e.chartsForeground=t("charts.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},b.localize(192,null)),e.chartsLines=t("charts.lines",{dark:f(e.foreground,.5),light:f(e.foreground,.5),hc:f(e.foreground,.5)},b.localize(193,null)),e.chartsRed=t("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},b.localize(194,null)),e.chartsBlue=t("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},b.localize(195,null)),e.chartsYellow=t("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},b.localize(196,null)),e.chartsOrange=t("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hc:e.minimapFindMatch},b.localize(197,null)),e.chartsGreen=t("charts.green",{dark:"#89D185",light:"#388A34",hc:"#89D185"},b.localize(198,null)),e.chartsPurple=t("charts.purple",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},b.localize(199,null));function n(k,D){var M,O,F;switch(k.op){case 0:return(M=_(k.value,D))===null||M===void 0?void 0:M.darken(k.factor);case 1:return(O=_(k.value,D))===null||O===void 0?void 0:O.lighten(k.factor);case 2:return(F=_(k.value,D))===null||F===void 0?void 0:F.transparent(k.factor);case 3:for(const P of k.values){const E=_(P,D);if(E)return E}return;case 5:return _(D.defines(k.if)?k.then:k.else,D);case 4:const R=_(k.value,D);if(!R)return;const A=_(k.background,D);return A?R.isDarkerThan(A)?N.Color.getLighterColor(R,A,k.factor).transparent(k.transparency):N.Color.getDarkerColor(R,A,k.factor).transparent(k.transparency):R.transparent(k.factor*k.transparency);default:throw(0,I.assertNever)(k)}}e.executeTransform=n;function d(k,D){return{op:0,value:k,factor:D}}e.darken=d;function u(k,D){return{op:1,value:k,factor:D}}e.lighten=u;function f(k,D){return{op:2,value:k,factor:D}}e.transparent=f;function S(...k){return{op:3,values:k}}e.oneOf=S;function v(k,D,M){return{op:5,if:k,then:D,else:M}}e.ifDefinedThenElse=v;function m(k,D,M,O){return{op:4,value:k,background:D,factor:M,transparency:O}}function _(k,D){if(k!==null){if(typeof k=="string")return k[0]==="#"?N.Color.fromHex(k):D.getColor(k);if(k instanceof N.Color)return k;if(typeof k=="object")return n(k,D)}}e.resolveColorValue=_,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";let L=p.Registry.as(C.Extensions.JSONContribution);L.registerSchema(e.workbenchColorsSchemaId,i.getColorSchema());const w=new y.RunOnceScheduler(()=>L.notifySchemaChanged(e.workbenchColorsSchemaId),200);i.onDidChangeSchema(()=>{w.isScheduled()||w.schedule()})}),define(ee[127],te([0,1,7,96,57,10,2,22]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorMouseMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createEditorPagePosition=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class p{constructor(d,u){this.x=d,this.y=u,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new h(this.x-y.StandardWindow.scrollX,this.y-y.StandardWindow.scrollY)}}e.PageCoordinates=p;class h{constructor(d,u){this.clientX=d,this.clientY=u,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new p(this.clientX+y.StandardWindow.scrollX,this.clientY+y.StandardWindow.scrollY)}}e.ClientCoordinates=h;class g{constructor(d,u,f,S){this.x=d,this.y=u,this.width=f,this.height=S,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=g;function i(n){const d=y.getDomNodePagePosition(n);return new g(d.left,d.top,d.width,d.height)}e.createEditorPagePosition=i;class t extends T.StandardMouseEvent{constructor(d,u){super(d);this._editorMouseEventBrand=void 0,this.pos=new p(this.posx,this.posy),this.editorPos=i(u)}}e.EditorMouseEvent=t;class r{constructor(d){this._editorViewDomNode=d}_create(d){return new t(d,this._editorViewDomNode)}onContextMenu(d,u){return y.addDisposableListener(d,"contextmenu",f=>{u(this._create(f))})}onMouseUp(d,u){return y.addDisposableListener(d,"mouseup",f=>{u(this._create(f))})}onMouseDown(d,u){return y.addDisposableListener(d,"mousedown",f=>{u(this._create(f))})}onMouseLeave(d,u){return y.addDisposableNonBubblingMouseOutListener(d,f=>{u(this._create(f))})}onMouseMoveThrottled(d,u,f,S){const v=(m,_)=>f(m,this._create(_));return y.addDisposableThrottledListener(d,"mousemove",u,v,S)}}e.EditorMouseEventFactory=r;class c{constructor(d){this._editorViewDomNode=d}_create(d){return new t(d,this._editorViewDomNode)}onPointerUp(d,u){return y.addDisposableListener(d,"pointerup",f=>{u(this._create(f))})}onPointerDown(d,u){return y.addDisposableListener(d,"pointerdown",f=>{u(this._create(f))})}onPointerLeave(d,u){return y.addDisposableNonBubblingPointerOutListener(d,f=>{u(this._create(f))})}onPointerMoveThrottled(d,u,f,S){const v=(m,_)=>f(m,this._create(_));return y.addDisposableThrottledListener(d,"pointermove",u,v,S)}}e.EditorPointerEventFactory=c;class l extends b.Disposable{constructor(d){super();this._editorViewDomNode=d,this._globalMouseMoveMonitor=this._register(new N.GlobalMouseMoveMonitor),this._keydownListener=null}startMonitoring(d,u,f,S,v){this._keydownListener=y.addStandardDisposableListener(document,"keydown",_=>{_.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,_.browserEvent)},!0);const m=(_,L)=>f(_,new t(L,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(d,u,m,S,_=>{this._keydownListener.dispose(),v(_)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorMouseMoveMonitor=l;class a{constructor(d){this._editor=d,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new I.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(d){const u=this.getOrCreateRule(d);return u.increaseRefCount(),{className:u.className,dispose:()=>{u.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(d){const u=this.computeUniqueKey(d);let f=this._rules.get(u);if(!f){const S=this._counter++;f=new s(u,`dyn-rule-${S}`,y.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,d),this._rules.set(u,f)}return f}computeUniqueKey(d){return JSON.stringify(d)}garbageCollect(){for(const d of this._rules.values())d.hasReferences()||(this._rules.delete(d.key),d.dispose())}}e.DynamicCssRules=a;class s{constructor(d,u,f,S){this.key=d,this.className=u,this.properties=S,this._referenceCount=0,this._styleElement=y.createStyleSheet(f),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(d,u){let f=`.${d} {`;for(const S in u){const v=u[S];let m;typeof v=="object"?m=`var(${(0,C.asCssVariableName)(v.id)})`:m=v,f+=`
	${o(S)}: ${m};`}return f+=`
}`,f}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function o(n){return n.replace(/(^[A-Z])/,([d])=>d.toLowerCase()).replace(/([A-Z])/g,([d])=>`-${d.toLowerCase()}`)}}),define(ee[128],te([0,1,22]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function N(p,h){const g=Object.create(null);for(let i in h){const t=h[i];t&&(g[i]=(0,y.resolveColorValue)(t,p))}return g}e.computeStyles=N;function T(p,h,g){function i(){const t=N(p.getColorTheme(),h);typeof g=="function"?g(t):g.style(t)}return i(),p.onDidColorThemeChange(i)}e.attachStyler=T;function I(p,h,g){return T(h,{badgeBackground:(g==null?void 0:g.badgeBackground)||y.badgeBackground,badgeForeground:(g==null?void 0:g.badgeForeground)||y.badgeForeground,badgeBorder:y.contrastBorder},p)}e.attachBadgeStyler=I;function b(p,h,g){return T(h,Object.assign(Object.assign({},e.defaultListStyles),g||{}),p)}e.attachListStyler=b,e.defaultListStyles={listFocusBackground:y.listFocusBackground,listFocusForeground:y.listFocusForeground,listFocusOutline:y.listFocusOutline,listActiveSelectionBackground:y.listActiveSelectionBackground,listActiveSelectionForeground:y.listActiveSelectionForeground,listActiveSelectionIconForeground:y.listActiveSelectionIconForeground,listFocusAndSelectionBackground:y.listActiveSelectionBackground,listFocusAndSelectionForeground:y.listActiveSelectionForeground,listInactiveSelectionBackground:y.listInactiveSelectionBackground,listInactiveSelectionIconForeground:y.listInactiveSelectionIconForeground,listInactiveSelectionForeground:y.listInactiveSelectionForeground,listInactiveFocusBackground:y.listInactiveFocusBackground,listInactiveFocusOutline:y.listInactiveFocusOutline,listHoverBackground:y.listHoverBackground,listHoverForeground:y.listHoverForeground,listDropBackground:y.listDropBackground,listSelectionOutline:y.activeContrastBorder,listHoverOutline:y.activeContrastBorder,listFilterWidgetBackground:y.listFilterWidgetBackground,listFilterWidgetOutline:y.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:y.listFilterWidgetNoMatchesOutline,listMatchesShadow:y.widgetShadow,treeIndentGuidesStroke:y.treeIndentGuidesStroke,tableColumnsBorder:y.tableColumnsBorder,tableOddRowsBackgroundColor:y.tableOddRowsBackgroundColor},e.defaultMenuStyles={shadowColor:y.widgetShadow,borderColor:y.menuBorder,foregroundColor:y.menuForeground,backgroundColor:y.menuBackground,selectionForegroundColor:y.menuSelectionForeground,selectionBackgroundColor:y.menuSelectionBackground,selectionBorderColor:y.menuSelectionBorder,separatorColor:y.menuSeparatorBackground,scrollbarShadow:y.scrollbarShadow,scrollbarSliderBackground:y.scrollbarSliderBackground,scrollbarSliderHoverBackground:y.scrollbarSliderHoverBackground,scrollbarSliderActiveBackground:y.scrollbarSliderActiveBackground};function C(p,h,g){return T(h,Object.assign(Object.assign({},e.defaultMenuStyles),g),p)}e.attachMenuStyler=C}),define(ee[610],te([0,1,7,57,460,51,13,2,128,387]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class h{constructor(i,t,r,c,l){this.contextViewService=i,this.telemetryService=t,this.notificationService=r,this.keybindingService=c,this.themeService=l,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(i){this.options=i}showContextMenu(i){const t=i.getActions();if(!t.length)return;this.focusToReturn=document.activeElement;let r,c=(0,y.isHTMLElement)(i.domForShadowRoot)?i.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>i.getAnchor(),canRelayout:!1,anchorAlignment:i.anchorAlignment,anchorAxisAlignment:i.anchorAxisAlignment,render:l=>{let a=i.getMenuClassName?i.getMenuClassName():"";a&&(l.className+=" "+a),this.options.blockMouse&&(this.block=l.appendChild((0,y.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,y.addDisposableListener)(this.block,y.EventType.MOUSE_DOWN,n=>n.stopPropagation()));const s=new C.DisposableStore,o=i.actionRunner||new I.ActionRunner;return o.onBeforeRun(this.onActionRun,this,s),o.onDidRun(this.onDidActionRun,this,s),r=new T.Menu(l,t,{actionViewItemProvider:i.getActionViewItem,context:i.getActionsContext?i.getActionsContext():null,actionRunner:o,getKeyBinding:i.getKeyBinding?i.getKeyBinding:n=>this.keybindingService.lookupKeybinding(n.id)}),s.add((0,p.attachMenuStyler)(r,this.themeService)),r.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,s),r.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,s),s.add((0,y.addDisposableListener)(window,y.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),s.add((0,y.addDisposableListener)(window,y.EventType.MOUSE_DOWN,n=>{if(n.defaultPrevented)return;let d=new N.StandardMouseEvent(n),u=d.target;if(!d.rightButton){for(;u;){if(u===l)return;u=u.parentElement}this.contextViewService.hideContextView(!0)}})),(0,C.combinedDisposable)(s,r)},focus:()=>{r&&r.focus(!!i.autoSelectFirstItem)},onHide:l=>{i.onHide&&i.onHide(!!l),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},c,!!c)}onActionRun(i){this.telemetryService.publicLog2("workbenchActionExecuted",{id:i.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(i){i.error&&!(0,b.isPromiseCanceledError)(i.error)&&this.notificationService.error(i.error)}}e.ContextMenuHandler=h}),define(ee[129],te([0,1]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0;var y;(function(N){N.DARK="dark",N.LIGHT="light",N.HIGH_CONTRAST="hc"})(y=e.ColorScheme||(e.ColorScheme={}))}),define(ee[270],te([0,1,34,32,17,412,116,148,117,129,30]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const i=function(){return T.isNative?!0:!(T.isLinux||y.isFirefox||y.isSafari)}();let t=!0;class r{constructor(S,v){this._domNode=S,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=v}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}e.DomReadingContext=r;class c{constructor(S,v){this.themeType=v;const m=S.options,_=m.get(43);this.renderWhitespace=m.get(87),this.renderControlCharacters=m.get(82),this.spaceWidth=_.spaceWidth,this.middotWidth=_.middotWidth,this.wsmiddotWidth=_.wsmiddotWidth,this.useMonospaceOptimizations=_.isMonospace&&!m.get(29),this.canUseHalfwidthRightwardsArrow=_.canUseHalfwidthRightwardsArrow,this.lineHeight=m.get(58),this.stopRenderingLineAfter=m.get(104),this.fontLigatures=m.get(44)}equals(S){return this.themeType===S.themeType&&this.renderWhitespace===S.renderWhitespace&&this.renderControlCharacters===S.renderControlCharacters&&this.spaceWidth===S.spaceWidth&&this.middotWidth===S.middotWidth&&this.wsmiddotWidth===S.wsmiddotWidth&&this.useMonospaceOptimizations===S.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===S.canUseHalfwidthRightwardsArrow&&this.lineHeight===S.lineHeight&&this.stopRenderingLineAfter===S.stopRenderingLineAfter&&this.fontLigatures===S.fontLigatures}}e.ViewLineOptions=c;class l{constructor(S){this._options=S,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(S){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,N.createFastDomNode)(S);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(S){this._isMaybeInvalid=!0,this._options=S}onSelectionChanged(){return this._options.themeType===h.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(S,v,m,_){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const L=m.getViewLineRenderingData(S),w=this._options,k=C.LineDecoration.filter(L.inlineDecorations,S,L.minColumn,L.maxColumn);let D=null;if(w.themeType===h.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const R=m.selections;for(const A of R){if(A.endLineNumber<S||A.startLineNumber>S)continue;const P=A.startLineNumber===S?A.startColumn:L.minColumn,E=A.endLineNumber===S?A.endColumn:L.maxColumn;P<E&&(w.themeType===h.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?k.push(new C.LineDecoration(P,E,"inline-selected-text",0)):(D||(D=[]),D.push(new p.LineRange(P-1,E-1))))}}const M=new p.RenderLineInput(w.useMonospaceOptimizations,w.canUseHalfwidthRightwardsArrow,L.content,L.continuesWithWrappedLine,L.isBasicASCII,L.containsRTL,L.minColumn-1,L.tokens,k,L.tabSize,L.startVisibleColumn,w.spaceWidth,w.middotWidth,w.wsmiddotWidth,w.stopRenderingLineAfter,w.renderWhitespace,w.renderControlCharacters,w.fontLigatures!==g.EditorFontLigatures.OFF,D);if(this._renderedViewLine&&this._renderedViewLine.input.equals(M))return!1;_.appendASCIIString('<div style="top:'),_.appendASCIIString(String(v)),_.appendASCIIString("px;height:"),_.appendASCIIString(String(this._options.lineHeight)),_.appendASCIIString('px;" class="'),_.appendASCIIString(l.CLASS_NAME),_.appendASCIIString('">');const O=(0,p.renderViewLine)(M,_);_.appendASCIIString("</div>");let F=null;return t&&i&&L.isBasicASCII&&w.useMonospaceOptimizations&&O.containsForeignElements===0&&L.content.length<300&&M.lineTokens.getCount()<100&&(F=new a(this._renderedViewLine?this._renderedViewLine.domNode:null,M,O.characterMapping)),F||(F=n(this._renderedViewLine?this._renderedViewLine.domNode:null,M,O.characterMapping,O.containsRTL,O.containsForeignElements)),this._renderedViewLine=F,!0}layoutLine(S,v){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(v),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof a:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof a?this._renderedViewLine.monospaceAssumptionsAreValid():t}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof a&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(S,v,m,_){if(!this._renderedViewLine)return null;v=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,v)),m=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,m));const L=this._renderedViewLine.input.stopRenderingLineAfter;let w=!1;L!==-1&&v>L+1&&m>L+1&&(w=!0),L!==-1&&v>L+1&&(v=L+1),L!==-1&&m>L+1&&(m=L+1);const k=this._renderedViewLine.getVisibleRangesForRange(S,v,m,_);return k&&k.length>0?new b.VisibleRanges(w,k):null}getColumnOfNodeOffset(S,v,m){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(S,v,m):1}}e.ViewLine=l,l.CLASS_NAME="view-line";class a{constructor(S,v,m){this.domNode=S,this.input=v,this._characterMapping=m,this._charWidth=v.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return t;const S=this.getWidth(),v=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(S-v)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),t=!1),t}toSlowRenderedLine(){return n(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(S,v,m,_){const L=this._getCharPosition(v),w=this._getCharPosition(m);return[new b.FloatHorizontalRange(L,w-L)]}_getCharPosition(S){const v=this._characterMapping.getAbsoluteOffset(S);return this._charWidth*v}getColumnOfNodeOffset(S,v,m){const _=v.textContent.length;let L=-1;for(;v;)v=v.previousSibling,L++;return this._characterMapping.getColumn(new p.DomPosition(L,m),_)}}class s{constructor(S,v,m,_,L){if(this.domNode=S,this.input=v,this._characterMapping=m,this._isWhitespaceOnly=/^\s*$/.test(v.lineContent),this._containsForeignElements=L,this._cachedWidth=-1,this._pixelOffsetCache=null,!_||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let w=0,k=this._characterMapping.length;w<=k;w++)this._pixelOffsetCache[w]=-1}}_getReadingTarget(S){return S.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(S,v,m,_){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const L=this._readPixelOffset(this.domNode,S,v,_);if(L===-1)return null;const w=this._readPixelOffset(this.domNode,S,m,_);return w===-1?null:[new b.FloatHorizontalRange(L,w-L)]}return this._readVisibleRangesForRange(this.domNode,S,v,m,_)}_readVisibleRangesForRange(S,v,m,_,L){if(m===_){const w=this._readPixelOffset(S,v,m,L);return w===-1?null:[new b.FloatHorizontalRange(w,0)]}else return this._readRawVisibleRangesForRange(S,m,_,L)}_readPixelOffset(S,v,m,_){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const L=this._getReadingTarget(S);return L.firstChild?L.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const L=this._pixelOffsetCache[m];if(L!==-1)return L;const w=this._actualReadPixelOffset(S,v,m,_);return this._pixelOffsetCache[m]=w,w}return this._actualReadPixelOffset(S,v,m,_)}_actualReadPixelOffset(S,v,m,_){if(this._characterMapping.length===0){const D=I.RangeUtil.readHorizontalRanges(this._getReadingTarget(S),0,0,0,0,_.clientRectDeltaLeft,_.endNode);return!D||D.length===0?-1:D[0].left}if(m===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const L=this._characterMapping.getDomPosition(m),w=I.RangeUtil.readHorizontalRanges(this._getReadingTarget(S),L.partIndex,L.charIndex,L.partIndex,L.charIndex,_.clientRectDeltaLeft,_.endNode);if(!w||w.length===0)return-1;const k=w[0].left;if(this.input.isBasicASCII){const D=this._characterMapping.getAbsoluteOffset(m),M=Math.round(this.input.spaceWidth*D);if(Math.abs(M-k)<=1)return M}return k}_readRawVisibleRangesForRange(S,v,m,_){if(v===1&&m===this._characterMapping.length)return[new b.FloatHorizontalRange(0,this.getWidth())];const L=this._characterMapping.getDomPosition(v),w=this._characterMapping.getDomPosition(m);return I.RangeUtil.readHorizontalRanges(this._getReadingTarget(S),L.partIndex,L.charIndex,w.partIndex,w.charIndex,_.clientRectDeltaLeft,_.endNode)}getColumnOfNodeOffset(S,v,m){const _=v.textContent.length;let L=-1;for(;v;)v=v.previousSibling,L++;return this._characterMapping.getColumn(new p.DomPosition(L,m),_)}}class o extends s{_readVisibleRangesForRange(S,v,m,_,L){const w=super._readVisibleRangesForRange(S,v,m,_,L);if(!w||w.length===0||m===_||m===1&&_===this._characterMapping.length)return w;if(!this.input.containsRTL){const k=this._readPixelOffset(S,v,_,L);if(k!==-1){const D=w[w.length-1];D.left<k&&(D.width=k-D.left)}}return w}}const n=function(){return y.isWebKit?d:u}();function d(f,S,v,m,_){return new o(f,S,v,m,_)}function u(f,S,v,m,_){return new s(f,S,v,m,_)}}),define(ee[611],te([0,1,17,10,62,176,50,270,14,3,116,138,347]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class t{constructor(){this._currentVisibleRange=new h.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(s){this._currentVisibleRange=s}}class r{constructor(s,o,n,d,u,f){this.lineNumber=s,this.startColumn=o,this.endColumn=n,this.startScrollTop=d,this.stopScrollTop=u,this.scrollType=f,this.type="range",this.minLineNumber=s,this.maxLineNumber=s}}class c{constructor(s,o,n,d){this.selections=s,this.startScrollTop=o,this.stopScrollTop=n,this.scrollType=d,this.type="selections";let u=s[0].startLineNumber,f=s[0].endLineNumber;for(let S=1,v=s.length;S<v;S++){const m=s[S];u=Math.min(u,m.startLineNumber),f=Math.max(f,m.endLineNumber)}this.minLineNumber=u,this.maxLineNumber=f}}class l extends b.ViewPart{constructor(s,o){super(s);this._linesContent=o,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new I.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const n=this._context.configuration,d=this._context.configuration.options,u=d.get(43),f=d.get(131);this._lineHeight=d.get(58),this._typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this._isViewportWrapping=f.isViewportWrapping,this._revealHorizontalRightPadding=d.get(88),this._cursorSurroundingLines=d.get(25),this._cursorSurroundingLinesStyle=d.get(26),this._canUseLayerHinting=!d.get(28),this._viewLineOptions=new C.ViewLineOptions(n,this._context.theme.type),b.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),T.Configuration.applyFontInfo(this.domNode,u),this._maxLineWidth=0,this._asyncUpdateLineWidths=new N.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new N.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new t,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new C.ViewLine(this._viewLineOptions)}onConfigurationChanged(s){this._visibleLines.onConfigurationChanged(s),s.hasChanged(131)&&(this._maxLineWidth=0);const o=this._context.configuration.options,n=o.get(43),d=o.get(131);return this._lineHeight=o.get(58),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._isViewportWrapping=d.isViewportWrapping,this._revealHorizontalRightPadding=o.get(88),this._cursorSurroundingLines=o.get(25),this._cursorSurroundingLinesStyle=o.get(26),this._canUseLayerHinting=!o.get(28),T.Configuration.applyFontInfo(this.domNode,n),this._onOptionsMaybeChanged(),s.hasChanged(130)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const s=this._context.configuration,o=new C.ViewLineOptions(s,this._context.theme.type);if(!this._viewLineOptions.equals(o)){this._viewLineOptions=o;const n=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let u=n;u<=d;u++)this._visibleLines.getVisibleLine(u).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(s){const o=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();let d=!1;for(let u=o;u<=n;u++)d=this._visibleLines.getVisibleLine(u).onSelectionChanged()||d;return d}onDecorationsChanged(s){{const o=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let d=o;d<=n;d++)this._visibleLines.getVisibleLine(d).onDecorationsChanged()}return!0}onFlushed(s){const o=this._visibleLines.onFlushed(s);return this._maxLineWidth=0,o}onLinesChanged(s){return this._visibleLines.onLinesChanged(s)}onLinesDeleted(s){return this._visibleLines.onLinesDeleted(s)}onLinesInserted(s){return this._visibleLines.onLinesInserted(s)}onRevealRangeRequest(s){const o=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),s.source,s.range,s.selections,s.verticalType);if(o===-1)return!1;let n=this._context.viewLayout.validateScrollPosition({scrollTop:o});s.revealHorizontal?s.range&&s.range.startLineNumber!==s.range.endLineNumber?n={scrollTop:n.scrollTop,scrollLeft:0}:s.range?this._horizontalRevealRequest=new r(s.range.startLineNumber,s.range.startColumn,s.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),n.scrollTop,s.scrollType):s.selections&&s.selections.length>0&&(this._horizontalRevealRequest=new c(s.selections,this._context.viewLayout.getCurrentScrollTop(),n.scrollTop,s.scrollType)):this._horizontalRevealRequest=null;const u=Math.abs(this._context.viewLayout.getCurrentScrollTop()-n.scrollTop)<=this._lineHeight?1:s.scrollType;return this._context.model.setScrollPosition(n,u),!0}onScrollChanged(s){if(this._horizontalRevealRequest&&s.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&s.scrollTopChanged){const o=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),n=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(s.scrollTop<o||s.scrollTop>n)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(s.scrollWidth),this._visibleLines.onScrollChanged(s)||!0}onTokensChanged(s){return this._visibleLines.onTokensChanged(s)}onZonesChanged(s){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(s)}onThemeChanged(s){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(s,o){const n=this._getViewLineDomNode(s);if(n===null)return null;const d=this._getLineNumberFor(n);if(d===-1||d<1||d>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(d)===1)return new p.Position(d,1);const u=this._visibleLines.getStartLineNumber(),f=this._visibleLines.getEndLineNumber();if(d<u||d>f)return null;let S=this._visibleLines.getVisibleLine(d).getColumnOfNodeOffset(d,s,o);const v=this._context.model.getLineMinColumn(d);return S<v&&(S=v),new p.Position(d,S)}_getViewLineDomNode(s){for(;s&&s.nodeType===1;){if(s.className===C.ViewLine.CLASS_NAME)return s;s=s.parentElement}return null}_getLineNumberFor(s){const o=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let d=o;d<=n;d++){const u=this._visibleLines.getVisibleLine(d);if(s===u.getDomNode())return d}return-1}getLineWidth(s){const o=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();return s<o||s>n?-1:this._visibleLines.getVisibleLine(s).getWidth()}linesVisibleRangesForRange(s,o){if(this.shouldRender())return null;const n=s.endLineNumber,d=h.Range.intersectRanges(s,this._lastRenderedData.getCurrentVisibleRange());if(!d)return null;let u=[],f=0;const S=new C.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let v=0;o&&(v=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new p.Position(d.startLineNumber,1)).lineNumber);const m=this._visibleLines.getStartLineNumber(),_=this._visibleLines.getEndLineNumber();for(let L=d.startLineNumber;L<=d.endLineNumber;L++){if(L<m||L>_)continue;const w=L===d.startLineNumber?d.startColumn:1,k=L===d.endLineNumber?d.endColumn:this._context.model.getLineMaxColumn(L),D=this._visibleLines.getVisibleLine(L).getVisibleRangesForRange(L,w,k,S);if(!!D){if(o&&L<n){const M=v;v=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new p.Position(L+1,1)).lineNumber,M!==v&&(D.ranges[D.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}u[f++]=new g.LineVisibleRanges(D.outsideRenderedLine,L,g.HorizontalRange.from(D.ranges))}}return f===0?null:u}_visibleRangesForLineRange(s,o,n){return this.shouldRender()||s<this._visibleLines.getStartLineNumber()||s>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(s).getVisibleRangesForRange(s,o,n,new C.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(s){const o=this._visibleRangesForLineRange(s.lineNumber,s.column,s.column);return o?new g.HorizontalPosition(o.outsideRenderedLine,o.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(s){const o=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();let d=1,u=!0;for(let f=o;f<=n;f++){const S=this._visibleLines.getVisibleLine(f);if(s&&!S.getWidthIsFast()){u=!1;continue}d=Math.max(d,S.getWidth())}return u&&o===1&&n===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(d),u}_checkMonospaceFontAssumptions(){let s=-1,o=-1;const n=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let u=n;u<=d;u++){const f=this._visibleLines.getVisibleLine(u);if(f.needsMonospaceFontCheck()){const S=f.getWidth();S>o&&(o=S,s=u)}}if(s!==-1&&!this._visibleLines.getVisibleLine(s).monospaceAssumptionsAreValid())for(let u=n;u<=d;u++)this._visibleLines.getVisibleLine(u).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(s){if(this._visibleLines.renderLines(s),this._lastRenderedData.setCurrentVisibleRange(s.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const n=this._horizontalRevealRequest;if(s.startLineNumber<=n.minLineNumber&&n.maxLineNumber<=s.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const d=this._computeScrollLeftToReveal(n);d&&(this._isViewportWrapping||this._ensureMaxLineWidth(d.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:d.scrollLeft},n.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),y.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const n=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let u=n;u<=d;u++)if(this._visibleLines.getVisibleLine(u).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const o=this._context.viewLayout.getCurrentScrollTop()-s.bigNumbersDelta;this._linesContent.setTop(-o),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(s){const o=Math.ceil(s);this._maxLineWidth<o&&(this._maxLineWidth=o,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(s,o,n,d,u){const f=s.top,S=s.height,v=f+S;let m,_,L;if(d&&d.length>0){let D=d[0].startLineNumber,M=d[0].endLineNumber;for(let O=1,F=d.length;O<F;O++){const R=d[O];D=Math.min(D,R.startLineNumber),M=Math.max(M,R.endLineNumber)}m=!1,_=this._context.viewLayout.getVerticalOffsetForLineNumber(D),L=this._context.viewLayout.getVerticalOffsetForLineNumber(M)+this._lineHeight}else if(n)m=!0,_=this._context.viewLayout.getVerticalOffsetForLineNumber(n.startLineNumber),L=this._context.viewLayout.getVerticalOffsetForLineNumber(n.endLineNumber)+this._lineHeight;else return-1;if(!(o==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const D=Math.min(S/this._lineHeight/2,this._cursorSurroundingLines);_-=D*this._lineHeight,L+=Math.max(0,D-1)*this._lineHeight}(u===0||u===4)&&(L+=this._lineHeight);let k;if(L-_>S){if(!m)return-1;k=_}else if(u===5||u===6)if(u===6&&f<=_&&L<=v)k=f;else{const D=Math.max(5*this._lineHeight,S*.2),M=_-D,O=L-S;k=Math.max(O,M)}else if(u===1||u===2)if(u===2&&f<=_&&L<=v)k=f;else{const D=(_+L)/2;k=Math.max(0,D-S/2)}else k=this._computeMinimumScrolling(f,v,_,L,u===3,u===4);return k}_computeScrollLeftToReveal(s){const o=this._context.viewLayout.getCurrentViewport(),n=o.left,d=n+o.width;let u=1073741824,f=0;if(s.type==="range"){const v=this._visibleRangesForLineRange(s.lineNumber,s.startColumn,s.endColumn);if(!v)return null;for(const m of v.ranges)u=Math.min(u,Math.round(m.left)),f=Math.max(f,Math.round(m.left+m.width))}else for(const v of s.selections){if(v.startLineNumber!==v.endLineNumber)return null;const m=this._visibleRangesForLineRange(v.startLineNumber,v.startColumn,v.endColumn);if(!m)return null;for(const _ of m.ranges)u=Math.min(u,Math.round(_.left)),f=Math.max(f,Math.round(_.left+_.width))}return u=Math.max(0,u-l.HORIZONTAL_EXTRA_PX),f+=this._revealHorizontalRightPadding,s.type==="selections"&&f-u>o.width?null:{scrollLeft:this._computeMinimumScrolling(n,d,u,f),maxHorizontalOffset:f}}_computeMinimumScrolling(s,o,n,d,u,f){s=s|0,o=o|0,n=n|0,d=d|0,u=!!u,f=!!f;const S=o-s;if(d-n<S){if(u)return n;if(f)return Math.max(0,d-S);if(n<s)return n;if(d>o)return Math.max(0,d-S)}else return n;return s}}e.ViewLines=l,l.HORIZONTAL_EXTRA_PX=30}),define(ee[12],te([0,1,27,4,2,9,33,129]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,I.createDecorator)("themeService");var p;(function(a){function s(o){return o&&typeof o=="object"&&typeof o.id=="string"}a.isThemeColor=s})(p=e.ThemeColor||(e.ThemeColor={}));function h(a){return{id:a}}e.themeColorFromId=h;var g;(function(a){function s(v){return v&&typeof v=="object"&&typeof v.id=="string"&&(typeof v.color=="undefined"||p.isThemeColor(v.color))}a.isThemeIcon=s;const o=new RegExp(`^\\$\\((${y.CSSIcon.iconNameExpression}(?:${y.CSSIcon.iconModifierExpression})?)\\)$`);function n(v){const m=o.exec(v);if(!m)return;let[,_]=m;return{id:_}}a.fromString=n;function d(v,m){let _=v.id;const L=_.lastIndexOf("~");return L!==-1&&(_=_.substring(0,L)),m&&(_=`${_}~${m}`),{id:_}}a.modify=d;function u(v){const m=v.id.lastIndexOf("~");if(m!==-1)return v.id.substring(m+1)}a.getModifier=u;function f(v,m){var _,L;return v.id===m.id&&((_=v.color)===null||_===void 0?void 0:_.id)===((L=m.color)===null||L===void 0?void 0:L.id)}a.isEqual=f;function S(v,m){return{id:v.id,color:m?h(m):void 0}}a.asThemeIcon=S,a.asClassNameArray=y.CSSIcon.asClassNameArray,a.asClassName=y.CSSIcon.asClassName,a.asCSSSelector=y.CSSIcon.asCSSSelector})(g=e.ThemeIcon||(e.ThemeIcon={}));function i(a){switch(a){case C.ColorScheme.DARK:return"vs-dark";case C.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}}e.getThemeTypeSelector=i,e.Extensions={ThemingContribution:"base.contributions.theming"};class t{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new N.Emitter}onColorThemeChange(s){return this.themingParticipants.push(s),this.onThemingParticipantAddedEmitter.fire(s),(0,T.toDisposable)(()=>{const o=this.themingParticipants.indexOf(s);this.themingParticipants.splice(o,1)})}getThemingParticipants(){return this.themingParticipants}}let r=new t;b.Registry.add(e.Extensions.ThemingContribution,r);function c(a){return r.onColorThemeChange(a)}e.registerThemingParticipant=c;class l extends T.Disposable{constructor(s){super();this.themeService=s,this.theme=s.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(o=>this.onThemeChange(o)))}onThemeChange(s){this.theme=s,this.updateStyles()}updateStyles(){}}e.Themable=l}),define(ee[612],te([0,1,388,12]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeEditorServiceImpl=e.GlobalStyleSheet=void 0;class T{constructor(C){this._styleSheet=C}}e.GlobalStyleSheet=T;let I=class extends y.AbstractCodeEditorService{constructor(C,p){super();this._decorationOptionProviders=new Map,this._globalStyleSheet=C||null,this._themeService=p}removeDecorationType(C){const p=this._decorationOptionProviders.get(C);p&&(p.refCount--,p.refCount<=0&&(this._decorationOptionProviders.delete(C),p.dispose(),this.listCodeEditors().forEach(h=>h.removeDecorations(C))))}};I=Be([Ce(1,N.IThemeService)],I),e.CodeEditorServiceImpl=I}),define(ee[613],te([0,1,7,32,63,50,12,22]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class p extends I.ViewPart{constructor(g,i,t,r){super(g);const c=this._context.configuration.options,l=c.get(91),a=c.get(66),s=c.get(34),o=c.get(94),n={listenOnDomNode:t.domNode,className:"editor-scrollable "+(0,b.getThemeTypeSelector)(g.theme.type),useShadows:!1,lazyRender:!0,vertical:l.vertical,horizontal:l.horizontal,verticalHasArrows:l.verticalHasArrows,horizontalHasArrows:l.horizontalHasArrows,verticalScrollbarSize:l.verticalScrollbarSize,verticalSliderSize:l.verticalSliderSize,horizontalScrollbarSize:l.horizontalScrollbarSize,horizontalSliderSize:l.horizontalSliderSize,handleMouseWheel:l.handleMouseWheel,alwaysConsumeMouseWheel:l.alwaysConsumeMouseWheel,arrowSize:l.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:s,scrollPredominantAxis:o,scrollByPage:l.scrollByPage};this.scrollbar=this._register(new T.SmoothScrollableElement(i.domNode,n,this._context.viewLayout.getScrollable())),I.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,N.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const d=(u,f,S)=>{const v={};if(f){const m=u.scrollTop;m&&(v.scrollTop=this._context.viewLayout.getCurrentScrollTop()+m,u.scrollTop=0)}if(S){const m=u.scrollLeft;m&&(v.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+m,u.scrollLeft=0)}this._context.model.setScrollPosition(v,1)};this._register(y.addDisposableListener(t.domNode,"scroll",u=>d(t.domNode,!0,!0))),this._register(y.addDisposableListener(i.domNode,"scroll",u=>d(i.domNode,!0,!1))),this._register(y.addDisposableListener(r.domNode,"scroll",u=>d(r.domNode,!0,!1))),this._register(y.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",u=>d(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const g=this._context.configuration.options,i=g.get(130);this.scrollbarDomNode.setLeft(i.contentLeft),g.get(64).side==="right"?this.scrollbarDomNode.setWidth(i.contentWidth+i.minimap.minimapWidth):this.scrollbarDomNode.setWidth(i.contentWidth),this.scrollbarDomNode.setHeight(i.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(g){this.scrollbar.delegateVerticalScrollbarMouseDown(g)}onConfigurationChanged(g){if(g.hasChanged(91)||g.hasChanged(66)||g.hasChanged(34)){const i=this._context.configuration.options,t=i.get(91),r=i.get(66),c=i.get(34),l=i.get(94),a={vertical:t.vertical,horizontal:t.horizontal,verticalScrollbarSize:t.verticalScrollbarSize,horizontalScrollbarSize:t.horizontalScrollbarSize,scrollByPage:t.scrollByPage,handleMouseWheel:t.handleMouseWheel,mouseWheelScrollSensitivity:r,fastScrollSensitivity:c,scrollPredominantAxis:l};this.scrollbar.updateOptions(a)}return g.hasChanged(130)&&this._setLayout(),!0}onScrollChanged(g){return!0}onThemeChanged(g){return this.scrollbar.updateClassName("editor-scrollable "+(0,b.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(g){}render(g){this.scrollbar.renderNow()}}e.EditorScrollbar=p,(0,b.registerThemingParticipant)((h,g)=>{const i=h.getColor(C.scrollbarShadow);i&&g.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${i} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${i} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${i} 6px 6px 6px -6px inset;
			}
		`);const t=h.getColor(C.scrollbarSliderBackground);t&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${t};
			}
		`);const r=h.getColor(C.scrollbarSliderHoverBackground);r&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${r};
			}
		`);const c=h.getColor(C.scrollbarSliderActiveBackground);c&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${c};
			}
		`)})}),define(ee[614],te([0,1,7,32,96,2,17,8,176,50,30,3,227,258,64,22,12,21,58,391,49,84,350]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const f=140,S=2;class v{constructor(R,A,P){const E=R.options,B=E.get(128),V=E.get(130),j=V.minimap,K=E.get(43),Y=E.get(64);this.renderMinimap=j.renderMinimap,this.size=Y.size,this.minimapHeightIsEditorHeight=j.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=E.get(93),this.showSlider=Y.showSlider,this.pixelRatio=B,this.typicalHalfwidthCharacterWidth=K.typicalHalfwidthCharacterWidth,this.lineHeight=E.get(58),this.minimapLeft=j.minimapLeft,this.minimapWidth=j.minimapWidth,this.minimapHeight=V.height,this.canvasInnerWidth=j.minimapCanvasInnerWidth,this.canvasInnerHeight=j.minimapCanvasInnerHeight,this.canvasOuterWidth=j.minimapCanvasOuterWidth,this.canvasOuterHeight=j.minimapCanvasOuterHeight,this.isSampling=j.minimapIsSampling,this.editorHeight=V.height,this.fontScale=j.minimapScale,this.minimapLineHeight=j.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,u.once)(()=>n.MinimapCharRendererFactory.create(this.fontScale,K.fontFamily)),this.defaultBackgroundColor=P.getColor(2),this.backgroundColor=v._getMinimapBackground(A,this.defaultBackgroundColor),this.foregroundAlpha=v._getMinimapForegroundOpacity(A)}static _getMinimapBackground(R,A){const P=R.getColor(l.minimapBackground);return P?new t.RGBA8(P.rgba.r,P.rgba.g,P.rgba.b,Math.round(255*P.rgba.a)):A}static _getMinimapForegroundOpacity(R){const A=R.getColor(l.minimapForegroundOpacity);return A?t.RGBA8._clamp(Math.round(255*A.rgba.a)):255}equals(R){return this.renderMinimap===R.renderMinimap&&this.size===R.size&&this.minimapHeightIsEditorHeight===R.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===R.scrollBeyondLastLine&&this.showSlider===R.showSlider&&this.pixelRatio===R.pixelRatio&&this.typicalHalfwidthCharacterWidth===R.typicalHalfwidthCharacterWidth&&this.lineHeight===R.lineHeight&&this.minimapLeft===R.minimapLeft&&this.minimapWidth===R.minimapWidth&&this.minimapHeight===R.minimapHeight&&this.canvasInnerWidth===R.canvasInnerWidth&&this.canvasInnerHeight===R.canvasInnerHeight&&this.canvasOuterWidth===R.canvasOuterWidth&&this.canvasOuterHeight===R.canvasOuterHeight&&this.isSampling===R.isSampling&&this.editorHeight===R.editorHeight&&this.fontScale===R.fontScale&&this.minimapLineHeight===R.minimapLineHeight&&this.minimapCharWidth===R.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(R.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(R.backgroundColor)&&this.foregroundAlpha===R.foregroundAlpha}}class m{constructor(R,A,P,E,B,V,j,K){this.scrollTop=R,this.scrollHeight=A,this.sliderNeeded=P,this._computedSliderRatio=E,this.sliderTop=B,this.sliderHeight=V,this.startLineNumber=j,this.endLineNumber=K}getDesiredScrollTopFromDelta(R){return Math.round(this.scrollTop+R/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(R){return Math.round((R-this.sliderHeight/2)/this._computedSliderRatio)}static create(R,A,P,E,B,V,j,K,Y,J,Z){const ie=R.pixelRatio,ne=R.minimapLineHeight,G=Math.floor(R.canvasInnerHeight/ne),W=R.lineHeight;if(R.minimapHeightIsEditorHeight){const fe=K*R.lineHeight+(R.scrollBeyondLastLine?B-R.lineHeight:0),$=Math.max(1,Math.floor(B*B/fe)),H=Math.max(0,R.minimapHeight-$),Q=H/(J-B),re=Y*Q,ce=H>0,oe=Math.floor(R.canvasInnerHeight/R.minimapLineHeight);return new m(Y,J,ce,Q,re,$,1,Math.min(j,oe))}let z;if(V&&P!==j){const fe=P-A+1;z=Math.floor(fe*ne/ie)}else{const fe=B/W;z=Math.floor(fe*ne/ie)}let U;R.scrollBeyondLastLine?U=(j-1)*ne/ie:U=Math.max(0,j*ne/ie-z),U=Math.min(R.minimapHeight-z,U);const x=U/(J-B),X=Y*x;let le=0;if(R.scrollBeyondLastLine&&(le=B/W-1),G>=j+le){const fe=1,$=j,H=U>0;return new m(Y,J,H,x,X,z,fe,$)}else{let fe=Math.max(1,Math.floor(A-X*ie/ne));Z&&Z.scrollHeight===J&&(Z.scrollTop>Y&&(fe=Math.min(fe,Z.startLineNumber)),Z.scrollTop<Y&&(fe=Math.max(fe,Z.startLineNumber)));const $=Math.min(j,fe+G-1),H=(Y-E)/W,Q=(A-fe+H)*ne/ie;return new m(Y,J,!0,x,Q,z,fe,$)}}}class _{constructor(R){this.dy=R}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}_.INVALID=new _(-1);class L{constructor(R,A,P){this.renderedLayout=R,this._imageData=A,this._renderedLines=new p.RenderedLinesCollection(()=>_.INVALID),this._renderedLines._set(R.startLineNumber,P)}linesEquals(R){if(!this.scrollEquals(R))return!1;const P=this._renderedLines._get().lines;for(let E=0,B=P.length;E<B;E++)if(P[E].dy===-1)return!1;return!0}scrollEquals(R){return this.renderedLayout.startLineNumber===R.startLineNumber&&this.renderedLayout.endLineNumber===R.endLineNumber}_get(){const R=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:R.rendLineNumberStart,lines:R.lines}}onLinesChanged(R,A){return this._renderedLines.onLinesChanged(R,A)}onLinesDeleted(R,A){this._renderedLines.onLinesDeleted(R,A)}onLinesInserted(R,A){this._renderedLines.onLinesInserted(R,A)}onTokensChanged(R){return this._renderedLines.onTokensChanged(R)}}class w{constructor(R,A,P,E){this._backgroundFillData=w._createBackgroundFillData(A,P,E),this._buffers=[R.createImageData(A,P),R.createImageData(A,P)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const R=this._buffers[this._lastUsedBuffer];return R.data.set(this._backgroundFillData),R}static _createBackgroundFillData(R,A,P){const E=P.r,B=P.g,V=P.b,j=P.a,K=new Uint8ClampedArray(R*A*4);let Y=0;for(let J=0;J<A;J++)for(let Z=0;Z<R;Z++)K[Y]=E,K[Y+1]=B,K[Y+2]=V,K[Y+3]=j,Y+=4;return K}}class k{constructor(R,A){this.samplingRatio=R,this.minimapLines=A}static compute(R,A,P){if(R.renderMinimap===0||!R.isSampling)return[null,[]];const E=R.pixelRatio,B=R.lineHeight,V=R.scrollBeyondLastLine,{minimapLineCount:j}=g.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:A,scrollBeyondLastLine:V,height:R.editorHeight,lineHeight:B,pixelRatio:E}),K=A/j,Y=K/2;if(!P||P.minimapLines.length===0){let X=[];if(X[0]=1,j>1){for(let le=0,fe=j-1;le<fe;le++)X[le]=Math.round(le*K+Y);X[j-1]=A}return[new k(K,X),[]]}const J=P.minimapLines,Z=J.length;let ie=[],ne=0,G=0,W=1;const z=10;let U=[],x=null;for(let X=0;X<j;X++){const le=Math.max(W,Math.round(X*K)),fe=Math.max(le,Math.round((X+1)*K));for(;ne<Z&&J[ne]<le;){if(U.length<z){const H=ne+1+G;x&&x.type==="deleted"&&x._oldIndex===ne-1?x.deleteToLineNumber++:(x={type:"deleted",_oldIndex:ne,deleteFromLineNumber:H,deleteToLineNumber:H},U.push(x)),G--}ne++}let $;if(ne<Z&&J[ne]<=fe)$=J[ne],ne++;else if(X===0?$=1:X+1===j?$=A:$=Math.round(X*K+Y),U.length<z){const H=ne+1+G;x&&x.type==="inserted"&&x._i===X-1?x.insertToLineNumber++:(x={type:"inserted",_i:X,insertFromLineNumber:H,insertToLineNumber:H},U.push(x)),G++}ie[X]=$,W=$}if(U.length<z)for(;ne<Z;){const X=ne+1+G;x&&x.type==="deleted"&&x._oldIndex===ne-1?x.deleteToLineNumber++:(x={type:"deleted",_oldIndex:ne,deleteFromLineNumber:X,deleteToLineNumber:X},U.push(x)),G--,ne++}else U=[{type:"flush"}];return[new k(K,ie),U]}modelLineToMinimapLine(R){return Math.min(this.minimapLines.length,Math.max(1,Math.round(R/this.samplingRatio)))}modelLineRangeToMinimapLineRange(R,A){let P=this.modelLineToMinimapLine(R)-1;for(;P>0&&this.minimapLines[P-1]>=R;)P--;let E=this.modelLineToMinimapLine(A)-1;for(;E+1<this.minimapLines.length&&this.minimapLines[E+1]<=A;)E++;if(P===E){const B=this.minimapLines[P];if(B<R||B>A)return null}return[P+1,E+1]}decorationLineRangeToMinimapLineRange(R,A){let P=this.modelLineToMinimapLine(R),E=this.modelLineToMinimapLine(A);return R!==A&&E===P&&(E===this.minimapLines.length?P>1&&P--:E++),[P,E]}onLinesDeleted(R){const A=R.toLineNumber-R.fromLineNumber+1;let P=this.minimapLines.length,E=0;for(let B=this.minimapLines.length-1;B>=0&&!(this.minimapLines[B]<R.fromLineNumber);B--)this.minimapLines[B]<=R.toLineNumber?(this.minimapLines[B]=Math.max(1,R.fromLineNumber-1),P=Math.min(P,B),E=Math.max(E,B)):this.minimapLines[B]-=A;return[P,E]}onLinesInserted(R){const A=R.toLineNumber-R.fromLineNumber+1;for(let P=this.minimapLines.length-1;P>=0&&!(this.minimapLines[P]<R.fromLineNumber);P--)this.minimapLines[P]+=A}}class D extends h.ViewPart{constructor(R){super(R);this.tokensColorTracker=r.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new v(this._context.configuration,this._context.theme,this.tokensColorTracker);const[A]=k.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=A,this._shouldCheckSampling=!1,this._actual=new M(R.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const R=new v(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(R)?!1:(this.options=R,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(R){return this._onOptionsMaybeChanged()}onCursorStateChanged(R){return this._selections=R.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(R){return R.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(R){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(R){if(this._samplingState){const A=this._samplingState.modelLineRangeToMinimapLineRange(R.fromLineNumber,R.toLineNumber);return A?this._actual.onLinesChanged(A[0],A[1]):!1}else return this._actual.onLinesChanged(R.fromLineNumber,R.toLineNumber)}onLinesDeleted(R){if(this._samplingState){const[A,P]=this._samplingState.onLinesDeleted(R);return A<=P&&this._actual.onLinesChanged(A+1,P+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(R.fromLineNumber,R.toLineNumber)}onLinesInserted(R){return this._samplingState?(this._samplingState.onLinesInserted(R),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(R.fromLineNumber,R.toLineNumber)}onScrollChanged(R){return this._actual.onScrollChanged()}onThemeChanged(R){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(R){if(this._samplingState){let A=[];for(const P of R.ranges){const E=this._samplingState.modelLineRangeToMinimapLineRange(P.fromLineNumber,P.toLineNumber);E&&A.push({fromLineNumber:E[0],toLineNumber:E[1]})}return A.length?this._actual.onTokensChanged(A):!1}else return this._actual.onTokensChanged(R.ranges)}onTokensColorsChanged(R){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(R){return this._actual.onZonesChanged()}prepareRender(R){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(R){let A=R.visibleRange.startLineNumber,P=R.visibleRange.endLineNumber;this._samplingState&&(A=this._samplingState.modelLineToMinimapLine(A),P=this._samplingState.modelLineToMinimapLine(P));const E={viewportContainsWhitespaceGaps:R.viewportData.whitespaceViewportData.length>0,scrollWidth:R.scrollWidth,scrollHeight:R.scrollHeight,viewportStartLineNumber:A,viewportEndLineNumber:P,viewportStartLineNumberVerticalOffset:R.getVerticalOffsetForLineNumber(A),scrollTop:R.scrollTop,scrollLeft:R.scrollLeft,viewportWidth:R.viewportWidth,viewportHeight:R.viewportHeight};this._actual.render(E)}_recreateLineSampling(){this._minimapSelections=null;const R=Boolean(this._samplingState),[A,P]=k.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=A,R&&this._samplingState)for(const E of P)switch(E.type){case"deleted":this._actual.onLinesDeleted(E.deleteFromLineNumber,E.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(E.insertFromLineNumber,E.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(R){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[R-1]):this._context.model.getLineContent(R)}getLineMaxColumn(R){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[R-1]):this._context.model.getLineMaxColumn(R)}getMinimapLinesRenderingData(R,A,P){if(this._samplingState){let E=[];for(let B=0,V=A-R+1;B<V;B++)P[B]?E[B]=this._context.model.getViewLineData(this._samplingState.minimapLines[R+B-1]):E[B]=null;return E}return this._context.model.getMinimapLinesRenderingData(R,A,P).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const R of this._selections){const[A,P]=this._samplingState.decorationLineRangeToMinimapLineRange(R.startLineNumber,R.endLineNumber);this._minimapSelections.push(new s.Selection(A,R.startColumn,P,R.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(R,A){let P;if(this._samplingState){const B=this._samplingState.minimapLines[R-1],V=this._samplingState.minimapLines[A-1];P=new i.Range(B,1,V,this._context.model.getLineMaxColumn(V))}else P=new i.Range(R,1,A,this._context.model.getLineMaxColumn(A));const E=this._context.model.getDecorationsInViewport(P);if(this._samplingState){let B=[];for(const V of E){if(!V.options.minimap)continue;const j=V.range,K=this._samplingState.modelLineToMinimapLine(j.startLineNumber),Y=this._samplingState.modelLineToMinimapLine(j.endLineNumber);B.push(new c.ViewModelDecoration(new i.Range(K,j.startColumn,Y,j.endColumn),V.options))}return B}return E}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(R){this._samplingState&&(R=this._samplingState.minimapLines[R-1]),this._context.model.revealRange("mouse",!1,new i.Range(R,1,R,1),1,0)}setScrollTop(R){this._context.model.setScrollPosition({scrollTop:R},1)}}e.Minimap=D;class M extends I.Disposable{constructor(R,A){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=R,this._model=A,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(l.minimapSelection),this._domNode=(0,N.createFastDomNode)(document.createElement("div")),h.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,N.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,N.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,N.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,N.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,N.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=y.addStandardDisposableListener(this._domNode.domNode,"mousedown",P=>{if(P.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(P.leftButton&&this._lastRenderData){const Y=y.getDomNodePagePosition(this._slider.domNode),J=Y.top+Y.height/2;this._startSliderDragging(P.buttons,P.posx,J,P.posy,this._lastRenderData.renderedLayout)}return}const B=this._model.options.minimapLineHeight,V=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*P.browserEvent.offsetY;let K=Math.floor(V/B)+this._lastRenderData.renderedLayout.startLineNumber;K=Math.min(K,this._model.getLineCount()),this._model.revealLineNumber(K)}),this._sliderMouseMoveMonitor=new T.GlobalMouseMoveMonitor,this._sliderMouseDownListener=y.addStandardDisposableListener(this._slider.domNode,"mousedown",P=>{P.preventDefault(),P.stopPropagation(),P.leftButton&&this._lastRenderData&&this._startSliderDragging(P.buttons,P.posx,P.posy,P.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=o.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=y.addDisposableListener(this._domNode.domNode,o.EventType.Start,P=>{P.preventDefault(),P.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(P))},{passive:!1}),this._sliderTouchMoveListener=y.addDisposableListener(this._domNode.domNode,o.EventType.Change,P=>{P.preventDefault(),P.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(P)},{passive:!1}),this._sliderTouchEndListener=y.addStandardDisposableListener(this._domNode.domNode,o.EventType.End,P=>{P.preventDefault(),P.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(R,A,P,E,B){this._slider.toggleClassName("active",!0);const V=(j,K)=>{const Y=Math.abs(K-A);if(b.isWindows&&Y>f){this._model.setScrollTop(B.scrollTop);return}const J=j-P;this._model.setScrollTop(B.getDesiredScrollTopFromDelta(J))};E!==P&&V(E,A),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,R,T.standardMouseMoveMerger,j=>V(j.posy,j.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(R){const A=this._domNode.domNode.getBoundingClientRect().top,P=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(R.pageY-A);this._model.setScrollTop(P)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new w(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(R,A){return this._lastRenderData?this._lastRenderData.onLinesChanged(R,A):!1}onLinesDeleted(R,A){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(R,A),!0}onLinesInserted(R,A){return this._lastRenderData&&this._lastRenderData.onLinesInserted(R,A),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(l.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(R){return this._lastRenderData?this._lastRenderData.onTokensChanged(R):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(R){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}R.scrollLeft+R.viewportWidth>=R.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const P=m.create(this._model.options,R.viewportStartLineNumber,R.viewportEndLineNumber,R.viewportStartLineNumberVerticalOffset,R.viewportHeight,R.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),R.scrollTop,R.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(P.sliderNeeded?"block":"none"),this._slider.setTop(P.sliderTop),this._slider.setHeight(P.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(P.sliderHeight),this.renderDecorations(P),this._lastRenderData=this.renderLines(P)}renderDecorations(R){if(this._renderDecorations){this._renderDecorations=!1;const A=this._model.getSelections();A.sort(i.Range.compareRangesUsingStarts);const P=this._model.getMinimapDecorationsInViewport(R.startLineNumber,R.endLineNumber);P.sort((ie,ne)=>(ie.options.zIndex||0)-(ne.options.zIndex||0));const{canvasInnerWidth:E,canvasInnerHeight:B}=this._model.options,V=this._model.options.minimapLineHeight,j=this._model.options.minimapCharWidth,K=this._model.getOptions().tabSize,Y=this._decorationsCanvas.domNode.getContext("2d");Y.clearRect(0,0,E,B);const J=new O(R.startLineNumber,R.endLineNumber,!1);this._renderSelectionLineHighlights(Y,A,J,R,V),this._renderDecorationsLineHighlights(Y,P,J,R,V);const Z=new O(R.startLineNumber,R.endLineNumber,null);this._renderSelectionsHighlights(Y,A,Z,R,V,K,j,E),this._renderDecorationsHighlights(Y,P,Z,R,V,K,j,E)}}_renderSelectionLineHighlights(R,A,P,E,B){if(!this._selectionColor||this._selectionColor.isTransparent())return;R.fillStyle=this._selectionColor.transparent(.5).toString();let V=0,j=0;for(const K of A){const Y=Math.max(E.startLineNumber,K.startLineNumber),J=Math.min(E.endLineNumber,K.endLineNumber);if(Y>J)continue;for(let ne=Y;ne<=J;ne++)P.set(ne,!0);const Z=(Y-E.startLineNumber)*B,ie=(J-E.startLineNumber)*B+B;j>=Z||(j>V&&R.fillRect(g.MINIMAP_GUTTER_WIDTH,V,R.canvas.width,j-V),V=Z),j=ie}j>V&&R.fillRect(g.MINIMAP_GUTTER_WIDTH,V,R.canvas.width,j-V)}_renderDecorationsLineHighlights(R,A,P,E,B){const V=new Map;for(let j=A.length-1;j>=0;j--){const K=A[j],Y=K.options.minimap;if(!Y||Y.position!==d.MinimapPosition.Inline)continue;const J=Math.max(E.startLineNumber,K.range.startLineNumber),Z=Math.min(E.endLineNumber,K.range.endLineNumber);if(J>Z)continue;const ie=Y.getColor(this._theme);if(!ie||ie.isTransparent())continue;let ne=V.get(ie.toString());ne||(ne=ie.transparent(.5).toString(),V.set(ie.toString(),ne)),R.fillStyle=ne;for(let G=J;G<=Z;G++){if(P.has(G))continue;P.set(G,!0);const W=(J-E.startLineNumber)*B;R.fillRect(g.MINIMAP_GUTTER_WIDTH,W,R.canvas.width,B)}}}_renderSelectionsHighlights(R,A,P,E,B,V,j,K){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const Y of A){const J=Math.max(E.startLineNumber,Y.startLineNumber),Z=Math.min(E.endLineNumber,Y.endLineNumber);if(!(J>Z))for(let ie=J;ie<=Z;ie++)this.renderDecorationOnLine(R,P,Y,this._selectionColor,E,ie,B,B,V,j,K)}}_renderDecorationsHighlights(R,A,P,E,B,V,j,K){for(const Y of A){const J=Y.options.minimap;if(!J)continue;const Z=Math.max(E.startLineNumber,Y.range.startLineNumber),ie=Math.min(E.endLineNumber,Y.range.endLineNumber);if(Z>ie)continue;const ne=J.getColor(this._theme);if(!(!ne||ne.isTransparent()))for(let G=Z;G<=ie;G++)switch(J.position){case d.MinimapPosition.Inline:this.renderDecorationOnLine(R,P,Y.range,ne,E,G,B,B,V,j,K);continue;case d.MinimapPosition.Gutter:const W=(G-E.startLineNumber)*B,z=2;this.renderDecoration(R,ne,z,W,S,B);continue}}}renderDecorationOnLine(R,A,P,E,B,V,j,K,Y,J,Z){const ie=(V-B.startLineNumber)*K;if(ie+j<0||ie>this._model.options.canvasInnerHeight)return;const{startLineNumber:ne,endLineNumber:G}=P,W=ne===V?P.startColumn:1,z=G===V?P.endColumn:this._model.getLineMaxColumn(V),U=this.getXOffsetForPosition(A,V,W,Y,J,Z),x=this.getXOffsetForPosition(A,V,z,Y,J,Z);this.renderDecoration(R,E,U,ie,x-U,j)}getXOffsetForPosition(R,A,P,E,B,V){if(P===1)return g.MINIMAP_GUTTER_WIDTH;if((P-1)*B>=V)return V;let K=R.get(A);if(!K){const Y=this._model.getLineContent(A);K=[g.MINIMAP_GUTTER_WIDTH];let J=g.MINIMAP_GUTTER_WIDTH;for(let Z=1;Z<Y.length+1;Z++){const ie=Y.charCodeAt(Z-1),ne=ie===9?E*B:C.isFullWidthCharacter(ie)?2*B:B,G=J+ne;if(G>=V){K[Z]=V;break}K[Z]=G,J=G}R.set(A,K)}return P-1<K.length?K[P-1]:V}renderDecoration(R,A,P,E,B,V){R.fillStyle=A&&A.toString()||"",R.fillRect(P,E,B,V)}renderLines(R){const A=R.startLineNumber,P=R.endLineNumber,E=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(R)){const se=this._lastRenderData._get();return new L(R,se.imageData,se.lines)}const B=this._getBuffer();if(!B)return null;let[V,j,K]=M._renderUntouchedLines(B,A,P,E,this._lastRenderData);const Y=this._model.getMinimapLinesRenderingData(A,P,K),J=this._model.getOptions().tabSize,Z=this._model.options.defaultBackgroundColor,ie=this._model.options.backgroundColor,ne=this._model.options.foregroundAlpha,G=this._model.tokensColorTracker,W=G.backgroundIsLight(),z=this._model.options.renderMinimap,U=this._model.options.charRenderer(),x=this._model.options.fontScale,X=this._model.options.minimapCharWidth,fe=(z===1?2:2+1)*x,$=E>fe?Math.floor((E-fe)/2):0,H=ie.a/255,Q=new t.RGBA8(Math.round((ie.r-Z.r)*H+Z.r),Math.round((ie.g-Z.g)*H+Z.g),Math.round((ie.b-Z.b)*H+Z.b),255);let re=0;const ce=[];for(let se=0,ue=P-A+1;se<ue;se++)K[se]&&M._renderLine(B,Q,ie.a,W,z,X,G,ne,U,re,$,J,Y[se],x,E),ce[se]=new _(re),re+=E;const oe=V===-1?0:V,pe=(j===-1?B.height:j)-oe;return this._canvas.domNode.getContext("2d").putImageData(B,0,0,0,oe,B.width,pe),new L(R,B,ce)}static _renderUntouchedLines(R,A,P,E,B){const V=[];if(!B){for(let Q=0,re=P-A+1;Q<re;Q++)V[Q]=!0;return[-1,-1,V]}const j=B._get(),K=j.imageData.data,Y=j.rendLineNumberStart,J=j.lines,Z=J.length,ie=R.width,ne=R.data,G=(P-A+1)*E*ie*4;let W=-1,z=-1,U=-1,x=-1,X=-1,le=-1,fe=0;for(let Q=A;Q<=P;Q++){const re=Q-A,ce=Q-Y,oe=ce>=0&&ce<Z?J[ce].dy:-1;if(oe===-1){V[re]=!0,fe+=E;continue}const de=oe*ie*4,pe=(oe+E)*ie*4,_e=fe*ie*4,se=(fe+E)*ie*4;x===de&&le===_e?(x=pe,le=se):(U!==-1&&(ne.set(K.subarray(U,x),X),W===-1&&U===0&&U===X&&(W=x),z===-1&&x===G&&U===X&&(z=U)),U=de,x=pe,X=_e,le=se),V[re]=!1,fe+=E}U!==-1&&(ne.set(K.subarray(U,x),X),W===-1&&U===0&&U===X&&(W=x),z===-1&&x===G&&U===X&&(z=U));const $=W===-1?-1:W/(ie*4),H=z===-1?-1:z/(ie*4);return[$,H,V]}static _renderLine(R,A,P,E,B,V,j,K,Y,J,Z,ie,ne,G,W){const z=ne.content,U=ne.tokens,x=R.width-V,X=W===1;let le=g.MINIMAP_GUTTER_WIDTH,fe=0,$=0;for(let H=0,Q=U.getCount();H<Q;H++){const re=U.getEndOffset(H),ce=U.getForeground(H),oe=j.getColor(ce);for(;fe<re;fe++){if(le>x)return;const de=z.charCodeAt(fe);if(de===9){const pe=ie-(fe+$)%ie;$+=pe-1,le+=pe*V}else if(de===32)le+=V;else{const pe=C.isFullWidthCharacter(de)?2:1;for(let _e=0;_e<pe;_e++)if(B===2?Y.blockRenderChar(R,le,J+Z,oe,K,A,P,X):Y.renderChar(R,le,J+Z,de,oe,K,A,P,G,E,X),le+=V,le>x)return}}}}}class O{constructor(R,A,P){this._startLineNumber=R,this._endLineNumber=A,this._defaultValue=P,this._values=[];for(let E=0,B=this._endLineNumber-this._startLineNumber+1;E<B;E++)this._values[E]=P}has(R){return this.get(R)!==this._defaultValue}set(R,A){R<this._startLineNumber||R>this._endLineNumber||(this._values[R-this._startLineNumber]=A)}get(R){return R<this._startLineNumber||R>this._endLineNumber?this._defaultValue:this._values[R-this._startLineNumber]}}(0,a.registerThemingParticipant)((F,R)=>{const A=F.getColor(l.minimapSliderBackground);A&&R.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${A}; }`);const P=F.getColor(l.minimapSliderHoverBackground);P&&R.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${P}; }`);const E=F.getColor(l.minimapSliderActiveBackground);E&&R.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${E}; }`);const B=F.getColor(l.scrollbarShadow);B&&R.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${B} -6px 0 6px -6px inset; }`)})}),define(ee[615],te([0,1,32,50,22,12,353]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class b extends N.ViewPart{constructor(p){super(p);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const g=this._context.configuration.options.get(91);this._useShadows=g.useShadows,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const p=this._useShadows&&this._scrollTop>0;return this._shouldShow!==p?(this._shouldShow=p,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const h=this._context.configuration.options.get(130);h.minimap.renderMinimap===0||h.minimap.minimapWidth>0&&h.minimap.minimapLeft===0?this._width=h.width:this._width=h.width-h.minimap.minimapWidth-h.verticalScrollbarWidth}onConfigurationChanged(p){const g=this._context.configuration.options.get(91);return this._useShadows=g.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(p){return this._scrollTop=p.scrollTop,this._updateShouldShow()}prepareRender(p){}render(p){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=b,(0,I.registerThemingParticipant)((C,p)=>{const h=C.getColor(T.scrollbarShadow);h&&p.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${h} 0 6px 6px -6px inset; }`)})}),define(ee[616],te([0,1,99,22,12,354]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class I{constructor(t){this.left=t.left,this.width=t.width,this.startStyle=null,this.endStyle=null}}class b{constructor(t,r){this.lineNumber=t,this.ranges=r}}function C(i){return new I(i)}function p(i){return new b(i.lineNumber,i.ranges.map(C))}class h extends y.DynamicViewOverlay{constructor(t){super();this._previousFrameVisibleRangesWithStyle=[],this._context=t;const r=this._context.configuration.options;this._lineHeight=r.get(58),this._roundedSelection=r.get(89),this._typicalHalfwidthCharacterWidth=r.get(43).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const r=this._context.configuration.options;return this._lineHeight=r.get(58),this._roundedSelection=r.get(89),this._typicalHalfwidthCharacterWidth=r.get(43).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(t){return this._selections=t.selections.slice(0),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_visibleRangesHaveGaps(t){for(let r=0,c=t.length;r<c;r++)if(t[r].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(t,r,c){const l=this._typicalHalfwidthCharacterWidth/4;let a=null,s=null;if(c&&c.length>0&&r.length>0){const o=r[0].lineNumber;if(o===t.startLineNumber)for(let d=0;!a&&d<c.length;d++)c[d].lineNumber===o&&(a=c[d].ranges[0]);const n=r[r.length-1].lineNumber;if(n===t.endLineNumber)for(let d=c.length-1;!s&&d>=0;d--)c[d].lineNumber===n&&(s=c[d].ranges[0]);a&&!a.startStyle&&(a=null),s&&!s.startStyle&&(s=null)}for(let o=0,n=r.length;o<n;o++){const d=r[o].ranges[0],u=d.left,f=d.left+d.width,S={top:0,bottom:0},v={top:0,bottom:0};if(o>0){const m=r[o-1].ranges[0].left,_=r[o-1].ranges[0].left+r[o-1].ranges[0].width;g(u-m)<l?S.top=2:u>m&&(S.top=1),g(f-_)<l?v.top=2:m<f&&f<_&&(v.top=1)}else a&&(S.top=a.startStyle.top,v.top=a.endStyle.top);if(o+1<n){const m=r[o+1].ranges[0].left,_=r[o+1].ranges[0].left+r[o+1].ranges[0].width;g(u-m)<l?S.bottom=2:m<u&&u<_&&(S.bottom=1),g(f-_)<l?v.bottom=2:f<_&&(v.bottom=1)}else s&&(S.bottom=s.startStyle.bottom,v.bottom=s.endStyle.bottom);d.startStyle=S,d.endStyle=v}}_getVisibleRangesWithStyle(t,r,c){const a=(r.linesVisibleRangesForRange(t,!0)||[]).map(p);return!this._visibleRangesHaveGaps(a)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(r.visibleRange,a,c),a}_createSelectionPiece(t,r,c,l,a){return'<div class="cslr '+c+'" style="top:'+t.toString()+"px;left:"+l.toString()+"px;width:"+a.toString()+"px;height:"+r+'px;"></div>'}_actualRenderOneSelection(t,r,c,l){if(l.length===0)return;const a=!!l[0].ranges[0].startStyle,s=this._lineHeight.toString(),o=(this._lineHeight-1).toString(),n=l[0].lineNumber,d=l[l.length-1].lineNumber;for(let u=0,f=l.length;u<f;u++){const S=l[u],v=S.lineNumber,m=v-r,_=c&&(v===d||v===n)?o:s,L=c&&v===n?1:0;let w="",k="";for(let D=0,M=S.ranges.length;D<M;D++){const O=S.ranges[D];if(a){const R=O.startStyle,A=O.endStyle;if(R.top===1||R.bottom===1){w+=this._createSelectionPiece(L,_,h.SELECTION_CLASS_NAME,O.left-h.ROUNDED_PIECE_WIDTH,h.ROUNDED_PIECE_WIDTH);let P=h.EDITOR_BACKGROUND_CLASS_NAME;R.top===1&&(P+=" "+h.SELECTION_TOP_RIGHT),R.bottom===1&&(P+=" "+h.SELECTION_BOTTOM_RIGHT),w+=this._createSelectionPiece(L,_,P,O.left-h.ROUNDED_PIECE_WIDTH,h.ROUNDED_PIECE_WIDTH)}if(A.top===1||A.bottom===1){w+=this._createSelectionPiece(L,_,h.SELECTION_CLASS_NAME,O.left+O.width,h.ROUNDED_PIECE_WIDTH);let P=h.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(P+=" "+h.SELECTION_TOP_LEFT),A.bottom===1&&(P+=" "+h.SELECTION_BOTTOM_LEFT),w+=this._createSelectionPiece(L,_,P,O.left+O.width,h.ROUNDED_PIECE_WIDTH)}}let F=h.SELECTION_CLASS_NAME;if(a){const R=O.startStyle,A=O.endStyle;R.top===0&&(F+=" "+h.SELECTION_TOP_LEFT),R.bottom===0&&(F+=" "+h.SELECTION_BOTTOM_LEFT),A.top===0&&(F+=" "+h.SELECTION_TOP_RIGHT),A.bottom===0&&(F+=" "+h.SELECTION_BOTTOM_RIGHT)}k+=this._createSelectionPiece(L,_,F,O.left,O.width)}t[m][0]+=w,t[m][1]+=k}}prepareRender(t){const r=[],c=t.visibleRange.startLineNumber,l=t.visibleRange.endLineNumber;for(let s=c;s<=l;s++){const o=s-c;r[o]=["",""]}const a=[];for(let s=0,o=this._selections.length;s<o;s++){const n=this._selections[s];if(n.isEmpty()){a[s]=null;continue}const d=this._getVisibleRangesWithStyle(n,t,this._previousFrameVisibleRangesWithStyle[s]);a[s]=d,this._actualRenderOneSelection(r,c,this._selections.length>1,d)}this._previousFrameVisibleRangesWithStyle=a,this._renderResult=r.map(([s,o])=>s+o)}render(t,r){if(!this._renderResult)return"";const c=r-t;return c<0||c>=this._renderResult.length?"":this._renderResult[c]}}e.SelectionsOverlay=h,h.SELECTION_CLASS_NAME="selected-text",h.SELECTION_TOP_LEFT="top-left-radius",h.SELECTION_BOTTOM_LEFT="bottom-left-radius",h.SELECTION_TOP_RIGHT="top-right-radius",h.SELECTION_BOTTOM_RIGHT="bottom-right-radius",h.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",h.ROUNDED_PIECE_WIDTH=10,(0,T.registerThemingParticipant)((i,t)=>{const r=i.getColor(N.editorSelectionBackground);r&&t.addRule(`.monaco-editor .focused .selected-text { background-color: ${r}; }`);const c=i.getColor(N.editorInactiveSelection);c&&t.addRule(`.monaco-editor .selected-text { background-color: ${c}; }`);const l=i.getColor(N.editorSelectionForeground);l&&!l.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${l}; }`)});function g(i){return i<0?-i:i}}),define(ee[271],te([0,1,18,12,74,122,38]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let C=class{constructor(t,r,c,l){this._legend=t,this._themeService=r,this._modeService=c,this._logService=l,this._hashTable=new g,this._hasWarnedOverlappingTokens=!1}getMetadata(t,r,c){const l=this._modeService.languageIdCodec.encodeLanguageId(c),a=this._hashTable.get(t,r,l);let s;if(a)s=a.metadata,this._logService.getLevel()===T.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${t} / ${r}: foreground ${y.TokenMetadata.getForeground(s)}, fontStyle ${y.TokenMetadata.getFontStyle(s).toString(2)}`);else{let o=this._legend.tokenTypes[t];const n=[];if(o){let d=r;for(let f=0;d>0&&f<this._legend.tokenModifiers.length;f++)d&1&&n.push(this._legend.tokenModifiers[f]),d=d>>1;d>0&&this._logService.getLevel()===T.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${r.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),n.push("not-in-legend"));const u=this._themeService.getColorTheme().getTokenStyleMetadata(o,n,c);typeof u=="undefined"?s=2147483647:(s=0,typeof u.italic!="undefined"&&(s|=(u.italic?1:0)<<11|1),typeof u.bold!="undefined"&&(s|=(u.bold?2:0)<<11|2),typeof u.underline!="undefined"&&(s|=(u.underline?4:0)<<11|4),u.foreground&&(s|=u.foreground<<14|8),s===0&&(s=2147483647))}else this._logService.getLevel()===T.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${t} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),s=2147483647,o="not-in-legend";this._hashTable.add(t,r,l,s),this._logService.getLevel()===T.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${t} (${o}) / ${r} (${n.join(" ")}): foreground ${y.TokenMetadata.getForeground(s)}, fontStyle ${y.TokenMetadata.getFontStyle(s).toString(2)}`)}return s}warnOverlappingSemanticTokens(t,r){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${t}, column ${r}`))}};C=Be([Ce(1,N.IThemeService),Ce(2,b.IModeService),Ce(3,T.ILogService)],C),e.SemanticTokensProviderStyling=C;function p(i,t,r){const c=i.data,l=i.data.length/5|0,a=Math.max(Math.ceil(l/1024),400),s=[];let o=0,n=1,d=0;for(;o<l;){const u=o;let f=Math.min(u+a,l);if(f<l){let D=f;for(;D-1>u&&c[5*D]===0;)D--;if(D-1===u){let M=f;for(;M+1<l&&c[5*M]===0;)M++;f=M}else f=D}let S=new Uint32Array((f-u)*4),v=0,m=0,_=0,L=0,w=0;for(;o<f;){const D=5*o,M=c[D],O=c[D+1],F=n+M|0,R=M===0?d+O|0:O,A=c[D+2],P=c[D+3],E=c[D+4],B=t.getMetadata(P,E,r);B!==2147483647&&(m===0&&(m=F),_===F&&w>R&&(t.warnOverlappingSemanticTokens(F,R+1),L<R?S[v-4+2]=R:v-=4),S[v]=F-m,S[v+1]=R,S[v+2]=R+A,S[v+3]=B,v+=4,_=F,L=R,w=R+A),n=F,d=R,o++}v!==S.length&&(S=S.subarray(0,v));const k=new I.MultilineTokens2(m,new I.SparseEncodedTokens(S));s.push(k)}return s}e.toMultilineTokens2=p;class h{constructor(t,r,c,l){this.tokenTypeIndex=t,this.tokenModifierSet=r,this.languageId=c,this.metadata=l,this.next=null}}class g{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(t,r){for(let c=0;c<r;c++)t[c]=null}_hash2(t,r){return(t<<5)-t+r|0}_hashFunc(t,r,c){return this._hash2(this._hash2(t,r),c)%this._currentLength}get(t,r,c){const l=this._hashFunc(t,r,c);let a=this._elements[l];for(;a;){if(a.tokenTypeIndex===t&&a.tokenModifierSet===r&&a.languageId===c)return a;a=a.next}return null}add(t,r,c,l){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const a=this._elements;this._currentLengthIndex++,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength);for(const s of a){let o=s;for(;o;){const n=o.next;o.next=null,this._add(o),o=n}}}this._add(new h(t,r,c,l))}_add(t){const r=this._hashFunc(t.tokenTypeIndex,t.tokenModifierSet,t.languageId);t.next=this._elements[r],this._elements[r]=t}}g._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(ee[52],te([0,1,486,29,22,12]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,T.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},y.localize(0,null)),e.editorLineHighlightBorder=(0,T.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},y.localize(1,null)),e.editorRangeHighlight=(0,T.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},y.localize(2,null),!0),e.editorRangeHighlightBorder=(0,T.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hc:T.activeContrastBorder},y.localize(3,null),!0),e.editorSymbolHighlight=(0,T.registerColor)("editor.symbolHighlightBackground",{dark:T.editorFindMatchHighlight,light:T.editorFindMatchHighlight,hc:null},y.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,T.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hc:T.activeContrastBorder},y.localize(5,null),!0),e.editorCursorForeground=(0,T.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:N.Color.black,hc:N.Color.white},y.localize(6,null)),e.editorCursorBackground=(0,T.registerColor)("editorCursor.background",null,y.localize(7,null)),e.editorWhitespaces=(0,T.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},y.localize(8,null)),e.editorIndentGuides=(0,T.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},y.localize(9,null)),e.editorActiveIndentGuides=(0,T.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},y.localize(10,null)),e.editorLineNumbers=(0,T.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:N.Color.white},y.localize(11,null));const b=(0,T.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:T.activeContrastBorder},y.localize(12,null),!1,y.localize(13,null));e.editorActiveLineNumber=(0,T.registerColor)("editorLineNumber.activeForeground",{dark:b,light:b,hc:b},y.localize(14,null)),e.editorRuler=(0,T.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:N.Color.lightgrey,hc:N.Color.white},y.localize(15,null)),e.editorCodeLensForeground=(0,T.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},y.localize(16,null)),e.editorBracketMatchBackground=(0,T.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},y.localize(17,null)),e.editorBracketMatchBorder=(0,T.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:T.contrastBorder},y.localize(18,null)),e.editorOverviewRulerBorder=(0,T.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},y.localize(19,null)),e.editorOverviewRulerBackground=(0,T.registerColor)("editorOverviewRuler.background",null,y.localize(20,null)),e.editorGutter=(0,T.registerColor)("editorGutter.background",{dark:T.editorBackground,light:T.editorBackground,hc:T.editorBackground},y.localize(21,null)),e.editorUnnecessaryCodeBorder=(0,T.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hc:N.Color.fromHex("#fff").transparent(.8)},y.localize(22,null)),e.editorUnnecessaryCodeOpacity=(0,T.registerColor)("editorUnnecessaryCode.opacity",{dark:N.Color.fromHex("#000a"),light:N.Color.fromHex("#0007"),hc:null},y.localize(23,null)),e.ghostTextBorder=(0,T.registerColor)("editorGhostText.border",{dark:null,light:null,hc:N.Color.fromHex("#fff").transparent(.8)},y.localize(24,null)),e.ghostTextForeground=(0,T.registerColor)("editorGhostText.foreground",{dark:N.Color.fromHex("#ffffff56"),light:N.Color.fromHex("#0007"),hc:null},y.localize(25,null)),e.ghostTextBackground=(0,T.registerColor)("editorGhostText.background",{dark:null,light:null,hc:null},y.localize(26,null));const C=new N.Color(new N.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,T.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:C,light:C,hc:C},y.localize(27,null),!0),e.overviewRulerError=(0,T.registerColor)("editorOverviewRuler.errorForeground",{dark:new N.Color(new N.RGBA(255,18,18,.7)),light:new N.Color(new N.RGBA(255,18,18,.7)),hc:new N.Color(new N.RGBA(255,50,50,1))},y.localize(28,null)),e.overviewRulerWarning=(0,T.registerColor)("editorOverviewRuler.warningForeground",{dark:T.editorWarningForeground,light:T.editorWarningForeground,hc:T.editorWarningBorder},y.localize(29,null)),e.overviewRulerInfo=(0,T.registerColor)("editorOverviewRuler.infoForeground",{dark:T.editorInfoForeground,light:T.editorInfoForeground,hc:T.editorInfoBorder},y.localize(30,null)),e.editorBracketHighlightingForeground1=(0,T.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},y.localize(31,null)),e.editorBracketHighlightingForeground2=(0,T.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},y.localize(32,null)),e.editorBracketHighlightingForeground3=(0,T.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},y.localize(33,null)),e.editorBracketHighlightingForeground4=(0,T.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(34,null)),e.editorBracketHighlightingForeground5=(0,T.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(35,null)),e.editorBracketHighlightingForeground6=(0,T.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(36,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,T.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new N.Color(new N.RGBA(255,18,18,.8)),light:new N.Color(new N.RGBA(255,18,18,.8)),hc:new N.Color(new N.RGBA(255,50,50,1))},y.localize(37,null)),e.editorBracketPairGuideBackground1=(0,T.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(38,null)),e.editorBracketPairGuideBackground2=(0,T.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(39,null)),e.editorBracketPairGuideBackground3=(0,T.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(40,null)),e.editorBracketPairGuideBackground4=(0,T.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(41,null)),e.editorBracketPairGuideBackground5=(0,T.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(42,null)),e.editorBracketPairGuideBackground6=(0,T.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(43,null)),e.editorBracketPairGuideActiveBackground1=(0,T.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(44,null)),e.editorBracketPairGuideActiveBackground2=(0,T.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(45,null)),e.editorBracketPairGuideActiveBackground3=(0,T.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(46,null)),e.editorBracketPairGuideActiveBackground4=(0,T.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(47,null)),e.editorBracketPairGuideActiveBackground5=(0,T.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(48,null)),e.editorBracketPairGuideActiveBackground6=(0,T.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(49,null)),e.editorUnicodeHighlightBorder=(0,T.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hc:"#ff0000"},y.localize(50,null)),(0,I.registerThemingParticipant)((p,h)=>{const g=p.getColor(T.editorBackground);g&&h.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${g}; }`);const i=p.getColor(T.editorForeground);i&&h.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${i}; }`);const t=p.getColor(e.editorGutter);t&&h.addRule(`.monaco-editor .margin { background-color: ${t}; }`);const r=p.getColor(e.editorRangeHighlight);r&&h.addRule(`.monaco-editor .rangeHighlight { background-color: ${r}; }`);const c=p.getColor(e.editorRangeHighlightBorder);c&&h.addRule(`.monaco-editor .rangeHighlight { border: 1px ${p.type==="hc"?"dotted":"solid"} ${c}; }`);const l=p.getColor(e.editorSymbolHighlight);l&&h.addRule(`.monaco-editor .symbolHighlight { background-color: ${l}; }`);const a=p.getColor(e.editorSymbolHighlightBorder);a&&h.addRule(`.monaco-editor .symbolHighlight { border: 1px ${p.type==="hc"?"dotted":"solid"} ${a}; }`);const s=p.getColor(e.editorWhitespaces);s&&(h.addRule(`.monaco-editor .mtkw { color: ${s} !important; }`),h.addRule(`.monaco-editor .mtkz { color: ${s} !important; }`))})}),define(ee[617],te([0,1,99,52,19,12,21,342]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;let C=!0;class p extends y.DynamicViewOverlay{constructor(t){super();this._context=t;const r=this._context.configuration.options,c=r.get(130);this._lineHeight=r.get(58),this._renderLineHighlight=r.get(84),this._renderLineHighlightOnlyWhenFocus=r.get(85),this._contentLeft=c.contentLeft,this._contentWidth=c.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new b.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let t=!1;const r=C?this._selections.slice(0,1):this._selections,c=r.map(a=>a.positionLineNumber);c.sort((a,s)=>a-s),T.equals(this._cursorLineNumbers,c)||(this._cursorLineNumbers=c,t=!0);const l=r.every(a=>a.isEmpty());return this._selectionIsEmpty!==l&&(this._selectionIsEmpty=l,t=!0),t}onThemeChanged(t){return this._readFromSelections()}onConfigurationChanged(t){const r=this._context.configuration.options,c=r.get(130);return this._lineHeight=r.get(58),this._renderLineHighlight=r.get(84),this._renderLineHighlightOnlyWhenFocus=r.get(85),this._contentLeft=c.contentLeft,this._contentWidth=c.contentWidth,!0}onCursorStateChanged(t){return this._selections=t.selections,this._readFromSelections()}onFlushed(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollWidthChanged||t.scrollTopChanged}onZonesChanged(t){return!0}onFocusChanged(t){return this._renderLineHighlightOnlyWhenFocus?(this._focused=t.isFocused,!0):!1}prepareRender(t){if(!this._shouldRenderThis()){this._renderData=null;return}const r=this._renderOne(t),c=t.visibleRange.startLineNumber,l=t.visibleRange.endLineNumber,a=this._cursorLineNumbers.length;let s=0;const o=[];for(let n=c;n<=l;n++){const d=n-c;for(;s<a&&this._cursorLineNumbers[s]<n;)s++;s<a&&this._cursorLineNumbers[s]===n?o[d]=r:o[d]=""}this._renderData=o}render(t,r){if(!this._renderData)return"";const c=r-t;return c>=this._renderData.length?"":this._renderData[c]}}e.AbstractLineHighlightOverlay=p;class h extends p{_renderOne(t){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(t.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineHighlightOverlay=h;class g extends p{_renderOne(t){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineMarginHighlightOverlay=g,(0,I.registerThemingParticipant)((i,t)=>{C=!1;const r=i.getColor(N.editorLineHighlight);if(r&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${r}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${r}; border: none; }`)),!r||r.isTransparent()||i.defines(N.editorLineHighlightBorder)){const c=i.getColor(N.editorLineHighlightBorder);c&&(C=!0,t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${c}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${c}; }`),i.type==="hc"&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(ee[272],te([0,1,17,99,14,52,12,346]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class C extends N.DynamicViewOverlay{constructor(h){super();this._context=h,this._readConfig(),this._lastCursorModelPosition=new T.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const h=this._context.configuration.options;this._lineHeight=h.get(58);const g=h.get(59);this._renderLineNumbers=g.renderType,this._renderCustomLineNumbers=g.renderFn,this._renderFinalNewline=h.get(83);const i=h.get(130);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(h){return this._readConfig(),!0}onCursorStateChanged(h){const g=h.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(g);let i=!1;return this._activeLineNumber!==g.lineNumber&&(this._activeLineNumber=g.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(h){return!0}onLinesChanged(h){return!0}onLinesDeleted(h){return!0}onLinesInserted(h){return!0}onScrollChanged(h){return h.scrollTopChanged}onZonesChanged(h){return!0}_getLineRenderLineNumber(h){const g=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new T.Position(h,1));if(g.column!==1)return"";const i=g.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){const t=Math.abs(this._lastCursorModelPosition.lineNumber-i);return t===0?'<span class="relative-current-line-number">'+i+"</span>":String(t)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===i||i%10==0?String(i):"":String(i)}prepareRender(h){if(this._renderLineNumbers===0){this._renderResult=null;return}const g=y.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",i=h.visibleRange.startLineNumber,t=h.visibleRange.endLineNumber,r='<div class="'+C.CLASS_NAME+g+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',c=this._context.model.getLineCount(),l=[];for(let a=i;a<=t;a++){const s=a-i;if(!this._renderFinalNewline&&a===c&&this._context.model.getLineLength(a)===0){l[s]="";continue}const o=this._getLineRenderLineNumber(a);o?a===this._activeLineNumber?l[s]='<div class="active-line-number '+C.CLASS_NAME+g+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+o+"</div>":l[s]=r+o+"</div>":l[s]=""}this._renderResult=l}render(h,g){if(!this._renderResult)return"";const i=g-h;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.LineNumbersOverlay=C,C.CLASS_NAME="line-numbers",(0,b.registerThemingParticipant)((p,h)=>{const g=p.getColor(I.editorLineNumbers);g&&h.addRule(`.monaco-editor .line-numbers { color: ${g}; }`);const i=p.getColor(I.editorActiveLineNumber);i&&h.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${i}; }`)})}),define(ee[618],te([0,1,471,34,32,17,8,62,175,225,50,272,237,30,112,14,3,21,138,341]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class n{constructor(_,L,w){this._visibleTextAreaBrand=void 0,this.top=_,this.left=L,this.width=w}setWidth(_){return new n(this.top,this.left,_)}}const d=N.isFirefox;class u extends g.ViewPart{constructor(_,L,w){super(_);this._primaryCursorPosition=new l.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=L,this._viewHelper=w,this._scrollLeft=0,this._scrollTop=0;const k=this._context.configuration.options,D=k.get(130);this._setAccessibilityOptions(k),this._contentLeft=D.contentLeft,this._contentWidth=D.contentWidth,this._contentHeight=D.height,this._fontInfo=k.get(43),this._lineHeight=k.get(58),this._emptySelectionClipboard=k.get(32),this._copyWithSyntaxHighlighting=k.get(21),this._visibleTextArea=null,this._selections=[new s.Selection(1,1,1,1)],this._modelSelections=[new s.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,T.createFastDomNode)(document.createElement("textarea")),g.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${o.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(k)),this.textArea.setAttribute("tabindex",String(k.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",y.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),k.get(30)&&k.get(80)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,T.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const M={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:R=>this._context.model.getLineMaxColumn(R),getValueInRange:(R,A)=>this._context.model.getValueInRange(R,A)},O={getDataToCopy:R=>{const A=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,I.isWindows),P=this._context.model.getEOL(),E=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),B=Array.isArray(A)?A:null,V=Array.isArray(A)?A.join(P):A;let j,K=null;if(R&&(p.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&V.length<65536)){const Y=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Y&&(j=Y.html,K=Y.mode)}return{isFromEmptySelection:E,multicursorText:B,text:V,html:j,mode:K}},getScreenReaderContent:R=>{if(this._accessibilitySupport===1){if(I.isMacintosh){const A=this._selections[0];if(A.isEmpty()){const P=A.getStartPosition();let E=this._getWordBeforePosition(P);if(E.length===0&&(E=this._getCharacterBeforePosition(P)),E.length>0)return new h.TextAreaState(E,E.length,E.length,P,P)}}return h.TextAreaState.EMPTY}if(N.isAndroid){const A=this._selections[0];if(A.isEmpty()){const P=A.getStartPosition(),[E,B]=this._getAndroidWordAtPosition(P);if(E.length>0)return new h.TextAreaState(E,B,B,P,P)}return h.TextAreaState.EMPTY}return h.PagedScreenReaderStrategy.fromEditorSelection(R,M,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(R,A,P)=>this._context.model.deduceModelPositionRelativeToViewPosition(R,A,P)},F=this._register(new p.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(new p.TextAreaInput(O,F,I.OS,N)),this._register(this._textAreaInput.onKeyDown(R=>{this._viewController.emitKeyDown(R)})),this._register(this._textAreaInput.onKeyUp(R=>{this._viewController.emitKeyUp(R)})),this._register(this._textAreaInput.onPaste(R=>{let A=!1,P=null,E=null;R.metadata&&(A=this._emptySelectionClipboard&&!!R.metadata.isFromEmptySelection,P=typeof R.metadata.multicursorText!="undefined"?R.metadata.multicursorText:null,E=R.metadata.mode),this._viewController.paste(R.text,A,P,E)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(R=>{R.replacePrevCharCnt||R.replaceNextCharCnt||R.positionDelta?(h._debugComposition&&console.log(` => compositionType: <<${R.text}>>, ${R.replacePrevCharCnt}, ${R.replaceNextCharCnt}, ${R.positionDelta}`),this._viewController.compositionType(R.text,R.replacePrevCharCnt,R.replaceNextCharCnt,R.positionDelta)):(h._debugComposition&&console.log(` => type: <<${R.text}>>`),this._viewController.type(R.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(R=>{this._viewController.setSelection(R)})),this._register(this._textAreaInput.onCompositionStart(R=>{const A=this._selections[0].startLineNumber,P=this._selections[0].startColumn+R.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new a.Range(A,P,A,P),0,1);const E=this._viewHelper.visibleRangeForPositionRelativeToEditor(A,P);E&&(this._visibleTextArea=new n(this._context.viewLayout.getVerticalOffsetForLineNumber(A),E.left,d?0:1),this.textArea.domNode.scrollLeft=0,this._render()),this.textArea.setClassName(`inputarea ${o.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(R=>{!this._visibleTextArea||(this._visibleTextArea=this._visibleTextArea.setWidth(f(R.data,this._fontInfo)),this.textArea.domNode.scrollLeft=0,this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${o.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(_){const L='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',w=this._context.model.getLineContent(_.lineNumber),k=(0,c.getMapForWordSeparators)(L);let D=!0,M=_.column,O=!0,F=_.column,R=0;for(;R<50&&(D||O);){if(D&&M<=1&&(D=!1),D){const A=w.charCodeAt(M-2);k.get(A)!==0?D=!1:M--}if(O&&F>w.length&&(O=!1),O){const A=w.charCodeAt(F-1);k.get(A)!==0?O=!1:F++}R++}return[w.substring(M-1,F-1),_.column-M]}_getWordBeforePosition(_){const L=this._context.model.getLineContent(_.lineNumber),w=(0,c.getMapForWordSeparators)(this._context.configuration.options.get(116));let k=_.column,D=0;for(;k>1;){const M=L.charCodeAt(k-2);if(w.get(M)!==0||D>50)return L.substring(k-1,_.column-1);D++,k--}return L.substring(0,_.column-1)}_getCharacterBeforePosition(_){if(_.column>1){const w=this._context.model.getLineContent(_.lineNumber).charAt(_.column-2);if(!b.isHighSurrogate(w.charCodeAt(0)))return w}return""}_getAriaLabel(_){return _.get(2)===1?y.localize(1,null,I.isLinux?"Shift+Alt+F1":"Alt+F1"):_.get(4)}_setAccessibilityOptions(_){this._accessibilitySupport=_.get(2);const L=_.get(3);this._accessibilitySupport===2&&L===r.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=L}onConfigurationChanged(_){const L=this._context.configuration.options,w=L.get(130);return this._setAccessibilityOptions(L),this._contentLeft=w.contentLeft,this._contentWidth=w.contentWidth,this._contentHeight=w.height,this._fontInfo=L.get(43),this._lineHeight=L.get(58),this._emptySelectionClipboard=L.get(32),this._copyWithSyntaxHighlighting=L.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(L)),this.textArea.setAttribute("tabindex",String(L.get(111))),(_.hasChanged(30)||_.hasChanged(80))&&(L.get(30)&&L.get(80)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),_.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(_){return this._selections=_.selections.slice(0),this._modelSelections=_.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(_){return!0}onFlushed(_){return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return this._scrollLeft=_.scrollLeft,this._scrollTop=_.scrollTop,!0}onZonesChanged(_){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(_){_.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",_.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),_.role&&this.textArea.setAttribute("role",_.role)}prepareRender(_){this._primaryCursorPosition=new l.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=_.visibleRangeForPosition(this._primaryCursorPosition)}render(_){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const _=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(_<this._contentLeft||_>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const L=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(L<0||L>this._contentHeight){this._renderAtTopLeft();return}if(I.isMacintosh){this._renderInsideEditor(this._primaryCursorPosition,L,_,d?0:1,this._lineHeight),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const w=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=w*this._lineHeight;return}this._renderInsideEditor(this._primaryCursorPosition,L,_,d?0:1,d?0:1)}_newlinecount(_){let L=0,w=-1;do{if(w=_.indexOf(`
`,w+1),w===-1)break;L++}while(!0);return L}_renderInsideEditor(_,L,w,k,D){this._lastRenderPosition=_;const M=this.textArea,O=this.textAreaCover;C.Configuration.applyFontInfo(M,this._fontInfo),M.setTop(L),M.setLeft(w),M.setWidth(k),M.setHeight(D),O.setTop(0),O.setLeft(0),O.setWidth(0),O.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const _=this.textArea,L=this.textAreaCover;if(C.Configuration.applyFontInfo(_,this._fontInfo),_.setTop(0),_.setLeft(0),L.setTop(0),L.setLeft(0),d){_.setWidth(0),_.setHeight(0),L.setWidth(0),L.setHeight(0);return}_.setWidth(1),_.setHeight(1),L.setWidth(1),L.setHeight(1);const w=this._context.configuration.options;w.get(49)?L.setClassName("monaco-editor-background textAreaCover "+t.Margin.OUTER_CLASS_NAME):w.get(59).renderType!==0?L.setClassName("monaco-editor-background textAreaCover "+i.LineNumbersOverlay.CLASS_NAME):L.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=u;function f(m,_){const w=document.createElement("canvas").getContext("2d");w.font=S(_);const k=w.measureText(m);return N.isFirefox?k.width+2:k.width}function S(m){return v("normal",m.fontWeight,m.fontSize,m.lineHeight,m.fontFamily)}function v(m,_,L,w,k){return`${m} normal ${_} ${L}px / ${w}px ${k}`}}),define(ee[619],te([0,1,32,29,50,14,18,52,64]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class h{constructor(t,r){const c=t.options;this.lineHeight=c.get(58),this.pixelRatio=c.get(128),this.overviewRulerLanes=c.get(73),this.renderBorder=c.get(72);const l=r.getColor(C.editorOverviewRulerBorder);this.borderColor=l?l.toString():null,this.hideCursor=c.get(51);const a=r.getColor(C.editorCursorForeground);this.cursorColor=a?a.transparent(.7).toString():null,this.themeType=r.type;const s=c.get(64),o=s.enabled,n=s.side,d=o?r.getColor(C.editorOverviewRulerBackground)||b.TokenizationRegistry.getDefaultBackground():null;d===null||n==="left"?this.backgroundColor=null:this.backgroundColor=N.Color.Format.CSS.formatHex(d);const f=c.get(130).overviewRuler;this.top=f.top,this.right=f.right,this.domWidth=f.width,this.domHeight=f.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[S,v]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=S,this.w=v}_initLanes(t,r,c){const l=r-t;if(c>=3){const a=Math.floor(l/3),s=Math.floor(l/3),o=l-a-s,n=t,d=n+a,u=n+a+o;return[[0,n,d,n,u,n,d,n],[0,a,o,a+o,s,a+o+s,o+s,a+o+s]]}else if(c===2){const a=Math.floor(l/2),s=l-a,o=t,n=o+a;return[[0,o,o,o,n,o,o,o],[0,a,a,a,s,a+s,a+s,a+s]]}else{const a=t,s=l;return[[0,a,a,a,a,a,a,a],[0,s,s,s,s,s,s,s]]}}equals(t){return this.lineHeight===t.lineHeight&&this.pixelRatio===t.pixelRatio&&this.overviewRulerLanes===t.overviewRulerLanes&&this.renderBorder===t.renderBorder&&this.borderColor===t.borderColor&&this.hideCursor===t.hideCursor&&this.cursorColor===t.cursorColor&&this.themeType===t.themeType&&this.backgroundColor===t.backgroundColor&&this.top===t.top&&this.right===t.right&&this.domWidth===t.domWidth&&this.domHeight===t.domHeight&&this.canvasWidth===t.canvasWidth&&this.canvasHeight===t.canvasHeight}}class g extends T.ViewPart{constructor(t){super(t);this._domNode=(0,y.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=b.TokenizationRegistry.onDidChange(r=>{r.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(t){const r=new h(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(r)?!1:(this._settings=r,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,t&&this._render(),!0)}onConfigurationChanged(t){return this._updateSettings(!1)}onCursorStateChanged(t){this._cursorPositions=[];for(let r=0,c=t.selections.length;r<c;r++)this._cursorPositions[r]=t.selections[r].getPosition();return this._cursorPositions.sort(I.Position.compare),!0}onDecorationsChanged(t){return!!t.affectsOverviewRuler}onFlushed(t){return!0}onScrollChanged(t){return t.scrollHeightChanged}onZonesChanged(t){return!0}onThemeChanged(t){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(t){}render(t){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const t=this._settings.canvasWidth,r=this._settings.canvasHeight,c=this._settings.lineHeight,l=this._context.viewLayout,a=this._context.viewLayout.getScrollHeight(),s=r/a,o=this._context.model.getAllOverviewRulerDecorations(this._context.theme),n=6*this._settings.pixelRatio|0,d=n/2|0,u=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?u.clearRect(0,0,t,r):(u.fillStyle=this._settings.backgroundColor,u.fillRect(0,0,t,r));const f=this._settings.x,S=this._settings.w;o.sort(p.OverviewRulerDecorationsGroup.cmp);for(const v of o){const m=v.color,_=v.data;u.fillStyle=m;let L=0,w=0,k=0;for(let D=0,M=_.length/3;D<M;D++){const O=_[3*D],F=_[3*D+1],R=_[3*D+2];let A=l.getVerticalOffsetForLineNumber(F)*s|0,P=(l.getVerticalOffsetForLineNumber(R)+c)*s|0;if(P-A<n){let B=(A+P)/2|0;B<d?B=d:B+d>r&&(B=r-d),A=B-d,P=B+d}A>k+1||O!==L?(D!==0&&u.fillRect(f[L],w,S[L],k-w),L=O,w=A,k=P):P>k&&(k=P)}u.fillRect(f[L],w,S[L],k-w)}if(!this._settings.hideCursor&&this._settings.cursorColor){const v=2*this._settings.pixelRatio|0,m=v/2|0,_=this._settings.x[7],L=this._settings.w[7];u.fillStyle=this._settings.cursorColor;let w=-100,k=-100;for(let D=0,M=this._cursorPositions.length;D<M;D++){const O=this._cursorPositions[D];let F=l.getVerticalOffsetForLineNumber(O.lineNumber)*s|0;F<m?F=m:F+m>r&&(F=r-m);const R=F-m,A=R+v;R>k+1?(D!==0&&u.fillRect(_,w,L,k-w),w=R,k=A):A>k&&(k=A)}u.fillRect(_,w,L,k-w)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(u.beginPath(),u.lineWidth=1,u.strokeStyle=this._settings.borderColor,u.moveTo(0,0),u.lineTo(0,r),u.stroke(),u.moveTo(0,0),u.lineTo(t,0),u.stroke())}}e.DecorationsOverviewRuler=g}),define(ee[620],te([0,1,32,50,52,12,352]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class b extends N.ViewPart{constructor(p){super(p);this.domNode=(0,y.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const h=this._context.configuration.options;this._rulers=h.get(90),this._typicalHalfwidthCharacterWidth=h.get(43).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(p){const h=this._context.configuration.options;return this._rulers=h.get(90),this._typicalHalfwidthCharacterWidth=h.get(43).typicalHalfwidthCharacterWidth,!0}onScrollChanged(p){return p.scrollHeightChanged}prepareRender(p){}_ensureRulersCount(){const p=this._renderedRulers.length,h=this._rulers.length;if(p===h)return;if(p<h){const{tabSize:i}=this._context.model.getTextModelOptions(),t=i;let r=h-p;for(;r>0;){const c=(0,y.createFastDomNode)(document.createElement("div"));c.setClassName("view-ruler"),c.setWidth(t),this.domNode.appendChild(c),this._renderedRulers.push(c),r--}return}let g=p-h;for(;g>0;){const i=this._renderedRulers.pop();this.domNode.removeChild(i),g--}}render(p){this._ensureRulersCount();for(let h=0,g=this._rulers.length;h<g;h++){const i=this._renderedRulers[h],t=this._rulers[h];i.setBoxShadow(t.color?`1px 0 0 0 ${t.color} inset`:""),i.setHeight(Math.min(p.scrollHeight,1e6)),i.setLeft(t.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=b,(0,I.registerThemingParticipant)((C,p)=>{const h=C.getColor(T.editorRuler);h&&p.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${h} inset; }`)})}),define(ee[621],te([0,1,32,10,50,597,30,52,12,355]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class h extends T.ViewPart{constructor(i){super(i);const t=this._context.configuration.options;this._readOnly=t.get(80),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new I.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new N.TimeoutTimer,this._cursorFlatBlinkInterval=new N.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(i){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(i){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(i){const t=this._context.configuration.options;this._readOnly=t.get(80),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(i);for(let r=0,c=this._secondaryCursors.length;r<c;r++)this._secondaryCursors[r].onConfigurationChanged(i);return!0}_onCursorPositionChanged(i,t){if(this._primaryCursor.onCursorPositionChanged(i),this._updateBlinking(),this._secondaryCursors.length<t.length){const r=t.length-this._secondaryCursors.length;for(let c=0;c<r;c++){const l=new I.ViewCursor(this._context);this._domNode.domNode.insertBefore(l.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(l)}}else if(this._secondaryCursors.length>t.length){const r=this._secondaryCursors.length-t.length;for(let c=0;c<r;c++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let r=0;r<t.length;r++)this._secondaryCursors[r].onCursorPositionChanged(t[r])}onCursorStateChanged(i){const t=[];for(let c=0,l=i.selections.length;c<l;c++)t[c]=i.selections[c].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const r=i.selections[0].isEmpty();return this._selectionIsEmpty!==r&&(this._selectionIsEmpty=r,this._updateDomClassName()),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onFocusChanged(i){return this._editorHasFocus=i.isFocused,this._updateBlinking(),!1}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onTokensChanged(i){const t=r=>{for(let c=0,l=i.ranges.length;c<l;c++)if(i.ranges[c].fromLineNumber<=r.lineNumber&&r.lineNumber<=i.ranges[c].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const r of this._secondaryCursors)if(t(r.getPosition()))return!0;return!1}onZonesChanged(i){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const i=this._getCursorBlinking(),t=i===0,r=i===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!r&&(i===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},h.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},h.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let i="cursors-layer";switch(this._selectionIsEmpty||(i+=" has-selection"),this._cursorStyle){case b.TextEditorCursorStyle.Line:i+=" cursor-line-style";break;case b.TextEditorCursorStyle.Block:i+=" cursor-block-style";break;case b.TextEditorCursorStyle.Underline:i+=" cursor-underline-style";break;case b.TextEditorCursorStyle.LineThin:i+=" cursor-line-thin-style";break;case b.TextEditorCursorStyle.BlockOutline:i+=" cursor-block-outline-style";break;case b.TextEditorCursorStyle.UnderlineThin:i+=" cursor-underline-thin-style";break;default:i+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:i+=" cursor-blink";break;case 2:i+=" cursor-smooth";break;case 3:i+=" cursor-phase";break;case 4:i+=" cursor-expand";break;case 5:i+=" cursor-solid";break;default:i+=" cursor-solid"}else i+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(i+=" cursor-smooth-caret-animation"),i}_show(){this._primaryCursor.show();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(i){this._primaryCursor.prepareRender(i);for(let t=0,r=this._secondaryCursors.length;t<r;t++)this._secondaryCursors[t].prepareRender(i)}render(i){let t=[],r=0;const c=this._primaryCursor.render(i);c&&(t[r++]=c);for(let l=0,a=this._secondaryCursors.length;l<a;l++){const s=this._secondaryCursors[l].render(i);s&&(t[r++]=s)}this._renderData=t}getLastRenderData(){return this._renderData}}e.ViewCursors=h,h.BLINK_INTERVAL=500,(0,p.registerThemingParticipant)((g,i)=>{const t=g.getColor(C.editorCursorForeground);if(t){let r=g.getColor(C.editorCursorBackground);r||(r=t.opposite()),i.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${r}; }`),g.type==="hc"&&i.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${r}; border-right: 1px solid ${r}; }`)}})}),define(ee[622],te([0,1,4,2,3,52,12]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class C extends N.Disposable{constructor(g){super();this.textModel=g,this.colorProvider=new p,this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=g.getOptions().bracketPairColorizationOptions,this._register(g.onDidChangeOptions(i=>{this.colorizationOptions=g.getOptions().bracketPairColorizationOptions})),this._register(g.bracketPairs.onDidChange(i=>{this.onDidChangeEmitter.fire()}))}getDecorationsInRange(g,i,t){if(i===void 0)return[];if(!this.colorizationOptions.enabled)return[];const r=new Array,c=this.textModel.bracketPairs.getBracketsInRange(g);for(const l of c)r.push({id:`bracket${l.range.toString()}-${l.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(l)},ownerId:0,range:l.range});return r}getAllDecorations(g,i){return g===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new T.Range(1,1,this.textModel.getLineCount(),1),g,i):[]}}e.ColorizedBracketPairsDecorationProvider=C;class p{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(g){return g.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(g.nestingLevel)}getInlineClassNameOfLevel(g){return`bracket-highlighting-${g%30}`}}(0,b.registerThemingParticipant)((h,g)=>{const i=[I.editorBracketHighlightingForeground1,I.editorBracketHighlightingForeground2,I.editorBracketHighlightingForeground3,I.editorBracketHighlightingForeground4,I.editorBracketHighlightingForeground5,I.editorBracketHighlightingForeground6],t=new p;g.addRule(`.monaco-editor .${t.unexpectedClosingBracketClassName} { color: ${h.getColor(I.editorBracketHighlightingUnexpectedBracketForeground)}; }`);let r=i.map(c=>h.getColor(c)).filter(c=>!!c).filter(c=>!c.isTransparent());for(let c=0;c<30;c++){const l=r[c%r.length];g.addRule(`.monaco-editor .${t.getInlineClassNameOfLevel(c)} { color: ${l}; }`)}})}),define(ee[623],te([0,1,92,2,49,12,52,43,3,48,4,22,47]),function(q,e,y,N,T,I,b,C,p,h,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class r extends N.Disposable{constructor(a){super();this.model=a,this._markersData=new Map,this._register((0,N.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(a,s){const o=[...this._markersData.keys()];this._markersData.clear();const n=this.model.deltaDecorations(o,s);for(let d=0;d<n.length;d++)this._markersData.set(n[d],a[d]);return o.length!==0||n.length!==0}getMarker(a){return this._markersData.get(a.id)}}let c=class extends N.Disposable{constructor(a,s){super();this._markerService=s,this._onDidChangeMarker=this._register(new g.Emitter),this._markerDecorations=new t.ResourceMap,a.getModels().forEach(o=>this._onModelAdded(o)),this._register(a.onModelAdded(this._onModelAdded,this)),this._register(a.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(a=>a.dispose()),this._markerDecorations.clear()}getMarker(a,s){const o=this._markerDecorations.get(a);return o&&o.getMarker(s)||null}_handleMarkerChange(a){a.forEach(s=>{const o=this._markerDecorations.get(s);o&&this._updateDecorations(o)})}_onModelAdded(a){const s=new r(a);this._markerDecorations.set(a.uri,s),this._updateDecorations(s)}_onModelRemoved(a){const s=this._markerDecorations.get(a.uri);s&&(s.dispose(),this._markerDecorations.delete(a.uri)),(a.uri.scheme===h.Schemas.inMemory||a.uri.scheme===h.Schemas.internal||a.uri.scheme===h.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:a.uri}).map(o=>o.owner).forEach(o=>this._markerService.remove(o,[a.uri]))}_updateDecorations(a){const s=this._markerService.read({resource:a.model.uri,take:500});let o=s.map(n=>({range:this._createDecorationRange(a.model,n),options:this._createDecorationOption(n)}));a.update(s,o)&&this._onDidChangeMarker.fire(a.model)}_createDecorationRange(a,s){let o=p.Range.lift(s);return s.severity===y.MarkerSeverity.Hint&&!this._hasMarkerTag(s,1)&&!this._hasMarkerTag(s,2)&&(o=o.setEndPosition(o.startLineNumber,o.startColumn+2)),a.validateRange(o)}_createDecorationOption(a){let s,o,n,d,u;switch(a.severity){case y.MarkerSeverity.Hint:this._hasMarkerTag(a,2)?s=void 0:this._hasMarkerTag(a,1)?s="squiggly-unnecessary":s="squiggly-hint",n=0;break;case y.MarkerSeverity.Warning:s="squiggly-warning",o=(0,I.themeColorFromId)(b.overviewRulerWarning),n=20,u={color:(0,I.themeColorFromId)(i.minimapWarning),position:T.MinimapPosition.Inline};break;case y.MarkerSeverity.Info:s="squiggly-info",o=(0,I.themeColorFromId)(b.overviewRulerInfo),n=10;break;case y.MarkerSeverity.Error:default:s="squiggly-error",o=(0,I.themeColorFromId)(b.overviewRulerError),n=30,u={color:(0,I.themeColorFromId)(i.minimapError),position:T.MinimapPosition.Inline};break}return a.tags&&(a.tags.indexOf(1)!==-1&&(d="squiggly-inline-unnecessary"),a.tags.indexOf(2)!==-1&&(d="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:s,showIfCollapsed:!0,overviewRuler:{color:o,position:T.OverviewRulerLane.Right},minimap:u,zIndex:n,inlineClassName:d}}_hasMarkerTag(a,s){return a.tags?a.tags.indexOf(s)>=0:!1}};c=Be([Ce(0,C.IModelService),Ce(1,y.IMarkerService)],c),e.MarkerDecorationsService=c}),define(ee[624],te([0,1,34,7,96,54,29,4,2,495,22,12,363]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const t=N.$;class r extends p.Disposable{constructor(u,f,S){super();this.model=f,this.domNode=t(".colorpicker-header"),N.append(u,this.domNode),this.pickedColorNode=N.append(this.domNode,t(".picked-color"));const v=(0,h.localize)(0,null);this.pickedColorNode.setAttribute("title",v);const m=N.append(this.domNode,t(".original-color"));m.style.backgroundColor=b.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=S.getColorTheme().getColor(g.editorHoverBackground)||b.Color.white,this._register((0,i.registerThemingParticipant)((_,L)=>{this.backgroundColor=_.getColor(g.editorHoverBackground)||b.Color.white})),this._register(N.addDisposableListener(this.pickedColorNode,N.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(N.addDisposableListener(m,N.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(f.onDidChangeColor(this.onDidChangeColor,this)),this._register(f.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=b.Color.Format.CSS.format(f.color)||"",this.pickedColorNode.classList.toggle("light",f.color.rgba.a<.5?this.backgroundColor.isLighter():f.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(u){this.pickedColorNode.style.backgroundColor=b.Color.Format.CSS.format(u)||"",this.pickedColorNode.classList.toggle("light",u.rgba.a<.5?this.backgroundColor.isLighter():u.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(t(".codicon.codicon-color-mode"))}}e.ColorPickerHeader=r;class c extends p.Disposable{constructor(u,f,S){super();this.model=f,this.pixelRatio=S,this.domNode=t(".colorpicker-body"),N.append(u,this.domNode),this.saturationBox=new l(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new s(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new o(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:u,v:f}){const S=this.model.color.hsva;this.model.color=new b.Color(new b.HSVA(S.h,u,f,S.a))}onDidOpacityChange(u){const f=this.model.color.hsva;this.model.color=new b.Color(new b.HSVA(f.h,f.s,f.v,u))}onDidHueChange(u){const f=this.model.color.hsva,S=(1-u)*360;this.model.color=new b.Color(new b.HSVA(S===360?0:S,f.s,f.v,f.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=c;class l extends p.Disposable{constructor(u,f,S){super();this.model=f,this.pixelRatio=S,this._onDidChange=new C.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new C.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=t(".saturation-wrap"),N.append(u,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",N.append(this.domNode,this.canvas),this.selection=t(".saturation-selection"),N.append(this.domNode,this.selection),this.layout(),this._register(N.addDisposableGenericMouseDownListner(this.domNode,v=>this.onMouseDown(v))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(u){this.monitor=this._register(new T.GlobalMouseMoveMonitor);const f=N.getDomNodePagePosition(this.domNode);u.target!==this.selection&&this.onDidChangePosition(u.offsetX,u.offsetY),this.monitor.startMonitoring(u.target,u.buttons,T.standardMouseMoveMerger,v=>this.onDidChangePosition(v.posx-f.left,v.posy-f.top),()=>null);const S=N.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),S.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(u,f){const S=Math.max(0,Math.min(1,u/this.width)),v=Math.max(0,Math.min(1,1-f/this.height));this.paintSelection(S,v),this._onDidChange.fire({s:S,v})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const u=this.model.color.hsva;this.paintSelection(u.s,u.v)}paint(){const u=this.model.color.hsva,f=new b.Color(new b.HSVA(u.h,1,1,1)),S=this.canvas.getContext("2d"),v=S.createLinearGradient(0,0,this.canvas.width,0);v.addColorStop(0,"rgba(255, 255, 255, 1)"),v.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),v.addColorStop(1,"rgba(255, 255, 255, 0)");const m=S.createLinearGradient(0,0,0,this.canvas.height);m.addColorStop(0,"rgba(0, 0, 0, 0)"),m.addColorStop(1,"rgba(0, 0, 0, 1)"),S.rect(0,0,this.canvas.width,this.canvas.height),S.fillStyle=b.Color.Format.CSS.format(f),S.fill(),S.fillStyle=v,S.fill(),S.fillStyle=m,S.fill()}paintSelection(u,f){this.selection.style.left=`${u*this.width}px`,this.selection.style.top=`${this.height-f*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class a extends p.Disposable{constructor(u,f){super();this.model=f,this._onDidChange=new C.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new C.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=N.append(u,t(".strip")),this.overlay=N.append(this.domNode,t(".overlay")),this.slider=N.append(this.domNode,t(".slider")),this.slider.style.top="0px",this._register(N.addDisposableGenericMouseDownListner(this.domNode,S=>this.onMouseDown(S))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const u=this.getValue(this.model.color);this.updateSliderPosition(u)}onMouseDown(u){const f=this._register(new T.GlobalMouseMoveMonitor),S=N.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),u.target!==this.slider&&this.onDidChangeTop(u.offsetY),f.startMonitoring(u.target,u.buttons,T.standardMouseMoveMerger,m=>this.onDidChangeTop(m.posy-S.top),()=>null);const v=N.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),v.dispose(),f.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(u){const f=Math.max(0,Math.min(1,1-u/this.height));this.updateSliderPosition(f),this._onDidChange.fire(f)}updateSliderPosition(u){this.slider.style.top=`${(1-u)*this.height}px`}}class s extends a{constructor(u,f){super(u,f);this.domNode.classList.add("opacity-strip"),this._register(f.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(u){const{r:f,g:S,b:v}=u.rgba,m=new b.Color(new b.RGBA(f,S,v,1)),_=new b.Color(new b.RGBA(f,S,v,0));this.overlay.style.background=`linear-gradient(to bottom, ${m} 0%, ${_} 100%)`}getValue(u){return u.hsva.a}}class o extends a{constructor(u,f){super(u,f);this.domNode.classList.add("hue-strip")}getValue(u){return 1-u.hsva.h/360}}class n extends I.Widget{constructor(u,f,S,v){super();this.model=f,this.pixelRatio=S,this._register((0,y.onDidChangeZoomLevel)(()=>this.layout()));const m=t(".colorpicker-widget");u.appendChild(m);const _=new r(m,this.model,v);this.body=new c(m,this.model,this.pixelRatio),this._register(_),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=n}),define(ee[625],te([0,1,7,216,210,185,69,170,2,42,66,511,9,41,125,128,12,121]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let o=class{constructor(w){this._resolverService=w}hasChildren(w){return w instanceof s.ReferencesModel||w instanceof s.FileReferences}getChildren(w){if(w instanceof s.ReferencesModel)return w.groups;if(w instanceof s.FileReferences)return w.resolve(this._resolverService).then(k=>k.children);throw new Error("bad tree")}};o=Be([Ce(0,g.ITextModelService)],o),e.DataSource=o;class n{getHeight(){return 23}getTemplateId(w){return w instanceof s.FileReferences?S.id:m.id}}e.Delegate=n;let d=class{constructor(w){this._keybindingService=w}getKeyboardNavigationLabel(w){var k;if(w instanceof s.OneReference){const D=(k=w.parent.getPreview(w))===null||k===void 0?void 0:k.preview(w.range);if(D)return D.value}return(0,h.basename)(w.uri)}};d=Be([Ce(0,r.IKeybindingService)],d),e.StringRepresentationProvider=d;class u{getId(w){return w instanceof s.OneReference?w.id:w.uri}}e.IdentityProvider=u;let f=class extends p.Disposable{constructor(w,k,D){super();this._uriLabel=k;const M=document.createElement("div");M.classList.add("reference-file"),this.file=this._register(new I.IconLabel(M,{supportHighlights:!0})),this.badge=new N.CountBadge(y.append(M,y.$(".count"))),this._register((0,l.attachBadgeStyler)(this.badge,D)),w.appendChild(M)}set(w,k){let D=(0,h.dirname)(w.uri);this.file.setLabel((0,C.getBaseLabel)(w.uri),this._uriLabel.getUriLabel(D,{relative:!0}),{title:this._uriLabel.getUriLabel(w.uri),matches:k});const M=w.children.length;this.badge.setCount(M),M>1?this.badge.setTitleFormat((0,i.localize)(0,null,M)):this.badge.setTitleFormat((0,i.localize)(1,null,M))}};f=Be([Ce(1,c.ILabelService),Ce(2,a.IThemeService)],f);let S=class bi{constructor(w){this._instantiationService=w,this.templateId=bi.id}renderTemplate(w){return this._instantiationService.createInstance(f,w)}renderElement(w,k,D){D.set(w.element,(0,b.createMatches)(w.filterData))}disposeTemplate(w){w.dispose()}};S.id="FileReferencesRenderer",S=Be([Ce(0,t.IInstantiationService)],S),e.FileReferencesRenderer=S;class v{constructor(w){this.label=new T.HighlightedLabel(w)}set(w,k){var D;const M=(D=w.parent.getPreview(w))===null||D===void 0?void 0:D.preview(w.range);if(!M||!M.value)this.label.set(`${(0,h.basename)(w.uri)}:${w.range.startLineNumber+1}:${w.range.startColumn+1}`);else{const{value:O,highlight:F}=M;k&&!b.FuzzyScore.isDefault(k)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(O,(0,b.createMatches)(k))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(O,[F]))}}}class m{constructor(){this.templateId=m.id}renderTemplate(w){return new v(w)}renderElement(w,k,D){D.set(w.element,w.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=m,m.id="OneReferenceRenderer";class _{getWidgetAriaLabel(){return(0,i.localize)(2,null)}getAriaLabel(w){return w.ariaMessage}}e.AccessibilityProvider=_}),define(ee[626],te([0,1,7,2,8,62,30,90,14,3,87,38,52,148,117,9,12,370]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;const o=(s=window.trustedTypes)===null||s===void 0?void 0:s.createPolicy("editorGhostText",{createHTML:v=>v});let n=class extends N.Disposable{constructor(m,_,L,w){super();this.editor=m,this.model=_,this.instantiationService=L,this.modeService=w,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(d,this.editor)),this.additionalLinesWidget=this._register(new u(this.editor,this.modeService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(k=>{(k.hasChanged(29)||k.hasChanged(104)||k.hasChanged(87)||k.hasChanged(82)||k.hasChanged(44)||k.hasChanged(43)||k.hasChanged(58))&&this.update()})),this._register((0,N.toDisposable)(()=>{var k;this.disposed=!0,this.update(),(k=this.viewMoreContentWidget)===null||k===void 0||k.dispose(),this.viewMoreContentWidget=void 0})),this._register(_.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(m){return this.additionalLinesWidget.viewZoneId===m}update(){var m;const _=this.model.ghostText;if(!this.editor.hasModel()||!_||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}const L=new Array,w=new Array;function k(F,R){if(w.length>0){const A=w[w.length-1];R&&A.decorations.push(new r.LineDecoration(A.content.length+1,A.content.length+1+F[0].length,R,0)),A.content+=F[0],F=F.slice(1)}for(const A of F)w.push({content:A,decorations:R?[new r.LineDecoration(1,A.length+1,R,0)]:[]})}const D=this.editor.getModel().getLineContent(_.lineNumber);this.editor.getModel().getLineTokens(_.lineNumber);let M,O=0;for(const F of _.parts){let R=F.lines;M===void 0?(L.push({column:F.column,text:R[0],preview:F.preview}),R=R.slice(1)):k([D.substring(O,F.column-1)],void 0),R.length>0&&(k(R,"ghost-text"),M===void 0&&F.column<=D.length&&(M=F.column)),O=F.column-1}M!==void 0&&k([D.substring(O)],void 0),this.partsWidget.setParts(_.lineNumber,L,M!==void 0?{column:M,length:D.length+1-M}:void 0),this.additionalLinesWidget.updateLines(_.lineNumber,w,_.additionalReservedLineCount),_.parts.some(F=>F.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new p.Position(_.lineNumber,this.editor.getModel().getLineMaxColumn(_.lineNumber)),"",0):((m=this.viewMoreContentWidget)===null||m===void 0||m.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(m,_,L){const w=this.editor.getOption(43),k=document.createElement("div");k.className="suggest-preview-additional-widget",I.Configuration.applyFontInfoSlow(k,w);const D=document.createElement("span");D.className="content-spacer",D.append(_),k.append(D);const M=document.createElement("span");M.className="content-newline suggest-preview-text",M.append("\u23CE  "),k.append(M);const O=new N.DisposableStore,F=document.createElement("div");return F.className="button suggest-preview-text",F.append(`+${L} lines\u2026`),O.add(y.addStandardDisposableListener(F,"mousedown",R=>{var A;(A=this.model)===null||A===void 0||A.setExpanded(!0),R.preventDefault(),this.editor.focus()})),k.append(F),new S(this.editor,m,k,O)}};n=Be([Ce(2,l.IInstantiationService),Ce(3,i.IModeService)],n),e.GhostTextWidget=n;class d{constructor(m){this.editor=m,this.decorationIds=[],this.disposableStore=new N.DisposableStore}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(m,_,L){if(this.disposableStore.clear(),!this.editor.getModel())return;const k=new Array;L&&k.push({range:h.Range.fromPositions(new p.Position(m,L.column),new p.Position(m,L.column+L.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,_.map(D=>({range:h.Range.fromPositions(new p.Position(m,D.column)),options:{description:"ghost-text",after:{content:D.text,inlineClassName:D.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}})).concat(k))}}class u{constructor(m,_){this.editor=m,this.languageIdCodec=_,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(m=>{this._viewZoneId&&(m.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(m,_,L){const w=this.editor.getModel();if(!w)return;const{tabSize:k}=w.getOptions();this.editor.changeViewZones(D=>{this._viewZoneId&&(D.removeZone(this._viewZoneId),this._viewZoneId=void 0);const M=Math.max(_.length,L);if(M>0){const O=document.createElement("div");f(O,k,_,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=D.addZone({afterLineNumber:m,heightInLines:M,domNode:O})}})}}function f(v,m,_,L,w){const k=L.get(29),D=L.get(104),M="none",O=L.get(82),F=L.get(44),R=L.get(43),A=L.get(58),P=(0,g.createStringBuilder)(1e4);P.appendASCIIString('<div class="suggest-preview-text">');for(let V=0,j=_.length;V<j;V++){const K=_[V],Y=K.content;P.appendASCIIString('<div class="view-line'),P.appendASCIIString('" style="top:'),P.appendASCIIString(String(V*A)),P.appendASCIIString('px;width:1000000px;">');const J=T.isBasicASCII(Y),Z=T.containsRTL(Y),ie=C.LineTokens.createEmpty(Y,w);(0,c.renderViewLine)(new c.RenderLineInput(R.isMonospace&&!k,R.canUseHalfwidthRightwardsArrow,Y,!1,J,Z,0,ie,K.decorations,m,0,R.spaceWidth,R.middotWidth,R.wsmiddotWidth,D,M,O,F!==b.EditorFontLigatures.OFF,null),P),P.appendASCIIString("</div>")}P.appendASCIIString("</div>"),I.Configuration.applyFontInfoSlow(v,R);const E=P.build(),B=o?o.createHTML(E):E;v.innerHTML=B}class S extends N.Disposable{constructor(m,_,L,w){super();this.editor=m,this.position=_,this.domNode=L,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(w),this._register((0,N.toDisposable)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,a.registerThemingParticipant)((v,m)=>{const _=v.getColor(t.ghostTextForeground);_&&(m.addRule(`.monaco-editor .ghost-text-decoration { color: ${_.toString()} !important; }`),m.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${_.toString()} !important; }`),m.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${_.toString()} !important; }`));const L=v.getColor(t.ghostTextBackground);L&&(m.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${L.toString()}; }`),m.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${L.toString()}; }`),m.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${L.toString()}; }`));const w=v.getColor(t.ghostTextBorder);w&&(m.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${w}; }`),m.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${w}; }`),m.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${w}; }`))})}),define(ee[273],te([0,1,84,2,20,113,49,52,12]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class h{constructor(i){this.options=i,this.rangeHighlightDecorationId=void 0}provide(i,t){var r;const c=new N.DisposableStore;i.canAcceptInBackground=!!((r=this.options)===null||r===void 0?void 0:r.canAcceptInBackground),i.matchOnLabel=i.matchOnDescription=i.matchOnDetail=i.sortByLabel=!1;const l=c.add(new N.MutableDisposable);return l.value=this.doProvide(i,t),c.add(this.onDidActiveTextEditorControlChange(()=>{l.value=void 0,l.value=this.doProvide(i,t)})),c}doProvide(i,t){const r=new N.DisposableStore,c=this.activeTextEditorControl;if(c&&this.canProvideWithTextEditor(c)){const l={editor:c},a=(0,I.getCodeEditor)(c);if(a){let s=(0,T.withNullAsUndefined)(c.saveViewState());r.add(a.onDidChangeCursorPosition(()=>{s=(0,T.withNullAsUndefined)(c.saveViewState())})),l.restoreViewState=()=>{s&&c===this.activeTextEditorControl&&c.restoreViewState(s)},r.add((0,y.once)(t.onCancellationRequested)(()=>{var o;return(o=l.restoreViewState)===null||o===void 0?void 0:o.call(l)}))}r.add((0,N.toDisposable)(()=>this.clearDecorations(c))),r.add(this.provideWithTextEditor(l,i,t))}else r.add(this.provideWithoutTextEditor(i,t));return r}canProvideWithTextEditor(i){return!0}gotoLocation({editor:i},t){i.setSelection(t.range),i.revealRangeInCenter(t.range,0),t.preserveFocus||i.focus()}getModel(i){var t;return(0,I.isDiffEditor)(i)?(t=i.getModel())===null||t===void 0?void 0:t.modified:i.getModel()}addDecorations(i,t){i.changeDecorations(r=>{const c=[];this.rangeHighlightDecorationId&&(c.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),c.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const l=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,p.themeColorFromId)(C.overviewRulerRangeHighlight),position:b.OverviewRulerLane.Full}}}],[a,s]=r.deltaDecorations(c,l);this.rangeHighlightDecorationId={rangeHighlightId:a,overviewRulerDecorationId:s}})}clearDecorations(i){const t=this.rangeHighlightDecorationId;t&&(i.changeDecorations(r=>{r.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=h}),define(ee[627],te([0,1,2,113,273,531]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class b extends T.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(p){const h=(0,I.localize)(0,null);return p.items=[{label:h}],p.ariaLabel=h,y.Disposable.None}provideWithTextEditor(p,h,g){const i=p.editor,t=new y.DisposableStore;t.add(h.onDidAccept(l=>{const[a]=h.selectedItems;if(a){if(!this.isValidLineNumber(i,a.lineNumber))return;this.gotoLocation(p,{range:this.toRange(a.lineNumber,a.column),keyMods:h.keyMods,preserveFocus:l.inBackground}),l.inBackground||h.hide()}}));const r=()=>{const l=this.parsePosition(i,h.value.trim().substr(b.PREFIX.length)),a=this.getPickLabel(i,l.lineNumber,l.column);if(h.items=[{lineNumber:l.lineNumber,column:l.column,label:a}],h.ariaLabel=a,!this.isValidLineNumber(i,l.lineNumber)){this.clearDecorations(i);return}const s=this.toRange(l.lineNumber,l.column);i.revealRangeInCenter(s,0),this.addDecorations(i,s)};r(),t.add(h.onDidChangeValue(()=>r()));const c=(0,N.getCodeEditor)(i);return c&&c.getOptions().get(59).renderType===2&&(c.updateOptions({lineNumbers:"on"}),t.add((0,y.toDisposable)(()=>c.updateOptions({lineNumbers:"relative"})))),t}toRange(p=1,h=1){return{startLineNumber:p,startColumn:h,endLineNumber:p,endColumn:h}}parsePosition(p,h){const g=h.split(/,|:|#/).map(t=>parseInt(t,10)).filter(t=>!isNaN(t)),i=this.lineCount(p)+1;return{lineNumber:g[0]>0?g[0]:i+g[0],column:g[1]}}getPickLabel(p,h,g){if(this.isValidLineNumber(p,h))return this.isValidColumn(p,h,g)?(0,I.localize)(1,null,h,g):(0,I.localize)(2,null,h);const i=p.getPosition()||{lineNumber:1,column:1},t=this.lineCount(p);return t>1?(0,I.localize)(3,null,i.lineNumber,i.column,t):(0,I.localize)(4,null,i.lineNumber,i.column)}isValidLineNumber(p,h){return!h||typeof h!="number"?!1:h>0&&h<=this.lineCount(p)}isValidColumn(p,h,g){if(!g||typeof g!="number")return!1;const i=this.getModel(p);if(!i)return!1;const t={lineNumber:h,column:g};return i.validatePosition(t).equals(t)}lineCount(p){var h,g;return(g=(h=this.getModel(p))===null||h===void 0?void 0:h.getLineCount())!==null&&g!==void 0?g:0}}e.AbstractGotoLineQuickAccessProvider=b,b.PREFIX=":"}),define(ee[628],te([0,1,10,23,27,310,2,8,3,18,259,273,532]),function(q,e,y,N,T,I,b,C,p,h,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;class r extends i.AbstractEditorNavigationQuickAccessProvider{constructor(s=Object.create(null)){super(s);this.options=s,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(s){return this.provideLabelPick(s,(0,t.localize)(0,null)),b.Disposable.None}provideWithTextEditor(s,o,n){const d=s.editor,u=this.getModel(d);return u?h.DocumentSymbolProviderRegistry.has(u)?this.doProvideWithEditorSymbols(s,u,o,n):this.doProvideWithoutEditorSymbols(s,u,o,n):b.Disposable.None}doProvideWithoutEditorSymbols(s,o,n,d){const u=new b.DisposableStore;return this.provideLabelPick(n,(0,t.localize)(1,null)),(()=>Ae(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(o,u))||d.isCancellationRequested||u.add(this.doProvideWithEditorSymbols(s,o,n,d))}))(),u}provideLabelPick(s,o){s.items=[{label:o,index:0,kind:14}],s.ariaLabel=o}waitForLanguageSymbolRegistry(s,o){return Ae(this,void 0,void 0,function*(){if(h.DocumentSymbolProviderRegistry.has(s))return!0;const n=new y.DeferredPromise,d=o.add(h.DocumentSymbolProviderRegistry.onDidChange(()=>{h.DocumentSymbolProviderRegistry.has(s)&&(d.dispose(),n.complete(!0))}));return o.add((0,b.toDisposable)(()=>n.complete(!1))),n.p})}doProvideWithEditorSymbols(s,o,n,d){const u=s.editor,f=new b.DisposableStore;f.add(n.onDidAccept(L=>{const[w]=n.selectedItems;w&&w.range&&(this.gotoLocation(s,{range:w.range.selection,keyMods:n.keyMods,preserveFocus:L.inBackground}),L.inBackground||n.hide())})),f.add(n.onDidTriggerItemButton(({item:L})=>{L&&L.range&&(this.gotoLocation(s,{range:L.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())}));const S=this.getDocumentSymbols(o,d);let v;const m=()=>Ae(this,void 0,void 0,function*(){v==null||v.dispose(!0),n.busy=!1,v=new N.CancellationTokenSource(d),n.busy=!0;try{const L=(0,I.prepareQuery)(n.value.substr(r.PREFIX.length).trim()),w=yield this.doGetSymbolPicks(S,L,void 0,v.token);if(d.isCancellationRequested)return;w.length>0?n.items=w:L.original.length>0?this.provideLabelPick(n,(0,t.localize)(2,null)):this.provideLabelPick(n,(0,t.localize)(3,null))}finally{d.isCancellationRequested||(n.busy=!1)}});f.add(n.onDidChangeValue(()=>m())),m();let _=!0;return f.add(n.onDidChangeActive(()=>{const[L]=n.activeItems;if(L&&L.range){if(_){_=!1;return}u.revealRangeInCenter(L.range.selection,0),this.addDecorations(u,L.range.decoration)}})),f}doGetSymbolPicks(s,o,n,d){return Ae(this,void 0,void 0,function*(){const u=yield s;if(d.isCancellationRequested)return[];const f=o.original.indexOf(r.SCOPE_PREFIX)===0,S=f?1:0;let v,m;o.values&&o.values.length>1?(v=(0,I.pieceToQuery)(o.values[0]),m=(0,I.pieceToQuery)(o.values.slice(1))):v=o;const _=[];for(let k=0;k<u.length;k++){const D=u[k],M=(0,C.trim)(D.name),O=`$(symbol-${h.SymbolKinds.toString(D.kind)||"property"}) ${M}`,F=O.length-M.length;let R=D.containerName;(n==null?void 0:n.extraContainerLabel)&&(R?R=`${n.extraContainerLabel} \u2022 ${R}`:R=n.extraContainerLabel);let A,P,E,B;if(o.original.length>S){let j=!1;if(v!==o&&([A,P]=(0,I.scoreFuzzy2)(O,Object.assign(Object.assign({},o),{values:void 0}),S,F),typeof A=="number"&&(j=!0)),typeof A!="number"&&([A,P]=(0,I.scoreFuzzy2)(O,v,S,F),typeof A!="number"))continue;if(!j&&m){if(R&&m.original.length>0&&([E,B]=(0,I.scoreFuzzy2)(R,m)),typeof E!="number")continue;typeof A=="number"&&(A+=E)}}const V=D.tags&&D.tags.indexOf(1)>=0;_.push({index:k,kind:D.kind,score:A,label:O,ariaLabel:M,description:R,highlights:V?void 0:{label:P,description:B},range:{selection:p.Range.collapseToStart(D.selectionRange),decoration:D.range},strikethrough:V,buttons:(()=>{var j,K;const Y=((j=this.options)===null||j===void 0?void 0:j.openSideBySideDirection)?(K=this.options)===null||K===void 0?void 0:K.openSideBySideDirection():void 0;if(!!Y)return[{iconClass:Y==="right"?T.Codicon.splitHorizontal.classNames:T.Codicon.splitVertical.classNames,tooltip:Y==="right"?(0,t.localize)(4,null):(0,t.localize)(5,null)}]})()})}const L=_.sort((k,D)=>f?this.compareByKindAndScore(k,D):this.compareByScore(k,D));let w=[];if(f){let O=function(){D&&typeof k=="number"&&M>0&&(D.label=(0,C.format)(l[k]||c,M))},k,D,M=0;for(const F of L)k!==F.kind?(O(),k=F.kind,M=1,D={type:"separator"},w.push(D)):M++,w.push(F);O()}else L.length>0&&(w=[{label:(0,t.localize)(6,null,_.length),type:"separator"},...L]);return w})}compareByScore(s,o){if(typeof s.score!="number"&&typeof o.score=="number")return 1;if(typeof s.score=="number"&&typeof o.score!="number")return-1;if(typeof s.score=="number"&&typeof o.score=="number"){if(s.score>o.score)return-1;if(s.score<o.score)return 1}return s.index<o.index?-1:s.index>o.index?1:0}compareByKindAndScore(s,o){const n=l[s.kind]||c,d=l[o.kind]||c,u=n.localeCompare(d);return u===0?this.compareByScore(s,o):u}getDocumentSymbols(s,o){return Ae(this,void 0,void 0,function*(){const n=yield g.OutlineModel.create(s,o);return o.isCancellationRequested?[]:n.asListOfDocumentSymbols()})}}e.AbstractGotoSymbolQuickAccessProvider=r,r.PREFIX="@",r.SCOPE_PREFIX=":",r.PREFIX_BY_CATEGORY=`${r.PREFIX}${r.SCOPE_PREFIX}`;const c=(0,t.localize)(7,null),l={[5]:(0,t.localize)(8,null),[11]:(0,t.localize)(9,null),[8]:(0,t.localize)(10,null),[12]:(0,t.localize)(11,null),[4]:(0,t.localize)(12,null),[22]:(0,t.localize)(13,null),[23]:(0,t.localize)(14,null),[24]:(0,t.localize)(15,null),[10]:(0,t.localize)(16,null),[2]:(0,t.localize)(17,null),[3]:(0,t.localize)(18,null),[25]:(0,t.localize)(19,null),[1]:(0,t.localize)(20,null),[6]:(0,t.localize)(21,null),[9]:(0,t.localize)(22,null),[21]:(0,t.localize)(23,null),[14]:(0,t.localize)(24,null),[0]:(0,t.localize)(25,null),[17]:(0,t.localize)(26,null),[15]:(0,t.localize)(27,null),[16]:(0,t.localize)(28,null),[18]:(0,t.localize)(29,null),[19]:(0,t.localize)(30,null),[7]:(0,t.localize)(31,null),[13]:(0,t.localize)(32,null)}}),define(ee[629],te([0,1,2,14,534,16,41,22,12,375]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new I.RawContextKey("renameInputVisible",!1,(0,T.localize)(0,null));let h=class{constructor(i,t,r,c,l){this._editor=i,this._acceptKeybindings=t,this._themeService=r,this._keybindingService=c,this._disposables=new y.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(l),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(43)&&this._updateFont()})),this._disposables.add(r.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,T.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const i=()=>{var t,r;const[c,l]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(c),this._label.innerText=(0,T.localize)(2,null,(t=this._keybindingService.lookupKeybinding(c))===null||t===void 0?void 0:t.getLabel(),(r=this._keybindingService.lookupKeybinding(l))===null||r===void 0?void 0:r.getLabel())};i(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(i)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(i){var t,r,c,l;if(!this._input||!this._domNode)return;const a=i.getColor(C.widgetShadow);this._domNode.style.backgroundColor=String((t=i.getColor(C.editorWidgetBackground))!==null&&t!==void 0?t:""),this._domNode.style.boxShadow=a?` 0 0 8px 2px ${a}`:"",this._domNode.style.color=String((r=i.getColor(C.inputForeground))!==null&&r!==void 0?r:""),this._input.style.backgroundColor=String((c=i.getColor(C.inputBackground))!==null&&c!==void 0?c:"");const s=i.getColor(C.inputBorder);this._input.style.borderWidth=s?"1px":"0px",this._input.style.borderStyle=s?"solid":"none",this._input.style.borderColor=(l=s==null?void 0:s.toString())!==null&&l!==void 0?l:"none"}_updateFont(){if(!this._input||!this._label)return;const i=this._editor.getOption(43);this._input.style.fontFamily=i.fontFamily,this._input.style.fontWeight=i.fontWeight,this._input.style.fontSize=`${i.fontSize}px`,this._label.style.fontSize=`${i.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(i){i||this.cancelInput(!0)}acceptInput(i){this._currentAcceptInput&&this._currentAcceptInput(i)}cancelInput(i){this._currentCancelInput&&this._currentCancelInput(i)}getInput(i,t,r,c,l,a){this._domNode.classList.toggle("preview",l),this._position=new N.Position(i.startLineNumber,i.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",r.toString()),this._input.setAttribute("selectionEnd",c.toString()),this._input.size=Math.max((i.endColumn-i.startColumn)*1.1,20);const s=new y.DisposableStore;return new Promise(o=>{this._currentCancelInput=n=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,o(n),!0),this._currentAcceptInput=n=>{if(this._input.value.trim().length===0||this._input.value===t){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,o({newName:this._input.value,wantsPreview:l&&n})},a.onCancellationRequested(()=>this.cancelInput(!0)),s.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{s.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};h=Be([Ce(2,p.IThemeService),Ce(3,b.IKeybindingService),Ce(4,I.IContextKeyService)],h),e.RenameInputField=h}),define(ee[274],te([0,1,27,544,22,12]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,T.registerColor)("symbolIcon.arrayForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,T.registerColor)("symbolIcon.booleanForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,T.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,N.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,T.registerColor)("symbolIcon.colorForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,T.registerColor)("symbolIcon.constantForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,T.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,N.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,T.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,N.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,T.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,N.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,T.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,N.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,T.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,N.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,T.registerColor)("symbolIcon.fileForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,T.registerColor)("symbolIcon.folderForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,T.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,N.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,T.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,N.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,T.registerColor)("symbolIcon.keyForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,T.registerColor)("symbolIcon.keywordForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,T.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,N.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,T.registerColor)("symbolIcon.moduleForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,T.registerColor)("symbolIcon.namespaceForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,T.registerColor)("symbolIcon.nullForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,T.registerColor)("symbolIcon.numberForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,T.registerColor)("symbolIcon.objectForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,T.registerColor)("symbolIcon.operatorForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,T.registerColor)("symbolIcon.packageForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,T.registerColor)("symbolIcon.propertyForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,T.registerColor)("symbolIcon.referenceForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,T.registerColor)("symbolIcon.snippetForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,T.registerColor)("symbolIcon.stringForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,T.registerColor)("symbolIcon.structForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,T.registerColor)("symbolIcon.textForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,T.registerColor)("symbolIcon.typeParameterForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,T.registerColor)("symbolIcon.unitForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,N.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,T.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,N.localize)(32,null)),(0,I.registerThemingParticipant)((b,C)=>{const p=b.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);p&&C.addRule(`${y.Codicon.symbolArray.cssSelector} { color: ${p}; }`);const h=b.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);h&&C.addRule(`${y.Codicon.symbolBoolean.cssSelector} { color: ${h}; }`);const g=b.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);g&&C.addRule(`${y.Codicon.symbolClass.cssSelector} { color: ${g}; }`);const i=b.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);i&&C.addRule(`${y.Codicon.symbolMethod.cssSelector} { color: ${i}; }`);const t=b.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);t&&C.addRule(`${y.Codicon.symbolColor.cssSelector} { color: ${t}; }`);const r=b.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);r&&C.addRule(`${y.Codicon.symbolConstant.cssSelector} { color: ${r}; }`);const c=b.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);c&&C.addRule(`${y.Codicon.symbolConstructor.cssSelector} { color: ${c}; }`);const l=b.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);l&&C.addRule(`
			${y.Codicon.symbolValue.cssSelector},${y.Codicon.symbolEnum.cssSelector} { color: ${l}; }`);const a=b.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);a&&C.addRule(`${y.Codicon.symbolEnumMember.cssSelector} { color: ${a}; }`);const s=b.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);s&&C.addRule(`${y.Codicon.symbolEvent.cssSelector} { color: ${s}; }`);const o=b.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);o&&C.addRule(`${y.Codicon.symbolField.cssSelector} { color: ${o}; }`);const n=b.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);n&&C.addRule(`${y.Codicon.symbolFile.cssSelector} { color: ${n}; }`);const d=b.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);d&&C.addRule(`${y.Codicon.symbolFolder.cssSelector} { color: ${d}; }`);const u=b.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);u&&C.addRule(`${y.Codicon.symbolFunction.cssSelector} { color: ${u}; }`);const f=b.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);f&&C.addRule(`${y.Codicon.symbolInterface.cssSelector} { color: ${f}; }`);const S=b.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);S&&C.addRule(`${y.Codicon.symbolKey.cssSelector} { color: ${S}; }`);const v=b.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);v&&C.addRule(`${y.Codicon.symbolKeyword.cssSelector} { color: ${v}; }`);const m=b.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);m&&C.addRule(`${y.Codicon.symbolModule.cssSelector} { color: ${m}; }`);const _=b.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);_&&C.addRule(`${y.Codicon.symbolNamespace.cssSelector} { color: ${_}; }`);const L=b.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);L&&C.addRule(`${y.Codicon.symbolNull.cssSelector} { color: ${L}; }`);const w=b.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);w&&C.addRule(`${y.Codicon.symbolNumber.cssSelector} { color: ${w}; }`);const k=b.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);k&&C.addRule(`${y.Codicon.symbolObject.cssSelector} { color: ${k}; }`);const D=b.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);D&&C.addRule(`${y.Codicon.symbolOperator.cssSelector} { color: ${D}; }`);const M=b.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);M&&C.addRule(`${y.Codicon.symbolPackage.cssSelector} { color: ${M}; }`);const O=b.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);O&&C.addRule(`${y.Codicon.symbolProperty.cssSelector} { color: ${O}; }`);const F=b.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);F&&C.addRule(`${y.Codicon.symbolReference.cssSelector} { color: ${F}; }`);const R=b.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);R&&C.addRule(`${y.Codicon.symbolSnippet.cssSelector} { color: ${R}; }`);const A=b.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);A&&C.addRule(`${y.Codicon.symbolString.cssSelector} { color: ${A}; }`);const P=b.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);P&&C.addRule(`${y.Codicon.symbolStruct.cssSelector} { color: ${P}; }`);const E=b.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);E&&C.addRule(`${y.Codicon.symbolText.cssSelector} { color: ${E}; }`);const B=b.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);B&&C.addRule(`${y.Codicon.symbolTypeParameter.cssSelector} { color: ${B}; }`);const V=b.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);V&&C.addRule(`${y.Codicon.symbolUnit.cssSelector} { color: ${V}; }`);const j=b.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);j&&C.addRule(`${y.Codicon.symbolVariable.cssSelector} { color: ${j}; }`)})}),define(ee[275],te([0,1,7,48,612,16,12]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorServiceImpl=void 0;let C=class extends T.CodeEditorServiceImpl{constructor(h,g,i){super(h,i);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=g.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let h=!1;for(const g of this.listCodeEditors())if(!g.isSimpleWidget){h=!0;break}this._editorIsOpen.set(h)}setActiveCodeEditor(h){this._activeCodeEditor=h}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(h,g,i){return g?Promise.resolve(this.doOpenEditor(g,h)):Promise.resolve(null)}doOpenEditor(h,g){if(!this.findModel(h,g.resource)){if(g.resource){const r=g.resource.scheme;if(r===N.Schemas.http||r===N.Schemas.https)return(0,y.windowOpenNoOpener)(g.resource.toString()),h}return null}const t=g.options?g.options.selection:null;if(t)if(typeof t.endLineNumber=="number"&&typeof t.endColumn=="number")h.setSelection(t),h.revealRangeInCenter(t,1);else{const r={lineNumber:t.startLineNumber,column:t.startColumn};h.setPosition(r),h.revealPositionInCenter(r,1)}return h}findModel(h,g){const i=h.getModel();return i&&i.uri.toString()!==g.toString()?null:i}};C=Be([Ce(1,I.IContextKeyService),Ce(2,b.IThemeService)],C),e.StandaloneCodeEditorServiceImpl=C}),define(ee[630],te([0,1,52,22]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[N.editorBackground]:"#FFFFFE",[N.editorForeground]:"#000000",[N.editorInactiveSelection]:"#E5EBF1",[y.editorIndentGuides]:"#D3D3D3",[y.editorActiveIndentGuides]:"#939393",[N.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[N.editorBackground]:"#1E1E1E",[N.editorForeground]:"#D4D4D4",[N.editorInactiveSelection]:"#3A3D41",[y.editorIndentGuides]:"#404040",[y.editorActiveIndentGuides]:"#707070",[N.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[N.editorBackground]:"#000000",[N.editorForeground]:"#FFFFFF",[y.editorIndentGuides]:"#FFFFFF",[y.editorActiveIndentGuides]:"#FFFFFF"}}}),define(ee[36],te([0,1,51,27,4,55,2,77,26,16,9,12]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function t(a){return a.command!==void 0}e.isIMenuItem=t;class r{constructor(s){this.id=r._idPool++,this._debugName=s}}e.MenuId=r,r._idPool=0,r.CommandPalette=new r("CommandPalette"),r.EditorContext=new r("EditorContext"),r.SimpleEditorContext=new r("SimpleEditorContext"),r.EditorContextCopy=new r("EditorContextCopy"),r.EditorContextPeek=new r("EditorContextPeek"),r.MenubarEditMenu=new r("MenubarEditMenu"),r.MenubarCopy=new r("MenubarCopy"),r.MenubarGoMenu=new r("MenubarGoMenu"),r.MenubarSelectionMenu=new r("MenubarSelectionMenu"),r.InlineCompletionsActions=new r("InlineCompletionsActions"),e.IMenuService=(0,g.createDecorator)("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new T.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:a=>a===r.CommandPalette}}addCommand(a){return this.addCommands(I.Iterable.single(a))}addCommands(a){for(const s of a)this._commands.set(s.id,s);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,b.toDisposable)(()=>{let s=!1;for(const o of a)s=this._commands.delete(o.id)||s;s&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(a){return this._commands.get(a)}getCommands(){const a=new Map;return this._commands.forEach((s,o)=>a.set(o,s)),a}appendMenuItem(a,s){return this.appendMenuItems(I.Iterable.single({id:a,item:s}))}appendMenuItems(a){const s=new Set,o=new C.LinkedList;for(const{id:n,item:d}of a){let u=this._menuItems.get(n);u||(u=new C.LinkedList,this._menuItems.set(n,u)),o.push(u.push(d)),s.add(n)}return this._onDidChangeMenu.fire(s),(0,b.toDisposable)(()=>{if(o.size>0){for(let n of o)n();this._onDidChangeMenu.fire(s),o.clear()}})}getMenuItems(a){let s;return this._menuItems.has(a)?s=[...this._menuItems.get(a)]:s=[],a===r.CommandPalette&&this._appendImplicitItems(s),s}_appendImplicitItems(a){const s=new Set;for(const o of a)t(o)&&(s.add(o.command.id),o.alt&&s.add(o.alt.id));this._commands.forEach((o,n)=>{s.has(n)||a.push({command:o})})}};class c extends y.SubmenuAction{constructor(s,o,n,d){super(`submenuitem.${s.submenu.id}`,typeof s.title=="string"?s.title:s.title.value,[],"submenu");this.item=s,this._menuService=o,this._contextKeyService=n,this._options=d}get actions(){const s=[],o=this._menuService.createMenu(this.item.submenu,this._contextKeyService),n=o.getActions(this._options);o.dispose();for(const[,d]of n)d.length>0&&(s.push(...d),s.push(new y.Separator));return s.length&&s.pop(),s}}e.SubmenuItemAction=c;let l=class Si{constructor(s,o,n,d,u){var f,S;if(this._commandService=u,this.id=s.id,this.label=(n==null?void 0:n.renderShortTitle)&&s.shortTitle?typeof s.shortTitle=="string"?s.shortTitle:s.shortTitle.value:typeof s.title=="string"?s.title:s.title.value,this.tooltip=(S=typeof s.tooltip=="string"?s.tooltip:(f=s.tooltip)===null||f===void 0?void 0:f.value)!==null&&S!==void 0?S:"",this.enabled=!s.precondition||d.contextMatchesRules(s.precondition),this.checked=void 0,s.toggled){const v=s.toggled.condition?s.toggled:{condition:s.toggled};this.checked=d.contextMatchesRules(v.condition),this.checked&&v.tooltip&&(this.tooltip=typeof v.tooltip=="string"?v.tooltip:v.tooltip.value),v.title&&(this.label=typeof v.title=="string"?v.title:v.title.value)}this.item=s,this.alt=o?new Si(o,void 0,n,d,u):void 0,this._options=n,i.ThemeIcon.isThemeIcon(s.icon)&&(this.class=N.CSSIcon.asClassName(s.icon))}dispose(){}run(...s){var o,n;let d=[];return((o=this._options)===null||o===void 0?void 0:o.arg)&&(d=[...d,this._options.arg]),((n=this._options)===null||n===void 0?void 0:n.shouldForwardArgs)&&(d=[...d,...s]),this._commandService.executeCommand(this.id,...d)}};l=Be([Ce(3,h.IContextKeyService),Ce(4,p.ICommandService)],l),e.MenuItemAction=l}),define(ee[15],te([0,1,473,25,28,14,43,66,36,26,16,82,33,83,20,74]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class a{constructor(R){this.id=R.id,this.precondition=R.precondition,this._kbOpts=R.kbOpts,this._menuOpts=R.menuOpts,this._description=R.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const R=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const A of R){let P=A.kbExpr;this.precondition&&(P?P=g.ContextKeyExpr.and(P,this.precondition):P=this.precondition);const E={id:this.id,weight:A.weight,args:A.args,when:P,primary:A.primary,secondary:A.secondary,win:A.win,linux:A.linux,mac:A.mac};i.KeybindingsRegistry.registerKeybindingRule(E)}}h.CommandsRegistry.registerCommand({id:this.id,handler:(R,A)=>this.runCommand(R,A),description:this._description})}_registerMenuItem(R){p.MenuRegistry.appendMenuItem(R.menuId,{group:R.group,command:{id:this.id,title:R.title,icon:R.icon,precondition:this.precondition},when:R.when,order:R.order})}}e.Command=a;class s extends a{constructor(){super(...arguments);this._implementations=[]}addImplementation(R,A,P){return this._implementations.push({priority:R,name:A,implementation:P}),this._implementations.sort((E,B)=>B.priority-E.priority),{dispose:()=>{for(let E=0;E<this._implementations.length;E++)if(this._implementations[E].implementation===P){this._implementations.splice(E,1);return}}}}runCommand(R,A){const P=R.get(l.ILogService);P.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const E of this._implementations){const B=E.implementation(R,A);if(B)return P.trace(`Command '${this.id}' was handled by '${E.name}'.`),typeof B=="boolean"?void 0:B}P.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=s;class o extends a{constructor(R,A){super(A);this.command=R}runCommand(R,A){return this.command.runCommand(R,A)}}e.ProxyCommand=o;class n extends a{static bindToContribution(R){return class extends n{constructor(P){super(P);this._callback=P.handler}runEditorCommand(P,E,B){R(E)&&this._callback(R(E),B)}}}runCommand(R,A){const P=R.get(T.ICodeEditorService),E=P.getFocusedCodeEditor()||P.getActiveCodeEditor();if(!!E)return E.invokeWithinContext(B=>{if(!!B.get(g.IContextKeyService).contextMatchesRules((0,c.withNullAsUndefined)(this.precondition)))return this.runEditorCommand(B,E,A)})}}e.EditorCommand=n;class d extends n{constructor(R){super(d.convertOptions(R));this.label=R.label,this.alias=R.alias}static convertOptions(R){let A;Array.isArray(R.menuOpts)?A=R.menuOpts:R.menuOpts?A=[R.menuOpts]:A=[];function P(E){return E.menuId||(E.menuId=p.MenuId.EditorContext),E.title||(E.title=R.label),E.when=g.ContextKeyExpr.and(R.precondition,E.when),E}return Array.isArray(R.contextMenuOpts)?A.push(...R.contextMenuOpts.map(P)):R.contextMenuOpts&&A.push(P(R.contextMenuOpts)),R.menuOpts=A,R}runEditorCommand(R,A,P){return this.reportTelemetry(R,A),this.run(R,A,P||{})}reportTelemetry(R,A){R.get(r.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=d;class u extends d{constructor(){super(...arguments);this._implementations=[]}addImplementation(R,A){return this._implementations.push([R,A]),this._implementations.sort((P,E)=>E[0]-P[0]),{dispose:()=>{for(let P=0;P<this._implementations.length;P++)if(this._implementations[P][1]===A){this._implementations.splice(P,1);return}}}}run(R,A,P){for(const E of this._implementations){const B=E[1](R,A,P);if(B)return typeof B=="boolean"?void 0:B}}}e.MultiEditorAction=u;function f(F,R){h.CommandsRegistry.registerCommand(F,function(A,...P){const[E,B]=P;(0,c.assertType)(N.URI.isUri(E)),(0,c.assertType)(I.Position.isIPosition(B));const V=A.get(b.IModelService).getModel(E);if(V){const j=I.Position.lift(B);return R(V,j,...P.slice(2))}return A.get(C.ITextModelService).createModelReference(E).then(j=>new Promise((K,Y)=>{try{const J=R(j.object.textEditorModel,I.Position.lift(B),P.slice(2));K(J)}catch(J){Y(J)}}).finally(()=>{j.dispose()}))})}e.registerModelAndPositionCommand=f;function S(F,R){h.CommandsRegistry.registerCommand(F,function(A,...P){const[E]=P;(0,c.assertType)(N.URI.isUri(E));const B=A.get(b.IModelService).getModel(E);return B?R(B,...P.slice(1)):A.get(C.ITextModelService).createModelReference(E).then(V=>new Promise((j,K)=>{try{const Y=R(V.object.textEditorModel,P.slice(1));j(Y)}catch(Y){K(Y)}}).finally(()=>{V.dispose()}))})}e.registerModelCommand=S;function v(F){return M.INSTANCE.registerEditorCommand(F),F}e.registerEditorCommand=v;function m(F){const R=new F;return M.INSTANCE.registerEditorAction(R),R}e.registerEditorAction=m;function _(F){return M.INSTANCE.registerEditorAction(F),F}e.registerMultiEditorAction=_;function L(F){M.INSTANCE.registerEditorAction(F)}e.registerInstantiatedEditorAction=L;function w(F,R){M.INSTANCE.registerEditorContribution(F,R)}e.registerEditorContribution=w;var k;(function(F){function R(V){return M.INSTANCE.getEditorCommand(V)}F.getEditorCommand=R;function A(){return M.INSTANCE.getEditorActions()}F.getEditorActions=A;function P(){return M.INSTANCE.getEditorContributions()}F.getEditorContributions=P;function E(V){return M.INSTANCE.getEditorContributions().filter(j=>V.indexOf(j.id)>=0)}F.getSomeEditorContributions=E;function B(){return M.INSTANCE.getDiffEditorContributions()}F.getDiffEditorContributions=B})(k=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const D={EditorCommonContributions:"editor.contributions"};class M{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(R,A){this.editorContributions.push({id:R,ctor:A})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(R){R.register(),this.editorActions.push(R)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(R){R.register(),this.editorCommands[R.id]=R}getEditorCommand(R){return this.editorCommands[R]||null}}M.INSTANCE=new M,t.Registry.add(D.EditorCommonContributions,M.INSTANCE);function O(F){return F.register(),F}e.UndoCommand=O(new s({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:p.MenuId.MenubarEditMenu,group:"1_do",title:y.localize(0,null),order:1},{menuId:p.MenuId.CommandPalette,group:"",title:y.localize(1,null),order:1}]})),O(new o(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=O(new s({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:p.MenuId.MenubarEditMenu,group:"1_do",title:y.localize(2,null),order:2},{menuId:p.MenuId.CommandPalette,group:"",title:y.localize(3,null),order:1}]})),O(new o(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=O(new s({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:p.MenuId.MenubarSelectionMenu,group:"1_basic",title:y.localize(4,null),order:1},{menuId:p.MenuId.CommandPalette,group:"",title:y.localize(5,null),order:1}]}))}),define(ee[631],te([0,1,15,16,23,77,9,71,472]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const h=(0,b.createDecorator)("IEditorCancelService"),g=new N.RawContextKey("cancellableOperation",!1,(0,p.localize)(0,null));(0,C.registerSingleton)(h,class{constructor(){this._tokens=new WeakMap}add(t,r){let c=this._tokens.get(t);c||(c=t.invokeWithinContext(a=>{const s=g.bindTo(a.get(N.IContextKeyService)),o=new I.LinkedList;return{key:s,tokens:o}}),this._tokens.set(t,c));let l;return c.key.set(!0),l=c.tokens.push(r),()=>{l&&(l(),c.key.set(!c.tokens.isEmpty()),l=void 0)}}cancel(t){const r=this._tokens.get(t);if(!r)return;const c=r.tokens.pop();c&&(c.cancel(),r.key.set(!r.tokens.isEmpty()))}},!0);class i extends T.CancellationTokenSource{constructor(r,c){super(c);this.editor=r,this._unregister=r.invokeWithinContext(l=>l.get(h).add(r,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=i,(0,y.registerEditorCommand)(new class extends y.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:g})}runEditorCommand(t,r){t.get(h).cancel(r)}})}),define(ee[67],te([0,1,8,3,23,2,631]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class C{constructor(t,r){if(this.flags=r,(this.flags&1)!=0){const c=t.getModel();this.modelVersionId=c?y.format("{0}#{1}",c.uri.toString(),c.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=t.getPosition():this.position=null,(this.flags&2)!=0?this.selection=t.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=t.getScrollLeft(),this.scrollTop=t.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(t){if(!(t instanceof C))return!1;const r=t;return!(this.modelVersionId!==r.modelVersionId||this.scrollLeft!==r.scrollLeft||this.scrollTop!==r.scrollTop||!this.position&&r.position||this.position&&!r.position||this.position&&r.position&&!this.position.equals(r.position)||!this.selection&&r.selection||this.selection&&!r.selection||this.selection&&r.selection&&!this.selection.equalsRange(r.selection))}validate(t){return this._equals(new C(t,this.flags))}}e.EditorState=C;class p extends b.EditorKeybindingCancellationTokenSource{constructor(t,r,c,l){super(t,l);this._listener=new I.DisposableStore,r&4&&this._listener.add(t.onDidChangeCursorPosition(a=>{(!c||!N.Range.containsPosition(c,a.position))&&this.cancel()})),r&2&&this._listener.add(t.onDidChangeCursorSelection(a=>{(!c||!N.Range.containsRange(c,a.selection))&&this.cancel()})),r&8&&this._listener.add(t.onDidScrollChange(a=>this.cancel())),r&1&&(this._listener.add(t.onDidChangeModel(a=>this.cancel())),this._listener.add(t.onDidChangeModelContent(a=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=p;class h extends T.CancellationTokenSource{constructor(t,r){super(r);this._listener=t.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=h;class g{constructor(t,r,c){this._visiblePosition=t,this._visiblePositionScrollDelta=r,this._cursorPosition=c}static capture(t){let r=null,c=0;if(t.getScrollTop()!==0){const l=t.getVisibleRanges();if(l.length>0){r=l[0].getStartPosition();const a=t.getTopForPosition(r.lineNumber,r.column);c=t.getScrollTop()-a}}return new g(r,c,t.getPosition())}restore(t){if(this._visiblePosition){const r=t.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);t.setScrollTop(r+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(t){const r=t.getPosition();if(!this._cursorPosition||!r)return;const c=t.getTopForLineNumber(r.lineNumber)-t.getTopForLineNumber(this._cursorPosition.lineNumber);t.setScrollTop(t.getScrollTop()+c)}}e.StableEditorScrollState=g}),define(ee[632],te([0,1,189,15]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let T=class{constructor(b,C){}dispose(){}};T.ID="editor.contrib.markerDecorations",T=Be([Ce(1,y.IMarkerDecorationsService)],T),e.MarkerDecorationsContribution=T,(0,N.registerEditorContribution)(T.ID,T)}),define(ee[633],te([0,1,44,70,56,15,21,24,487,16,359]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new h.RawContextKey("selectionAnchorSet",!1);let g=class wi{constructor(a,s){this.editor=a,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(s),this.modelChangeListener=a.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(a){return a.getContribution(wi.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const a=this.editor.getPosition(),s=this.decorationId?[this.decorationId]:[],o=this.editor.deltaDecorations(s,[{range:b.Selection.fromPositions(a,a),options:{description:"selection-anchor",stickiness:1,hoverMessage:new N.MarkdownString().appendText((0,p.localize)(0,null)),className:"selection-anchor"}}]);this.decorationId=o[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,y.alert)((0,p.localize)(1,null,a.lineNumber,a.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const a=this.editor.getModel().getDecorationRange(this.decorationId);a&&this.editor.setPosition(a.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const a=this.editor.getModel().getDecorationRange(this.decorationId);if(a){const s=this.editor.getPosition();this.editor.setSelection(b.Selection.fromPositions(a.getStartPosition(),s)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};g.ID="editor.contrib.selectionAnchorController",g=Be([Ce(1,h.IContextKeyService)],g);class i extends I.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,p.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|32),weight:100}})}run(a,s){return Ae(this,void 0,void 0,function*(){g.get(s).setSelectionAnchor()})}}class t extends I.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,p.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(a,s){return Ae(this,void 0,void 0,function*(){g.get(s).goToSelectionAnchor()})}}class r extends I.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,p.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|41),weight:100}})}run(a,s){return Ae(this,void 0,void 0,function*(){g.get(s).selectFromAnchorToCursor()})}}class c extends I.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,p.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(a,s){return Ae(this,void 0,void 0,function*(){g.get(s).cancelSelectionAnchor()})}}(0,I.registerEditorContribution)(g.ID,g),(0,I.registerEditorAction)(i),(0,I.registerEditorAction)(t),(0,I.registerEditorAction)(r),(0,I.registerEditorAction)(c)}),define(ee[634],te([0,1,15,24,427,489]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class b extends y.EditorAction{constructor(g,i){super(i);this.left=g}run(g,i){if(!i.hasModel())return;let t=[],r=i.getSelections();for(const c of r)t.push(new T.MoveCaretCommand(c,this.left));i.pushUndoStop(),i.executeCommands(this.id,t),i.pushUndoStop()}}class C extends b{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:I.localize(0,null),alias:"Move Selected Text Left",precondition:N.EditorContextKeys.writable})}}class p extends b{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:I.localize(1,null),alias:"Move Selected Text Right",precondition:N.EditorContextKeys.writable})}}(0,y.registerEditorAction)(C),(0,y.registerEditorAction)(p)}),define(ee[635],te([0,1,34,17,175,15,28,24,491,36,91]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const i="9_cutcopypaste",t=N.isNative||document.queryCommandSupported("cut"),r=N.isNative||document.queryCommandSupported("copy"),c=typeof navigator.clipboard=="undefined"||y.isFirefox?document.queryCommandSupported("paste"):!0;function l(o){return o.register(),o}e.CutAction=t?l(new I.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:N.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:h.MenuId.MenubarEditMenu,group:"2_ccp",title:p.localize(0,null),order:1},{menuId:h.MenuId.EditorContext,group:i,title:p.localize(1,null),when:C.EditorContextKeys.writable,order:1},{menuId:h.MenuId.CommandPalette,group:"",title:p.localize(2,null),order:1},{menuId:h.MenuId.SimpleEditorContext,group:i,title:p.localize(3,null),when:C.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=r?l(new I.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:N.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:h.MenuId.MenubarEditMenu,group:"2_ccp",title:p.localize(4,null),order:2},{menuId:h.MenuId.EditorContext,group:i,title:p.localize(5,null),order:2},{menuId:h.MenuId.CommandPalette,group:"",title:p.localize(6,null),order:1},{menuId:h.MenuId.SimpleEditorContext,group:i,title:p.localize(7,null),order:2}]})):void 0,h.MenuRegistry.appendMenuItem(h.MenuId.MenubarEditMenu,{submenu:h.MenuId.MenubarCopy,title:{value:p.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),h.MenuRegistry.appendMenuItem(h.MenuId.EditorContext,{submenu:h.MenuId.EditorContextCopy,title:{value:p.localize(9,null),original:"Copy As"},group:i,order:3}),e.PasteAction=c?l(new I.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:N.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:h.MenuId.MenubarEditMenu,group:"2_ccp",title:p.localize(10,null),order:4},{menuId:h.MenuId.EditorContext,group:i,title:p.localize(11,null),when:C.EditorContextKeys.writable,order:4},{menuId:h.MenuId.CommandPalette,group:"",title:p.localize(12,null),order:1},{menuId:h.MenuId.SimpleEditorContext,group:i,title:p.localize(13,null),when:C.EditorContextKeys.writable,order:4}]})):void 0;class a extends I.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:p.localize(14,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(n,d){!d.hasModel()||!d.getOption(32)&&d.getSelection().isEmpty()||(T.CopyOptions.forceCopyWithSyntaxHighlighting=!0,d.focus(),document.execCommand("copy"),T.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function s(o,n){!o||(o.addImplementation(1e4,"code-editor",(d,u)=>{const f=d.get(b.ICodeEditorService).getFocusedCodeEditor();if(f&&f.hasTextFocus()){const S=f.getOption(32),v=f.getSelection();return v&&v.isEmpty()&&!S||document.execCommand(n),!0}return!1}),o.addImplementation(0,"generic-dom",(d,u)=>(document.execCommand(n),!0)))}s(e.CutAction,"cut"),s(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(o,n)=>{const d=o.get(b.ICodeEditorService),u=o.get(g.IClipboardService),f=d.getFocusedCodeEditor();return f&&f.hasTextFocus()?!document.execCommand("paste")&&N.isWeb?(()=>Ae(void 0,void 0,void 0,function*(){const v=yield u.readText();if(v!==""){const m=T.InMemoryClipboardMetadataManager.INSTANCE.get(v);let _=!1,L=null,w=null;m&&(_=f.getOption(32)&&!!m.isFromEmptySelection,L=typeof m.multicursorText!="undefined"?m.multicursorText:null,w=m.mode),f.trigger("keyboard","paste",{text:v,pasteOnNewLine:_,multicursorText:L,mode:w})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(o,n)=>(document.execCommand("paste"),!0))),r&&(0,I.registerEditorAction)(a)}),define(ee[155],te([0,1,19,23,13,2,25,67,3,21,18,43,26,61,149]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class l{constructor(f,S){this.action=f,this.provider=S}resolve(f){var S;return Ae(this,void 0,void 0,function*(){if(((S=this.provider)===null||S===void 0?void 0:S.resolveCodeAction)&&!this.action.edit){let v;try{v=yield this.provider.resolveCodeAction(this.action,f)}catch(m){(0,T.onUnexpectedExternalError)(m)}v&&(this.action.edit=v.edit)}return this})}}e.CodeActionItem=l;class a extends I.Disposable{constructor(f,S,v){super();this.documentation=S,this._register(v),this.allActions=[...f].sort(a.codeActionsComparator),this.validActions=this.allActions.filter(({action:m})=>!m.disabled)}static codeActionsComparator({action:f},{action:S}){return f.isPreferred&&!S.isPreferred?-1:!f.isPreferred&&S.isPreferred?1:(0,y.isNonEmptyArray)(f.diagnostics)?(0,y.isNonEmptyArray)(S.diagnostics)?f.diagnostics[0].message.localeCompare(S.diagnostics[0].message):-1:(0,y.isNonEmptyArray)(S.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:f})=>!!f.kind&&c.CodeActionKind.QuickFix.contains(new c.CodeActionKind(f.kind))&&!!f.isPreferred)}}const s={actions:[],documentation:void 0};function o(u,f,S,v,m){var _;const L=S.filter||{},w={only:(_=L.include)===null||_===void 0?void 0:_.value,trigger:S.type},k=new C.TextModelCancellationTokenSource(u,m),D=n(u,L),M=new I.DisposableStore,O=D.map(R=>Ae(this,void 0,void 0,function*(){try{v.report(R);const A=yield R.provideCodeActions(u,f,w,k.token);if(A&&M.add(A),k.token.isCancellationRequested)return s;const P=((A==null?void 0:A.actions)||[]).filter(B=>B&&(0,c.filtersAction)(L,B)),E=d(R,P,L.include);return{actions:P.map(B=>new l(B,R)),documentation:E}}catch(A){if((0,T.isPromiseCanceledError)(A))throw A;return(0,T.onUnexpectedExternalError)(A),s}})),F=g.CodeActionProviderRegistry.onDidChange(()=>{const R=g.CodeActionProviderRegistry.all(u);(0,y.equals)(R,D)||k.cancel()});return Promise.all(O).then(R=>{const A=(0,y.flatten)(R.map(E=>E.actions)),P=(0,y.coalesce)(R.map(E=>E.documentation));return new a(A,P,M)}).finally(()=>{F.dispose(),k.dispose()})}e.getCodeActions=o;function n(u,f){return g.CodeActionProviderRegistry.all(u).filter(S=>S.providedCodeActionKinds?S.providedCodeActionKinds.some(v=>(0,c.mayIncludeActionsOfKind)(f,new c.CodeActionKind(v))):!0)}function d(u,f,S){if(!u.documentation)return;const v=u.documentation.map(m=>({kind:new c.CodeActionKind(m.kind),command:m.command}));if(S){let m;for(const _ of v)_.kind.contains(S)&&(m?m.kind.contains(_.kind)&&(m=_):m=_);if(m)return m==null?void 0:m.command}for(const m of f)if(!!m.kind){for(const _ of v)if(_.kind.contains(new c.CodeActionKind(m.kind)))return _.command}}t.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(u,f,S,v,m){return Ae(this,void 0,void 0,function*(){if(!(f instanceof b.URI))throw(0,T.illegalArgument)();const _=u.get(i.IModelService).getModel(f);if(!_)throw(0,T.illegalArgument)();const L=h.Selection.isISelection(S)?h.Selection.liftSelection(S):p.Range.isIRange(S)?_.validateRange(S):void 0;if(!L)throw(0,T.illegalArgument)();const w=typeof v=="string"?new c.CodeActionKind(v):void 0,k=yield o(_,L,{type:1,filter:{includeSourceActions:!0,include:w}},r.Progress.None,N.CancellationToken.None),D=[],M=Math.min(k.validActions.length,typeof m=="number"?m:0);for(let O=0;O<M;O++)D.push(k.validActions[O].resolve(N.CancellationToken.None));try{return yield Promise.all(D),k.validActions.map(O=>O.action)}finally{setTimeout(()=>k.dispose(),100)}})})}),define(ee[636],te([0,1,7,51,13,163,2,14,18,155,149,73,41]),function(q,e,y,N,T,I,b,C,p,h,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=void 0;class r extends N.Action{constructor(o,n){super(o.command?o.command.id:o.title,c(o.title),void 0,!o.disabled,n);this.action=o}}function c(s){return s.replace(/\r\n|\r|\n/g," ")}let l=class extends b.Disposable{constructor(o,n,d,u){super();this._editor=o,this._delegate=n,this._contextMenuService=d,this._visible=!1,this._showingActions=this._register(new b.MutableDisposable),this._keybindingResolver=new a({getKeybindings:()=>u.getKeybindings()})}get isVisible(){return this._visible}show(o,n,d,u){return Ae(this,void 0,void 0,function*(){const f=u.includeDisabledActions?n.allActions:n.validActions;if(!f.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,T.canceled)();this._visible=!0,this._showingActions.value=n;const S=this.getMenuActions(o,f,n.documentation),v=C.Position.isIPosition(d)?this._toCoords(d):d||{x:0,y:0},m=this._keybindingResolver.getResolver(),_=this._editor.getOption(114);this._contextMenuService.showContextMenu({domForShadowRoot:_?this._editor.getDomNode():void 0,getAnchor:()=>v,getActions:()=>S,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:L=>L instanceof r?m(L.action):void 0})})}getMenuActions(o,n,d){var u,f;const S=L=>new r(L.action,()=>this._delegate.onSelectCodeAction(L)),v=n.map(S),m=[...d],_=this._editor.getModel();if(_&&v.length)for(const L of p.CodeActionProviderRegistry.all(_))L._getAdditionalMenuItems&&m.push(...L._getAdditionalMenuItems({trigger:o.type,only:(f=(u=o.filter)===null||u===void 0?void 0:u.include)===null||f===void 0?void 0:f.value},n.map(w=>w.action)));return m.length&&v.push(new N.Separator,...m.map(L=>S(new h.CodeActionItem({title:L.title,command:L},void 0)))),v}_toCoords(o){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(o,1),this._editor.render();const n=this._editor.getScrolledVisiblePosition(o),d=(0,y.getDomNodePagePosition)(this._editor.getDomNode()),u=d.left+n.left,f=d.top+n.top+n.height;return{x:u,y:f}}};l=Be([Ce(2,i.IContextMenuService),Ce(3,t.IKeybindingService)],l),e.CodeActionMenu=l;class a{constructor(o){this._keybindingProvider=o}getResolver(){const o=new I.Lazy(()=>this._keybindingProvider.getKeybindings().filter(n=>a.codeActionCommands.indexOf(n.command)>=0).filter(n=>n.resolvedKeybinding).map(n=>{let d=n.commandArgs;return n.command===h.organizeImportsCommandId?d={kind:g.CodeActionKind.SourceOrganizeImports.value}:n.command===h.fixAllCommandId&&(d={kind:g.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:n.resolvedKeybinding},g.CodeActionCommandArgs.fromUser(d,{kind:g.CodeActionKind.None,apply:"never"}))}));return n=>{if(n.kind){const d=this.bestKeybindingForCodeAction(n,o.getValue());return d==null?void 0:d.resolvedKeybinding}}}bestKeybindingForCodeAction(o,n){if(!o.kind)return;const d=new g.CodeActionKind(o.kind);return n.filter(u=>u.kind.contains(d)).filter(u=>u.preferred?o.isPreferred:!0).reduceRight((u,f)=>u?u.kind.contains(f.kind)?f:u:f,void 0)}}e.CodeActionKeybindingResolver=a,a.codeActionCommands=[h.refactorCommandId,h.codeActionCommandId,h.sourceActionCommandId,h.organizeImportsCommandId,h.fixAllCommandId]});var Lt=this&&this.__classPrivateFieldGet||function(q,e,y,N){if(y==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?q!==e||!N:!e.has(q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return y==="m"?N:y==="a"?N.call(q):N?N.value:e.get(q)},qt=this&&this.__classPrivateFieldSet||function(q,e,y,N,T){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!T)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?q!==e||!T:!e.has(q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?T.call(q,y):T?T.value=y:e.set(q,y),y};define(ee[637],te([0,1,10,13,4,2,42,3,18,16,61,155]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new h.RawContextKey("supportedCodeAction","");class r extends I.Disposable{constructor(o,n,d,u=250){super();this._editor=o,this._markerService=n,this._signalChange=d,this._delay=u,this._autoTriggerTimer=this._register(new y.TimeoutTimer),this._register(this._markerService.onMarkerChanged(f=>this._onMarkerChanges(f))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(o){const n=this._getRangeOfSelectionUnlessWhitespaceEnclosed(o);return this._createEventAndSignalChange(o,n)}_onMarkerChanges(o){const n=this._editor.getModel();!n||o.some(d=>(0,b.isEqual)(d,n.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(o){const n=this._editor.getModel();if(!!n)for(const d of this._markerService.read({resource:n.uri})){const u=n.validateRange(d);if(C.Range.intersectRanges(u,o))return C.Range.lift(u)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(o){if(!this._editor.hasModel())return;const n=this._editor.getModel(),d=this._editor.getSelection();if(d.isEmpty()&&o.type===2){const{lineNumber:u,column:f}=d.getPosition(),S=n.getLineContent(u);if(S.length===0)return;if(f===1){if(/\s/.test(S[0]))return}else if(f===n.getLineMaxColumn(u)){if(/\s/.test(S[S.length-1]))return}else if(/\s/.test(S[f-2])&&/\s/.test(S[f-1]))return}return d}_createEventAndSignalChange(o,n){const d=this._editor.getModel();if(!n||!d){this._signalChange(void 0);return}const u=this._getRangeOfMarker(n),f=u?u.getStartPosition():n.getStartPosition(),S={trigger:o,selection:n,position:f};return this._signalChange(S),S}}var c;(function(s){s.Empty={type:0};class o{constructor(d,u,f,S){this.trigger=d,this.rangeOrSelection=u,this.position=f,this._cancellablePromise=S,this.type=1,this.actions=S.catch(v=>{if((0,N.isPromiseCanceledError)(v))return l;throw v})}cancel(){this._cancellablePromise.cancel()}}s.Triggered=o})(c=e.CodeActionsState||(e.CodeActionsState={}));const l={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class a extends I.Disposable{constructor(o,n,d,u){super();this._editor=o,this._markerService=n,this._progressService=u,this._codeActionOracle=this._register(new I.MutableDisposable),this._state=c.Empty,this._onDidChangeState=this._register(new T.Emitter),this.onDidChangeState=this._onDidChangeState.event,t.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(d),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(p.CodeActionProviderRegistry.onDidChange(()=>this._update())),this._update()}dispose(){Lt(this,t,"f")||(qt(this,t,!0,"f"),super.dispose(),this.setState(c.Empty,!0))}_update(){if(Lt(this,t,"f"))return;this._codeActionOracle.value=void 0,this.setState(c.Empty);const o=this._editor.getModel();if(o&&p.CodeActionProviderRegistry.has(o)&&!this._editor.getOption(80)){const n=[];for(const d of p.CodeActionProviderRegistry.all(o))Array.isArray(d.providedCodeActionKinds)&&n.push(...d.providedCodeActionKinds);this._supportedCodeActions.set(n.join(" ")),this._codeActionOracle.value=new r(this._editor,this._markerService,d=>{var u;if(!d){this.setState(c.Empty);return}const f=(0,y.createCancelablePromise)(S=>(0,i.getCodeActions)(o,d.selection,d.trigger,g.Progress.None,S));d.trigger.type===1&&((u=this._progressService)===null||u===void 0||u.showWhile(f,250)),this.setState(new c.Triggered(d.trigger,d.selection,d.position,f))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(o){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(o)}setState(o,n){o!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=o,!n&&!Lt(this,t,"f")&&this._onDidChangeState.fire(o))}}e.CodeActionModel=a,t=new WeakMap}),define(ee[638],te([0,1,56,15,3,24,264,579,496,36]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class g extends N.EditorAction{constructor(a,s){super(s);this._type=a}run(a,s){if(!s.hasModel())return;const o=s.getModel(),n=[],d=o.getOptions(),u=s.getOption(19),f=s.getSelections().map((v,m)=>({selection:v,index:m,ignoreFirstLine:!1}));f.sort((v,m)=>T.Range.compareRangesUsingStarts(v.selection,m.selection));let S=f[0];for(let v=1;v<f.length;v++){const m=f[v];S.selection.endLineNumber===m.selection.startLineNumber&&(S.index<m.index?m.ignoreFirstLine=!0:(S.ignoreFirstLine=!0,S=m))}for(const v of f)n.push(new C.LineCommentCommand(v.selection,d.tabSize,this._type,u.insertSpace,u.ignoreEmptyLines,v.ignoreFirstLine));s.pushUndoStop(),s.executeCommands(this.id,n),s.pushUndoStop()}}class i extends g{constructor(){super(0,{id:"editor.action.commentLine",label:p.localize(0,null),alias:"Toggle Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:h.MenuId.MenubarEditMenu,group:"5_insert",title:p.localize(1,null),order:1}})}}class t extends g{constructor(){super(1,{id:"editor.action.addCommentLine",label:p.localize(2,null),alias:"Add Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|33),weight:100}})}}class r extends g{constructor(){super(2,{id:"editor.action.removeCommentLine",label:p.localize(3,null),alias:"Remove Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|51),weight:100}})}}class c extends N.EditorAction{constructor(){super({id:"editor.action.blockComment",label:p.localize(4,null),alias:"Toggle Block Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:h.MenuId.MenubarEditMenu,group:"5_insert",title:p.localize(5,null),order:2}})}run(a,s){if(!s.hasModel())return;const o=s.getOption(19),n=[],d=s.getSelections();for(const u of d)n.push(new b.BlockCommentCommand(u,o.insertSpace));s.pushUndoStop(),s.executeCommands(this.id,n),s.pushUndoStop()}}(0,N.registerEditorAction)(i),(0,N.registerEditorAction)(t),(0,N.registerEditorAction)(r),(0,N.registerEditorAction)(c)}),define(ee[639],te([0,1,7,120,51,2,17,15,24,497,36,16,73,41]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let c=class yi{constructor(s,o,n,d,u,f){this._contextMenuService=o,this._contextViewService=n,this._contextKeyService=d,this._keybindingService=u,this._menuService=f,this._toDispose=new I.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=s,this._toDispose.add(this._editor.onContextMenu(S=>this._onContextMenu(S))),this._toDispose.add(this._editor.onMouseWheel(S=>{if(this._contextMenuIsBeingShownCount>0){const v=this._contextViewService.getContextViewElement(),m=S.srcElement;m.shadowRoot&&y.getShadowRoot(v)===m.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(S=>{S.keyCode===58&&(S.preventDefault(),S.stopPropagation(),this.showContextMenu())}))}static get(s){return s.getContribution(yi.ID)}_onContextMenu(s){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),s.target.position&&!this._editor.getSelection().containsPosition(s.target.position)&&this._editor.setPosition(s.target.position);return}if(s.target.type===12||(s.event.preventDefault(),s.event.stopPropagation(),s.target.type!==6&&s.target.type!==7&&s.target.type!==1))return;if(this._editor.focus(),s.target.position){let n=!1;for(const d of this._editor.getSelections())if(d.containsPosition(s.target.position)){n=!0;break}n||this._editor.setPosition(s.target.position)}let o=null;s.target.type!==1&&(o={x:s.event.posx-1,width:2,y:s.event.posy-1,height:2}),this.showContextMenu(o)}showContextMenu(s){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const o=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?g.MenuId.SimpleEditorContext:g.MenuId.EditorContext);o.length>0&&this._doShowContextMenu(o,s)}_getMenuActions(s,o){const n=[],d=this._menuService.createMenu(o,this._contextKeyService),u=d.getActions({arg:s.uri});d.dispose();for(let f of u){const[,S]=f;let v=0;for(const m of S)if(m instanceof g.SubmenuItemAction){const _=this._getMenuActions(s,m.item.submenu);_.length>0&&(n.push(new T.SubmenuAction(m.id,m.label,_)),v++)}else n.push(m),v++;v&&n.push(new T.Separator)}return n.length&&n.pop(),n}_doShowContextMenu(s,o=null){if(!this._editor.hasModel())return;const n=this._editor.getOption(52);if(this._editor.updateOptions({hover:{enabled:!1}}),!o){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const u=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),f=y.getDomNodePagePosition(this._editor.getDomNode()),S=f.left+u.left,v=f.top+u.top+u.height;o={x:S,y:v}}const d=this._editor.getOption(114)&&!b.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:d?this._editor.getDomNode():void 0,getAnchor:()=>o,getActions:()=>s,getActionViewItem:u=>{const f=this._keybindingFor(u);if(f)return new N.ActionViewItem(u,u,{label:!0,keybinding:f.getLabel(),isMenu:!0});const S=u;return typeof S.getActionViewItem=="function"?S.getActionViewItem():new N.ActionViewItem(u,u,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:u=>this._keybindingFor(u),onHide:u=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:n})}})}_keybindingFor(s){return this._keybindingService.lookupKeybinding(s.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};c.ID="editor.contrib.contextmenu",c=Be([Ce(1,t.IContextMenuService),Ce(2,t.IContextViewService),Ce(3,i.IContextKeyService),Ce(4,r.IKeybindingService),Ce(5,g.IMenuService)],c),e.ContextMenuController=c;class l extends C.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:h.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(s,o){c.get(o).showContextMenu()}}(0,C.registerEditorContribution)(c.ID,c),(0,C.registerEditorAction)(l)}),define(ee[640],te([0,1,2,15,24,498]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class b{constructor(t){this.selections=t}equals(t){const r=this.selections.length,c=t.selections.length;if(r!==c)return!1;for(let l=0;l<r;l++)if(!this.selections[l].equalsSelection(t.selections[l]))return!1;return!0}}class C{constructor(t,r,c){this.cursorState=t,this.scrollTop=r,this.scrollLeft=c}}class p extends y.Disposable{constructor(t){super();this._editor=t,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(t.onDidChangeModel(r=>{this._undoStack=[],this._redoStack=[]})),this._register(t.onDidChangeModelContent(r=>{this._undoStack=[],this._redoStack=[]})),this._register(t.onDidChangeCursorSelection(r=>{if(this._isCursorUndoRedo||!r.oldSelections||r.oldModelVersionId!==r.modelVersionId)return;const c=new b(r.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(c)||(this._undoStack.push(new C(c,t.getScrollTop(),t.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(t){return t.getContribution(p.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new C(new b(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new C(new b(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(t){this._isCursorUndoRedo=!0,this._editor.setSelections(t.cursorState.selections),this._editor.setScrollPosition({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=p,p.ID="editor.contrib.cursorUndoRedoController";class h extends N.EditorAction{constructor(){super({id:"cursorUndo",label:I.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:T.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(t,r,c){p.get(r).cursorUndo()}}e.CursorUndo=h;class g extends N.EditorAction{constructor(){super({id:"cursorRedo",label:I.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(t,r,c){p.get(r).cursorRedo()}}e.CursorRedo=g,(0,N.registerEditorContribution)(p.ID,p),(0,N.registerEditorAction)(h),(0,N.registerEditorAction)(g)}),define(ee[641],te([0,1,15,140,503]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class I extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:T.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(h,g){N.EditorZoom.setZoomLevel(N.EditorZoom.getZoomLevel()+1)}}class b extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:T.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(h,g){N.EditorZoom.setZoomLevel(N.EditorZoom.getZoomLevel()-1)}}class C extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:T.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(h,g){N.EditorZoom.setZoomLevel(0)}}(0,y.registerEditorAction)(I),(0,y.registerEditorAction)(b),(0,y.registerEditorAction)(C)}),define(ee[276],te([0,1,44,19,23,13,55,77,20,25,67,113,14,3,21,18,72,66,239,504,26,567,9]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function S(F){if(F=F.filter(E=>E.range),!F.length)return;let{range:R}=F[0];for(let E=1;E<F.length;E++)R=r.Range.plusRange(R,F[E].range);const{startLineNumber:A,endLineNumber:P}=R;A===P?F.length===1?(0,y.alert)(n.localize(0,null,A)):(0,y.alert)(n.localize(1,null,F.length,A)):F.length===1?(0,y.alert)(n.localize(2,null,A,P)):(0,y.alert)(n.localize(3,null,F.length,A,P))}e.alertFormattingEdits=S;function v(F){const R=[],A=new Set,P=l.DocumentFormattingEditProviderRegistry.ordered(F);for(const B of P)R.push(B),B.extensionId&&A.add(u.ExtensionIdentifier.toKey(B.extensionId));const E=l.DocumentRangeFormattingEditProviderRegistry.ordered(F);for(const B of E){if(B.extensionId){if(A.has(u.ExtensionIdentifier.toKey(B.extensionId)))continue;A.add(u.ExtensionIdentifier.toKey(B.extensionId))}R.push({displayName:B.displayName,extensionId:B.extensionId,provideDocumentFormattingEdits(V,j,K){return B.provideDocumentRangeFormattingEdits(V,V.getFullModelRange(),j,K)}})}return R}e.getRealAndSyntheticDocumentFormattersOrdered=v;class m{static setFormatterSelector(R){return{dispose:m._selectors.unshift(R)}}static select(R,A,P){return Ae(this,void 0,void 0,function*(){if(R.length===0)return;const E=b.Iterable.first(m._selectors);if(E)return yield E(R,A,P)})}}e.FormattingConflicts=m,m._selectors=new C.LinkedList;function _(F,R,A,P,E,B){return Ae(this,void 0,void 0,function*(){const V=F.get(f.IInstantiationService),j=(0,i.isCodeEditor)(R)?R.getModel():R,K=l.DocumentRangeFormattingEditProviderRegistry.ordered(j),Y=yield m.select(K,j,P);Y&&(E.report(Y),yield V.invokeFunction(L,Y,R,A,B))})}e.formatDocumentRangesWithSelectedProvider=_;function L(F,R,A,P,E){return Ae(this,void 0,void 0,function*(){const B=F.get(a.IEditorWorkerService);let V,j;(0,i.isCodeEditor)(A)?(V=A.getModel(),j=new g.EditorStateCancellationTokenSource(A,1|4,void 0,E)):(V=A,j=new g.TextModelCancellationTokenSource(A,E));let K=[],Y=0;for(let G of(0,N.asArray)(P).sort(r.Range.compareRangesUsingStarts))Y>0&&r.Range.areIntersectingOrTouching(K[Y-1],G)?K[Y-1]=r.Range.fromPositions(K[Y-1].getStartPosition(),G.getEndPosition()):Y=K.push(G);const J=G=>Ae(this,void 0,void 0,function*(){return(yield R.provideDocumentRangeFormattingEdits(V,G,V.getFormattingOptions(),j.token))||[]}),Z=(G,W)=>{if(!G.length||!W.length)return!1;const z=G.reduce((U,x)=>r.Range.plusRange(U,x.range),G[0].range);if(!W.some(U=>r.Range.intersectRanges(z,U.range)))return!1;for(let U of G)for(let x of W)if(r.Range.intersectRanges(U.range,x.range))return!0;return!1},ie=[],ne=[];try{for(let G of K){if(j.token.isCancellationRequested)return!0;ne.push(yield J(G))}for(let G=0;G<K.length;++G)for(let W=G+1;W<K.length;++W){if(j.token.isCancellationRequested)return!0;if(Z(ne[G],ne[W])){const z=r.Range.plusRange(K[G],K[W]),U=yield J(z);K.splice(W,1),K.splice(G,1),K.push(z),ne.splice(W,1),ne.splice(G,1),ne.push(U),G=0,W=0}}for(let G of ne){if(j.token.isCancellationRequested)return!0;const W=yield B.computeMoreMinimalEdits(V.uri,G);W&&ie.push(...W)}}finally{j.dispose()}if(ie.length===0)return!1;if((0,i.isCodeEditor)(A))o.FormattingEdit.execute(A,ie,!0),S(ie),A.revealPositionInCenterIfOutsideViewport(A.getPosition(),1);else{const[{range:G}]=ie,W=new c.Selection(G.startLineNumber,G.startColumn,G.endLineNumber,G.endColumn);V.pushEditOperations([W],ie.map(z=>({text:z.text,range:r.Range.lift(z.range),forceMoveMarkers:!0})),z=>{for(const{range:U}of z)if(r.Range.areIntersectingOrTouching(U,W))return[new c.Selection(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=L;function w(F,R,A,P,E){return Ae(this,void 0,void 0,function*(){const B=F.get(f.IInstantiationService),V=(0,i.isCodeEditor)(R)?R.getModel():R,j=v(V),K=yield m.select(j,V,A);K&&(P.report(K),yield B.invokeFunction(k,K,R,A,E))})}e.formatDocumentWithSelectedProvider=w;function k(F,R,A,P,E){return Ae(this,void 0,void 0,function*(){const B=F.get(a.IEditorWorkerService);let V,j;(0,i.isCodeEditor)(A)?(V=A.getModel(),j=new g.EditorStateCancellationTokenSource(A,1|4,void 0,E)):(V=A,j=new g.TextModelCancellationTokenSource(A,E));let K;try{const Y=yield R.provideDocumentFormattingEdits(V,V.getFormattingOptions(),j.token);if(K=yield B.computeMoreMinimalEdits(V.uri,Y),j.token.isCancellationRequested)return!0}finally{j.dispose()}if(!K||K.length===0)return!1;if((0,i.isCodeEditor)(A))o.FormattingEdit.execute(A,K,P!==2),P!==2&&(S(K),A.revealPositionInCenterIfOutsideViewport(A.getPosition(),1));else{const[{range:Y}]=K,J=new c.Selection(Y.startLineNumber,Y.startColumn,Y.endLineNumber,Y.endColumn);V.pushEditOperations([J],K.map(Z=>({text:Z.text,range:r.Range.lift(Z.range),forceMoveMarkers:!0})),Z=>{for(const{range:ie}of Z)if(r.Range.areIntersectingOrTouching(ie,J))return[new c.Selection(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=k;function D(F,R,A,P,E){return Ae(this,void 0,void 0,function*(){const B=l.DocumentRangeFormattingEditProviderRegistry.ordered(R);for(const V of B){let j=yield Promise.resolve(V.provideDocumentRangeFormattingEdits(R,A,P,E)).catch(I.onUnexpectedExternalError);if((0,N.isNonEmptyArray)(j))return yield F.computeMoreMinimalEdits(R.uri,j)}})}e.getDocumentRangeFormattingEditsUntilResult=D;function M(F,R,A,P){return Ae(this,void 0,void 0,function*(){const E=v(R);for(const B of E){let V=yield Promise.resolve(B.provideDocumentFormattingEdits(R,A,P)).catch(I.onUnexpectedExternalError);if((0,N.isNonEmptyArray)(V))return yield F.computeMoreMinimalEdits(R.uri,V)}})}e.getDocumentFormattingEditsUntilResult=M;function O(F,R,A,P,E){const B=l.OnTypeFormattingEditProviderRegistry.ordered(R);return B.length===0||B[0].autoFormatTriggerCharacters.indexOf(P)<0?Promise.resolve(void 0):Promise.resolve(B[0].provideOnTypeFormattingEdits(R,A,P,E,T.CancellationToken.None)).catch(I.onUnexpectedExternalError).then(V=>F.computeMoreMinimalEdits(R.uri,V))}e.getOnTypeFormattingEdits=O,d.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(F,...R){return Ae(this,void 0,void 0,function*(){const[A,P,E]=R;(0,p.assertType)(h.URI.isUri(A)),(0,p.assertType)(r.Range.isIRange(P));const B=F.get(s.ITextModelService),V=F.get(a.IEditorWorkerService),j=yield B.createModelReference(A);try{return D(V,j.object.textEditorModel,r.Range.lift(P),E,T.CancellationToken.None)}finally{j.dispose()}})}),d.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(F,...R){return Ae(this,void 0,void 0,function*(){const[A,P]=R;(0,p.assertType)(h.URI.isUri(A));const E=F.get(s.ITextModelService),B=F.get(a.IEditorWorkerService),V=yield E.createModelReference(A);try{return M(B,V.object.textEditorModel,P,T.CancellationToken.None)}finally{V.dispose()}})}),d.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(F,...R){return Ae(this,void 0,void 0,function*(){const[A,P,E,B]=R;(0,p.assertType)(h.URI.isUri(A)),(0,p.assertType)(t.Position.isIPosition(P)),(0,p.assertType)(typeof E=="string");const V=F.get(s.ITextModelService),j=F.get(a.IEditorWorkerService),K=yield V.createModelReference(A);try{return O(j,K.object.textEditorModel,t.Position.lift(P),E,B)}finally{K.dispose()}})})}),define(ee[642],te([0,1,19,23,13,56,2,15,28,97,3,24,18,72,276,239,505,26,16,9,61]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let u=class{constructor(_,L){this._workerService=L,this._callOnDispose=new b.DisposableStore,this._callOnModel=new b.DisposableStore,this._editor=_,this._callOnDispose.add(_.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(_.onDidChangeModel(()=>this._update())),this._callOnDispose.add(_.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.OnTypeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(48)||!this._editor.hasModel())return;const _=this._editor.getModel(),[L]=t.OnTypeFormattingEditProviderRegistry.ordered(_);if(!L||!L.autoFormatTriggerCharacters)return;let w=new h.CharacterSet;for(let k of L.autoFormatTriggerCharacters)w.add(k.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(k=>{let D=k.charCodeAt(k.length-1);w.has(D)&&this._trigger(String.fromCharCode(D))}))}_trigger(_){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const L=this._editor.getModel(),w=this._editor.getPosition();let k=!1;const D=this._editor.onDidChangeModelContent(M=>{if(M.isFlush){k=!0,D.dispose();return}for(let O=0,F=M.changes.length;O<F;O++)if(M.changes[O].range.endLineNumber<=w.lineNumber){k=!0,D.dispose();return}});(0,c.getOnTypeFormattingEdits)(this._workerService,L,w,_,L.getFormattingOptions()).then(M=>{D.dispose(),!k&&(0,y.isNonEmptyArray)(M)&&(l.FormattingEdit.execute(this._editor,M,!0),(0,c.alertFormattingEdits)(M))},M=>{throw D.dispose(),M})}};u.ID="editor.contrib.autoFormat",u=Be([Ce(1,r.IEditorWorkerService)],u);let f=class{constructor(_,L){this.editor=_,this._instantiationService=L,this._callOnDispose=new b.DisposableStore,this._callOnModel=new b.DisposableStore,this._callOnDispose.add(_.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(_.onDidChangeModel(()=>this._update())),this._callOnDispose.add(_.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(47)&&(!this.editor.hasModel()||!t.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:_})=>this._trigger(_))))}_trigger(_){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(c.formatDocumentRangesWithSelectedProvider,this.editor,_,2,d.Progress.None,N.CancellationToken.None).catch(T.onUnexpectedError)}};f.ID="editor.contrib.formatOnPaste",f=Be([Ce(1,n.IInstantiationService)],f);class S extends C.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:a.localize(0,null),alias:"Format Document",precondition:o.ContextKeyExpr.and(i.EditorContextKeys.notInCompositeEditor,i.EditorContextKeys.writable,i.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(_,L){return Ae(this,void 0,void 0,function*(){if(L.hasModel()){const w=_.get(n.IInstantiationService);yield _.get(d.IEditorProgressService).showWhile(w.invokeFunction(c.formatDocumentWithSelectedProvider,L,1,d.Progress.None,N.CancellationToken.None),250)}})}}class v extends C.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:a.localize(1,null),alias:"Format Selection",precondition:o.ContextKeyExpr.and(i.EditorContextKeys.writable,i.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,2048|36),weight:100},contextMenuOpts:{when:i.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(_,L){return Ae(this,void 0,void 0,function*(){if(!L.hasModel())return;const w=_.get(n.IInstantiationService),k=L.getModel(),D=L.getSelections().map(O=>O.isEmpty()?new g.Range(O.startLineNumber,1,O.startLineNumber,k.getLineMaxColumn(O.startLineNumber)):O);yield _.get(d.IEditorProgressService).showWhile(w.invokeFunction(c.formatDocumentRangesWithSelectedProvider,L,D,1,d.Progress.None,N.CancellationToken.None),250)})}}(0,C.registerEditorContribution)(u.ID,u),(0,C.registerEditorContribution)(f.ID,f),(0,C.registerEditorAction)(S),(0,C.registerEditorAction)(v),s.CommandsRegistry.registerCommand("editor.action.format",m=>Ae(void 0,void 0,void 0,function*(){const _=m.get(p.ICodeEditorService).getFocusedCodeEditor();if(!_||!_.hasModel())return;const L=m.get(s.ICommandService);_.getSelection().isEmpty()?yield L.executeCommand("editor.action.formatDocument"):yield L.executeCommand("editor.action.formatSelection")}))}),define(ee[277],te([0,1,23,13,15,18,121]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function C(c,l,a,s){const n=a.ordered(c).map(d=>Promise.resolve(s(d,c,l)).then(void 0,u=>{(0,N.onUnexpectedExternalError)(u)}));return Promise.all(n).then(d=>{const u=[];for(let f of d)Array.isArray(f)?u.push(...f):f&&u.push(f);return u})}function p(c,l,a){return C(c,l,I.DefinitionProviderRegistry,(s,o,n)=>s.provideDefinition(o,n,a))}e.getDefinitionsAtPosition=p;function h(c,l,a){return C(c,l,I.DeclarationProviderRegistry,(s,o,n)=>s.provideDeclaration(o,n,a))}e.getDeclarationsAtPosition=h;function g(c,l,a){return C(c,l,I.ImplementationProviderRegistry,(s,o,n)=>s.provideImplementation(o,n,a))}e.getImplementationsAtPosition=g;function i(c,l,a){return C(c,l,I.TypeDefinitionProviderRegistry,(s,o,n)=>s.provideTypeDefinition(o,n,a))}e.getTypeDefinitionsAtPosition=i;function t(c,l,a,s){return C(c,l,I.ReferenceProviderRegistry,(o,n,d)=>Ae(this,void 0,void 0,function*(){const u=yield o.provideReferences(n,d,{includeDeclaration:!0},s);if(!a||!u||u.length!==2)return u;const f=yield o.provideReferences(n,d,{includeDeclaration:!1},s);return f&&f.length===1?f:u}))}e.getReferencesAtPosition=t;function r(c){return Ae(this,void 0,void 0,function*(){const l=yield c(),a=new b.ReferencesModel(l,""),s=a.references.map(o=>o.link);return a.dispose(),s})}(0,T.registerModelAndPositionCommand)("_executeDefinitionProvider",(c,l)=>r(()=>p(c,l,y.CancellationToken.None))),(0,T.registerModelAndPositionCommand)("_executeDeclarationProvider",(c,l)=>r(()=>h(c,l,y.CancellationToken.None))),(0,T.registerModelAndPositionCommand)("_executeImplementationProvider",(c,l)=>r(()=>g(c,l,y.CancellationToken.None))),(0,T.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(c,l)=>r(()=>i(c,l,y.CancellationToken.None))),(0,T.registerModelAndPositionCommand)("_executeReferenceProvider",(c,l)=>r(()=>t(c,l,!1,y.CancellationToken.None)))}),define(ee[643],te([0,1,4,2,42,15,28,3,514,16,71,9,41,82,40]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new h.RawContextKey("hasSymbols",!1,(0,p.localize)(0,null)),e.ISymbolNavigationService=(0,i.createDecorator)("ISymbolNavigationService");let l=class{constructor(o,n,d,u){this._editorService=n,this._notificationService=d,this._keybindingService=u,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(o)}reset(){var o,n;this._ctxHasSymbols.reset(),(o=this._currentState)===null||o===void 0||o.dispose(),(n=this._currentMessage)===null||n===void 0||n.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(o){const n=o.parent.parent;if(n.references.length<=1){this.reset();return}this._currentModel=n,this._currentIdx=n.references.indexOf(o),this._ctxHasSymbols.set(!0),this._showMessage();const d=new a(this._editorService),u=d.onDidChange(f=>{if(this._ignoreEditorChange)return;const S=this._editorService.getActiveCodeEditor();if(!S)return;const v=S.getModel(),m=S.getPosition();if(!v||!m)return;let _=!1,L=!1;for(const w of n.references)if((0,T.isEqual)(w.uri,v.uri))_=!0,L=L||C.Range.containsPosition(w.range,m);else if(_)break;(!_||!L)&&this.reset()});this._currentState=(0,N.combinedDisposable)(d,u)}revealNext(o){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const n=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:n.uri,options:{selection:C.Range.collapseToStart(n.range),selectionRevealType:3}},o).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var o;(o=this._currentMessage)===null||o===void 0||o.dispose();const n=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),d=n?(0,p.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,n.getLabel()):(0,p.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(d)}};l=Be([Ce(0,h.IContextKeyService),Ce(1,b.ICodeEditorService),Ce(2,c.INotificationService),Ce(3,t.IKeybindingService)],l),(0,g.registerSingleton)(e.ISymbolNavigationService,l,!0),(0,I.registerEditorCommand)(new class extends I.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(s,o){return s.get(e.ISymbolNavigationService).revealNext(o)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(s){s.get(e.ISymbolNavigationService).reset()}});let a=class{constructor(o){this._listener=new Map,this._disposables=new N.DisposableStore,this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(o.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(o.onCodeEditorAdd(this._onDidAddEditor,this)),o.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,N.dispose)(this._listener.values())}_onDidAddEditor(o){this._listener.set(o,(0,N.combinedDisposable)(o.onDidChangeCursorPosition(n=>this._onDidChange.fire({editor:o})),o.onDidChangeModelContent(n=>this._onDidChange.fire({editor:o}))))}_onDidRemoveEditor(o){var n;(n=this._listener.get(o))===null||n===void 0||n.dispose(),this._listener.delete(o)}};a=Be([Ce(0,b.ICodeEditorService)],a)}),define(ee[644],te([0,1,10,23,13,15,18]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class C{constructor(r,c,l){this.provider=r,this.hover=c,this.ordinal=l}}e.HoverProviderResult=C;function p(t,r,c,l,a){return Ae(this,void 0,void 0,function*(){try{const s=yield Promise.resolve(t.provideHover(c,l,a));if(s&&i(s))return new C(t,s,r)}catch(s){(0,T.onUnexpectedExternalError)(s)}})}function h(t,r,c){const a=b.HoverProviderRegistry.ordered(t).map((s,o)=>p(s,o,t,r,c));return y.AsyncIterableObject.fromPromises(a).coalesce()}e.getHover=h;function g(t,r,c){return h(t,r,c).map(l=>l.hover).toPromise()}e.getHoverPromise=g,(0,I.registerModelAndPositionCommand)("_executeHoverProvider",(t,r)=>g(t,r,N.CancellationToken.None));function i(t){const r=typeof t.range!="undefined",c=typeof t.contents!="undefined"&&t.contents&&t.contents.length>0;return r&&c}}),define(ee[278],te([0,1,7,19,10,70,2,101,14,3,18,38,644,516,35,53]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const a=y.$;class s{constructor(u,f,S,v){this.owner=u,this.range=f,this.contents=S,this.ordinal=v}isValidForHoverAnchor(u){return u.type===1&&this.range.startColumn<=u.range.startColumn&&this.range.endColumn>=u.range.endColumn}}e.MarkdownHover=s;let o=class{constructor(u,f,S,v,m){this._editor=u,this._hover=f,this._modeService=S,this._openerService=v,this._configurationService=m}createLoadingMessage(u){return new s(this,u.range,[new I.MarkdownString().appendText(r.localize(0,null))],2e3)}computeSync(u,f){if(!this._editor.hasModel()||u.type!==1)return[];const S=this._editor.getModel(),v=u.range.startLineNumber,m=S.getLineMaxColumn(v),_=[];let L=1e3;const w=S.getLineLength(v),k=S.getLanguageIdAtPosition(u.range.startLineNumber,u.range.startColumn),D=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:k});typeof D=="number"&&w>=D&&_.push(new s(this,u.range,[{value:r.localize(1,null)}],L++));for(const M of f){const O=M.range.startLineNumber===v?M.range.startColumn:1,F=M.range.endLineNumber===v?M.range.endColumn:m,R=M.options.hoverMessage;if(!R||(0,I.isEmptyMarkdownString)(R))continue;const A=new h.Range(u.range.startLineNumber,O,u.range.startLineNumber,F);_.push(new s(this,A,(0,N.asArray)(R),L++))}return _}computeAsync(u,f,S){if(!this._editor.hasModel()||u.type!==1)return T.AsyncIterableObject.EMPTY;const v=this._editor.getModel();if(!g.HoverProviderRegistry.has(v))return T.AsyncIterableObject.EMPTY;const m=new p.Position(u.range.startLineNumber,u.range.startColumn);return(0,t.getHover)(v,m,S).filter(_=>!(0,I.isEmptyMarkdownString)(_.hover.contents)).map(_=>{const L=_.hover.range?h.Range.lift(_.hover.range):u.range;return new s(this,L,_.hover.contents,_.ordinal)})}renderHoverParts(u,f,S){return n(u,f,this._editor,this._hover,this._modeService,this._openerService)}};o=Be([Ce(2,i.IModeService),Ce(3,l.IOpenerService),Ce(4,c.IConfigurationService)],o),e.MarkdownHoverParticipant=o;function n(d,u,f,S,v,m){d.sort((L,w)=>L.ordinal-w.ordinal);const _=new b.DisposableStore;for(const L of d)for(const w of L.contents){if((0,I.isEmptyMarkdownString)(w))continue;const k=a("div.hover-row.markdown-hover"),D=y.append(k,a("div.hover-contents")),M=_.add(new C.MarkdownRenderer({editor:f},v,m));_.add(M.onDidRenderAsync(()=>{D.className="hover-contents code-hover-contents",S.onContentsChanged()}));const O=_.add(M.render(w));D.appendChild(O.element),u.appendChild(k)}return _}e.renderMarkdownHovers=n}),define(ee[645],te([0,1,10,23,13,2,47,20,25,127,15,30,14,3,18,151,66,26,22,12]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.getInlayHints=void 0;const d=1500;class u{constructor(){this._data=new b.ResourceMap}push(w,k){const D=this._data.get(w.uri);D===void 0?this._data.set(w.uri,new Set([k])):D.add(k)}pop(w,k){const D=this._data.get(w.uri);D&&(D.delete(k),D.size===0&&this._data.delete(w.uri))}has(w,k){var D;return Boolean((D=this._data.get(w.uri))===null||D===void 0?void 0:D.has(k))}}function f(L,w,k,D){return Ae(this,void 0,void 0,function*(){const M=[],F=c.InlayHintsProviderRegistry.ordered(L).reverse().map(R=>w.map(A=>Ae(this,void 0,void 0,function*(){try{k.push(L,R);const P=yield R.provideInlayHints(L,A,D);(P==null?void 0:P.length)&&M.push(P.filter(E=>A.containsPosition(E.position)))}catch(P){(0,T.onUnexpectedExternalError)(P)}finally{k.pop(L,R)}})));return yield Promise.all(F.flat()),M.flat().sort((R,A)=>t.Position.compare(R.position,A.position))})}e.getInlayHints=f;class S{constructor(){this._entries=new b.LRUCache(50)}get(w){const k=S._key(w);return this._entries.get(k)}set(w,k){const D=S._key(w);this._entries.set(D,k)}static _key(w){return`${w.uri.toString()}/${w.getVersionId()}`}}class v{constructor(w){this._editor=w,this._decorationOwnerId=++v._decorationOwnerIdPool,this._disposables=new I.DisposableStore,this._sessionDisposables=new I.DisposableStore,this._getInlayHintsDelays=new l.LanguageFeatureRequestDelays(c.InlayHintsProviderRegistry,25,500),this._cache=new S,this._decorationsMetadata=new Map,this._ruleFactory=new h.DynamicCssRules(this._editor),this._disposables.add(c.InlayHintsProviderRegistry.onDidChange(()=>this._update())),this._disposables.add(w.onDidChangeModel(()=>this._update())),this._disposables.add(w.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(w.onDidChangeConfiguration(k=>{k.hasChanged(126)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(126).enabled)return;const w=this._editor.getModel();if(!w||!c.InlayHintsProviderRegistry.has(w))return;const k=this._cache.get(w);k&&this._updateHintsDecorators([w.getFullModelRange()],k);const D=new u,M=new y.RunOnceScheduler(()=>Ae(this,void 0,void 0,function*(){const F=Date.now(),R=new N.CancellationTokenSource;this._sessionDisposables.add((0,I.toDisposable)(()=>R.dispose(!0)));const A=this._getHintsRanges(),P=yield f(w,A,D,R.token);M.delay=this._getInlayHintsDelays.update(w,Date.now()-F),!R.token.isCancellationRequested&&(this._updateHintsDecorators(A,P),this._cache.set(w,Array.from(this._decorationsMetadata.values()).map(E=>E.hint)))}),this._getInlayHintsDelays.get(w));this._sessionDisposables.add(M),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>M.schedule())),this._sessionDisposables.add(this._editor.onDidScrollChange(()=>M.schedule())),M.schedule();const O=new I.DisposableStore;this._sessionDisposables.add(O);for(const F of c.InlayHintsProviderRegistry.all(w))typeof F.onDidChangeInlayHints=="function"&&O.add(F.onDidChangeInlayHints(()=>{D.has(w,F)||M.schedule()}))}_getHintsRanges(){const w=30,k=this._editor.getModel(),D=this._editor.getVisibleRangesPlusViewportAboveBelow(),M=[];for(const O of D.sort(r.Range.compareRangesUsingStarts)){const F=k.validateRange(new r.Range(O.startLineNumber-w,O.startColumn,O.endLineNumber+w,O.endColumn));M.length===0||!r.Range.areIntersectingOrTouching(M[M.length-1],F)?M.push(F):M[M.length-1]=r.Range.plusRange(M[M.length-1],F)}return M}_updateHintsDecorators(w,k){const{fontSize:D,fontFamily:M}=this._getLayoutInfo(),O=this._editor.getModel(),F=[],R="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(R,M);for(const E of k){const{text:B,position:V,whitespaceBefore:j,whitespaceAfter:K}=E,Y=j?D/3|0:0,J=K?D/3|0:0;let Z,ie;E.kind===c.InlayHintKind.Parameter?(Z=(0,n.themeColorFromId)(o.editorInlayHintParameterBackground),ie=(0,n.themeColorFromId)(o.editorInlayHintParameterForeground)):E.kind===c.InlayHintKind.Type?(Z=(0,n.themeColorFromId)(o.editorInlayHintTypeBackground),ie=(0,n.themeColorFromId)(o.editorInlayHintTypeForeground)):(Z=(0,n.themeColorFromId)(o.editorInlayHintBackground),ie=(0,n.themeColorFromId)(o.editorInlayHintForeground));const ne=this._ruleFactory.createClassNameRef({fontSize:`${D}px`,margin:`0px ${J}px 0px ${Y}px`,fontFamily:`var(${R}), ${i.EDITOR_FONT_DEFAULTS.fontFamily}`,padding:`1px ${Math.max(1,D/4)|0}px`,borderRadius:`${D/4|0}px`,verticalAlign:"middle",backgroundColor:Z,color:ie});let G="before",W=r.Range.fromPositions(V),z=O.getWordAtPosition(V),U=!1;if(z&&(z.endColumn===V.column?(G="after",U=!0,W=m(z,V.lineNumber)):z.startColumn===V.column&&(U=!0,W=m(z,V.lineNumber))),F.push({decoration:{range:W,options:{[G]:{content:_(B),inlineClassNameAffectsLetterSpacing:!0,inlineClassName:ne.className},description:"InlayHint",showIfCollapsed:!U,stickiness:0}},classNameRef:ne}),F.length>d)break}const A=[];for(const E of w)for(const{id:B}of O.getDecorationsInRange(E,this._decorationOwnerId,!0)){const V=this._decorationsMetadata.get(B);V&&(A.push(B),V.classNameRef.dispose(),this._decorationsMetadata.delete(B))}const P=O.deltaDecorations(A,F.map(E=>E.decoration),this._decorationOwnerId);for(let E=0;E<P.length;E++)this._decorationsMetadata.set(P[E],{hint:k[E],classNameRef:F[E].classNameRef})}_getLayoutInfo(){const w=this._editor.getOption(126),k=this._editor.getOption(45);let D=w.fontSize;(!D||D<5||D>k)&&(D=k*.9|0);const M=w.fontFamily||this._editor.getOption(42);return{fontSize:D,fontFamily:M}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let w of this._decorationsMetadata.values())w.classNameRef.dispose();this._decorationsMetadata.clear()}}e.InlayHintsController=v,v.ID="editor.contrib.InlayHints",v._decorationOwnerIdPool=0;function m(L,w){return new r.Range(w,L.startColumn,w,L.endColumn)}function _(L){const w="\xA0";return L.replace(/[ \t]/g,w)}(0,g.registerEditorContribution)(v.ID,v),s.CommandsRegistry.registerCommand("_executeInlayHintProvider",(L,...w)=>Ae(void 0,void 0,void 0,function*(){const[k,D]=w;(0,C.assertType)(p.URI.isUri(k)),(0,C.assertType)(r.Range.isIRange(D));const M=yield L.get(a.ITextModelService).createModelReference(k);try{return yield f(M.object.textEditorModel,[r.Range.lift(D)],new u,N.CancellationToken.None)}finally{M.dispose()}}))}),define(ee[156],te([0,1,44,10,2,15,3,526,16,372]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let h=class Gt{constructor(r,c){this._messageWidget=new T.MutableDisposable,this._messageListeners=new T.DisposableStore,this._editor=r,this._visible=Gt.MESSAGE_VISIBLE.bindTo(c),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(r){return r.getContribution(Gt.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(r,c){(0,y.alert)(r),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new i(this._editor,c,r),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new N.TimeoutTimer(()=>this.closeMessage(),3e3));let l;this._messageListeners.add(this._editor.onMouseMove(a=>{!a.target.position||(l?l.containsPosition(a.target.position)||this.closeMessage():l=new b.Range(c.lineNumber-3,1,a.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(i.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(C.localize(1,null),this._editor.getPosition())}};h.ID="editor.contrib.messageController",h.MESSAGE_VISIBLE=new p.RawContextKey("messageVisible",!1,C.localize(0,null)),h=Be([Ce(1,p.IContextKeyService)],h),e.MessageController=h;const g=I.EditorCommand.bindToContribution(h.get);(0,I.registerEditorCommand)(new g({id:"leaveEditorMessage",precondition:h.MESSAGE_VISIBLE,handler:t=>t.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class i{constructor(r,{lineNumber:c,column:l},a){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=r,this._editor.revealLinesInCenterIfOutsideViewport(c,c,0),this._position={lineNumber:c,column:l-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const s=document.createElement("div");s.classList.add("anchor","top"),this._domNode.appendChild(s);const o=document.createElement("div");o.classList.add("message"),o.textContent=a,this._domNode.appendChild(o);const n=document.createElement("div");n.classList.add("anchor","below"),this._domNode.appendChild(n),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(r){let c;const l=()=>{r.dispose(),clearTimeout(c),r.getDomNode().removeEventListener("animationend",l)};return c=setTimeout(l,110),r.getDomNode().addEventListener("animationend",l),r.getDomNode().classList.add("fadeOut"),{dispose:l}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(r){this._domNode.classList.toggle("below",r===2)}}(0,I.registerEditorContribution)(h.ID,h)}),define(ee[646],te([0,1,44,10,23,13,2,20,25,67,15,150,28,14,3,24,18,152,156,533,100,16,9,74,40,61,33,629]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S,v,m,_,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class w{constructor(R,A){this.model=R,this.position=A,this._providerRenameIdx=0,this._providers=a.RenameProviderRegistry.ordered(R)}hasProvider(){return this._providers.length>0}resolveRenameLocation(R){return Ae(this,void 0,void 0,function*(){const A=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const E=this._providers[this._providerRenameIdx];if(!E.resolveRenameLocation)break;let B=yield E.resolveRenameLocation(this.model,this.position,R);if(!!B){if(B.rejectReason){A.push(B.rejectReason);continue}return B}}const P=this.model.getWordAtPosition(this.position);return P?{range:new c.Range(this.position.lineNumber,P.startColumn,this.position.lineNumber,P.endColumn),text:P.word,rejectReason:A.length>0?A.join(`
`):void 0}:{range:c.Range.fromPositions(this.position),text:"",rejectReason:A.length>0?A.join(`
`):void 0}})}provideRenameEdits(R,A){return Ae(this,void 0,void 0,function*(){return this._provideRenameEdits(R,this._providerRenameIdx,[],A)})}_provideRenameEdits(R,A,P,E){return Ae(this,void 0,void 0,function*(){const B=this._providers[A];if(!B)return{edits:[],rejectReason:P.join(`
`)};const V=yield B.provideRenameEdits(this.model,this.position,R,E);if(V){if(V.rejectReason)return this._provideRenameEdits(R,A+1,P.concat(V.rejectReason),E)}else return this._provideRenameEdits(R,A+1,P.concat(n.localize(0,null)),E);return V})}}function k(F,R,A){return Ae(this,void 0,void 0,function*(){const P=new w(F,R),E=yield P.resolveRenameLocation(T.CancellationToken.None);return(E==null?void 0:E.rejectReason)?{edits:[],rejectReason:E.rejectReason}:P.provideRenameEdits(A,T.CancellationToken.None)})}e.rename=k;let D=class Li{constructor(R,A,P,E,B,V,j){this.editor=R,this._instaService=A,this._notificationService=P,this._bulkEditService=E,this._progressService=B,this._logService=V,this._configService=j,this._dispoableStore=new b.DisposableStore,this._cts=new T.CancellationTokenSource,this._renameInputField=this._dispoableStore.add(new N.IdleValue(()=>this._dispoableStore.add(this._instaService.createInstance(L.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(R){return R.getContribution(Li.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return Ae(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const R=this.editor.getPosition(),A=new w(this.editor.getModel(),R);if(!A.hasProvider())return;this._cts=new h.EditorStateCancellationTokenSource(this.editor,4|1);let P;try{const J=A.resolveRenameLocation(this._cts.token);this._progressService.showWhile(J,250),P=yield J}catch(J){o.MessageController.get(this.editor).showMessage(J||n.localize(1,null),R);return}if(!P)return;if(P.rejectReason){o.MessageController.get(this.editor).showMessage(P.rejectReason,R);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new h.EditorStateCancellationTokenSource(this.editor,4|1,P.range);let E=this.editor.getSelection(),B=0,V=P.text.length;!c.Range.isEmpty(E)&&!c.Range.spansMultipleLines(E)&&c.Range.containsRange(P.range,E)&&(B=Math.max(0,E.startColumn-P.range.startColumn),V=Math.min(P.range.endColumn,E.endColumn)-P.range.startColumn);const j=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),K=yield this._renameInputField.value.getInput(P.range,P.text,B,V,j,this._cts.token);if(typeof K=="boolean"){K&&this.editor.focus();return}this.editor.focus();const Y=(0,N.raceCancellation)(A.provideRenameEdits(K.newName,this._cts.token),this._cts.token).then(J=>Ae(this,void 0,void 0,function*(){if(!(!J||!this.editor.hasModel())){if(J.rejectReason){this._notificationService.info(J.rejectReason);return}this.editor.setSelection(c.Range.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(i.ResourceEdit.convert(J),{editor:this.editor,showPreview:K.wantsPreview,label:n.localize(2,null,P==null?void 0:P.text),quotableLabel:n.localize(3,null,P==null?void 0:P.text)}).then(Z=>{Z.ariaSummary&&(0,y.alert)(n.localize(4,null,P.text,K.newName,Z.ariaSummary))}).catch(Z=>{this._notificationService.error(n.localize(5,null)),this._logService.error(Z)})}}),J=>{this._notificationService.error(n.localize(6,null)),this._logService.error(J)});return this._progressService.showWhile(Y,250),Y})}acceptRenameInput(R){this._renameInputField.value.acceptInput(R)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};D.ID="editor.contrib.renameController",D=Be([Ce(1,f.IInstantiationService),Ce(2,v.INotificationService),Ce(3,i.IBulkEditService),Ce(4,m.IEditorProgressService),Ce(5,S.ILogService),Ce(6,s.ITextResourceConfigurationService)],D);class M extends g.EditorAction{constructor(){super({id:"editor.action.rename",label:n.localize(7,null),alias:"Rename Symbol",precondition:u.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(R,A){const P=R.get(t.ICodeEditorService),[E,B]=Array.isArray(A)&&A||[void 0,void 0];return p.URI.isUri(E)&&r.Position.isIPosition(B)?P.openCodeEditor({resource:E},P.getActiveCodeEditor()).then(V=>{!V||(V.setPosition(B),V.invokeWithinContext(j=>(this.reportTelemetry(j,V),this.run(j,V))))},I.onUnexpectedError):super.runCommand(R,A)}run(R,A){const P=D.get(A);return P?P.run():Promise.resolve()}}e.RenameAction=M,(0,g.registerEditorContribution)(D.ID,D),(0,g.registerEditorAction)(M);const O=g.EditorCommand.bindToContribution(D.get);(0,g.registerEditorCommand)(new O({id:"acceptRenameInput",precondition:L.CONTEXT_RENAME_INPUT_VISIBLE,handler:F=>F.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:l.EditorContextKeys.focus,primary:3}})),(0,g.registerEditorCommand)(new O({id:"acceptRenameInputWithPreview",precondition:u.ContextKeyExpr.and(L.CONTEXT_RENAME_INPUT_VISIBLE,u.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:F=>F.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:l.EditorContextKeys.focus,primary:1024+3}})),(0,g.registerEditorCommand)(new O({id:"cancelRenameInput",precondition:L.CONTEXT_RENAME_INPUT_VISIBLE,handler:F=>F.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:l.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,g.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(F,R,...A){const[P]=A;return(0,C.assertType)(typeof P=="string"),k(F,R,P)}),(0,g.registerModelAndPositionCommand)("_executePrepareRename",function(F,R){return Ae(this,void 0,void 0,function*(){const P=yield new w(F,R).resolveRenameLocation(T.CancellationToken.None);if(P==null?void 0:P.rejectReason)throw new Error(P.rejectReason);return P})}),_.Registry.as(d.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:n.localize(8,null),default:!0,type:"boolean"}}})}),define(ee[647],te([0,1,19,23,13,15,14,3,21,24,18,246,437,535,36,26]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class a{constructor(S,v){this.index=S,this.ranges=v}mov(S){let v=this.index+(S?1:-1);if(v<0||v>=this.ranges.length)return this;const m=new a(v,this.ranges);return m.ranges[v].equalsRange(this.ranges[this.index])?m.mov(S):m}}class s{constructor(S){this._editor=S,this._ignoreSelection=!1}static get(S){return S.getContribution(s.ID)}dispose(){var S;(S=this._selectionListener)===null||S===void 0||S.dispose()}run(S){return Ae(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const v=this._editor.getSelections(),m=this._editor.getModel();if(!g.SelectionRangeRegistry.has(m)||(this._state||(yield u(m,v.map(L=>L.getPosition()),this._editor.getOption(101),N.CancellationToken.None).then(L=>{var w;if(!(!y.isNonEmptyArray(L)||L.length!==v.length)&&!(!this._editor.hasModel()||!y.equals(this._editor.getSelections(),v,(k,D)=>k.equalsSelection(D)))){for(let k=0;k<L.length;k++)L[k]=L[k].filter(D=>D.containsPosition(v[k].getStartPosition())&&D.containsPosition(v[k].getEndPosition())),L[k].unshift(v[k]);this._state=L.map(k=>new a(0,k)),(w=this._selectionListener)===null||w===void 0||w.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var k;this._ignoreSelection||((k=this._selectionListener)===null||k===void 0||k.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(L=>L.mov(S));const _=this._state.map(L=>p.Selection.fromPositions(L.ranges[L.index].getStartPosition(),L.ranges[L.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(_)}finally{this._ignoreSelection=!1}})}}s.ID="editor.contrib.smartSelectController";class o extends I.EditorAction{constructor(S,v){super(v);this._forward=S}run(S,v){return Ae(this,void 0,void 0,function*(){let m=s.get(v);m&&(yield m.run(this._forward))})}}class n extends o{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:r.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"1_basic",title:r.localize(1,null),order:2}})}}l.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class d extends o{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:r.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"1_basic",title:r.localize(3,null),order:3}})}}(0,I.registerEditorContribution)(s.ID,s),(0,I.registerEditorAction)(n),(0,I.registerEditorAction)(d),g.SelectionRangeRegistry.register("*",new t.WordSelectionRangeProvider);function u(f,S,v,m){return Ae(this,void 0,void 0,function*(){const _=g.SelectionRangeRegistry.all(f);_.length===1&&_.unshift(new i.BracketSelectionRangeProvider);let L=[],w=[];for(const k of _)L.push(Promise.resolve(k.provideSelectionRanges(f,S,m)).then(D=>{if(y.isNonEmptyArray(D)&&D.length===S.length)for(let M=0;M<S.length;M++){w[M]||(w[M]=[]);for(const O of D[M])C.Range.isIRange(O.range)&&C.Range.containsPosition(O.range,S[M])&&w[M].push(C.Range.lift(O.range))}},T.onUnexpectedExternalError));return yield Promise.all(L),w.map(k=>{if(k.length===0)return[];k.sort((F,R)=>b.Position.isBefore(F.getStartPosition(),R.getStartPosition())?1:b.Position.isBefore(R.getStartPosition(),F.getStartPosition())||b.Position.isBefore(F.getEndPosition(),R.getEndPosition())?-1:b.Position.isBefore(R.getEndPosition(),F.getEndPosition())?1:0);let D=[],M;for(const F of k)(!M||C.Range.containsRange(F,M)&&!C.Range.equalsRange(F,M))&&(D.push(F),M=F);if(!v.selectLeadingAndTrailingWhitespace)return D;let O=[D[0]];for(let F=1;F<D.length;F++){const R=D[F-1],A=D[F];if(A.startLineNumber!==R.startLineNumber||A.endLineNumber!==R.endLineNumber){const P=new C.Range(R.startLineNumber,f.getLineFirstNonWhitespaceColumn(R.startLineNumber),R.endLineNumber,f.getLineLastNonWhitespaceColumn(R.endLineNumber));P.containsRange(R)&&!P.equalsRange(R)&&A.containsRange(P)&&!A.equalsRange(P)&&O.push(P);const E=new C.Range(R.startLineNumber,1,R.endLineNumber,f.getLineMaxColumn(R.endLineNumber));E.containsRange(R)&&!E.equalsRange(P)&&A.containsRange(E)&&!A.equalsRange(E)&&O.push(E)}O.push(A)}return O})})}e.provideSelectionRanges=u,(0,I.registerModelCommand)("_executeSelectionRangeProvider",function(f,...S){const[v]=S;return u(f,v,{selectLeadingAndTrailingWhitespace:!0},N.CancellationToken.None)})}),define(ee[93],te([0,1,23,13,69,2,85,20,25,14,3,18,66,119,538,36,26,16]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:new s.RawContextKey("suggestWidgetVisible",!1,(0,c.localize)(0,null)),DetailsVisible:new s.RawContextKey("suggestWidgetDetailsVisible",!1,(0,c.localize)(1,null)),MultipleSuggestions:new s.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,c.localize)(2,null)),MakesTextEdit:new s.RawContextKey("suggestionMakesTextEdit",!0,(0,c.localize)(3,null)),AcceptSuggestionsOnEnter:new s.RawContextKey("acceptSuggestionOnEnter",!0,(0,c.localize)(4,null)),HasInsertAndReplaceRange:new s.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,c.localize)(5,null)),InsertMode:new s.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,c.localize)(6,null)}),CanResolve:new s.RawContextKey("suggestionCanResolve",!1,(0,c.localize)(7,null))},e.suggestWidgetStatusbarMenu=new l.MenuId("suggestWidgetStatusBar");class o{constructor(O,F,R,A){this.position=O,this.completion=F,this.container=R,this.provider=A,this.isInvalid=!1,this.score=T.FuzzyScore.Default,this.distance=0,this.textLabel=typeof F.label=="string"?F.label:F.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=F.sortText&&F.sortText.toLowerCase(),this.filterTextLow=F.filterText&&F.filterText.toLowerCase(),g.Range.isIRange(F.range)?(this.editStart=new h.Position(F.range.startLineNumber,F.range.startColumn),this.editInsertEnd=new h.Position(F.range.endLineNumber,F.range.endColumn),this.editReplaceEnd=new h.Position(F.range.endLineNumber,F.range.endColumn),this.isInvalid=this.isInvalid||g.Range.spansMultipleLines(F.range)||F.range.startLineNumber!==O.lineNumber):(this.editStart=new h.Position(F.range.insert.startLineNumber,F.range.insert.startColumn),this.editInsertEnd=new h.Position(F.range.insert.endLineNumber,F.range.insert.endColumn),this.editReplaceEnd=new h.Position(F.range.replace.endLineNumber,F.range.replace.endColumn),this.isInvalid=this.isInvalid||g.Range.spansMultipleLines(F.range.insert)||g.Range.spansMultipleLines(F.range.replace)||F.range.insert.startLineNumber!==O.lineNumber||F.range.replace.startLineNumber!==O.lineNumber||F.range.insert.startColumn!==F.range.replace.startColumn),typeof A.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(O){return Ae(this,void 0,void 0,function*(){if(!this._resolveCache){const F=O.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,O)).then(R=>{Object.assign(this.completion,R),this._isResolved=!0,F.dispose()},R=>{(0,N.isPromiseCanceledError)(R)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=o;class n{constructor(O=2,F=new Set,R=new Set,A=!0){this.snippetSortOrder=O,this.kindFilter=F,this.providerFilter=R,this.showDeprecated=A}}e.CompletionOptions=n,n.default=new n;let d;function u(){return d}e.getSnippetSuggestSupport=u;class f{constructor(O,F,R,A){this.items=O,this.needsClipboard=F,this.durations=R,this.disposable=A}}e.CompletionItemModel=f;function S(M,O,F=n.default,R={triggerKind:0},A=y.CancellationToken.None){return Ae(this,void 0,void 0,function*(){const P=new b.StopWatch(!0);O=O.clone();const E=M.getWordAtPosition(O),B=E?new g.Range(O.lineNumber,E.startColumn,O.lineNumber,E.endColumn):g.Range.fromPositions(O),V={replace:B,insert:B.setEndPosition(O.lineNumber,O.column)},j=[],K=new I.DisposableStore,Y=[];let J=!1;const Z=(ne,G,W)=>{var z,U,x;if(!!G){for(let X of G.suggestions)if(!F.kindFilter.has(X.kind)){if(!F.showDeprecated&&((z=X==null?void 0:X.tags)===null||z===void 0?void 0:z.includes(1)))continue;X.range||(X.range=V),X.sortText||(X.sortText=typeof X.label=="string"?X.label:X.label.label),!J&&X.insertTextRules&&X.insertTextRules&4&&(J=r.SnippetParser.guessNeedsClipboard(X.insertText)),j.push(new o(O,X,G,ne))}(0,I.isDisposable)(G)&&K.add(G),Y.push({providerName:(U=ne._debugDisplayName)!==null&&U!==void 0?U:"unkown_provider",elapsedProvider:(x=G.duration)!==null&&x!==void 0?x:-1,elapsedOverall:W.elapsed()})}},ie=(()=>Ae(this,void 0,void 0,function*(){if(!d||F.kindFilter.has(27)||F.providerFilter.size>0&&!F.providerFilter.has(d))return;const ne=new b.StopWatch(!0),G=yield d.provideCompletionItems(M,O,R,A);Z(d,G,ne)}))();for(let ne of i.CompletionProviderRegistry.orderedGroups(M)){let G=j.length;if(yield Promise.all(ne.map(W=>Ae(this,void 0,void 0,function*(){if(!(F.providerFilter.size>0&&!F.providerFilter.has(W)))try{const z=new b.StopWatch(!0),U=yield W.provideCompletionItems(M,O,R,A);Z(W,U,z)}catch(z){(0,N.onUnexpectedExternalError)(z)}}))),G!==j.length||A.isCancellationRequested)break}return yield ie,A.isCancellationRequested?(K.dispose(),Promise.reject((0,N.canceled)())):new f(j.sort(w(F.snippetSortOrder)),J,{entries:Y,elapsed:P.elapsed()},K)})}e.provideSuggestionItems=S;function v(M,O){if(M.sortTextLow&&O.sortTextLow){if(M.sortTextLow<O.sortTextLow)return-1;if(M.sortTextLow>O.sortTextLow)return 1}return M.completion.label<O.completion.label?-1:M.completion.label>O.completion.label?1:M.completion.kind-O.completion.kind}function m(M,O){if(M.completion.kind!==O.completion.kind){if(M.completion.kind===27)return-1;if(O.completion.kind===27)return 1}return v(M,O)}function _(M,O){if(M.completion.kind!==O.completion.kind){if(M.completion.kind===27)return 1;if(O.completion.kind===27)return-1}return v(M,O)}const L=new Map;L.set(0,m),L.set(2,_),L.set(1,v);function w(M){return L.get(M)}e.getSuggestionComparator=w,a.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(M,...O)=>Ae(void 0,void 0,void 0,function*(){const[F,R,A,P]=O;(0,C.assertType)(p.URI.isUri(F)),(0,C.assertType)(h.Position.isIPosition(R)),(0,C.assertType)(typeof A=="string"||!A),(0,C.assertType)(typeof P=="number"||!P);const E=yield M.get(t.ITextModelService).createModelReference(F);try{const B={incomplete:!1,suggestions:[]},V=[],j=yield S(E.object.textEditorModel,h.Position.lift(R),void 0,{triggerCharacter:A,triggerKind:A?1:0});for(const K of j.items)V.length<(P??0)&&V.push(K.resolve(y.CancellationToken.None)),B.incomplete=B.incomplete||K.container.incomplete,B.suggestions.push(K.completion);try{return yield Promise.all(V),B}finally{setTimeout(()=>j.disposable.dispose(),100)}}finally{E.dispose()}}));const k=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let O={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,O}};i.CompletionProviderRegistry.register("*",k);function D(M,O){setTimeout(()=>{k.onlyOnceSuggestions.push(...O),M.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(k))},0)}e.showSimpleSuggestions=D}),define(ee[279],te([0,1,44,15,192,545]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class b extends N.EditorAction{constructor(){super({id:b.ID,label:I.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(p,h){const i=!T.TabFocus.getTabFocusMode();T.TabFocus.setTabFocusMode(i),i?(0,y.alert)(I.localize(1,null)):(0,y.alert)(I.localize(2,null))}}e.ToggleTabFocusModeAction=b,b.ID="editor.action.toggleTabFocusMode",(0,N.registerEditorAction)(b)}),define(ee[648],te([0,1,85,15,546]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class I extends N.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:T.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(C,p){if(!p.hasModel())return;const h=p.getModel();h.resetTokenization();const g=new y.StopWatch(!0);h.forceTokenization(h.getLineCount()),g.stop(),console.log(`tokenization took ${g.elapsed()}`)}}(0,N.registerEditorAction)(I)}),define(ee[649],te([0,1,2,42,15,28,548,124]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const p="ignoreUnusualLineTerminators";function h(t,r,c){t.setModelProperty(r.uri,p,c)}function g(t,r){return t.getModelProperty(r.uri,p)}let i=class extends y.Disposable{constructor(r,c,l){super();this._editor=r,this._dialogService=c,this._codeEditorService=l,this._config=this._editor.getOption(113),this._register(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(113)&&(this._config=this._editor.getOption(113),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(a=>{a.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Ae(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const r=this._editor.getModel();if(!r.mightContainUnusualLineTerminators()||g(this._codeEditorService,r)===!0||this._editor.getOption(80))return;if(this._config==="auto"){r.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:b.localize(0,null),message:b.localize(1,null),detail:b.localize(2,null,(0,N.basename)(r.uri)),primaryButton:b.localize(3,null),secondaryButton:b.localize(4,null)})).confirmed){h(this._codeEditorService,r,!0);return}r.removeUnusualLineTerminators(this._editor.getSelections())})}};i.ID="editor.contrib.unusualLineTerminatorsDetector",i=Be([Ce(1,C.IDialogService),Ce(2,I.ICodeEditorService)],i),e.UnusualLineTerminatorsDetector=i,(0,T.registerEditorContribution)(i.ID,i)}),define(ee[650],te([0,1,7,32,168,44,54,2,17,8,25,15,24,279,16,9,41,53,22,12,65,381]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const u=new c.RawContextKey("accessibilityHelpWidgetVisible",!1);let f=class Ei extends C.Disposable{constructor(w,k){super();this._editor=w,this._widget=this._register(k.createInstance(v,this._editor))}static get(w){return w.getContribution(Ei.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};f.ID="editor.contrib.accessibilityHelpController",f=Be([Ce(1,l.IInstantiationService)],f);function S(L,w){return!L||L.length===0?d.AccessibilityHelpNLS.noSelection:L.length===1?w?h.format(d.AccessibilityHelpNLS.singleSelectionRange,L[0].positionLineNumber,L[0].positionColumn,w):h.format(d.AccessibilityHelpNLS.singleSelection,L[0].positionLineNumber,L[0].positionColumn):w?h.format(d.AccessibilityHelpNLS.multiSelectionRange,L.length,w):L.length>0?h.format(d.AccessibilityHelpNLS.multiSelection,L.length):""}let v=class Ot extends b.Widget{constructor(w,k,D,M){super();this._contextKeyService=k,this._keybindingService=D,this._openerService=M,this._editor=w,this._isVisibleKey=u.bindTo(this._contextKeyService),this._domNode=(0,N.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,N.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(y.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",O=>{if(!!this._isVisible&&(O.equals(2048|35)&&((0,I.alert)(d.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),y.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),O.preventDefault(),O.stopPropagation()),O.equals(2048|38))){(0,I.alert)(d.AccessibilityHelpNLS.openingDocs);let F=this._editor.getRawOptions().accessibilityHelpUrl;typeof F=="undefined"&&(F="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(g.URI.parse(F)),O.preventDefault(),O.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Ot.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(w,k,D){let M=this._keybindingService.lookupKeybinding(w);return M?h.format(k,M.getAriaLabel()):h.format(D,w)}_buildContent(){const w=this._editor.getOptions(),k=this._editor.getSelections();let D=0;if(k){const R=this._editor.getModel();R&&k.forEach(A=>{D+=R.getValueLengthInRange(A)})}let M=S(k,D);w.get(53)?w.get(80)?M+=d.AccessibilityHelpNLS.readonlyDiffEditor:M+=d.AccessibilityHelpNLS.editableDiffEditor:w.get(80)?M+=d.AccessibilityHelpNLS.readonlyEditor:M+=d.AccessibilityHelpNLS.editableEditor;const O=p.isMacintosh?d.AccessibilityHelpNLS.changeConfigToOnMac:d.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(w.get(2)){case 0:M+=`

 - `+O;break;case 2:M+=`

 - `+d.AccessibilityHelpNLS.auto_on;break;case 1:M+=`

 - `+d.AccessibilityHelpNLS.auto_off,M+=" "+O;break}w.get(129)?M+=`

 - `+this._descriptionForCommand(r.ToggleTabFocusModeAction.ID,d.AccessibilityHelpNLS.tabFocusModeOnMsg,d.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):M+=`

 - `+this._descriptionForCommand(r.ToggleTabFocusModeAction.ID,d.AccessibilityHelpNLS.tabFocusModeOffMsg,d.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const F=p.isMacintosh?d.AccessibilityHelpNLS.openDocMac:d.AccessibilityHelpNLS.openDocWinLinux;M+=`

 - `+F,M+=`

`+d.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,T.renderFormattedText)(M)),this._contentDomNode.domNode.setAttribute("aria-label",M)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,y.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){let w=this._editor.getLayoutInfo(),k=Math.max(5,Math.min(Ot.WIDTH,w.width-40)),D=Math.max(5,Math.min(Ot.HEIGHT,w.height-40));this._domNode.setWidth(k),this._domNode.setHeight(D);let M=Math.round((w.height-D)/2);this._domNode.setTop(M);let O=Math.round((w.width-k)/2);this._domNode.setLeft(O)}};v.ID="editor.contrib.accessibilityHelpWidget",v.WIDTH=500,v.HEIGHT=300,v=Be([Ce(1,c.IContextKeyService),Ce(2,a.IKeybindingService),Ce(3,s.IOpenerService)],v);class m extends i.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:d.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(w,k){let D=f.get(k);D&&D.show()}}(0,i.registerEditorContribution)(f.ID,f),(0,i.registerEditorAction)(m);const _=i.EditorCommand.bindToContribution(f.get);(0,i.registerEditorCommand)(new _({id:"closeAccessibilityHelp",precondition:u,handler:L=>L.hide(),kbOpts:{weight:100+100,kbExpr:t.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,n.registerThemingParticipant)((L,w)=>{const k=L.getColor(o.editorWidgetBackground);k&&w.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${k}; }`);const D=L.getColor(o.editorWidgetForeground);D&&w.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${D}; }`);const M=L.getColor(o.widgetShadow);M&&w.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${M}; }`);const O=L.getColor(o.contrastBorder);O&&w.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${O}; }`)})}),define(ee[651],te([0,1,7,2,15,17,382]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class b extends N.Disposable{constructor(h){super();this.editor=h,this.widget=null,I.isIOS&&(this._register(h.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const h=!this.editor.getOption(80);!this.widget&&h?this.widget=new C(this.editor):this.widget&&!h&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=b,b.ID="editor.contrib.iPadShowKeyboard";class C extends N.Disposable{constructor(h){super();this.editor=h,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(y.addDisposableListener(this._domNode,"touchstart",g=>{this.editor.focus()})),this._register(y.addDisposableListener(this._domNode,"focus",g=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return C.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}C.ID="editor.contrib.ShowKeyboardWidget",(0,T.registerEditorContribution)(b.ID,b)}),define(ee[652],te([0,1,7,29,2,15,18,80,38,123,22,12,65,129,383]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let c=class Ii extends T.Disposable{constructor(d,u,f){super();this._editor=d,this._modeService=f,this._widget=null,this._register(this._editor.onDidChangeModel(S=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(S=>this.stop())),this._register(b.TokenizationRegistry.onDidChange(S=>this.stop())),this._register(this._editor.onKeyUp(S=>S.keyCode===9&&this.stop()))}static get(d){return d.getContribution(Ii.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new o(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};c.ID="editor.contrib.inspectTokens",c=Be([Ce(1,h.IStandaloneThemeService),Ce(2,p.IModeService)],c);class l extends I.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:t.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(d,u){let f=c.get(u);f&&f.launch()}}function a(n){let d="";for(let u=0,f=n.length;u<f;u++){let S=n.charCodeAt(u);switch(S){case 9:d+="\u2192";break;case 32:d+="\xB7";break;default:d+=String.fromCharCode(S)}}return d}function s(n,d){const u=b.TokenizationRegistry.get(d);if(u)return u;const f=n.encodeLanguageId(d);return{getInitialState:()=>C.NULL_STATE,tokenize:(S,v,m,_)=>(0,C.nullTokenize)(d,S,m,_),tokenize2:(S,v,m,_)=>(0,C.nullTokenize2)(f,S,m,_)}}class o extends T.Disposable{constructor(d,u){super();this.allowEditorOverflow=!0,this._editor=d,this._modeService=u,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=s(this._modeService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(f=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return o._ID}_compute(d){let u=this._getTokensAtLine(d.lineNumber),f=0;for(let L=u.tokens1.length-1;L>=0;L--){let w=u.tokens1[L];if(d.column-1>=w.offset){f=L;break}}let S=0;for(let L=u.tokens2.length>>>1;L>=0;L--)if(d.column-1>=u.tokens2[L<<1]){S=L;break}let v=this._model.getLineContent(d.lineNumber),m="";if(f<u.tokens1.length){let L=u.tokens1[f].offset,w=f+1<u.tokens1.length?u.tokens1[f+1].offset:v.length;m=v.substring(L,w)}(0,y.reset)(this._domNode,(0,y.$)("h2.tm-token",void 0,a(m),(0,y.$)("span.tm-token-length",void 0,`${m.length} ${m.length===1?"char":"chars"}`))),(0,y.append)(this._domNode,(0,y.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const _=(S<<1)+1<u.tokens2.length?this._decodeMetadata(u.tokens2[(S<<1)+1]):null;(0,y.append)(this._domNode,(0,y.$)("table.tm-metadata-table",void 0,(0,y.$)("tbody",void 0,(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"language"),(0,y.$)("td.tm-metadata-value",void 0,`${_?_.languageId:"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"token type"),(0,y.$)("td.tm-metadata-value",void 0,`${_?this._tokenTypeToString(_.tokenType):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"font style"),(0,y.$)("td.tm-metadata-value",void 0,`${_?this._fontStyleToString(_.fontStyle):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"foreground"),(0,y.$)("td.tm-metadata-value",void 0,`${_?N.Color.Format.CSS.formatHex(_.foreground):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"background"),(0,y.$)("td.tm-metadata-value",void 0,`${_?N.Color.Format.CSS.formatHex(_.background):"-?-"}`))))),(0,y.append)(this._domNode,(0,y.$)("hr.tokens-inspect-separator")),f<u.tokens1.length&&(0,y.append)(this._domNode,(0,y.$)("span.tm-token-type",void 0,u.tokens1[f].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(d){let u=b.TokenizationRegistry.getColorMap(),f=b.TokenMetadata.getLanguageId(d),S=b.TokenMetadata.getTokenType(d),v=b.TokenMetadata.getFontStyle(d),m=b.TokenMetadata.getForeground(d),_=b.TokenMetadata.getBackground(d);return{languageId:this._modeService.languageIdCodec.decodeLanguageId(f),tokenType:S,fontStyle:v,foreground:u[m],background:u[_]}}_tokenTypeToString(d){switch(d){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(d){let u="";return d&1&&(u+="italic "),d&2&&(u+="bold "),d&4&&(u+="underline "),u.length===0&&(u="---"),u}_getTokensAtLine(d){let u=this._getStateBeforeLine(d),f=this._tokenizationSupport.tokenize(this._model.getLineContent(d),!0,u,0),S=this._tokenizationSupport.tokenize2(this._model.getLineContent(d),!0,u,0);return{startState:u,tokens1:f.tokens,tokens2:S.tokens,endState:f.endState}}_getStateBeforeLine(d){let u=this._tokenizationSupport.getInitialState();for(let f=1;f<d;f++)u=this._tokenizationSupport.tokenize(this._model.getLineContent(f),!0,u,0).endState;return u}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}o._ID="editor.contrib.inspectTokensWidget",(0,I.registerEditorContribution)(c.ID,c),(0,I.registerEditorAction)(l),(0,i.registerThemingParticipant)((n,d)=>{const u=n.getColor(g.editorHoverBorder);if(u){let v=n.type===r.ColorScheme.HIGH_CONTRAST?2:1;d.addRule(`.monaco-editor .tokens-inspect-widget { border: ${v}px solid ${u}; }`),d.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${u}; }`)}const f=n.getColor(g.editorHoverBackground);f&&d.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${f}; }`);const S=n.getColor(g.editorHoverForeground);S&&d.addRule(`.monaco-editor .tokens-inspect-widget { color: ${S}; }`)})}),define(ee[653],te([0,1,33,102,65,28,609,20,9,41,26,83,124,15,24,75]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let a=class extends b.AbstractEditorCommandsQuickAccessProvider{constructor(n,d,u,f,S,v){super({showAlias:!1},n,u,f,S,v);this.codeEditorService=d}get activeTextEditorControl(){return(0,C.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Ae(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};a=Be([Ce(0,p.IInstantiationService),Ce(1,I.ICodeEditorService),Ce(2,h.IKeybindingService),Ce(3,g.ICommandService),Ce(4,i.ITelemetryService),Ce(5,t.IDialogService)],a),e.StandaloneCommandsQuickAccessProvider=a,y.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:a.PREFIX,helpEntries:[{description:T.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class s extends r.EditorAction{constructor(){super({id:"editor.action.quickCommand",label:T.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(n){n.get(l.IQuickInputService).quickAccess.show(a.PREFIX)}}e.GotoLineAction=s,(0,r.registerEditorAction)(s)}),define(ee[654],te([0,1,627,33,102,28,20,65,4,15,24,75]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let t=class extends y.AbstractGotoLineQuickAccessProvider{constructor(l){super();this.editorService=l,this.onDidActiveTextEditorControlChange=p.Event.None}get activeTextEditorControl(){return(0,b.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};t=Be([Ce(0,I.ICodeEditorService)],t),e.StandaloneGotoLineQuickAccessProvider=t,N.Registry.as(T.Extensions.Quickaccess).registerQuickAccessProvider({ctor:t,prefix:t.PREFIX,helpEntries:[{description:C.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class r extends h.EditorAction{constructor(){super({id:"editor.action.gotoLine",label:C.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(l){l.get(i.IQuickInputService).quickAccess.show(t.PREFIX)}}e.GotoLineAction=r,(0,h.registerEditorAction)(r)}),define(ee[655],te([0,1,628,33,102,28,20,65,4,15,24,75,137,274]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let t=class extends y.AbstractGotoSymbolQuickAccessProvider{constructor(l){super();this.editorService=l,this.onDidActiveTextEditorControlChange=p.Event.None}get activeTextEditorControl(){return(0,b.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};t=Be([Ce(0,I.ICodeEditorService)],t),e.StandaloneGotoSymbolQuickAccessProvider=t,N.Registry.as(T.Extensions.Quickaccess).registerQuickAccessProvider({ctor:t,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:C.QuickOutlineNLS.quickOutlineActionLabel,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:C.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class r extends h.EditorAction{constructor(){super({id:"editor.action.quickOutline",label:C.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:g.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(l){l.get(i.IQuickInputService).quickAccess.show(y.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoLineAction=r,(0,h.registerEditorAction)(r)}),define(ee[656],te([0,1,15,123,65]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class I extends y.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:T.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(C,p){const h=C.get(N.IStandaloneThemeService);this._originalThemeName?(h.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=h.getColorTheme().themeName,h.setTheme("hc-black"))}}(0,y.registerEditorAction)(I)}),define(ee[193],te([0,1,7,46,120,457,51,188,2,17,551,36,16,73,9,41,40,76,12,386]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function n(_,L,w,k,D,M,O){const F=_.getActions(L),R=typeof k=="string"?A=>A===k:k;return u(F,w,!1,R,D,M,O),d(F)}e.createAndFillInActionBarActions=n;function d(_){const L=new p.DisposableStore;for(const[,w]of _)for(const k of w)L.add(k);return L}function u(_,L,w,k=F=>F==="navigation",D=Number.MAX_SAFE_INTEGER,M=()=>!1,O=!1){let F,R;Array.isArray(L)?(F=L,R=L):(F=L.primary,R=L.secondary);const A=new Set;for(const[P,E]of _){let B;k(P)?(B=F,B.length>0&&O&&B.push(new b.Separator)):(B=R,B.length>0&&B.push(new b.Separator));for(let V of E){w&&(V=V instanceof i.MenuItemAction&&V.alt?V.alt:V);const j=B.push(V);V instanceof b.SubmenuAction&&A.add({group:P,action:V,index:j-1})}}for(const{group:P,action:E,index:B}of A){const V=k(P)?F:R,j=E.actions;(j.length<=1||V.length+j.length-2<=D)&&M(E,P,V.length)&&V.splice(B,1,...j)}if(F!==R&&F.length>D){const P=F.splice(D,F.length-D);R.unshift(...P,new b.Separator)}}let f=class extends T.ActionViewItem{constructor(L,w,k,D,M){super(void 0,L,{icon:!!(L.class||L.item.icon),label:!L.class&&!L.item.icon,draggable:w==null?void 0:w.draggable});this._keybindingService=k,this._notificationService=D,this._contextKeyService=M,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new p.MutableDisposable),this._altKey=y.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(L){return Ae(this,void 0,void 0,function*(){L.preventDefault(),L.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(w){this._notificationService.error(w)}})}render(L){super.render(L),L.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let w=!1,k=this._altKey.keyStatus.altKey||(h.isWindows||h.isLinux)&&this._altKey.keyStatus.shiftKey;const D=()=>{const M=w&&k;M!==this._wantsAltCommand&&(this._wantsAltCommand=M,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(M=>{k=M.altKey||(h.isWindows||h.isLinux)&&M.shiftKey,D()})),this._register((0,y.addDisposableListener)(L,"mouseleave",M=>{w=!1,D()})),this._register((0,y.addDisposableListener)(L,"mouseenter",M=>{w=!0,D()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const L=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),w=L&&L.getLabel(),k=this._commandAction.tooltip||this._commandAction.label;let D=w?(0,g.localize)(0,null,k,w):k;if(!this._wantsAltCommand&&this._menuItemAction.alt){const M=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,O=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),F=O&&O.getLabel(),R=F?(0,g.localize)(1,null,M,F):M;D+=`
[${C.UILabelProvider.modifierLabels[h.OS].altKey}] ${R}`}this.label.title=D}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(L){var w;this._itemClassDispose.value=void 0;const{element:k,label:D}=this;if(!k||!D)return;const M=this._commandAction.checked&&((w=L.toggled)===null||w===void 0?void 0:w.icon)?L.toggled.icon:L.icon;if(!!M)if(o.ThemeIcon.isThemeIcon(M)){const O=o.ThemeIcon.asClassNameArray(M);D.classList.add(...O),this._itemClassDispose.value=(0,p.toDisposable)(()=>{D.classList.remove(...O)})}else M.light&&D.style.setProperty("--menu-entry-icon-light",(0,y.asCSSUrl)(M.light)),M.dark&&D.style.setProperty("--menu-entry-icon-dark",(0,y.asCSSUrl)(M.dark)),D.classList.add("icon"),this._itemClassDispose.value=(0,p.toDisposable)(()=>{D.classList.remove("icon"),D.style.removeProperty("--menu-entry-icon-light"),D.style.removeProperty("--menu-entry-icon-dark")})}};f=Be([Ce(2,l.IKeybindingService),Ce(3,a.INotificationService),Ce(4,t.IContextKeyService)],f),e.MenuEntryActionViewItem=f;let S=class extends I.DropdownMenuActionViewItem{constructor(L,w,k){var D,M;const O=Object.assign({},w??Object.create(null),{menuAsChild:(D=w==null?void 0:w.menuAsChild)!==null&&D!==void 0?D:!1,classNames:(M=w==null?void 0:w.classNames)!==null&&M!==void 0?M:o.ThemeIcon.isThemeIcon(L.item.icon)?o.ThemeIcon.asClassName(L.item.icon):void 0});super(L,{getActions:()=>L.actions},k,O)}render(L){if(super.render(L),this.element){L.classList.add("menu-entry");const{icon:w}=this._action.item;w&&!o.ThemeIcon.isThemeIcon(w)&&(this.element.classList.add("icon"),w.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,y.asCSSUrl)(w.light)),w.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,y.asCSSUrl)(w.dark)))}}};S=Be([Ce(2,r.IContextMenuService)],S),e.SubmenuEntryActionViewItem=S;let v=class extends T.BaseActionViewItem{constructor(L,w,k,D,M,O,F,R){var A,P,E;super(null,L);this._keybindingService=k,this._notificationService=D,this._contextMenuService=M,this._menuService=O,this._instaService=F,this._storageService=R,this._container=null,this._storageKey=`${L.item.submenu._debugName}_lastActionId`;let B,V=R.get(this._storageKey,1);V&&(B=L.actions.find(K=>V===K.id)),B||(B=L.actions[0]),this._defaultAction=this._instaService.createInstance(f,B,void 0);const j=Object.assign({},w??Object.create(null),{menuAsChild:(A=w==null?void 0:w.menuAsChild)!==null&&A!==void 0?A:!0,classNames:(P=w==null?void 0:w.classNames)!==null&&P!==void 0?P:["codicon","codicon-chevron-down"],actionRunner:(E=w==null?void 0:w.actionRunner)!==null&&E!==void 0?E:new b.ActionRunner});this._dropdown=new I.DropdownMenuActionViewItem(L,L.actions,this._contextMenuService,j),this._dropdown.actionRunner.onDidRun(K=>{K.action instanceof i.MenuItemAction&&this.update(K.action)})}update(L){this._storageService.store(this._storageKey,L.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(f,L,void 0),this._defaultAction.actionRunner=new class extends b.ActionRunner{runAction(w,k){return Ae(this,void 0,void 0,function*(){yield w.run(void 0)})}},this._container&&this._defaultAction.render((0,y.prepend)(this._container,(0,y.$)(".action-container")))}setActionContext(L){super.setActionContext(L),this._defaultAction.setActionContext(L),this._dropdown.setActionContext(L)}render(L){this._container=L,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const w=(0,y.$)(".action-container");this._defaultAction.render((0,y.append)(this._container,w)),this._register((0,y.addDisposableListener)(w,y.EventType.KEY_DOWN,D=>{const M=new N.StandardKeyboardEvent(D);M.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),M.stopPropagation())}));const k=(0,y.$)(".dropdown-action-container");this._dropdown.render((0,y.append)(this._container,k)),this._register((0,y.addDisposableListener)(k,y.EventType.KEY_DOWN,D=>{var M;const O=new N.StandardKeyboardEvent(D);O.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(M=this._defaultAction.element)===null||M===void 0||M.focus(),O.stopPropagation())}))}focus(L){L?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(L){L?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};v=Be([Ce(2,l.IKeybindingService),Ce(3,a.INotificationService),Ce(4,r.IContextMenuService),Ce(5,i.IMenuService),Ce(6,c.IInstantiationService),Ce(7,s.IStorageService)],v);function m(_,L,w){return L instanceof i.MenuItemAction?_.createInstance(f,L,void 0):L instanceof i.SubmenuItemAction?L.item.rememberDefaultAction?_.createInstance(v,L,w):_.createInstance(S,L,w):void 0}e.createActionViewItem=m}),define(ee[657],te([0,1,7,81,2,93,543,193,36,16,9]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class i extends C.MenuEntryActionViewItem{updateLabel(){const c=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!c)return super.updateLabel();this.label&&(this.label.textContent=(0,b.localize)(0,null,this._action.label,i.symbolPrintEnter(c)))}static symbolPrintEnter(c){var l;return(l=c.getLabel())===null||l===void 0?void 0:l.replace(/\benter\b/gi,"\u23CE")}}let t=class{constructor(c,l,a,s){this._menuService=a,this._contextKeyService=s,this._menuDisposables=new T.DisposableStore,this.element=y.append(c,y.$(".suggest-status-bar"));const o=n=>n instanceof p.MenuItemAction?l.createInstance(i,n,void 0):void 0;this._leftActions=new N.ActionBar(this.element,{actionViewItemProvider:o}),this._rightActions=new N.ActionBar(this.element,{actionViewItemProvider:o}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const c=this._menuService.createMenu(I.suggestWidgetStatusbarMenu,this._contextKeyService),l=()=>{const a=[],s=[];for(let[o,n]of c.getActions())o==="left"?a.push(...n):s.push(...n);this._leftActions.clear(),this._leftActions.push(a),this._rightActions.clear(),this._rightActions.push(s)};this._menuDisposables.add(c.onDidChange(()=>l())),this._menuDisposables.add(c)}hide(){this._menuDisposables.clear()}};t=Be([Ce(1,g.IInstantiationService),Ce(2,p.IMenuService),Ce(3,h.IContextKeyService)],t),e.SuggestWidgetStatus=t}),define(ee[658],te([0,1,10,4,2,36,26,16]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let p=class{constructor(i){this._commandService=i}createMenu(i,t,r){return new h(i,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},r),this._commandService,t,this)}};p=Be([Ce(0,b.ICommandService)],p),e.MenuService=p;let h=class St{constructor(i,t,r,c,l){this._id=i,this._options=t,this._commandService=r,this._contextKeyService=c,this._menuService=l,this._disposables=new T.DisposableStore,this._menuGroups=[],this._contextKeys=new Set,this._build();const a=new y.RunOnceScheduler(()=>{this._build(),this._onDidChange.fire(this)},t.eventDebounceDelay);this._disposables.add(a),this._disposables.add(I.MenuRegistry.onDidChangeMenu(n=>{n.has(i)&&a.schedule()}));const s=this._disposables.add(new T.DisposableStore),o=()=>{const n=new y.RunOnceScheduler(()=>this._onDidChange.fire(this),t.eventDebounceDelay);s.add(n),s.add(c.onDidChangeContext(d=>{d.affectsSome(this._contextKeys)&&n.schedule()}))};this._onDidChange=new N.Emitter({onFirstListenerAdd:o,onLastListenerRemove:s.clear.bind(s)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const i=I.MenuRegistry.getMenuItems(this._id);let t;i.sort(St._compareMenuItems);for(const r of i){const c=r.group||"";(!t||t[0]!==c)&&(t=[c,[]],this._menuGroups.push(t)),t[1].push(r),this._collectContextKeys(r)}}_collectContextKeys(i){if(St._fillInKbExprKeys(i.when,this._contextKeys),(0,I.isIMenuItem)(i)){if(i.command.precondition&&St._fillInKbExprKeys(i.command.precondition,this._contextKeys),i.command.toggled){const t=i.command.toggled.condition||i.command.toggled;St._fillInKbExprKeys(t,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&I.MenuRegistry.getMenuItems(i.submenu).forEach(this._collectContextKeys,this)}getActions(i){const t=[];for(let r of this._menuGroups){const[c,l]=r,a=[];for(const s of l)if(this._contextKeyService.contextMatchesRules(s.when)){const o=(0,I.isIMenuItem)(s)?new I.MenuItemAction(s.command,s.alt,i,this._contextKeyService,this._commandService):new I.SubmenuItemAction(s,this._menuService,this._contextKeyService,i);a.push(o)}a.length>0&&t.push([c,a])}return t}static _fillInKbExprKeys(i,t){if(i)for(let r of i.keys())t.add(r)}static _compareMenuItems(i,t){let r=i.group,c=t.group;if(r!==c){if(r){if(!c)return-1}else return 1;if(r==="navigation")return-1;if(c==="navigation")return 1;let s=r.localeCompare(c);if(s!==0)return s}let l=i.order||0,a=t.order||0;return l<a?-1:l>a?1:St._compareTitles((0,I.isIMenuItem)(i)?i.command.title:i.title,(0,I.isIMenuItem)(t)?t.command.title:t.title)}static _compareTitles(i,t){const r=typeof i=="string"?i:i.original,c=typeof t=="string"?t:t.original;return r.localeCompare(c)}};h=Be([Ce(2,b.ICommandService),Ce(3,C.IContextKeyService),Ce(4,I.IMenuService)],h)}),define(ee[659],te([0,1,458,459,16,82,93]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.createAndBindHistoryNavigationWidgetScopedContextKeyService=e.HistoryNavigationWidgetContext=void 0,e.HistoryNavigationWidgetContext="historyNavigationWidget";const C="historyNavigationForwardsEnabled",p="historyNavigationBackwardsEnabled";function h(l,a,s){new T.RawContextKey(s,a).bindTo(l)}function g(l,a){return l.createScoped(a.target)}function i(l,a){return l.getContext(document.activeElement).getValue(a)}function t(l,a){const s=g(l,a);h(s,a,e.HistoryNavigationWidgetContext);const o=new T.RawContextKey(C,!0).bindTo(s),n=new T.RawContextKey(p,!0).bindTo(s);return{scopedContextKeyService:s,historyNavigationForwardsEnablement:o,historyNavigationBackwardsEnablement:n}}e.createAndBindHistoryNavigationWidgetScopedContextKeyService=t;let r=class extends y.FindInput{constructor(a,s,o,n,d=!1){super(a,s,d,o);this._register(t(n,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};r=Be([Ce(3,T.IContextKeyService)],r),e.ContextScopedFindInput=r;let c=class extends N.ReplaceInput{constructor(a,s,o,n,d=!1){super(a,s,d,o);this._register(t(n,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};c=Be([Ce(3,T.IContextKeyService)],c),e.ContextScopedReplaceInput=c,I.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:T.ContextKeyExpr.and(T.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),T.ContextKeyExpr.equals(p,!0),b.Context.Visible.isEqualTo(!1)),primary:16,secondary:[512|16],handler:l=>{const a=i(l.get(T.IContextKeyService),e.HistoryNavigationWidgetContext);a&&a.historyNavigator.showPreviousValue()}}),I.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:T.ContextKeyExpr.and(T.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),T.ContextKeyExpr.equals(C,!0),b.Context.Visible.isEqualTo(!1)),primary:18,secondary:[512|18],handler:l=>{const a=i(l.get(T.IContextKeyService),e.HistoryNavigationWidgetContext);a&&a.historyNavigator.showNextValue()}})}),define(ee[660],te([0,1,7,4,2,41,40,83,12,610,73]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let i=class extends T.Disposable{constructor(r,c,l,a,s){super();this._onDidShowContextMenu=new N.Emitter,this._onDidHideContextMenu=new N.Emitter,this.contextMenuHandler=new h.ContextMenuHandler(l,r,c,a,s)}configure(r){this.contextMenuHandler.configure(r)}showContextMenu(r){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},r),{onHide:c=>{r.onHide&&r.onHide(c),this._onDidHideContextMenu.fire()}})),y.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};i=Be([Ce(0,C.ITelemetryService),Ce(1,b.INotificationService),Ce(2,g.IContextViewService),Ce(3,I.IKeybindingService),Ce(4,p.IThemeService)],i),e.ContextMenuService=i}),define(ee[157],te([0,1,7,336,111,339,454,453,250,4,2,556,60,35,100,16,265,9,41,33,128,12]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchListAutomaticKeyboardNavigationKey=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,s.createDecorator)("listService");let f=class{constructor(H){this._themeService=H,this.disposables=new g.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(H){var Q,re;H!==this._lastFocusedWidget&&((Q=this._lastFocusedWidget)===null||Q===void 0||Q.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=H,(re=this._lastFocusedWidget)===null||re===void 0||re.getHTMLElement().classList.add("last-focused"))}register(H,Q){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const ce=new T.DefaultStyleController((0,y.createStyleSheet)(),"");this.disposables.add((0,d.attachListStyler)(ce,this._themeService))}if(this.lists.some(ce=>ce.widget===H))throw new Error("Cannot register the same widget multiple times");const re={widget:H,extraContextKeys:Q};return this.lists.push(re),H.getHTMLElement()===document.activeElement&&this.setLastFocusedList(H),(0,g.combinedDisposable)(H.onDidFocus(()=>this.setLastFocusedList(H)),(0,g.toDisposable)(()=>this.lists.splice(this.lists.indexOf(re),1)),H.onDidDispose(()=>{this.lists=this.lists.filter(ce=>ce!==re),this._lastFocusedWidget===H&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};f=Be([Ce(0,u.IThemeService)],f),e.ListService=f;const S=new l.RawContextKey("listFocus",!0);e.WorkbenchListSupportsMultiSelectContextKey=new l.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=l.ContextKeyExpr.and(S,l.ContextKeyExpr.not(a.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new l.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new l.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new l.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new l.RawContextKey("listSelectionNavigation",!1),e.WorkbenchTreeElementCanCollapse=new l.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new l.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new l.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new l.RawContextKey("treeElementHasChild",!1),e.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation";function v($,H){const Q=$.createScoped(H.getHTMLElement());return S.bindTo(Q),Q}const m="workbench.list.multiSelectModifier",_="workbench.list.openMode",L="workbench.list.horizontalScrolling",w="workbench.list.keyboardNavigation",k="workbench.list.automaticKeyboardNavigation",D="workbench.tree.indent",M="workbench.tree.renderIndentGuides",O="workbench.list.smoothScrolling",F="workbench.list.mouseWheelScrollSensitivity",R="workbench.list.fastScrollSensitivity",A="workbench.tree.expandMode";function P($){return $.getValue(m)==="alt"}class E extends g.Disposable{constructor(H){super();this.configurationService=H,this.useAltAsMultipleSelectionModifier=P(H),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(H=>{H.affectsConfiguration(m)&&(this.useAltAsMultipleSelectionModifier=P(this.configurationService))}))}isSelectionSingleChangeEvent(H){return this.useAltAsMultipleSelectionModifier?H.browserEvent.altKey:(0,T.isSelectionSingleChangeEvent)(H)}isSelectionRangeChangeEvent(H){return(0,T.isSelectionRangeChangeEvent)(H)}}function B($,H,Q){var re;const ce=new g.DisposableStore;return[Object.assign(Object.assign({},$),{keyboardNavigationDelegate:{mightProducePrintableCharacter(de){return Q.mightProducePrintableCharacter(de)}},smoothScrolling:Boolean(H.getValue(O)),mouseWheelScrollSensitivity:H.getValue(F),fastScrollSensitivity:H.getValue(R),multipleSelectionController:(re=$.multipleSelectionController)!==null&&re!==void 0?re:ce.add(new E(H))}),ce]}let V=class extends T.List{constructor(H,Q,re,ce,oe,de,pe,_e,se,ue){const be=typeof oe.horizontalScrolling!="undefined"?oe.horizontalScrolling:Boolean(se.getValue(L)),[ge,Se]=B(oe,se,ue);super(H,Q,re,ce,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,d.computeStyles)(_e.getColorTheme(),d.defaultListStyles)),ge),{horizontalScrolling:be}));this.disposables.add(Se),this.contextKeyService=v(de,this),this.themeService=_e,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(oe.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(oe.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=oe.horizontalScrolling,this._useAltAsMultipleSelectionModifier=P(se),this.disposables.add(this.contextKeyService),this.disposables.add(pe.register(this)),oe.overrideStyles&&this.updateStyles(oe.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const he=this.getSelection(),De=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(he.length>0||De.length>0),this.listMultiSelection.set(he.length>1),this.listDoubleSelection.set(he.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const he=this.getSelection(),De=this.getFocus();this.listHasSelectionOrFocus.set(he.length>0||De.length>0)})),this.disposables.add(se.onDidChangeConfiguration(he=>{he.affectsConfiguration(m)&&(this._useAltAsMultipleSelectionModifier=P(se));let De={};if(he.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const ke=Boolean(se.getValue(L));De=Object.assign(Object.assign({},De),{horizontalScrolling:ke})}if(he.affectsConfiguration(O)){const ke=Boolean(se.getValue(O));De=Object.assign(Object.assign({},De),{smoothScrolling:ke})}if(he.affectsConfiguration(F)){const ke=se.getValue(F);De=Object.assign(Object.assign({},De),{mouseWheelScrollSensitivity:ke})}if(he.affectsConfiguration(R)){const ke=se.getValue(R);De=Object.assign(Object.assign({},De),{fastScrollSensitivity:ke})}Object.keys(De).length>0&&this.updateOptions(De)})),this.navigator=new J(this,Object.assign({configurationService:se},oe)),this.disposables.add(this.navigator)}updateOptions(H){super.updateOptions(H),H.overrideStyles&&this.updateStyles(H.overrideStyles),H.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!H.multipleSelectionSupport)}updateStyles(H){var Q;(Q=this._styler)===null||Q===void 0||Q.dispose(),this._styler=(0,d.attachListStyler)(this,this.themeService,H)}dispose(){var H;(H=this._styler)===null||H===void 0||H.dispose(),super.dispose()}};V=Be([Ce(5,l.IContextKeyService),Ce(6,e.IListService),Ce(7,u.IThemeService),Ce(8,r.IConfigurationService),Ce(9,o.IKeybindingService)],V),e.WorkbenchList=V;let j=class extends N.PagedList{constructor(H,Q,re,ce,oe,de,pe,_e,se,ue){const be=typeof oe.horizontalScrolling!="undefined"?oe.horizontalScrolling:Boolean(se.getValue(L)),[ge,Se]=B(oe,se,ue);super(H,Q,re,ce,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,d.computeStyles)(_e.getColorTheme(),d.defaultListStyles)),ge),{horizontalScrolling:be}));this.disposables=new g.DisposableStore,this.disposables.add(Se),this.contextKeyService=v(de,this),this.themeService=_e,this.horizontalScrolling=oe.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(oe.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(oe.selectionNavigation)),this._useAltAsMultipleSelectionModifier=P(se),this.disposables.add(this.contextKeyService),this.disposables.add(pe.register(this)),oe.overrideStyles&&this.updateStyles(oe.overrideStyles),oe.overrideStyles&&this.disposables.add((0,d.attachListStyler)(this,_e,oe.overrideStyles)),this.disposables.add(se.onDidChangeConfiguration(he=>{he.affectsConfiguration(m)&&(this._useAltAsMultipleSelectionModifier=P(se));let De={};if(he.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const ke=Boolean(se.getValue(L));De=Object.assign(Object.assign({},De),{horizontalScrolling:ke})}if(he.affectsConfiguration(O)){const ke=Boolean(se.getValue(O));De=Object.assign(Object.assign({},De),{smoothScrolling:ke})}if(he.affectsConfiguration(F)){const ke=se.getValue(F);De=Object.assign(Object.assign({},De),{mouseWheelScrollSensitivity:ke})}if(he.affectsConfiguration(R)){const ke=se.getValue(R);De=Object.assign(Object.assign({},De),{fastScrollSensitivity:ke})}Object.keys(De).length>0&&this.updateOptions(De)})),this.navigator=new J(this,Object.assign({configurationService:se},oe)),this.disposables.add(this.navigator)}updateOptions(H){super.updateOptions(H),H.overrideStyles&&this.updateStyles(H.overrideStyles),H.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!H.multipleSelectionSupport)}updateStyles(H){var Q;(Q=this._styler)===null||Q===void 0||Q.dispose(),this._styler=(0,d.attachListStyler)(this,this.themeService,H)}dispose(){var H;(H=this._styler)===null||H===void 0||H.dispose(),this.disposables.dispose(),super.dispose()}};j=Be([Ce(5,l.IContextKeyService),Ce(6,e.IListService),Ce(7,u.IThemeService),Ce(8,r.IConfigurationService),Ce(9,o.IKeybindingService)],j),e.WorkbenchPagedList=j;let K=class extends I.Table{constructor(H,Q,re,ce,oe,de,pe,_e,se,ue,be){const ge=typeof de.horizontalScrolling!="undefined"?de.horizontalScrolling:Boolean(ue.getValue(L)),[Se,ae]=B(de,ue,be);super(H,Q,re,ce,oe,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,d.computeStyles)(se.getColorTheme(),d.defaultListStyles)),Se),{horizontalScrolling:ge}));this.disposables.add(ae),this.contextKeyService=v(pe,this),this.themeService=se,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(de.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(de.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=de.horizontalScrolling,this._useAltAsMultipleSelectionModifier=P(ue),this.disposables.add(this.contextKeyService),this.disposables.add(_e.register(this)),de.overrideStyles&&this.updateStyles(de.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const De=this.getSelection(),ke=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(De.length>0||ke.length>0),this.listMultiSelection.set(De.length>1),this.listDoubleSelection.set(De.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const De=this.getSelection(),ke=this.getFocus();this.listHasSelectionOrFocus.set(De.length>0||ke.length>0)})),this.disposables.add(ue.onDidChangeConfiguration(De=>{De.affectsConfiguration(m)&&(this._useAltAsMultipleSelectionModifier=P(ue));let ke={};if(De.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const Ve=Boolean(ue.getValue(L));ke=Object.assign(Object.assign({},ke),{horizontalScrolling:Ve})}if(De.affectsConfiguration(O)){const Ve=Boolean(ue.getValue(O));ke=Object.assign(Object.assign({},ke),{smoothScrolling:Ve})}if(De.affectsConfiguration(F)){const Ve=ue.getValue(F);ke=Object.assign(Object.assign({},ke),{mouseWheelScrollSensitivity:Ve})}if(De.affectsConfiguration(R)){const Ve=ue.getValue(R);ke=Object.assign(Object.assign({},ke),{fastScrollSensitivity:Ve})}Object.keys(ke).length>0&&this.updateOptions(ke)})),this.navigator=new Z(this,Object.assign({configurationService:ue},de)),this.disposables.add(this.navigator)}updateOptions(H){super.updateOptions(H),H.overrideStyles&&this.updateStyles(H.overrideStyles),H.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!H.multipleSelectionSupport)}updateStyles(H){var Q;(Q=this._styler)===null||Q===void 0||Q.dispose(),this._styler=(0,d.attachListStyler)(this,this.themeService,H)}dispose(){var H;(H=this._styler)===null||H===void 0||H.dispose(),this.disposables.dispose(),super.dispose()}};K=Be([Ce(6,l.IContextKeyService),Ce(7,e.IListService),Ce(8,u.IThemeService),Ce(9,r.IConfigurationService),Ce(10,o.IKeybindingService)],K),e.WorkbenchTable=K;class Y extends g.Disposable{constructor(H,Q){var re;super();this.widget=H,this._onDidOpen=this._register(new h.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(h.Event.filter(this.widget.onDidChangeSelection,ce=>ce.browserEvent instanceof KeyboardEvent)(ce=>this.onSelectionFromKeyboard(ce))),this._register(this.widget.onPointer(ce=>this.onPointer(ce.element,ce.browserEvent))),this._register(this.widget.onMouseDblClick(ce=>this.onMouseDblClick(ce.element,ce.browserEvent))),typeof(Q==null?void 0:Q.openOnSingleClick)!="boolean"&&(Q==null?void 0:Q.configurationService)?(this.openOnSingleClick=(Q==null?void 0:Q.configurationService.getValue(_))!=="doubleClick",this._register(Q==null?void 0:Q.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(Q==null?void 0:Q.configurationService.getValue(_))!=="doubleClick"}))):this.openOnSingleClick=(re=Q==null?void 0:Q.openOnSingleClick)!==null&&re!==void 0?re:!0}onSelectionFromKeyboard(H){if(H.elements.length!==1)return;const Q=H.browserEvent,re=typeof Q.preserveFocus=="boolean"?Q.preserveFocus:!0,ce=typeof Q.pinned=="boolean"?Q.pinned:!re,oe=!1;this._open(this.getSelectedElement(),re,ce,oe,H.browserEvent)}onPointer(H,Q){if(!this.openOnSingleClick||Q.detail===2)return;const ce=Q.button===1,oe=!0,de=ce,pe=Q.ctrlKey||Q.metaKey||Q.altKey;this._open(H,oe,de,pe,Q)}onMouseDblClick(H,Q){if(!Q)return;const re=Q.target;if(re.classList.contains("monaco-tl-twistie")||re.classList.contains("monaco-icon-label")&&re.classList.contains("folder-icon")&&Q.offsetX<16)return;const oe=!1,de=!0,pe=Q.ctrlKey||Q.metaKey||Q.altKey;this._open(H,oe,de,pe,Q)}_open(H,Q,re,ce,oe){!H||this._onDidOpen.fire({editorOptions:{preserveFocus:Q,pinned:re,revealIfVisible:!0},sideBySide:ce,element:H,browserEvent:oe})}}class J extends Y{constructor(H,Q){super(H,Q);this.widget=H}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Z extends Y{constructor(H,Q){super(H,Q)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ie extends Y{constructor(H,Q){super(H,Q)}getSelectedElement(){var H;return(H=this.widget.getSelection()[0])!==null&&H!==void 0?H:void 0}}function ne($,H){let Q=!1;return re=>{if(Q)return Q=!1,!1;const ce=H.softDispatch(re,$);return ce&&ce.enterChord?(Q=!0,!1):(Q=!1,!0)}}let G=class extends p.ObjectTree{constructor(H,Q,re,ce,oe,de,pe,_e,se,ue,be){const{options:ge,getAutomaticKeyboardNavigation:Se,disposable:ae}=X(Q,oe,de,se,ue,be);super(H,Q,re,ce,ge);this.disposables.add(ae),this.internals=new le(this,oe,Se,oe.overrideStyles,de,pe,_e,se,be),this.disposables.add(this.internals)}updateOptions(H){super.updateOptions(H),this.internals.updateOptions(H)}};G=Be([Ce(5,l.IContextKeyService),Ce(6,e.IListService),Ce(7,u.IThemeService),Ce(8,r.IConfigurationService),Ce(9,o.IKeybindingService),Ce(10,t.IAccessibilityService)],G),e.WorkbenchObjectTree=G;let W=class extends p.CompressibleObjectTree{constructor(H,Q,re,ce,oe,de,pe,_e,se,ue,be){const{options:ge,getAutomaticKeyboardNavigation:Se,disposable:ae}=X(Q,oe,de,se,ue,be);super(H,Q,re,ce,ge);this.disposables.add(ae),this.internals=new le(this,oe,Se,oe.overrideStyles,de,pe,_e,se,be),this.disposables.add(this.internals)}updateOptions(H={}){super.updateOptions(H),H.overrideStyles&&this.internals.updateStyleOverrides(H.overrideStyles),this.internals.updateOptions(H)}};W=Be([Ce(5,l.IContextKeyService),Ce(6,e.IListService),Ce(7,u.IThemeService),Ce(8,r.IConfigurationService),Ce(9,o.IKeybindingService),Ce(10,t.IAccessibilityService)],W),e.WorkbenchCompressibleObjectTree=W;let z=class extends C.DataTree{constructor(H,Q,re,ce,oe,de,pe,_e,se,ue,be,ge){const{options:Se,getAutomaticKeyboardNavigation:ae,disposable:he}=X(Q,de,pe,ue,be,ge);super(H,Q,re,ce,oe,Se);this.disposables.add(he),this.internals=new le(this,de,ae,de.overrideStyles,pe,_e,se,ue,ge),this.disposables.add(this.internals)}updateOptions(H={}){super.updateOptions(H),H.overrideStyles&&this.internals.updateStyleOverrides(H.overrideStyles),this.internals.updateOptions(H)}};z=Be([Ce(6,l.IContextKeyService),Ce(7,e.IListService),Ce(8,u.IThemeService),Ce(9,r.IConfigurationService),Ce(10,o.IKeybindingService),Ce(11,t.IAccessibilityService)],z),e.WorkbenchDataTree=z;let U=class extends b.AsyncDataTree{constructor(H,Q,re,ce,oe,de,pe,_e,se,ue,be,ge){const{options:Se,getAutomaticKeyboardNavigation:ae,disposable:he}=X(Q,de,pe,ue,be,ge);super(H,Q,re,ce,oe,Se);this.disposables.add(he),this.internals=new le(this,de,ae,de.overrideStyles,pe,_e,se,ue,ge),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(H={}){super.updateOptions(H),H.overrideStyles&&this.internals.updateStyleOverrides(H.overrideStyles),this.internals.updateOptions(H)}};U=Be([Ce(6,l.IContextKeyService),Ce(7,e.IListService),Ce(8,u.IThemeService),Ce(9,r.IConfigurationService),Ce(10,o.IKeybindingService),Ce(11,t.IAccessibilityService)],U),e.WorkbenchAsyncDataTree=U;let x=class extends b.CompressibleAsyncDataTree{constructor(H,Q,re,ce,oe,de,pe,_e,se,ue,be,ge,Se){const{options:ae,getAutomaticKeyboardNavigation:he,disposable:De}=X(Q,pe,_e,be,ge,Se);super(H,Q,re,ce,oe,de,ae);this.disposables.add(De),this.internals=new le(this,pe,he,pe.overrideStyles,_e,se,ue,be,Se),this.disposables.add(this.internals)}updateOptions(H){super.updateOptions(H),this.internals.updateOptions(H)}};x=Be([Ce(7,l.IContextKeyService),Ce(8,e.IListService),Ce(9,u.IThemeService),Ce(10,r.IConfigurationService),Ce(11,o.IKeybindingService),Ce(12,t.IAccessibilityService)],x),e.WorkbenchCompressibleAsyncDataTree=x;function X($,H,Q,re,ce,oe){var de;const pe=()=>{let ae=Boolean(Q.getContextKeyValue(e.WorkbenchListAutomaticKeyboardNavigationKey));return ae&&(ae=Boolean(re.getValue(k))),ae},_e=oe.isScreenReaderOptimized(),se=H.simpleKeyboardNavigation||_e?"simple":re.getValue(w),ue=H.horizontalScrolling!==void 0?H.horizontalScrolling:Boolean(re.getValue(L)),[be,ge]=B(H,re,ce),Se=H.additionalScrollHeight;return{getAutomaticKeyboardNavigation:pe,disposable:ge,options:Object.assign(Object.assign({keyboardSupport:!1},be),{indent:typeof re.getValue(D)=="number"?re.getValue(D):void 0,renderIndentGuides:re.getValue(M),smoothScrolling:Boolean(re.getValue(O)),automaticKeyboardNavigation:pe(),simpleKeyboardNavigation:se==="simple",filterOnType:se==="filter",horizontalScrolling:ue,keyboardNavigationEventFilter:ne($,ce),additionalScrollHeight:Se,hideTwistiesOfChildlessElements:H.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(de=H.expandOnlyOnTwistieClick)!==null&&de!==void 0?de:re.getValue(A)==="doubleClick"})}}let le=class{constructor(H,Q,re,ce,oe,de,pe,_e,se){this.tree=H,this.themeService=pe,this.disposables=[],this.contextKeyService=v(oe,H),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Q.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(Q.selectionNavigation)),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=P(_e);const be=new Set;be.add(e.WorkbenchListAutomaticKeyboardNavigationKey);const ge=()=>{const he=se.isScreenReaderOptimized()?"simple":_e.getValue(w);H.updateOptions({simpleKeyboardNavigation:he==="simple",filterOnType:he==="filter"})};this.updateStyleOverrides(ce);const Se=()=>{const ae=H.getFocus()[0];if(!ae)return;const he=H.getNode(ae);this.treeElementCanCollapse.set(he.collapsible&&!he.collapsed),this.treeElementHasParent.set(!!H.getParentElement(ae)),this.treeElementCanExpand.set(he.collapsible&&he.collapsed),this.treeElementHasChild.set(!!H.getFirstElementChild(ae))};this.disposables.push(this.contextKeyService,de.register(H),H.onDidChangeSelection(()=>{const ae=H.getSelection(),he=H.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(ae.length>0||he.length>0),this.hasMultiSelection.set(ae.length>1),this.hasDoubleSelection.set(ae.length===2)})}),H.onDidChangeFocus(()=>{const ae=H.getSelection(),he=H.getFocus();this.hasSelectionOrFocus.set(ae.length>0||he.length>0),Se()}),H.onDidChangeCollapseState(Se),H.onDidChangeModel(Se),_e.onDidChangeConfiguration(ae=>{let he={};if(ae.affectsConfiguration(m)&&(this._useAltAsMultipleSelectionModifier=P(_e)),ae.affectsConfiguration(D)){const De=_e.getValue(D);he=Object.assign(Object.assign({},he),{indent:De})}if(ae.affectsConfiguration(M)){const De=_e.getValue(M);he=Object.assign(Object.assign({},he),{renderIndentGuides:De})}if(ae.affectsConfiguration(O)){const De=Boolean(_e.getValue(O));he=Object.assign(Object.assign({},he),{smoothScrolling:De})}if(ae.affectsConfiguration(w)&&ge(),ae.affectsConfiguration(k)&&(he=Object.assign(Object.assign({},he),{automaticKeyboardNavigation:re()})),ae.affectsConfiguration(L)&&Q.horizontalScrolling===void 0){const De=Boolean(_e.getValue(L));he=Object.assign(Object.assign({},he),{horizontalScrolling:De})}if(ae.affectsConfiguration(A)&&Q.expandOnlyOnTwistieClick===void 0&&(he=Object.assign(Object.assign({},he),{expandOnlyOnTwistieClick:_e.getValue(A)==="doubleClick"})),ae.affectsConfiguration(F)){const De=_e.getValue(F);he=Object.assign(Object.assign({},he),{mouseWheelScrollSensitivity:De})}if(ae.affectsConfiguration(R)){const De=_e.getValue(R);he=Object.assign(Object.assign({},he),{fastScrollSensitivity:De})}Object.keys(he).length>0&&H.updateOptions(he)}),this.contextKeyService.onDidChangeContext(ae=>{ae.affectsSome(be)&&H.updateOptions({automaticKeyboardNavigation:re()})}),se.onDidChangeScreenReaderOptimized(()=>ge())),this.navigator=new ie(H,Object.assign({configurationService:_e},Q)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(H){H.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!H.multipleSelectionSupport)}updateStyleOverrides(H){(0,g.dispose)(this.styler),this.styler=H?(0,d.attachListStyler)(this.tree,this.themeService,H):g.Disposable.None}dispose(){this.disposables=(0,g.dispose)(this.disposables),(0,g.dispose)(this.styler),this.styler=void 0}};le=Be([Ce(4,l.IContextKeyService),Ce(5,e.IListService),Ce(6,u.IThemeService),Ce(7,r.IConfigurationService),Ce(8,t.IAccessibilityService)],le),n.Registry.as(c.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,i.localize)(0,null),type:"object",properties:{[m]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,i.localize)(1,null),(0,i.localize)(2,null)],default:"ctrlCmd",description:(0,i.localize)(3,null)},[_]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(4,null)},[L]:{type:"boolean",default:!1,description:(0,i.localize)(5,null)},[D]:{type:"number",default:8,minimum:0,maximum:40,description:(0,i.localize)(6,null)},[M]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,i.localize)(7,null)},[O]:{type:"boolean",default:!1,description:(0,i.localize)(8,null)},[F]:{type:"number",default:1,description:(0,i.localize)(9,null)},[R]:{type:"number",default:5,description:(0,i.localize)(10,null)},[w]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,i.localize)(11,null),(0,i.localize)(12,null),(0,i.localize)(13,null)],default:"highlight",description:(0,i.localize)(14,null)},[k]:{type:"boolean",default:!0,markdownDescription:(0,i.localize)(15,null)},[A]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(16,null)}}})}),define(ee[661],te([0,1,7,86,46,58,4,2,53,22,12]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let i=class extends C.Disposable{constructor(r,c,l={},a){var s;super();this._link=c,this._enabled=!0,this.el=(0,y.append)(r,(0,y.$)("a.monaco-link",{tabIndex:(s=c.tabIndex)!==null&&s!==void 0?s:0,href:c.href,title:c.title},c.label)),this.el.setAttribute("role","button");const o=this._register(new N.DomEmitter(this.el,"click")),n=this._register(new N.DomEmitter(this.el,"keypress")),d=b.Event.chain(n.event).map(S=>new T.StandardKeyboardEvent(S)).filter(S=>S.keyCode===3).event,u=this._register(new N.DomEmitter(this.el,I.EventType.Tap)).event;this._register(I.Gesture.addTarget(this.el));const f=b.Event.any(o.event,d,u);this._register(f(S=>{!this.enabled||(y.EventHelper.stop(S,!0),(l==null?void 0:l.opener)?l.opener(this._link.href):a.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(r){r?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=r}};i=Be([Ce(3,p.IOpenerService)],i),e.Link=i,(0,g.registerThemingParticipant)((t,r)=>{const c=t.getColor(h.textLinkForeground);c&&r.addRule(`.monaco-link { color: ${c}; }`);const l=t.getColor(h.textLinkActiveForeground);l&&r.addRule(`.monaco-link:hover { color: ${l}; }`)})}),define(ee[662],te([0,1,23,469,60,16,9,154,157,605,22,128,12]),function(q,e,y,N,T,I,b,C,p,h,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let r=class extends t.Themable{constructor(l,a,s,o,n){super(s);this.instantiationService=l,this.contextKeyService=a,this.accessibilityService=o,this.layoutService=n,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(h.QuickAccessController))),this._quickAccess}createController(l=this.layoutService,a){var s,o;const n={idPrefix:"quickInput_",container:l.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:u=>this.setContextKey(u),returnFocus:()=>l.focus(),createList:(u,f,S,v,m)=>this.instantiationService.createInstance(p.WorkbenchList,u,f,S,v,m),styles:this.computeStyles()},d=this._register(new N.QuickInputController(Object.assign(Object.assign({},n),a)));return d.layout(l.dimension,(o=(s=l.offset)===null||s===void 0?void 0:s.top)!==null&&o!==void 0?o:0),this._register(l.onDidLayout(u=>{var f,S;return d.layout(u,(S=(f=l.offset)===null||f===void 0?void 0:f.top)!==null&&S!==void 0?S:0)})),this._register(d.onShow(()=>this.resetContextKeys())),this._register(d.onHide(()=>this.resetContextKeys())),d}setContextKey(l){let a;l&&(a=this.contexts.get(l),a||(a=new I.RawContextKey(l,!1).bindTo(this.contextKeyService),this.contexts.set(l,a))),!(a&&a.get())&&(this.resetContextKeys(),a&&a.set(!0))}resetContextKeys(){this.contexts.forEach(l=>{l.get()&&l.reset()})}pick(l,a={},s=y.CancellationToken.None){return this.controller.pick(l,a,s)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,i.computeStyles)(this.theme,{quickInputBackground:g.quickInputBackground,quickInputForeground:g.quickInputForeground,quickInputTitleBackground:g.quickInputTitleBackground,contrastBorder:g.contrastBorder,widgetShadow:g.widgetShadow})),inputBox:(0,i.computeStyles)(this.theme,{inputForeground:g.inputForeground,inputBackground:g.inputBackground,inputBorder:g.inputBorder,inputValidationInfoBackground:g.inputValidationInfoBackground,inputValidationInfoForeground:g.inputValidationInfoForeground,inputValidationInfoBorder:g.inputValidationInfoBorder,inputValidationWarningBackground:g.inputValidationWarningBackground,inputValidationWarningForeground:g.inputValidationWarningForeground,inputValidationWarningBorder:g.inputValidationWarningBorder,inputValidationErrorBackground:g.inputValidationErrorBackground,inputValidationErrorForeground:g.inputValidationErrorForeground,inputValidationErrorBorder:g.inputValidationErrorBorder}),countBadge:(0,i.computeStyles)(this.theme,{badgeBackground:g.badgeBackground,badgeForeground:g.badgeForeground,badgeBorder:g.contrastBorder}),button:(0,i.computeStyles)(this.theme,{buttonForeground:g.buttonForeground,buttonBackground:g.buttonBackground,buttonHoverBackground:g.buttonHoverBackground,buttonBorder:g.contrastBorder}),progressBar:(0,i.computeStyles)(this.theme,{progressBarBackground:g.progressBarBackground}),keybindingLabel:(0,i.computeStyles)(this.theme,{keybindingLabelBackground:g.keybindingLabelBackground,keybindingLabelForeground:g.keybindingLabelForeground,keybindingLabelBorder:g.keybindingLabelBorder,keybindingLabelBottomBorder:g.keybindingLabelBottomBorder,keybindingLabelShadow:g.widgetShadow}),list:(0,i.computeStyles)(this.theme,{listBackground:g.quickInputBackground,listInactiveFocusForeground:g.quickInputListFocusForeground,listInactiveSelectionIconForeground:g.quickInputListFocusIconForeground,listInactiveFocusBackground:g.quickInputListFocusBackground,listFocusOutline:g.activeContrastBorder,listInactiveFocusOutline:g.activeContrastBorder,pickerGroupBorder:g.pickerGroupBorder,pickerGroupForeground:g.pickerGroupForeground})}}};r=Be([Ce(0,b.IInstantiationService),Ce(1,I.IContextKeyService),Ce(2,t.IThemeService),Ce(3,T.IAccessibilityService),Ce(4,C.ILayoutService)],r),e.QuickInputService=r}),define(ee[663],te([0,1,15,12,23,9,16,60,154,28,662,84,384]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputServiceImpl=e.EditorScopedQuickInputServiceImpl=void 0;let t=class extends g.QuickInputService{constructor(s,o,n,d,u,f){super(o,n,d,u,f);this.host=void 0;const S=c.get(s);this.host={_serviceBrand:void 0,get container(){return S.widget.getDomNode()},get dimension(){return s.getLayoutInfo()},get onDidLayout(){return s.onDidLayoutChange},focus:()=>s.focus()}}createController(){return super.createController(this.host)}};t=Be([Ce(1,I.IInstantiationService),Ce(2,b.IContextKeyService),Ce(3,N.IThemeService),Ce(4,C.IAccessibilityService),Ce(5,p.ILayoutService)],t),e.EditorScopedQuickInputServiceImpl=t;let r=class{constructor(s,o){this.instantiationService=s,this.codeEditorService=o,this.mapEditorToService=new Map}get activeService(){const s=this.codeEditorService.getFocusedCodeEditor();if(!s)throw new Error("Quick input service needs a focused editor to work.");let o=this.mapEditorToService.get(s);if(!o){const n=o=this.instantiationService.createInstance(t,s);this.mapEditorToService.set(s,o),(0,i.once)(s.onDidDispose)(()=>{n.dispose(),this.mapEditorToService.delete(s)})}return o}get quickAccess(){return this.activeService.quickAccess}pick(s,o={},n=T.CancellationToken.None){return this.activeService.pick(s,o,n)}createQuickPick(){return this.activeService.createQuickPick()}};r=Be([Ce(0,I.IInstantiationService),Ce(1,h.ICodeEditorService)],r),e.StandaloneQuickInputServiceImpl=r;class c{constructor(s){this.editor=s,this.widget=new l(this.editor)}static get(s){return s.getContribution(c.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=c,c.ID="editor.controller.quickInput";class l{constructor(s){this.codeEditor=s,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return l.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=l,l.ID="editor.contrib.quickInputWidget",(0,y.registerEditorContribution)(c.ID,c)}),define(ee[664],te([0,1,27,79,22,12]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var b;(function(C){function p(h){switch(h){case N.default.Ignore:return"severity-ignore "+y.Codicon.info.classNames;case N.default.Info:return y.Codicon.info.classNames;case N.default.Warning:return y.Codicon.warning.classNames;case N.default.Error:return y.Codicon.error.classNames;default:return""}}C.className=p})(b=e.SeverityIcon||(e.SeverityIcon={})),(0,I.registerThemingParticipant)((C,p)=>{const h=C.getColor(T.problemsErrorIconForeground);if(h){const t=y.Codicon.error.cssSelector;p.addRule(`
			.monaco-editor .zone-widget ${t},
			.markers-panel .marker-icon${t},
			.text-search-provider-messages .providerMessage ${t},
			.extensions-viewlet > .extensions ${t} {
				color: ${h};
			}
		`)}const g=C.getColor(T.problemsWarningIconForeground);if(g){const t=y.Codicon.warning.cssSelector;p.addRule(`
			.monaco-editor .zone-widget ${t},
			.markers-panel .marker-icon${t},
			.extensions-viewlet > .extensions ${t},
			.extension-editor ${t},
			.text-search-provider-messages .providerMessage ${t},
			.preferences-editor ${t} {
				color: ${g};
			}
		`)}const i=C.getColor(T.problemsInfoIconForeground);if(i){const t=y.Codicon.info.cssSelector;p.addRule(`
			.monaco-editor .zone-widget ${t},
			.markers-panel .marker-icon${t},
			.extensions-viewlet > .extensions ${t},
			.text-search-provider-messages .providerMessage ${t},
			.extension-editor ${t} {
				color: ${i};
			}
		`)}})}),define(ee[68],te([0,1,10,27,4,561,191,33,12]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};class h{constructor(){this._onDidChange=new T.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,I.localize)(0,null)},fontCharacter:{type:"string",description:(0,I.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${N.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(s,o,n,d){const u=this.iconsById[s];if(u){if(n&&!u.description){u.description=n,this.iconSchema.properties[s].markdownDescription=`${n} $(${s})`;const v=this.iconReferenceSchema.enum.indexOf(s);v!==-1&&(this.iconReferenceSchema.enumDescriptions[v]=n),this._onDidChange.fire()}return u}let f={id:s,description:n,defaults:o,deprecationMessage:d};this.iconsById[s]=f;let S={$ref:"#/definitions/icons"};return d&&(S.deprecationMessage=d),n&&(S.markdownDescription=`${n}: $(${s})`),this.iconSchema.properties[s]=S,this.iconReferenceSchema.enum.push(s),this.iconReferenceSchema.enumDescriptions.push(n||""),this._onDidChange.fire(),{id:s}}getIcons(){return Object.keys(this.iconsById).map(s=>this.iconsById[s])}getIcon(s){return this.iconsById[s]}getIconSchema(){return this.iconSchema}getIconFont(s){return this.iconFontsById[s]}toString(){const s=(u,f)=>u.id.localeCompare(f.id),o=u=>{for(;p.ThemeIcon.isThemeIcon(u.defaults);)u=this.iconsById[u.defaults.id];return`codicon codicon-${u?u.id:""}`};let n=[];n.push("| preview     | identifier                        | default codicon ID                | description"),n.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const d=Object.keys(this.iconsById).map(u=>this.iconsById[u]);for(const u of d.filter(f=>!!f.description).sort(s))n.push(`|<i class="${o(u)}"></i>|${u.id}|${p.ThemeIcon.isThemeIcon(u.defaults)?u.defaults.id:u.id}|${u.description||""}|`);n.push("| preview     | identifier                        "),n.push("| ----------- | --------------------------------- |");for(const u of d.filter(f=>!p.ThemeIcon.isThemeIcon(f.defaults)).sort(s))n.push(`|<i class="${o(u)}"></i>|${u.id}|`);return n.join(`
`)}}const g=new h;C.Registry.add(e.Extensions.IconContribution,g);function i(a,s,o,n){return g.registerIcon(a,s,o,n)}e.registerIcon=i;function t(){return g}e.getIconRegistry=t;function r(){for(const a of N.iconRegistry.all)g.registerIcon(a.id,a.definition,a.description);N.iconRegistry.onDidRegister(a=>g.registerIcon(a.id,a.definition,a.description))}r(),e.iconsSchemaId="vscode://schemas/icons";let c=C.Registry.as(b.Extensions.JSONContribution);c.registerSchema(e.iconsSchemaId,g.getIconSchema());const l=new y.RunOnceScheduler(()=>c.notifySchemaChanged(e.iconsSchemaId),200);g.onDidChange(()=>{l.isScheduled()||l.schedule()}),e.widgetClose=i("widget-close",N.Codicon.close,(0,I.localize)(2,null)),e.gotoPreviousLocation=i("goto-previous-location",N.Codicon.arrowUp,(0,I.localize)(3,null)),e.gotoNextLocation=i("goto-next-location",N.Codicon.arrowDown,(0,I.localize)(4,null)),e.syncing=p.ThemeIcon.modify(N.Codicon.sync,"spin"),e.spinningLoading=p.ThemeIcon.modify(N.Codicon.loading,"spin")}),define(ee[665],te([0,1,476,7,32,81,63,51,2,62,15,28,30,90,14,52,117,64,16,22,12,27,68,38,357]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const m=3;class _{constructor(P,E,B,V){this.originalLineStart=P,this.originalLineEnd=E,this.modifiedLineStart=B,this.modifiedLineEnd=V}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class L{constructor(P){this.entries=P}}const w=(0,f.registerIcon)("diff-review-insert",u.Codicon.add,y.localize(0,null)),k=(0,f.registerIcon)("diff-review-remove",u.Codicon.remove,y.localize(1,null)),D=(0,f.registerIcon)("diff-review-close",u.Codicon.close,y.localize(2,null));let M=class bt extends p.Disposable{constructor(P,E){super();this._modeService=E,this._width=0,this._diffEditor=P,this._isVisible=!1,this.shadow=(0,T.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,T.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new I.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new C.Action("diffreview.close",y.localize(3,null),"close-diff-review "+d.ThemeIcon.asClassName(D),!0,()=>Ae(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,T.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,T.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new b.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(P.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(P.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(N.addStandardDisposableListener(this.domNode.domNode,"click",B=>{B.preventDefault();let V=N.findParentWithClass(B.target,"diff-review-row");V&&this._goToRow(V)})),this._register(N.addStandardDisposableListener(this.domNode.domNode,"keydown",B=>{(B.equals(18)||B.equals(2048|18)||B.equals(512|18))&&(B.preventDefault(),this._goToRow(this._getNextRow())),(B.equals(16)||B.equals(2048|16)||B.equals(512|16))&&(B.preventDefault(),this._goToRow(this._getPrevRow())),(B.equals(9)||B.equals(2048|9)||B.equals(512|9)||B.equals(1024|9))&&(B.preventDefault(),this.hide()),(B.equals(10)||B.equals(3))&&(B.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let P=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let B=-1;for(let V=0,j=this._diffs.length;V<j;V++)if(this._diffs[V]===this._currentDiff){B=V;break}P=this._diffs.length+B-1}else P=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;P=P%this._diffs.length;const E=this._diffs[P].entries;this._diffEditor.setPosition(new c.Position(E[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:E[0].modifiedLineStart,endColumn:1073741824,endLineNumber:E[E.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let P=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let B=-1;for(let V=0,j=this._diffs.length;V<j;V++)if(this._diffs[V]===this._currentDiff){B=V;break}P=B+1}else P=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;P=P%this._diffs.length;const E=this._diffs[P].entries;this._diffEditor.setPosition(new c.Position(E[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:E[0].modifiedLineStart,endColumn:1073741824,endLineNumber:E[E.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let P=-1,E=this._getCurrentFocusedRow();if(E){let B=parseInt(E.getAttribute("data-line"),10);isNaN(B)||(P=B)}this.hide(),P!==-1&&(this._diffEditor.setPosition(new c.Position(P,1)),this._diffEditor.revealPosition(new c.Position(P,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let P=this._getCurrentFocusedRow();return P?P.previousElementSibling?P.previousElementSibling:P:this._getFirstRow()}_getNextRow(){let P=this._getCurrentFocusedRow();return P?P.nextElementSibling?P.nextElementSibling:P:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let P=document.activeElement;return P&&/diff-review-row/.test(P.className)?P:null}_goToRow(P){let E=this._getCurrentFocusedRow();P.tabIndex=0,P.focus(),E&&E!==P&&(E.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(P,E,B){this._width=E,this.shadow.setTop(P-6),this.shadow.setWidth(E),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(P),this.domNode.setWidth(E),this.domNode.setHeight(B),this._content.setHeight(B),this._content.setWidth(E),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const P=this._diffEditor.getLineChanges();if(!P||P.length===0)return[];const E=this._diffEditor.getOriginalEditor().getModel(),B=this._diffEditor.getModifiedEditor().getModel();return!E||!B?[]:bt._mergeAdjacent(P,E.getLineCount(),B.getLineCount())}static _mergeAdjacent(P,E,B){if(!P||P.length===0)return[];let V=[],j=0;for(let Z=0,ie=P.length;Z<ie;Z++){const ne=P[Z],G=ne.originalStartLineNumber,W=ne.originalEndLineNumber,z=ne.modifiedStartLineNumber,U=ne.modifiedEndLineNumber;let x=[],X=0;{const le=W===0?G:G-1,fe=U===0?z:z-1;let $=1,H=1;if(Z>0){const ce=P[Z-1];ce.originalEndLineNumber===0?$=ce.originalStartLineNumber+1:$=ce.originalEndLineNumber+1,ce.modifiedEndLineNumber===0?H=ce.modifiedStartLineNumber+1:H=ce.modifiedEndLineNumber+1}let Q=le-m+1,re=fe-m+1;if(Q<$){const ce=$-Q;Q=Q+ce,re=re+ce}if(re<H){const ce=H-re;Q=Q+ce,re=re+ce}x[X++]=new _(Q,le,re,fe)}W!==0&&(x[X++]=new _(G,W,0,0)),U!==0&&(x[X++]=new _(0,0,z,U));{const le=W===0?G+1:W+1,fe=U===0?z+1:U+1;let $=E,H=B;if(Z+1<ie){const ce=P[Z+1];ce.originalEndLineNumber===0?$=ce.originalStartLineNumber:$=ce.originalStartLineNumber-1,ce.modifiedEndLineNumber===0?H=ce.modifiedStartLineNumber:H=ce.modifiedStartLineNumber-1}let Q=le+m-1,re=fe+m-1;if(Q>$){const ce=$-Q;Q=Q+ce,re=re+ce}if(re>H){const ce=H-re;Q=Q+ce,re=re+ce}x[X++]=new _(le,Q,fe,re)}V[j++]=new L(x)}let K=V[0].entries,Y=[],J=0;for(let Z=1,ie=V.length;Z<ie;Z++){const ne=V[Z].entries,G=K[K.length-1],W=ne[0];if(G.getType()===0&&W.getType()===0&&W.originalLineStart<=G.originalLineEnd){K[K.length-1]=new _(G.originalLineStart,W.originalLineEnd,G.modifiedLineStart,W.modifiedLineEnd),K=K.concat(ne.slice(1));continue}Y[J++]=new L(K),K=ne}return Y[J++]=new L(K),Y}_findDiffIndex(P){const E=P.lineNumber;for(let B=0,V=this._diffs.length;B<V;B++){const j=this._diffs[B].entries,K=j[j.length-1].modifiedLineEnd;if(E<=K)return B}return 0}_render(){const P=this._diffEditor.getOriginalEditor().getOptions(),E=this._diffEditor.getModifiedEditor().getOptions(),B=this._diffEditor.getOriginalEditor().getModel(),V=this._diffEditor.getModifiedEditor().getModel(),j=B.getOptions(),K=V.getOptions();if(!this._isVisible||!B||!V){N.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const Y=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[Y]===this._currentDiff)return;this._currentDiff=this._diffs[Y];const J=this._diffs[Y].entries;let Z=document.createElement("div");Z.className="diff-review-table",Z.setAttribute("role","list"),Z.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),h.Configuration.applyFontInfoSlow(Z,E.get(43));let ie=0,ne=0,G=0,W=0;for(let re=0,ce=J.length;re<ce;re++){const oe=J[re],de=oe.originalLineStart,pe=oe.originalLineEnd,_e=oe.modifiedLineStart,se=oe.modifiedLineEnd;de!==0&&(ie===0||de<ie)&&(ie=de),pe!==0&&(ne===0||pe>ne)&&(ne=pe),_e!==0&&(G===0||_e<G)&&(G=_e),se!==0&&(W===0||se>W)&&(W=se)}let z=document.createElement("div");z.className="diff-review-row";let U=document.createElement("div");U.className="diff-review-cell diff-review-summary";const x=ne-ie+1,X=W-G+1;U.appendChild(document.createTextNode(`${Y+1}/${this._diffs.length}: @@ -${ie},${x} +${G},${X} @@`)),z.setAttribute("data-line",String(G));const le=re=>re===0?y.localize(4,null):re===1?y.localize(5,null):y.localize(6,null,re),fe=le(x),$=le(X);z.setAttribute("aria-label",y.localize(7,null,Y+1,this._diffs.length,ie,fe,G,$)),z.appendChild(U),z.setAttribute("role","listitem"),Z.appendChild(z);const H=E.get(58);let Q=G;for(let re=0,ce=J.length;re<ce;re++){const oe=J[re];bt._renderSection(Z,oe,Q,H,this._width,P,B,j,E,V,K,this._modeService.languageIdCodec),oe.modifiedLineStart!==0&&(Q=oe.modifiedLineEnd)}N.clearNode(this._content.domNode),this._content.domNode.appendChild(Z),this.scrollbar.scanDomNode()}static _renderSection(P,E,B,V,j,K,Y,J,Z,ie,ne,G){const W=E.getType();let z="diff-review-row",U="";const x="diff-review-spacer";let X=null;switch(W){case 1:z="diff-review-row line-insert",U=" char-insert",X=w;break;case 2:z="diff-review-row line-delete",U=" char-delete",X=k;break}const le=E.originalLineStart,fe=E.originalLineEnd,$=E.modifiedLineStart,H=E.modifiedLineEnd,Q=Math.max(H-$,fe-le),re=K.get(130),ce=re.glyphMarginWidth+re.lineNumbersWidth,oe=Z.get(130),de=10+oe.glyphMarginWidth+oe.lineNumbersWidth;for(let pe=0;pe<=Q;pe++){const _e=le===0?0:le+pe,se=$===0?0:$+pe,ue=document.createElement("div");ue.style.minWidth=j+"px",ue.className=z,ue.setAttribute("role","listitem"),se!==0&&(B=se),ue.setAttribute("data-line",String(B));let be=document.createElement("div");be.className="diff-review-cell",be.style.height=`${V}px`,ue.appendChild(be);const ge=document.createElement("span");ge.style.width=ce+"px",ge.style.minWidth=ce+"px",ge.className="diff-review-line-number"+U,_e!==0?ge.appendChild(document.createTextNode(String(_e))):ge.innerText="\xA0",be.appendChild(ge);const Se=document.createElement("span");Se.style.width=de+"px",Se.style.minWidth=de+"px",Se.style.paddingRight="10px",Se.className="diff-review-line-number"+U,se!==0?Se.appendChild(document.createTextNode(String(se))):Se.innerText="\xA0",be.appendChild(Se);const ae=document.createElement("span");if(ae.className=x,X){const ke=document.createElement("span");ke.className=d.ThemeIcon.asClassName(X),ke.innerText="\xA0\xA0",ae.appendChild(ke)}else ae.innerText="\xA0\xA0";be.appendChild(ae);let he;if(se!==0){let ke=this._renderLine(ie,Z,ne.tabSize,se,G);bt._ttPolicy&&(ke=bt._ttPolicy.createHTML(ke)),be.insertAdjacentHTML("beforeend",ke),he=ie.getLineContent(se)}else{let ke=this._renderLine(Y,K,J.tabSize,_e,G);bt._ttPolicy&&(ke=bt._ttPolicy.createHTML(ke)),be.insertAdjacentHTML("beforeend",ke),he=Y.getLineContent(_e)}he.length===0&&(he=y.localize(8,null));let De="";switch(W){case 0:_e===se?De=y.localize(9,null,he,_e):De=y.localize(10,null,he,_e,se);break;case 1:De=y.localize(11,null,he,se);break;case 2:De=y.localize(12,null,he,_e);break}ue.setAttribute("aria-label",De),P.appendChild(ue)}}static _renderLine(P,E,B,V,j){const K=P.getLineContent(V),Y=E.get(43),J=r.LineTokens.createEmpty(K,j),Z=s.ViewLineRenderingData.isBasicASCII(K,P.mightContainNonBasicASCII()),ie=s.ViewLineRenderingData.containsRTL(K,Z,P.mightContainRTL());return(0,a.renderViewLine2)(new a.RenderLineInput(Y.isMonospace&&!E.get(29),Y.canUseHalfwidthRightwardsArrow,K,!1,Z,ie,0,J,[],B,0,Y.spaceWidth,Y.middotWidth,Y.wsmiddotWidth,E.get(104),E.get(87),E.get(82),E.get(44)!==t.EditorFontLigatures.OFF,null)).html}};M._ttPolicy=(v=window.trustedTypes)===null||v===void 0?void 0:v.createPolicy("diffReview",{createHTML:A=>A}),M=Be([Ce(1,S.IModeService)],M),e.DiffReview=M,(0,d.registerThemingParticipant)((A,P)=>{const E=A.getColor(l.editorLineNumbers);E&&P.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${E}; }`);const B=A.getColor(n.scrollbarShadow);B&&P.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${B} 0 -6px 6px -6px inset; }`)});class O extends g.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:y.localize(13,null),alias:"Go to Next Difference",precondition:o.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(P,E){const B=R(P);B&&B.diffReviewNext()}}class F extends g.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:y.localize(14,null),alias:"Go to Previous Difference",precondition:o.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(P,E){const B=R(P);B&&B.diffReviewPrev()}}function R(A){const P=A.get(i.ICodeEditorService),E=P.listDiffEditors(),B=P.getActiveCodeEditor();if(!B)return null;for(let V=0,j=E.length;V<j;V++){const K=E[V];if(K.getModifiedEditor().getId()===B.getId()||K.getOriginalEditor().getId()===B.getId())return K}return null}(0,g.registerEditorAction)(O),(0,g.registerEditorAction)(F)}),define(ee[666],te([0,1,7,44,63,27,4,2,8,20,101,38,580,190,529,16,53,22,68,129,12,373]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorHoverWidgetHighlightForeground=e.ParameterHintsWidget=void 0;const u=y.$,f=(0,o.registerIcon)("parameter-hints-next",I.Codicon.chevronDown,c.localize(0,null)),S=(0,o.registerIcon)("parameter-hints-previous",I.Codicon.chevronUp,c.localize(1,null));let v=class Di extends C.Disposable{constructor(_,L,w,k){super();this.editor=_,this.renderDisposeables=this._register(new C.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new g.MarkdownRenderer({editor:_},k,w)),this.model=this._register(new t.ParameterHintsModel(_)),this.keyVisible=r.Context.Visible.bindTo(L),this.keyMultipleSignatures=r.Context.MultipleSignatures.bindTo(L),this._register(this.model.onChangedHints(D=>{D?(this.show(),this.render(D)):this.hide()}))}createParameterHintDOMNodes(){const _=u(".editor-widget.parameter-hints-widget"),L=y.append(_,u(".phwrapper"));L.tabIndex=-1;const w=y.append(L,u(".controls")),k=y.append(w,u(".button"+d.ThemeIcon.asCSSSelector(S))),D=y.append(w,u(".overloads")),M=y.append(w,u(".button"+d.ThemeIcon.asCSSSelector(f)));this._register(y.addDisposableListener(k,"click",E=>{y.EventHelper.stop(E),this.previous()})),this._register(y.addDisposableListener(M,"click",E=>{y.EventHelper.stop(E),this.next()}));const O=u(".body"),F=new T.DomScrollableElement(O,{});this._register(F),L.appendChild(F.getDomNode());const R=y.append(O,u(".signature")),A=y.append(O,u(".docs"));_.style.userSelect="text",this.domNodes={element:_,signature:R,overloads:D,docs:A,scrollbar:F},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(E=>{this.visible&&this.editor.layoutContentWidget(this)}));const P=()=>{if(!this.domNodes)return;const E=this.editor.getOption(43);this.domNodes.element.style.fontSize=`${E.fontSize}px`,this.domNodes.element.style.lineHeight=`${E.lineHeight/E.fontSize}`};P(),this._register(b.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(E=>E.hasChanged(43)).on(P,null)),this._register(this.editor.onDidLayoutChange(E=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(_){var L;if(this.renderDisposeables.clear(),!this.domNodes)return;const w=_.signatures.length>1;this.domNodes.element.classList.toggle("multiple",w),this.keyMultipleSignatures.set(w),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const k=_.signatures[_.activeSignature];if(!k)return;const D=y.append(this.domNodes.signature,u(".code")),M=this.editor.getOption(43);D.style.fontSize=`${M.fontSize}px`,D.style.fontFamily=M.fontFamily;const O=k.parameters.length>0,F=(L=k.activeParameter)!==null&&L!==void 0?L:_.activeParameter;if(O)this.renderParameters(D,k,F);else{const P=y.append(D,u("span"));P.textContent=k.label}const R=k.parameters[F];if(R==null?void 0:R.documentation){const P=u("span.documentation");if(typeof R.documentation=="string")P.textContent=R.documentation;else{const E=this.renderMarkdownDocs(R.documentation);P.appendChild(E.element)}y.append(this.domNodes.docs,u("p",{},P))}if(k.documentation!==void 0)if(typeof k.documentation=="string")y.append(this.domNodes.docs,u("p",{},k.documentation));else{const P=this.renderMarkdownDocs(k.documentation);y.append(this.domNodes.docs,P.element)}const A=this.hasDocs(k,R);if(this.domNodes.signature.classList.toggle("has-docs",A),this.domNodes.docs.classList.toggle("empty",!A),this.domNodes.overloads.textContent=String(_.activeSignature+1).padStart(_.signatures.length.toString().length,"0")+"/"+_.signatures.length,R){let P="";const E=k.parameters[F];Array.isArray(E.label)?P=k.label.substring(E.label[0],E.label[1]):P=E.label,E.documentation&&(P+=typeof E.documentation=="string"?`, ${E.documentation}`:`, ${E.documentation.value}`),k.documentation&&(P+=typeof k.documentation=="string"?`, ${k.documentation}`:`, ${k.documentation.value}`),this.announcedLabel!==P&&(N.alert(c.localize(2,null,P)),this.announcedLabel=P)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(_){const L=this.renderDisposeables.add(this.markdownRenderer.render(_,{asyncRenderCallback:()=>{var w;(w=this.domNodes)===null||w===void 0||w.scrollbar.scanDomNode()}}));return L.element.classList.add("markdown-docs"),L}hasDocs(_,L){return!!(L&&typeof L.documentation=="string"&&(0,h.assertIsDefined)(L.documentation).length>0||L&&typeof L.documentation=="object"&&(0,h.assertIsDefined)(L.documentation).value.length>0||_.documentation&&typeof _.documentation=="string"&&(0,h.assertIsDefined)(_.documentation).length>0||_.documentation&&typeof _.documentation=="object"&&(0,h.assertIsDefined)(_.documentation.value).length>0)}renderParameters(_,L,w){const[k,D]=this.getParameterLabelOffsets(L,w),M=document.createElement("span");M.textContent=L.label.substring(0,k);const O=document.createElement("span");O.textContent=L.label.substring(k,D),O.className="parameter active";const F=document.createElement("span");F.textContent=L.label.substring(D),y.append(_,M,O,F)}getParameterLabelOffsets(_,L){const w=_.parameters[L];if(w){if(Array.isArray(w.label))return w.label;if(w.label.length){const k=new RegExp(`(\\W|^)${(0,p.escapeRegExpCharacters)(w.label)}(?=\\W|$)`,"g");k.test(_.label);const D=k.lastIndex-w.label.length;return D>=0?[D,k.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Di.ID}trigger(_){this.model.trigger(_,0)}updateMaxHeight(){if(!this.domNodes)return;const L=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=L;const w=this.domNodes.element.getElementsByClassName("phwrapper");w.length&&(w[0].style.maxHeight=L)}};v.ID="editor.widget.parameterHintsWidget",v=Be([Ce(1,l.IContextKeyService),Ce(2,a.IOpenerService),Ce(3,i.IModeService)],v),e.ParameterHintsWidget=v,e.editorHoverWidgetHighlightForeground=(0,s.registerColor)("editorHoverWidget.highlightForeground",{dark:s.listHighlightForeground,light:s.listHighlightForeground,hc:s.listHighlightForeground},c.localize(3,null)),(0,d.registerThemingParticipant)((m,_)=>{const L=m.getColor(s.editorHoverBorder);if(L){const R=m.type===n.ColorScheme.HIGH_CONTRAST?2:1;_.addRule(`.monaco-editor .parameter-hints-widget { border: ${R}px solid ${L}; }`),_.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${L.transparent(.5)}; }`),_.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${L.transparent(.5)}; }`)}const w=m.getColor(s.editorHoverBackground);w&&_.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${w}; }`);const k=m.getColor(s.textLinkForeground);k&&_.addRule(`.monaco-editor .parameter-hints-widget a { color: ${k}; }`);const D=m.getColor(s.textLinkActiveForeground);D&&_.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${D}; }`);const M=m.getColor(s.editorHoverForeground);M&&_.addRule(`.monaco-editor .parameter-hints-widget { color: ${M}; }`);const O=m.getColor(s.textCodeBlockBackground);O&&_.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${O}; }`);const F=m.getColor(e.editorHoverWidgetHighlightForeground);F&&_.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${F}}`)})}),define(ee[667],te([0,1,2,15,24,18,190,528,16,9,666]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let i=class ki extends y.Disposable{constructor(a,s){super();this.editor=a,this.widget=this._register(s.createInstance(g.ParameterHintsWidget,this.editor))}static get(a){return a.getContribution(ki.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(a){this.widget.trigger(a)}};i.ID="editor.controller.parameterHints",i=Be([Ce(1,h.IInstantiationService)],i);class t extends N.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:C.localize(0,null),alias:"Trigger Parameter Hints",precondition:T.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:T.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(a,s){const o=i.get(s);o&&o.trigger({triggerKind:I.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=t,(0,N.registerEditorContribution)(i.ID,i),(0,N.registerEditorAction)(t);const r=100+75,c=N.EditorCommand.bindToContribution(i.get);(0,N.registerEditorCommand)(new c({id:"closeParameterHints",precondition:b.Context.Visible,handler:l=>l.cancel(),kbOpts:{weight:r,kbExpr:T.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,N.registerEditorCommand)(new c({id:"showPrevParameterHint",precondition:p.ContextKeyExpr.and(b.Context.Visible,b.Context.MultipleSignatures),handler:l=>l.previous(),kbOpts:{weight:r,kbExpr:T.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),(0,N.registerEditorCommand)(new c({id:"showNextParameterHint",precondition:p.ContextKeyExpr.and(b.Context.Visible,b.Context.MultipleSignatures),handler:l=>l.next(),kbOpts:{weight:r,kbExpr:T.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(ee[668],te([0,1,34,7,185,19,27,4,69,2,25,30,18,598,43,38,542,253,68,12,269]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function f(_){return`suggest-aria-id:${_}`}e.getAriaId=f,e.suggestMoreInfoIcon=(0,o.registerIcon)("suggest-more-info",b.Codicon.chevronRight,a.localize(0,null));const S=new(u=class Ft{extract(L,w){if(L.textLabel.match(Ft._regexStrict))return w[0]=L.textLabel,!0;if(L.completion.detail&&L.completion.detail.match(Ft._regexStrict))return w[0]=L.completion.detail,!0;if(typeof L.completion.documentation=="string"){const k=Ft._regexRelaxed.exec(L.completion.documentation);if(k&&(k.index===0||k.index+k[0].length===L.completion.documentation.length))return w[0]=k[0],!0}return!1}},u._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,u._regexStrict=new RegExp(`^${u._regexRelaxed.source}$`,"i"),u);let v=class{constructor(L,w,k,D){this._editor=L,this._modelService=w,this._modeService=k,this._themeService=D,this._onDidToggleDetails=new C.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(L){const w=Object.create(null);w.disposables=new h.DisposableStore,w.root=L,w.root.classList.add("show-file-icons"),w.icon=(0,N.append)(L,(0,N.$)(".icon")),w.colorspan=(0,N.append)(w.icon,(0,N.$)("span.colorspan"));const k=(0,N.append)(L,(0,N.$)(".contents")),D=(0,N.append)(k,(0,N.$)(".main"));w.iconContainer=(0,N.append)(D,(0,N.$)(".icon-label.codicon")),w.left=(0,N.append)(D,(0,N.$)("span.left")),w.right=(0,N.append)(D,(0,N.$)("span.right")),w.iconLabel=new T.IconLabel(w.left,{supportHighlights:!0,supportIcons:!0}),w.disposables.add(w.iconLabel),w.parametersLabel=(0,N.append)(w.left,(0,N.$)("span.signature-label")),w.qualifierLabel=(0,N.append)(w.left,(0,N.$)("span.qualifier-label")),w.detailsLabel=(0,N.append)(w.right,(0,N.$)("span.details-label")),w.readMore=(0,N.append)(w.right,(0,N.$)("span.readMore"+n.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),w.readMore.title=a.localize(1,null);const M=()=>{const O=this._editor.getOptions(),F=O.get(43),R=F.getMassagedFontFamily(y.isSafari?i.EDITOR_FONT_DEFAULTS.fontFamily:null),A=F.fontFeatureSettings,P=O.get(106)||F.fontSize,E=O.get(107)||F.lineHeight,B=F.fontWeight,V=`${P}px`,j=`${E}px`;w.root.style.fontSize=V,w.root.style.fontWeight=B,D.style.fontFamily=R,D.style.fontFeatureSettings=A,D.style.lineHeight=j,w.icon.style.height=j,w.icon.style.width=j,w.readMore.style.height=j,w.readMore.style.width=j};return M(),w.disposables.add(this._editor.onDidChangeConfiguration(O=>{(O.hasChanged(43)||O.hasChanged(106)||O.hasChanged(107))&&M()})),w}renderElement(L,w,k){const{completion:D}=L;k.root.id=f(w),k.colorspan.style.backgroundColor="";const M={labelEscapeNewLines:!0,matches:(0,p.createMatches)(L.score)};let O=[];if(D.kind===19&&S.extract(L,O))k.icon.className="icon customcolor",k.iconContainer.className="icon hide",k.colorspan.style.backgroundColor=O[0];else if(D.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){k.icon.className="icon hide",k.iconContainer.className="icon hide";const F=(0,r.getIconClasses)(this._modelService,this._modeService,g.URI.from({scheme:"fake",path:L.textLabel}),s.FileKind.FILE),R=(0,r.getIconClasses)(this._modelService,this._modeService,g.URI.from({scheme:"fake",path:D.detail}),s.FileKind.FILE);M.extraClasses=F.length>R.length?F:R}else D.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(k.icon.className="icon hide",k.iconContainer.className="icon hide",M.extraClasses=(0,I.flatten)([(0,r.getIconClasses)(this._modelService,this._modeService,g.URI.from({scheme:"fake",path:L.textLabel}),s.FileKind.FOLDER),(0,r.getIconClasses)(this._modelService,this._modeService,g.URI.from({scheme:"fake",path:D.detail}),s.FileKind.FOLDER)])):(k.icon.className="icon hide",k.iconContainer.className="",k.iconContainer.classList.add("suggest-icon",...(0,t.completionKindToCssClass)(D.kind).split(" ")));D.tags&&D.tags.indexOf(1)>=0&&(M.extraClasses=(M.extraClasses||[]).concat(["deprecated"]),M.matches=[]),k.iconLabel.setLabel(L.textLabel,void 0,M),typeof D.label=="string"?(k.parametersLabel.textContent="",k.detailsLabel.textContent=m(D.detail||""),k.root.classList.add("string-label")):(k.parametersLabel.textContent=m(D.label.detail||""),k.detailsLabel.textContent=m(D.label.description||""),k.root.classList.remove("string-label")),this._editor.getOption(105).showInlineDetails?(0,N.show)(k.detailsLabel):(0,N.hide)(k.detailsLabel),(0,d.canExpandCompletionItem)(L)?(k.right.classList.add("can-expand-details"),(0,N.show)(k.readMore),k.readMore.onmousedown=F=>{F.stopPropagation(),F.preventDefault()},k.readMore.onclick=F=>{F.stopPropagation(),F.preventDefault(),this._onDidToggleDetails.fire()}):(k.right.classList.remove("can-expand-details"),(0,N.hide)(k.readMore),k.readMore.onmousedown=null,k.readMore.onclick=null)}disposeTemplate(L){L.disposables.dispose()}};v=Be([Ce(1,c.IModelService),Ce(2,l.IModeService),Ce(3,n.IThemeService)],v),e.ItemRenderer=v;function m(_){return _.replace(/\r\n|\r|\n/g,"")}}),define(ee[669],te([0,1,7,81,51,2,101,9,661,68,12,378]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const i=26;let t=class extends I.Disposable{constructor(l,a){super();this._editor=l,this.instantiationService=a,this.banner=this._register(this.instantiationService.createInstance(r))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(l){this.banner.show(Object.assign(Object.assign({},l),{onClose:()=>{this.hide(),l.onClose&&l.onClose()}})),this._editor.setBanner(this.banner.element,i)}};t=Be([Ce(1,C.IInstantiationService)],t),e.BannerController=t;let r=class extends I.Disposable{constructor(l){super();this.instantiationService=l,this.markdownRenderer=this.instantiationService.createInstance(b.MarkdownRenderer,{}),this.element=(0,y.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(l){if(l.ariaLabel)return l.ariaLabel;if(typeof l.message=="string")return l.message}getBannerMessage(l){if(typeof l=="string"){const a=(0,y.$)("span");return a.innerText=l,a}return this.markdownRenderer.render(l).element}clear(){(0,y.clearNode)(this.element)}show(l){(0,y.clearNode)(this.element);const a=this.getAriaLabel(l);a&&this.element.setAttribute("aria-label",a);const s=(0,y.append)(this.element,(0,y.$)("div.icon-container"));s.setAttribute("aria-hidden","true"),l.icon&&s.appendChild((0,y.$)(`div${g.ThemeIcon.asCSSSelector(l.icon)}`));const o=(0,y.append)(this.element,(0,y.$)("div.message-container"));if(o.setAttribute("aria-hidden","true"),o.appendChild(this.getBannerMessage(l.message)),this.messageActionsContainer=(0,y.append)(this.element,(0,y.$)("div.message-actions-container")),l.actions)for(const d of l.actions)this._register(this.instantiationService.createInstance(p.Link,this.messageActionsContainer,Object.assign(Object.assign({},d),{tabIndex:-1}),{}));const n=(0,y.append)(this.element,(0,y.$)("div.action-container"));this.actionBar=this._register(new N.ActionBar(n)),this.actionBar.push(this._register(new T.Action("banner.close","Close Banner",g.ThemeIcon.asClassName(h.widgetClose),!0,()=>{typeof l.onClose=="function"&&l.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};r=Be([Ce(0,C.IInstantiationService)],r)}),define(ee[670],te([0,1,7,4,68,12]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconsStyleSheet=void 0;function b(){const C=new N.Emitter,p=(0,T.getIconRegistry)();return p.onDidChange(()=>C.fire()),{onDidChange:C.event,getCSS(){const h={},g=t=>{let r=t.defaults;for(;I.ThemeIcon.isThemeIcon(r);){const l=p.getIcon(r.id);if(!l)return;r=l.defaults}const c=r.fontId;if(c){const l=p.getIconFont(c);if(l)return h[c]=l,`.codicon-${t.id}:before { content: '${r.fontCharacter}'; font-family: ${(0,y.asCSSPropertyValue)(c)}; }`}return`.codicon-${t.id}:before { content: '${r.fontCharacter}'; }`},i=[];for(let t of p.getIcons()){const r=g(t);r&&i.push(r)}for(let t in h){const c=h[t].definition.src.map(l=>`${(0,y.asCSSUrl)(l.location)} format('${l.format}')`).join(", ");i.push(`@font-face { src: ${c}; font-family: ${(0,y.asCSSPropertyValue)(t)}; font-display: block; }`)}return i.join(`
`)}}}e.getIconsStyleSheet=b}),define(ee[671],te([0,1,7,29,4,18,409,630,33,22,12,2,129,670]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeServiceImpl=void 0;const c="vs",l="vs-dark",a="hc-black",s=p.Registry.as(h.Extensions.ColorContribution),o=p.Registry.as(g.Extensions.ThemingContribution);class n{constructor(m,_){this.semanticHighlighting=!1,this.themeData=_;let L=_.base;m.length>0?(d(m)?this.id=m:this.id=L+" "+m,this.themeName=m):(this.id=L,this.themeName=L),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const m=new Map;for(let _ in this.themeData.colors)m.set(_,N.Color.fromHex(this.themeData.colors[_]));if(this.themeData.inherit){let _=u(this.themeData.base);for(let L in _.colors)m.has(L)||m.set(L,N.Color.fromHex(_.colors[L]))}this.colors=m}return this.colors}getColor(m,_){const L=this.getColors().get(m);if(L)return L;if(_!==!1)return this.getDefault(m)}getDefault(m){let _=this.defaultColors[m];return _||(_=s.resolveDefaultColor(m,this),this.defaultColors[m]=_,_)}defines(m){return Object.prototype.hasOwnProperty.call(this.getColors(),m)}get type(){switch(this.base){case c:return t.ColorScheme.LIGHT;case a:return t.ColorScheme.HIGH_CONTRAST;default:return t.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let m=[],_=[];if(this.themeData.inherit){let k=u(this.themeData.base);m=k.rules,k.encodedTokensColors&&(_=k.encodedTokensColors)}const L=this.themeData.colors["editor.foreground"],w=this.themeData.colors["editor.background"];if(L||w){const k={token:""};L&&(k.foreground=L),w&&(k.background=w),m.push(k)}m=m.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(_=this.themeData.encodedTokensColors),this._tokenTheme=b.TokenTheme.createFromRawTokenTheme(m,_)}return this._tokenTheme}getTokenStyleMetadata(m,_,L){const k=this.tokenTheme._match([m].concat(_).join(".")).metadata,D=I.TokenMetadata.getForeground(k),M=I.TokenMetadata.getFontStyle(k);return{foreground:D,italic:Boolean(M&1),bold:Boolean(M&2),underline:Boolean(M&4)}}}function d(v){return v===c||v===l||v===a}function u(v){switch(v){case c:return C.vs;case l:return C.vs_dark;case a:return C.hc_black}}function f(v){let m=u(v);return new n(v,m)}class S extends i.Disposable{constructor(){super();this._onColorThemeChange=this._register(new T.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(c,f(c)),this._knownThemes.set(l,f(l)),this._knownThemes.set(a,f(a));const m=(0,r.getIconsStyleSheet)();this._codiconCSS=m.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(c),m.onDidChange(()=>{this._codiconCSS=m.getCSS(),this._updateCSS()}),y.addMatchMediaChangeListener("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(m){return y.isInShadowDOM(m)?this._registerShadowDomContainer(m):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=y.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),i.Disposable.None}_registerShadowDomContainer(m){const _=y.createStyleSheet(m);return _.className="monaco-colors",_.textContent=this._allCSS,this._styleElements.push(_),{dispose:()=>{for(let L=0;L<this._styleElements.length;L++)if(this._styleElements[L]===_){this._styleElements.splice(L,1);return}}}}defineTheme(m,_){if(!/^[a-z0-9\-]+$/i.test(m))throw new Error("Illegal theme name!");if(!d(_.base)&&!d(m))throw new Error("Illegal theme base!");this._knownThemes.set(m,new n(m,_)),d(m)&&this._knownThemes.forEach(L=>{L.base===m&&L.notifyBaseUpdated()}),this._theme.themeName===m&&this.setTheme(m)}getColorTheme(){return this._theme}setColorMapOverride(m){this._colorMapOverride=m,this._updateThemeOrColorMap()}setTheme(m){let _;this._knownThemes.has(m)?_=this._knownThemes.get(m):_=this._knownThemes.get(c),this._desiredTheme=_,this._updateActualTheme()}_updateActualTheme(){const m=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(a):this._desiredTheme;this._theme!==m&&(this._theme=m,this._updateThemeOrColorMap())}setAutoDetectHighContrast(m){this._autoDetectHighContrast=m,this._updateActualTheme()}_updateThemeOrColorMap(){let m=[],_={},L={addRule:D=>{_[D]||(m.push(D),_[D]=!0)}};o.getThemingParticipants().forEach(D=>D(this._theme,L,this._environment));const w=[];for(const D of s.getColors()){const M=this._theme.getColor(D.id,!0);M&&w.push(`${(0,h.asCssVariableName)(D.id)}: ${M.toString()};`)}L.addRule(`.monaco-editor { ${w.join(`
`)} }`);const k=this._colorMapOverride||this._theme.tokenTheme.getColorMap();L.addRule((0,b.generateTokensCSSForColorMap)(k)),this._themeCSS=m.join(`
`),this._updateCSS(),I.TokenizationRegistry.setColorMap(k),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(m=>m.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}e.StandaloneThemeServiceImpl=S}),define(ee[130],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,y.createDecorator)("undoRedoService");class N{constructor(C,p){this.resource=C,this.elements=p}}e.ResourceEditStackSnapshot=N;class T{constructor(){this.id=T._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=T,T._ID=0,T.None=new T;class I{constructor(){this.id=I._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=I,I._ID=0,I.None=new I}),define(ee[31],te([0,1,13,4,2,8,25,30,14,3,21,49,252,399,400,572,89,145,573,146,39,80,122,29,130,256,19,571,622,141,38]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S,v,m,_,L,w,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.BracketPairGuidesClassNames=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactory=void 0;function M(){return new l.PieceTreeTextBufferBuilder}function O(fe){const $=M();return $.acceptChunk(fe),$.finish()}e.createTextBufferFactory=O;function F(fe,$){return(typeof fe=="string"?O(fe):fe).create($)}e.createTextBuffer=F;let R=0;const A=999;e.LONG_LINE_BOUNDARY=1e4;class P{constructor($){this._source=$,this._eos=!1}read(){if(this._eos)return null;let $=[],H=0,Q=0;do{let re=this._source.read();if(re===null)return this._eos=!0,H===0?null:$.join("");if(re.length>0&&($[H++]=re,Q+=re.length),Q>=64*1024)return $.join("")}while(!0)}}const E=()=>{throw new Error("Invalid change accessor")};let B=class ht extends T.Disposable{constructor($,H,Q,re=null,ce,oe,de){super();this._undoRedoService=ce,this._modeService=oe,this._languageConfigurationService=de,this._onWillDispose=this._register(new N.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new X(be=>this.handleBeforeFireDecorationsChangedEvent(be))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new N.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new N.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new N.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new N.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new N.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new N.Emitter),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new le),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new N.Emitter),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent(be=>{this._onDidChangeContentOrInjectedText.fire(be.rawContentChangedEvent)})),R++,this.id="$model"+R,this.isForSimpleWidget=H.isForSimpleWidget,typeof re=="undefined"||re===null?this._associatedResource=b.URI.parse("inmemory://model/"+R):this._associatedResource=re,this._attachedEditorCount=0;const{textBuffer:pe,disposable:_e}=F($,H.defaultEOL);this._buffer=pe,this._bufferDisposable=_e,this._options=ht.resolveOptions(this._buffer,H);const se=this._buffer.getLineCount(),ue=this._buffer.getValueLengthInRange(new h.Range(1,1,se,this._buffer.getLineLength(se)+1),0);H.largeFileOptimizations?this._isTooLargeForTokenization=ue>ht.LARGE_FILE_SIZE_THRESHOLD||se>ht.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=ue>ht.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=Q||u.NULL_MODE_ID,this._languageRegistryListener=this._languageConfigurationService.onDidChange(be=>{be.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=I.singleLetterHash(R),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new J,this._commandManager=new t.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new f.TokensStore(this._modeService.languageIdCodec),this._tokens2=new f.TokensStore2(this._modeService.languageIdCodec),this._tokenization=new o.TextModelTokenization(this,this._modeService.languageIdCodec),this._bracketPairColorizer=this._register(new L.BracketPairs(this,this._languageConfigurationService)),this._decorationProvider=this._register(new w.ColorizedBracketPairsDecorationProvider(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions($,H){if(H.detectIndentation){const Q=(0,r.guessIndentation)($,H.tabSize,H.insertSpaces);return new i.TextModelResolvedOptions({tabSize:Q.tabSize,indentSize:Q.tabSize,insertSpaces:Q.insertSpaces,trimAutoWhitespace:H.trimAutoWhitespace,defaultEOL:H.defaultEOL,bracketPairColorizationOptions:H.bracketPairColorizationOptions})}return new i.TextModelResolvedOptions({tabSize:H.tabSize,indentSize:H.indentSize,insertSpaces:H.insertSpaces,trimAutoWhitespace:H.trimAutoWhitespace,defaultEOL:H.defaultEOL,bracketPairColorizationOptions:H.bracketPairColorizationOptions})}onDidChangeContentFast($){return this._eventEmitter.fastEvent(H=>$(H.contentChangedEvent))}onDidChangeContent($){return this._eventEmitter.slowEvent(H=>$(H.contentChangedEvent))}get bracketPairs(){return this._bracketPairColorizer}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress($){if(this._backgroundTokenizationState===2)return;const H=$?2:1;this._backgroundTokenizationState!==H&&(this._backgroundTokenizationState=H,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const $=new m.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);$.dispose(),this._buffer=$}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent($,H){this._bracketPairColorizer.handleContentChanged(H),!this._isDisposing&&this._eventEmitter.fire(new a.InternalModelContentChangeEvent($,H))}setValue($){if(this._assertNotDisposed(),$===null)return;const{textBuffer:H,disposable:Q}=F($,this._options.defaultEOL);this._setValueFromTextBuffer(H,Q)}_createContentChanged2($,H,Q,re,ce,oe,de){return{changes:[{range:$,rangeOffset:H,rangeLength:Q,text:re}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:ce,isRedoing:oe,isFlush:de}}_setValueFromTextBuffer($,H){this._assertNotDisposed();const Q=this.getFullModelRange(),re=this.getValueLengthInRange(Q),ce=this.getLineCount(),oe=this.getLineMaxColumn(ce);this._buffer=$,this._bufferDisposable.dispose(),this._bufferDisposable=H,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new J,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new a.ModelRawContentChangedEvent([new a.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new h.Range(1,1,ce,oe),0,re,this.getValue(),!1,!1,!0))}setEOL($){this._assertNotDisposed();const H=$===1?`\r
`:`
`;if(this._buffer.getEOL()===H)return;const Q=this.getFullModelRange(),re=this.getValueLengthInRange(Q),ce=this.getLineCount(),oe=this.getLineMaxColumn(ce);this._onBeforeEOLChange(),this._buffer.setEOL(H),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new a.ModelRawContentChangedEvent([new a.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new h.Range(1,1,ce,oe),0,re,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const $=this.getVersionId(),H=this._decorationsTree.collectNodesPostOrder();for(let Q=0,re=H.length;Q<re;Q++){const ce=H[Q],oe=ce.range,de=ce.cachedAbsoluteStart-ce.start,pe=this._buffer.getOffsetAt(oe.startLineNumber,oe.startColumn),_e=this._buffer.getOffsetAt(oe.endLineNumber,oe.endColumn);ce.cachedAbsoluteStart=pe,ce.cachedAbsoluteEnd=_e,ce.cachedVersionId=$,ce.start=pe-de,ce.end=_e-de,(0,c.recomputeMaxEnd)(ce)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let $=0,H=0;const Q=this._buffer.getLineCount();for(let re=1;re<=Q;re++){const ce=this._buffer.getLineLength(re);ce>=e.LONG_LINE_BOUNDARY?H+=ce:$+=ce}return H>$}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions($){this._assertNotDisposed();let H=typeof $.tabSize!="undefined"?$.tabSize:this._options.tabSize,Q=typeof $.indentSize!="undefined"?$.indentSize:this._options.indentSize,re=typeof $.insertSpaces!="undefined"?$.insertSpaces:this._options.insertSpaces,ce=typeof $.trimAutoWhitespace!="undefined"?$.trimAutoWhitespace:this._options.trimAutoWhitespace,oe=typeof $.bracketColorizationOptions!="undefined"?$.bracketColorizationOptions:this._options.bracketPairColorizationOptions,de=new i.TextModelResolvedOptions({tabSize:H,indentSize:Q,insertSpaces:re,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:ce,bracketPairColorizationOptions:oe});if(this._options.equals(de))return;let pe=this._options.createChangeEvent(de);this._options=de,this._onDidChangeOptions.fire(pe)}detectIndentation($,H){this._assertNotDisposed();let Q=(0,r.guessIndentation)(this._buffer,H,$);this.updateOptions({insertSpaces:Q.insertSpaces,tabSize:Q.tabSize,indentSize:Q.tabSize})}static _normalizeIndentationFromWhitespace($,H,Q){let re=0;for(let oe=0;oe<$.length;oe++)$.charAt(oe)==="	"?re+=H:re++;let ce="";if(!Q){let oe=Math.floor(re/H);re=re%H;for(let de=0;de<oe;de++)ce+="	"}for(let oe=0;oe<re;oe++)ce+=" ";return ce}static normalizeIndentation($,H,Q){let re=I.firstNonWhitespaceIndex($);return re===-1&&(re=$.length),ht._normalizeIndentationFromWhitespace($.substring(0,re),H,Q)+$.substring(re)}normalizeIndentation($){return this._assertNotDisposed(),ht.normalizeIndentation($,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators($=null){const H=this.findMatches(I.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations($,H.map(Q=>({range:Q.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt($){this._assertNotDisposed();let H=this._validatePosition($.lineNumber,$.column,0);return this._buffer.getOffsetAt(H.lineNumber,H.column)}getPositionAt($){this._assertNotDisposed();let H=Math.min(this._buffer.getLength(),Math.max(0,$));return this._buffer.getPositionAt(H)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId($){this._versionId=$}_overwriteAlternativeVersionId($){this._alternativeVersionId=$}_overwriteInitialUndoRedoSnapshot($){this._initialUndoRedoSnapshot=$}getValue($,H=!1){this._assertNotDisposed();const Q=this.getFullModelRange(),re=this.getValueInRange(Q,$);return H?this._buffer.getBOM()+re:re}createSnapshot($=!1){return new P(this._buffer.createSnapshot($))}getValueLength($,H=!1){this._assertNotDisposed();const Q=this.getFullModelRange(),re=this.getValueLengthInRange(Q,$);return H?this._buffer.getBOM().length+re:re}getValueInRange($,H=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange($),H)}getValueLengthInRange($,H=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange($),H)}getCharacterCountInRange($,H=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange($),H)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent($)}getLineLength($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength($)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn($){return this._assertNotDisposed(),1}getLineMaxColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength($)+1}getLineFirstNonWhitespaceColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn($)}getLineLastNonWhitespaceColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn($)}_validateRangeRelaxedNoAllocations($){const H=this._buffer.getLineCount(),Q=$.startLineNumber,re=$.startColumn;let ce=Math.floor(typeof Q=="number"&&!isNaN(Q)?Q:1),oe=Math.floor(typeof re=="number"&&!isNaN(re)?re:1);if(ce<1)ce=1,oe=1;else if(ce>H)ce=H,oe=this.getLineMaxColumn(ce);else if(oe<=1)oe=1;else{const ue=this.getLineMaxColumn(ce);oe>=ue&&(oe=ue)}const de=$.endLineNumber,pe=$.endColumn;let _e=Math.floor(typeof de=="number"&&!isNaN(de)?de:1),se=Math.floor(typeof pe=="number"&&!isNaN(pe)?pe:1);if(_e<1)_e=1,se=1;else if(_e>H)_e=H,se=this.getLineMaxColumn(_e);else if(se<=1)se=1;else{const ue=this.getLineMaxColumn(_e);se>=ue&&(se=ue)}return Q===ce&&re===oe&&de===_e&&pe===se&&$ instanceof h.Range&&!($ instanceof g.Selection)?$:new h.Range(ce,oe,_e,se)}_isValidPosition($,H,Q){if(typeof $!="number"||typeof H!="number"||isNaN($)||isNaN(H)||$<1||H<1||($|0)!==$||(H|0)!==H)return!1;const re=this._buffer.getLineCount();if($>re)return!1;if(H===1)return!0;const ce=this.getLineMaxColumn($);if(H>ce)return!1;if(Q===1){const oe=this._buffer.getLineCharCode($,H-2);if(I.isHighSurrogate(oe))return!1}return!0}_validatePosition($,H,Q){const re=Math.floor(typeof $=="number"&&!isNaN($)?$:1),ce=Math.floor(typeof H=="number"&&!isNaN(H)?H:1),oe=this._buffer.getLineCount();if(re<1)return new p.Position(1,1);if(re>oe)return new p.Position(oe,this.getLineMaxColumn(oe));if(ce<=1)return new p.Position(re,1);const de=this.getLineMaxColumn(re);if(ce>=de)return new p.Position(re,de);if(Q===1){const pe=this._buffer.getLineCharCode(re,ce-2);if(I.isHighSurrogate(pe))return new p.Position(re,ce-1)}return new p.Position(re,ce)}validatePosition($){const H=1;return this._assertNotDisposed(),$ instanceof p.Position&&this._isValidPosition($.lineNumber,$.column,H)?$:this._validatePosition($.lineNumber,$.column,H)}_isValidRange($,H){const Q=$.startLineNumber,re=$.startColumn,ce=$.endLineNumber,oe=$.endColumn;if(!this._isValidPosition(Q,re,0)||!this._isValidPosition(ce,oe,0))return!1;if(H===1){const de=re>1?this._buffer.getLineCharCode(Q,re-2):0,pe=oe>1&&oe<=this._buffer.getLineLength(ce)?this._buffer.getLineCharCode(ce,oe-2):0,_e=I.isHighSurrogate(de),se=I.isHighSurrogate(pe);return!_e&&!se}return!0}validateRange($){const H=1;if(this._assertNotDisposed(),$ instanceof h.Range&&!($ instanceof g.Selection)&&this._isValidRange($,H))return $;const Q=this._validatePosition($.startLineNumber,$.startColumn,0),re=this._validatePosition($.endLineNumber,$.endColumn,0),ce=Q.lineNumber,oe=Q.column,de=re.lineNumber,pe=re.column;if(H===1){const _e=oe>1?this._buffer.getLineCharCode(ce,oe-2):0,se=pe>1&&pe<=this._buffer.getLineLength(de)?this._buffer.getLineCharCode(de,pe-2):0,ue=I.isHighSurrogate(_e),be=I.isHighSurrogate(se);return!ue&&!be?new h.Range(ce,oe,de,pe):ce===de&&oe===pe?new h.Range(ce,oe-1,de,pe-1):ue&&be?new h.Range(ce,oe-1,de,pe+1):ue?new h.Range(ce,oe-1,de,pe):new h.Range(ce,oe,de,pe+1)}return new h.Range(ce,oe,de,pe)}modifyPosition($,H){this._assertNotDisposed();let Q=this.getOffsetAt($)+H;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,Q)))}getFullModelRange(){this._assertNotDisposed();const $=this.getLineCount();return new h.Range(1,1,$,this.getLineMaxColumn($))}findMatchesLineByLine($,H,Q,re){return this._buffer.findMatchesLineByLine($,H,Q,re)}findMatches($,H,Q,re,ce,oe,de=A){this._assertNotDisposed();let pe=null;H!==null&&(Array.isArray(H)||(H=[H]),H.every(ue=>h.Range.isIRange(ue))&&(pe=H.map(ue=>this.validateRange(ue)))),pe===null&&(pe=[this.getFullModelRange()]),pe=pe.sort((ue,be)=>ue.startLineNumber-be.startLineNumber||ue.startColumn-be.startColumn);const _e=[];_e.push(pe.reduce((ue,be)=>h.Range.areIntersecting(ue,be)?ue.plusRange(be):(_e.push(ue),be)));let se;if(!Q&&$.indexOf(`
`)<0){const be=new s.SearchParams($,Q,re,ce).parseSearchRequest();if(!be)return[];se=ge=>this.findMatchesLineByLine(ge,be,oe,de)}else se=ue=>s.TextModelSearch.findMatches(this,new s.SearchParams($,Q,re,ce),ue,oe,de);return _e.map(se).reduce((ue,be)=>ue.concat(be),[])}findNextMatch($,H,Q,re,ce,oe){this._assertNotDisposed();const de=this.validatePosition(H);if(!Q&&$.indexOf(`
`)<0){const _e=new s.SearchParams($,Q,re,ce).parseSearchRequest();if(!_e)return null;const se=this.getLineCount();let ue=new h.Range(de.lineNumber,de.column,se,this.getLineMaxColumn(se)),be=this.findMatchesLineByLine(ue,_e,oe,1);return s.TextModelSearch.findNextMatch(this,new s.SearchParams($,Q,re,ce),de,oe),be.length>0||(ue=new h.Range(1,1,de.lineNumber,this.getLineMaxColumn(de.lineNumber)),be=this.findMatchesLineByLine(ue,_e,oe,1),be.length>0)?be[0]:null}return s.TextModelSearch.findNextMatch(this,new s.SearchParams($,Q,re,ce),de,oe)}findPreviousMatch($,H,Q,re,ce,oe){this._assertNotDisposed();const de=this.validatePosition(H);return s.TextModelSearch.findPreviousMatch(this,new s.SearchParams($,Q,re,ce),de,oe)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL($){if((this.getEOL()===`
`?0:1)!==$)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL($)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation($){return $ instanceof i.ValidAnnotatedEditOperation?$:new i.ValidAnnotatedEditOperation($.identifier||null,this.validateRange($.range),$.text,$.forceMoveMarkers||!1,$.isAutoWhitespaceEdit||!1,$._isTracked||!1)}_validateEditOperations($){const H=[];for(let Q=0,re=$.length;Q<re;Q++)H[Q]=this._validateEditOperation($[Q]);return H}pushEditOperations($,H,Q){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations($,this._validateEditOperations(H),Q)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations($,H,Q){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let re=H.map(oe=>({range:this.validateRange(oe.range),text:oe.text})),ce=!0;if($)for(let oe=0,de=$.length;oe<de;oe++){let pe=$[oe],_e=!1;for(let se=0,ue=re.length;se<ue;se++){let be=re[se].range,ge=be.startLineNumber>pe.endLineNumber,Se=pe.startLineNumber>be.endLineNumber;if(!ge&&!Se){_e=!0;break}}if(!_e){ce=!1;break}}if(ce)for(let oe=0,de=this._trimAutoWhitespaceLines.length;oe<de;oe++){let pe=this._trimAutoWhitespaceLines[oe],_e=this.getLineMaxColumn(pe),se=!0;for(let ue=0,be=re.length;ue<be;ue++){let ge=re[ue].range,Se=re[ue].text;if(!(pe<ge.startLineNumber||pe>ge.endLineNumber)&&!(pe===ge.startLineNumber&&ge.startColumn===_e&&ge.isEmpty()&&Se&&Se.length>0&&Se.charAt(0)===`
`)&&!(pe===ge.startLineNumber&&ge.startColumn===1&&ge.isEmpty()&&Se&&Se.length>0&&Se.charAt(Se.length-1)===`
`)){se=!1;break}}if(se){const ue=new h.Range(pe,1,pe,_e);H.push(new i.ValidAnnotatedEditOperation(null,ue,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation($,H,Q)}_applyUndo($,H,Q,re){const ce=$.map(oe=>{const de=this.getPositionAt(oe.newPosition),pe=this.getPositionAt(oe.newEnd);return{range:new h.Range(de.lineNumber,de.column,pe.lineNumber,pe.column),text:oe.oldText}});this._applyUndoRedoEdits(ce,H,!0,!1,Q,re)}_applyRedo($,H,Q,re){const ce=$.map(oe=>{const de=this.getPositionAt(oe.oldPosition),pe=this.getPositionAt(oe.oldEnd);return{range:new h.Range(de.lineNumber,de.column,pe.lineNumber,pe.column),text:oe.newText}});this._applyUndoRedoEdits(ce,H,!1,!0,Q,re)}_applyUndoRedoEdits($,H,Q,re,ce,oe){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=Q,this._isRedoing=re,this.applyEdits($,!1),this.setEOL(H),this._overwriteAlternativeVersionId(ce)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(oe),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits($,H=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const Q=this._validateEditOperations($);return this._doApplyEdits(Q,H)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits($,H){const Q=this._buffer.getLineCount(),re=this._buffer.applyEdits($,this._options.trimAutoWhitespace,H),ce=this._buffer.getLineCount(),oe=re.changes;if(this._trimAutoWhitespaceLines=re.trimAutoWhitespaceLineNumbers,oe.length!==0){for(let _e=0,se=oe.length;_e<se;_e++){const ue=oe[_e],[be,ge,Se]=(0,f.countEOL)(ue.text);this._tokens.acceptEdit(ue.range,be,ge),this._tokens2.acceptEdit(ue.range,be,ge,Se,ue.text.length>0?ue.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(ue.rangeOffset,ue.rangeLength,ue.text.length,ue.forceMoveMarkers)}let de=[];this._increaseVersionId();let pe=Q;for(let _e=0,se=oe.length;_e<se;_e++){const ue=oe[_e],[be]=(0,f.countEOL)(ue.text);this._onDidChangeDecorations.fire();const ge=ue.range.startLineNumber,Se=ue.range.endLineNumber,ae=Se-ge,he=be,De=Math.min(ae,he),ke=he-ae,Ve=ce-pe-ke+ge,Fe=Ve,xe=Ve+he,Ze=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new p.Position(Fe,1)),this.getOffsetAt(new p.Position(xe,this.getLineMaxColumn(xe))),0),je=a.LineInjectedText.fromDecorations(Ze),$e=new _.ArrayQueue(je);for(let Le=De;Le>=0;Le--){const Ee=ge+Le,Pe=Ve+Le;$e.takeFromEndWhile(Te=>Te.lineNumber>Pe);const ze=$e.takeFromEndWhile(Te=>Te.lineNumber===Pe);de.push(new a.ModelRawLineChanged(Ee,this.getLineContent(Pe),ze))}if(De<ae){const Le=ge+De;de.push(new a.ModelRawLinesDeleted(Le+1,Se))}if(De<he){const Le=new _.ArrayQueue(je),Ee=ge+De,Pe=he-De,ze=ce-pe-Pe+Ee+1;let Te=[],Ne=[];for(let Me=0;Me<Pe;Me++){let me=ze+Me;Ne[Me]=this.getLineContent(me),Le.takeWhile(ve=>ve.lineNumber<me),Te[Me]=Le.takeWhile(ve=>ve.lineNumber===me)}de.push(new a.ModelRawLinesInserted(Ee+1,ge+he,Ne,Te))}pe+=ke}this._emitContentChangedEvent(new a.ModelRawContentChangedEvent(de,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:oe,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return re.reverseEdits===null?void 0:re.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent($){if($===null||$.size===0)return;const Q=[...$].map(re=>new a.ModelRawLineChanged(re,this.getLineContent(re),this._getInjectedTextInLine(re)));this._onDidChangeContentOrInjectedText.fire(new a.ModelInjectedTextChangedEvent(Q))}changeDecorations($,H=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(H,$)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations($,H){let Q={addDecoration:(ce,oe)=>this._deltaDecorationsImpl($,[],[{range:ce,options:oe}])[0],changeDecoration:(ce,oe)=>{this._changeDecorationImpl(ce,oe)},changeDecorationOptions:(ce,oe)=>{this._changeDecorationOptionsImpl(ce,x(oe))},removeDecoration:ce=>{this._deltaDecorationsImpl($,[ce],[])},deltaDecorations:(ce,oe)=>ce.length===0&&oe.length===0?[]:this._deltaDecorationsImpl($,ce,oe)},re=null;try{re=H(Q)}catch(ce){(0,y.onUnexpectedError)(ce)}return Q.addDecoration=E,Q.changeDecoration=E,Q.changeDecorationOptions=E,Q.removeDecoration=E,Q.deltaDecorations=E,re}deltaDecorations($,H,Q=0){if(this._assertNotDisposed(),$||($=[]),$.length===0&&H.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(Q,$,H)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange($){return this.getDecorationRange($)}_setTrackedRange($,H,Q){const re=$?this._decorations[$]:null;if(!re)return H?this._deltaDecorationsImpl(0,[],[{range:H,options:U[Q]}])[0]:null;if(!H)return this._decorationsTree.delete(re),delete this._decorations[re.id],null;const ce=this._validateRangeRelaxedNoAllocations(H),oe=this._buffer.getOffsetAt(ce.startLineNumber,ce.startColumn),de=this._buffer.getOffsetAt(ce.endLineNumber,ce.endColumn);return this._decorationsTree.delete(re),re.reset(this.getVersionId(),oe,de,ce),re.setOptions(U[Q]),this._decorationsTree.insert(re),re.id}removeAllDecorationsWithOwnerId($){if(this._isDisposed)return;const H=this._decorationsTree.collectNodesFromOwner($);for(let Q=0,re=H.length;Q<re;Q++){const ce=H[Q];this._decorationsTree.delete(ce),delete this._decorations[ce.id]}}getDecorationOptions($){const H=this._decorations[$];return H?H.options:null}getDecorationRange($){const H=this._decorations[$];return H?this._decorationsTree.getNodeRange(this,H):null}getLineDecorations($,H=0,Q=!1){return $<1||$>this.getLineCount()?[]:this.getLinesDecorations($,$,H,Q)}getLinesDecorations($,H,Q=0,re=!1){let ce=this.getLineCount(),oe=Math.min(ce,Math.max(1,$)),de=Math.min(ce,Math.max(1,H)),pe=this.getLineMaxColumn(de);const _e=new h.Range(oe,1,de,pe),se=this._getDecorationsInRange(_e,Q,re);return se.push(...this._decorationProvider.getDecorationsInRange(_e,Q,re)),se}getDecorationsInRange($,H=0,Q=!1){let re=this.validateRange($);const ce=this._getDecorationsInRange(re,H,Q);return ce.push(...this._decorationProvider.getDecorationsInRange(re,H,Q)),ce}getOverviewRulerDecorations($=0,H=!1){return this._decorationsTree.getAll(this,$,H,!0)}getInjectedTextDecorations($=0){return this._decorationsTree.getAllInjectedText(this,$)}_getInjectedTextInLine($){const H=this._buffer.getOffsetAt($,1),Q=H+this._buffer.getLineLength($),re=this._decorationsTree.getInjectedTextInInterval(this,H,Q,0);return a.LineInjectedText.fromDecorations(re).filter(ce=>ce.lineNumber===$)}getAllDecorations($=0,H=!1){let Q=this._decorationsTree.getAll(this,$,H,!1);return Q=Q.concat(this._decorationProvider.getAllDecorations($,H)),Q}_getDecorationsInRange($,H,Q){const re=this._buffer.getOffsetAt($.startLineNumber,$.startColumn),ce=this._buffer.getOffsetAt($.endLineNumber,$.endColumn);return this._decorationsTree.getAllInInterval(this,re,ce,H,Q)}getRangeAt($,H){return this._buffer.getRangeAt($,H-$)}_changeDecorationImpl($,H){const Q=this._decorations[$];if(!Q)return;if(Q.options.after){const de=this.getDecorationRange($);this._onDidChangeDecorations.recordLineAffectedByInjectedText(de.endLineNumber)}if(Q.options.before){const de=this.getDecorationRange($);this._onDidChangeDecorations.recordLineAffectedByInjectedText(de.startLineNumber)}const re=this._validateRangeRelaxedNoAllocations(H),ce=this._buffer.getOffsetAt(re.startLineNumber,re.startColumn),oe=this._buffer.getOffsetAt(re.endLineNumber,re.endColumn);this._decorationsTree.delete(Q),Q.reset(this.getVersionId(),ce,oe,re),this._decorationsTree.insert(Q),this._onDidChangeDecorations.checkAffectedAndFire(Q.options),Q.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(re.endLineNumber),Q.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(re.startLineNumber)}_changeDecorationOptionsImpl($,H){const Q=this._decorations[$];if(!Q)return;const re=!!(Q.options.overviewRuler&&Q.options.overviewRuler.color),ce=!!(H.overviewRuler&&H.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(Q.options),this._onDidChangeDecorations.checkAffectedAndFire(H),Q.options.after||H.after){const oe=this._decorationsTree.getNodeRange(this,Q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(oe.endLineNumber)}if(Q.options.before||H.before){const oe=this._decorationsTree.getNodeRange(this,Q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(oe.startLineNumber)}re!==ce?(this._decorationsTree.delete(Q),Q.setOptions(H),this._decorationsTree.insert(Q)):Q.setOptions(H)}_deltaDecorationsImpl($,H,Q){const re=this.getVersionId(),ce=H.length;let oe=0;const de=Q.length;let pe=0,_e=new Array(de);for(;oe<ce||pe<de;){let se=null;if(oe<ce){do se=this._decorations[H[oe++]];while(!se&&oe<ce);if(se){if(se.options.after){const ue=this._decorationsTree.getNodeRange(this,se);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ue.endLineNumber)}if(se.options.before){const ue=this._decorationsTree.getNodeRange(this,se);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ue.startLineNumber)}this._decorationsTree.delete(se),this._onDidChangeDecorations.checkAffectedAndFire(se.options)}}if(pe<de){if(!se){const he=++this._lastDecorationId,De=`${this._instanceId};${he}`;se=new c.IntervalNode(De,0,0),this._decorations[De]=se}const ue=Q[pe],be=this._validateRangeRelaxedNoAllocations(ue.range),ge=x(ue.options),Se=this._buffer.getOffsetAt(be.startLineNumber,be.startColumn),ae=this._buffer.getOffsetAt(be.endLineNumber,be.endColumn);se.ownerId=$,se.reset(re,Se,ae,be),se.setOptions(ge),se.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(be.endLineNumber),se.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(be.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(ge),this._decorationsTree.insert(se),_e[pe]=se.id,pe++}else se&&delete this._decorations[se.id]}return _e}setTokens($,H=!1){if($.length!==0){let Q=[];for(let re=0,ce=$.length;re<ce;re++){const oe=$[re];let de=0,pe=0,_e=!1;for(let se=0,ue=oe.tokens.length;se<ue;se++){const be=oe.startLineNumber+se;_e?(this._tokens.setTokens(this._languageId,be-1,this._buffer.getLineLength(be),oe.tokens[se],!1),pe=be):this._tokens.setTokens(this._languageId,be-1,this._buffer.getLineLength(be),oe.tokens[se],!0)&&(_e=!0,de=be,pe=be)}_e&&Q.push({fromLineNumber:de,toLineNumber:pe})}Q.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:Q})}this.handleTokenizationProgress(H)}setSemanticTokens($,H){this._tokens2.set($,H),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:$!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens($,H){if(this.hasCompleteSemanticTokens())return;const Q=this._tokens2.setPartial($,H);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:Q.startLineNumber,toLineNumber:Q.endLineNumber}]})}tokenizeViewport($,H){$=Math.max(1,$),H=Math.min(this._buffer.getLineCount(),H),this._tokenization.tokenizeViewport($,H)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent($){this._isDisposing||this._onDidChangeTokens.fire($)}resetTokenization(){this._tokenization.reset()}forceTokenization($){if($<1||$>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization($)}isCheapToTokenize($){return this._tokenization.isCheapToTokenize($)}tokenizeIfCheap($){this.isCheapToTokenize($)&&this.forceTokenization($)}getLineTokens($){if($<1||$>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens($)}_getLineTokens($){const H=this.getLineContent($),Q=this._tokens.getTokens(this._languageId,$-1,H);return this._tokens2.addSemanticTokens($,Q)}getLanguageId(){return this._languageId}setMode($){if(this._languageId===$)return;let H={oldLanguage:this._languageId,newLanguage:$};this._languageId=$,this._onDidChangeLanguage.fire(H),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition($,H){const Q=this.validatePosition(new p.Position($,H)),re=this.getLineTokens(Q.lineNumber);return re.getLanguageId(re.findTokenIndexAtOffset(Q.column-1))}getTokenTypeIfInsertingCharacter($,H,Q){const re=this.validatePosition(new p.Position($,H));return this._tokenization.getTokenTypeIfInsertingCharacter(re,Q)}getLanguageConfiguration($){return this._languageConfigurationService.getLanguageConfiguration($)}getWordAtPosition($){this._assertNotDisposed();const H=this.validatePosition($),Q=this.getLineContent(H.lineNumber),re=this._getLineTokens(H.lineNumber),ce=re.findTokenIndexAtOffset(H.column-1),[oe,de]=ht._findLanguageBoundaries(re,ce),pe=(0,n.getWordAtText)(H.column,this.getLanguageConfiguration(re.getLanguageId(ce)).getWordDefinition(),Q.substring(oe,de),oe);if(pe&&pe.startColumn<=$.column&&$.column<=pe.endColumn)return pe;if(ce>0&&oe===H.column-1){const[_e,se]=ht._findLanguageBoundaries(re,ce-1),ue=(0,n.getWordAtText)(H.column,this.getLanguageConfiguration(re.getLanguageId(ce-1)).getWordDefinition(),Q.substring(_e,se),_e);if(ue&&ue.startColumn<=$.column&&$.column<=ue.endColumn)return ue}return null}static _findLanguageBoundaries($,H){const Q=$.getLanguageId(H);let re=0;for(let oe=H;oe>=0&&$.getLanguageId(oe)===Q;oe--)re=$.getStartOffset(oe);let ce=$.getLineContent().length;for(let oe=H,de=$.getCount();oe<de&&$.getLanguageId(oe)===Q;oe++)ce=$.getEndOffset(oe);return[re,ce]}getWordUntilPosition($){const H=this.getWordAtPosition($);return H?{word:H.word.substr(0,$.column-H.startColumn),startColumn:H.startColumn,endColumn:$.column}:{word:"",startColumn:$.column,endColumn:$.column}}static computeIndentLevel($,H){let Q=0,re=0,ce=$.length;for(;re<ce;){let oe=$.charCodeAt(re);if(oe===32)Q++;else if(oe===9)Q=Q-Q%H+H;else break;re++}return re===ce?-1:Q}_computeIndentLevel($){return ht.computeIndentLevel(this._buffer.getLineContent($+1),this._options.tabSize)}getActiveIndentGuide($,H,Q){this._assertNotDisposed();const re=this.getLineCount();if($<1||$>re)throw new Error("Illegal value for lineNumber");const ce=this.getLanguageConfiguration(this._languageId).foldingRules,oe=Boolean(ce&&ce.offSide);let de=-2,pe=-1,_e=-2,se=-1;const ue=je=>{if(de!==-1&&(de===-2||de>je-1)){de=-1,pe=-1;for(let $e=je-2;$e>=0;$e--){let Le=this._computeIndentLevel($e);if(Le>=0){de=$e,pe=Le;break}}}if(_e===-2){_e=-1,se=-1;for(let $e=je;$e<re;$e++){let Le=this._computeIndentLevel($e);if(Le>=0){_e=$e,se=Le;break}}}};let be=-2,ge=-1,Se=-2,ae=-1;const he=je=>{if(be===-2){be=-1,ge=-1;for(let $e=je-2;$e>=0;$e--){let Le=this._computeIndentLevel($e);if(Le>=0){be=$e,ge=Le;break}}}if(Se!==-1&&(Se===-2||Se<je-1)){Se=-1,ae=-1;for(let $e=je;$e<re;$e++){let Le=this._computeIndentLevel($e);if(Le>=0){Se=$e,ae=Le;break}}}};let De=0,ke=!0,Ve=0,Fe=!0,xe=0,Ze=0;for(let je=0;ke||Fe;je++){const $e=$-je,Le=$+je;je>1&&($e<1||$e<H)&&(ke=!1),je>1&&(Le>re||Le>Q)&&(Fe=!1),je>5e4&&(ke=!1,Fe=!1);let Ee=-1;if(ke){const ze=this._computeIndentLevel($e-1);ze>=0?(_e=$e-1,se=ze,Ee=Math.ceil(ze/this._options.indentSize)):(ue($e),Ee=this._getIndentLevelForWhitespaceLine(oe,pe,se))}let Pe=-1;if(Fe){const ze=this._computeIndentLevel(Le-1);ze>=0?(be=Le-1,ge=ze,Pe=Math.ceil(ze/this._options.indentSize)):(he(Le),Pe=this._getIndentLevelForWhitespaceLine(oe,ge,ae))}if(je===0){Ze=Ee;continue}if(je===1){if(Le<=re&&Pe>=0&&Ze+1===Pe){ke=!1,De=Le,Ve=Le,xe=Pe;continue}if($e>=1&&Ee>=0&&Ee-1===Ze){Fe=!1,De=$e,Ve=$e,xe=Ee;continue}if(De=$,Ve=$,xe=Ze,xe===0)return{startLineNumber:De,endLineNumber:Ve,indent:xe}}ke&&(Ee>=xe?De=$e:ke=!1),Fe&&(Pe>=xe?Ve=Le:Fe=!1)}return{startLineNumber:De,endLineNumber:Ve,indent:xe}}getLinesBracketGuides($,H,Q,re){var ce,oe,de,pe,_e;const se=[],ue=this._bracketPairColorizer.getBracketPairsInRangeWithMinIndentation(new h.Range($,1,H,this.getLineMaxColumn(H)));let be;if(Q&&ue.length>0){const De=$<=Q.lineNumber&&Q.lineNumber<=H?ue.filter(ke=>h.Range.strictContainsPosition(ke.range,Q)):this._bracketPairColorizer.getBracketPairsInRange(h.Range.fromPositions(Q));be=(ce=(0,_.findLast)(De,ke=>ke.range.startLineNumber!==ke.range.endLineNumber))===null||ce===void 0?void 0:ce.range}const ge=new _.ArrayQueue(ue),Se=new Array,ae=new Array,he=new j;for(let De=$;De<=H;De++){let ke=new Array;ae.length>0&&(ke=ke.concat(ae),ae.length=0),se.push(ke);for(const Fe of ge.takeWhile(xe=>xe.openingBracketRange.startLineNumber<=De)||[]){if(Fe.range.startLineNumber===Fe.range.endLineNumber)continue;const xe=Math.min(this.getVisibleColumnFromPosition(Fe.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition((de=(oe=Fe.closingBracketRange)===null||oe===void 0?void 0:oe.getStartPosition())!==null&&de!==void 0?de:Fe.range.getEndPosition()),Fe.minVisibleColumnIndentation+1);let Ze=!1;Fe.closingBracketRange&&I.firstNonWhitespaceIndex(this.getLineContent(Fe.closingBracketRange.startLineNumber))<Fe.closingBracketRange.startColumn-1&&(Ze=!0);const je=Fe.openingBracketRange.getStartPosition(),$e=(_e=(pe=Fe.closingBracketRange)===null||pe===void 0?void 0:pe.getStartPosition())!==null&&_e!==void 0?_e:Fe.range.getEndPosition();Fe.closingBracketRange===void 0?Se[Fe.nestingLevel]=null:Se[Fe.nestingLevel]={nestingLevel:Fe.nestingLevel,guideVisibleColumn:xe,start:je,visibleStartColumn:this.getVisibleColumnFromPosition(je),end:$e,visibleEndColumn:this.getVisibleColumnFromPosition($e),bracketPair:Fe,renderHorizontalEndLineAtTheBottom:Ze}}for(const Fe of Se){if(!Fe)continue;const xe=be&&Fe.bracketPair.range.equalsRange(be),Ze=he.getInlineClassNameOfLevel(Fe.nestingLevel)+(re.highlightActive&&xe?" "+he.activeClassName:"");(xe&&re.horizontalGuides!==i.HorizontalGuidesState.Disabled||re.includeInactive&&re.horizontalGuides===i.HorizontalGuidesState.Enabled)&&(Fe.start.lineNumber===De&&Fe.guideVisibleColumn<Fe.visibleStartColumn&&ke.push(new i.IndentGuide(Fe.guideVisibleColumn,Ze,new i.IndentGuideHorizontalLine(!1,Fe.start.column))),Fe.end.lineNumber===De+1&&Fe.guideVisibleColumn<Fe.visibleEndColumn&&ae.push(new i.IndentGuide(Fe.guideVisibleColumn,Ze,new i.IndentGuideHorizontalLine(!Fe.renderHorizontalEndLineAtTheBottom,Fe.end.column))))}let Ve=Number.MAX_SAFE_INTEGER;for(let Fe=Se.length-1;Fe>=0;Fe--){const xe=Se[Fe];if(!xe)continue;const Ze=re.highlightActive&&be&&xe.bracketPair.range.equalsRange(be),je=he.getInlineClassNameOfLevel(xe.nestingLevel)+(Ze?" "+he.activeClassName:"");(Ze||re.includeInactive)&&xe.renderHorizontalEndLineAtTheBottom&&xe.end.lineNumber===De+1&&ae.push(new i.IndentGuide(xe.guideVisibleColumn,je,null)),!(xe.end.lineNumber<=De||xe.start.lineNumber>=De)&&(xe.guideVisibleColumn>=Ve&&!Ze||(Ve=xe.guideVisibleColumn,(Ze||re.includeInactive)&&ke.push(new i.IndentGuide(xe.guideVisibleColumn,je,null))))}ke.sort((Fe,xe)=>Fe.visibleColumn-xe.visibleColumn)}return se}getVisibleColumnFromPosition($){return k.CursorColumns.visibleColumnFromColumn(this.getLineContent($.lineNumber),$.column,this._options.tabSize)+1}getLinesIndentGuides($,H){this._assertNotDisposed();const Q=this.getLineCount();if($<1||$>Q)throw new Error("Illegal value for startLineNumber");if(H<1||H>Q)throw new Error("Illegal value for endLineNumber");const re=this.getLanguageConfiguration(this._languageId).foldingRules,ce=Boolean(re&&re.offSide);let oe=new Array(H-$+1),de=-2,pe=-1,_e=-2,se=-1;for(let ue=$;ue<=H;ue++){let be=ue-$;const ge=this._computeIndentLevel(ue-1);if(ge>=0){de=ue-1,pe=ge,oe[be]=Math.ceil(ge/this._options.indentSize);continue}if(de===-2){de=-1,pe=-1;for(let Se=ue-2;Se>=0;Se--){let ae=this._computeIndentLevel(Se);if(ae>=0){de=Se,pe=ae;break}}}if(_e!==-1&&(_e===-2||_e<ue-1)){_e=-1,se=-1;for(let Se=ue;Se<Q;Se++){let ae=this._computeIndentLevel(Se);if(ae>=0){_e=Se,se=ae;break}}}oe[be]=this._getIndentLevelForWhitespaceLine(ce,pe,se)}return oe}_getIndentLevelForWhitespaceLine($,H,Q){return H===-1||Q===-1?0:H<Q?1+Math.floor(H/this._options.indentSize):H===Q?Math.ceil(Q/this._options.indentSize):$?Math.ceil(Q/this._options.indentSize):1+Math.floor(Q/this._options.indentSize)}normalizePosition($,H){return $}getLineIndentColumn($){return V(this.getLineContent($))+1}};B.MODEL_SYNC_LIMIT=50*1024*1024,B.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,B.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,B.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:C.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:C.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:C.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:C.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:C.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:C.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},B=Be([Ce(4,v.IUndoRedoService),Ce(5,D.IModeService),Ce(6,d.ILanguageConfigurationService)],B),e.TextModel=B;function V(fe){let $=0;for(const H of fe)if(H===" "||H==="	")$++;else break;return $}class j{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel($){return`bracket-indent-guide lvl-${$%30}`}}e.BracketPairGuidesClassNames=j;function K(fe){return!!(fe.options.overviewRuler&&fe.options.overviewRuler.color)}function Y(fe){return!!fe.options.after||!!fe.options.before}class J{constructor(){this._decorationsTree0=new c.IntervalTree,this._decorationsTree1=new c.IntervalTree,this._injectedTextDecorationsTree=new c.IntervalTree}ensureAllNodesHaveRanges($){this.getAll($,0,!1,!1)}_ensureNodesHaveRanges($,H){for(const Q of H)Q.range===null&&(Q.range=$.getRangeAt(Q.cachedAbsoluteStart,Q.cachedAbsoluteEnd));return H}getAllInInterval($,H,Q,re,ce){const oe=$.getVersionId(),de=this._intervalSearch(H,Q,re,ce,oe);return this._ensureNodesHaveRanges($,de)}_intervalSearch($,H,Q,re,ce){const oe=this._decorationsTree0.intervalSearch($,H,Q,re,ce),de=this._decorationsTree1.intervalSearch($,H,Q,re,ce),pe=this._injectedTextDecorationsTree.intervalSearch($,H,Q,re,ce);return oe.concat(de).concat(pe)}getInjectedTextInInterval($,H,Q,re){const ce=$.getVersionId(),oe=this._injectedTextDecorationsTree.intervalSearch(H,Q,re,!1,ce);return this._ensureNodesHaveRanges($,oe).filter(de=>de.options.showIfCollapsed||!de.range.isEmpty())}getAllInjectedText($,H){const Q=$.getVersionId(),re=this._injectedTextDecorationsTree.search(H,!1,Q);return this._ensureNodesHaveRanges($,re).filter(ce=>ce.options.showIfCollapsed||!ce.range.isEmpty())}getAll($,H,Q,re){const ce=$.getVersionId(),oe=this._search(H,Q,re,ce);return this._ensureNodesHaveRanges($,oe)}_search($,H,Q,re){if(Q)return this._decorationsTree1.search($,H,re);{const ce=this._decorationsTree0.search($,H,re),oe=this._decorationsTree1.search($,H,re),de=this._injectedTextDecorationsTree.search($,H,re);return ce.concat(oe).concat(de)}}collectNodesFromOwner($){const H=this._decorationsTree0.collectNodesFromOwner($),Q=this._decorationsTree1.collectNodesFromOwner($),re=this._injectedTextDecorationsTree.collectNodesFromOwner($);return H.concat(Q).concat(re)}collectNodesPostOrder(){const $=this._decorationsTree0.collectNodesPostOrder(),H=this._decorationsTree1.collectNodesPostOrder(),Q=this._injectedTextDecorationsTree.collectNodesPostOrder();return $.concat(H).concat(Q)}insert($){Y($)?this._injectedTextDecorationsTree.insert($):K($)?this._decorationsTree1.insert($):this._decorationsTree0.insert($)}delete($){Y($)?this._injectedTextDecorationsTree.delete($):K($)?this._decorationsTree1.delete($):this._decorationsTree0.delete($)}getNodeRange($,H){const Q=$.getVersionId();return H.cachedVersionId!==Q&&this._resolveNode(H,Q),H.range===null&&(H.range=$.getRangeAt(H.cachedAbsoluteStart,H.cachedAbsoluteEnd)),H.range}_resolveNode($,H){Y($)?this._injectedTextDecorationsTree.resolveNode($,H):K($)?this._decorationsTree1.resolveNode($,H):this._decorationsTree0.resolveNode($,H)}acceptReplace($,H,Q,re){this._decorationsTree0.acceptReplace($,H,Q,re),this._decorationsTree1.acceptReplace($,H,Q,re),this._injectedTextDecorationsTree.acceptReplace($,H,Q,re)}}function Z(fe){return fe.replace(/[^a-z0-9\-_]/gi," ")}class ie{constructor($){this.color=$.color||"",this.darkColor=$.darkColor||""}}class ne extends ie{constructor($){super($);this._resolvedColor=null,this.position=typeof $.position=="number"?$.position:i.OverviewRulerLane.Center}getColor($){return this._resolvedColor||($.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,$):this._resolvedColor=this._resolveColor(this.color,$)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor($,H){if(typeof $=="string")return $;let Q=$?H.getColor($.id):null;return Q?Q.toString():""}}e.ModelDecorationOverviewRulerOptions=ne;class G extends ie{constructor($){super($);this.position=$.position}getColor($){return this._resolvedColor||($.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,$):this._resolvedColor=this._resolveColor(this.color,$)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor($,H){return typeof $=="string"?S.Color.fromHex($):H.getColor($.id)}}e.ModelDecorationMinimapOptions=G;class W{constructor($){this.content=$.content||"",this.inlineClassName=$.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=$.inlineClassNameAffectsLetterSpacing||!1}static from($){return $ instanceof W?$:new W($)}}e.ModelDecorationInjectedTextOptions=W;class z{constructor($){var H;this.description=$.description,this.stickiness=$.stickiness||0,this.zIndex=$.zIndex||0,this.className=$.className?Z($.className):null,this.hoverMessage=$.hoverMessage||null,this.glyphMarginHoverMessage=$.glyphMarginHoverMessage||null,this.isWholeLine=$.isWholeLine||!1,this.showIfCollapsed=$.showIfCollapsed||!1,this.collapseOnReplaceEdit=$.collapseOnReplaceEdit||!1,this.overviewRuler=$.overviewRuler?new ne($.overviewRuler):null,this.minimap=$.minimap?new G($.minimap):null,this.glyphMarginClassName=$.glyphMarginClassName?Z($.glyphMarginClassName):null,this.linesDecorationsClassName=$.linesDecorationsClassName?Z($.linesDecorationsClassName):null,this.firstLineDecorationClassName=$.firstLineDecorationClassName?Z($.firstLineDecorationClassName):null,this.marginClassName=$.marginClassName?Z($.marginClassName):null,this.inlineClassName=$.inlineClassName?Z($.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=$.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=$.beforeContentClassName?Z($.beforeContentClassName):null,this.afterContentClassName=$.afterContentClassName?Z($.afterContentClassName):null,this.after=$.after?W.from($.after):null,this.before=$.before?W.from($.before):null,this.hideInCommentTokens=(H=$.hideInCommentTokens)!==null&&H!==void 0?H:!1}static register($){return new z($)}static createDynamic($){return new z($)}}e.ModelDecorationOptions=z,z.EMPTY=z.register({description:"empty"});const U=[z.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),z.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),z.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),z.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function x(fe){return fe instanceof z?fe:z.createDynamic(fe)}class X extends T.Disposable{constructor($){super();this.handleBeforeFire=$,this._actual=this._register(new N.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var $;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const H={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(H)}($=this._affectedInjectedTextLines)===null||$===void 0||$.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText($){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add($)}checkAffectedAndFire($){this._affectsMinimap||(this._affectsMinimap=!!($.minimap&&$.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!($.overviewRuler&&$.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=X;class le extends T.Disposable{constructor(){super();this._fastEmitter=this._register(new N.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new N.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit($=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=$;const H=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(H),this._slowEmitter.fire(H)}}fire($){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge($):this._deferredEvent=$;return}this._fastEmitter.fire($),this._slowEmitter.fire($)}}e.DidChangeContentEmitter=le}),define(ee[672],te([0,1,99,52,12,14,49,19,31,20,345]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class g extends y.DynamicViewOverlay{constructor(r){super();this._context=r,this._primaryPosition=null;const c=this._context.configuration.options,l=c.get(131),a=c.get(43);this._lineHeight=c.get(58),this._spaceWidth=a.spaceWidth,this._maxIndentLeft=l.wrappingColumn===-1?-1:l.wrappingColumn*a.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=c.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const c=this._context.configuration.options,l=c.get(131),a=c.get(43);return this._lineHeight=c.get(58),this._spaceWidth=a.spaceWidth,this._maxIndentLeft=l.wrappingColumn===-1?-1:l.wrappingColumn*a.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=c.get(13),!0}onCursorStateChanged(r){var c;const a=r.selections[0].getPosition();return((c=this._primaryPosition)===null||c===void 0?void 0:c.equals(a))?!1:(this._primaryPosition=a,!0)}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}onLanguageConfigurationChanged(r){return!0}prepareRender(r){var c,l,a,s;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const o=r.visibleRange.startLineNumber,n=r.visibleRange.endLineNumber,d=r.scrollWidth,u=this._lineHeight,f=this._primaryPosition,S=this.getGuidesByLine(o,n,f),v=[];for(let m=o;m<=n;m++){const _=m-o,L=S[_];let w="";const k=(l=(c=r.visibleRangeForPosition(new I.Position(m,1)))===null||c===void 0?void 0:c.left)!==null&&l!==void 0?l:0;for(const D of L){const M=k+(D.visibleColumn-1)*this._spaceWidth;if(M>d||this._maxIndentLeft>0&&M>this._maxIndentLeft)break;const O=D.horizontalLine?D.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",F=D.horizontalLine?((s=(a=r.visibleRangeForPosition(new I.Position(m,D.horizontalLine.endColumn)))===null||a===void 0?void 0:a.left)!==null&&s!==void 0?s:M+this._spaceWidth)-M:this._spaceWidth;w+=`<div class="core-guide ${D.className} ${O}" style="left:${M}px;height:${u}px;width:${F}px"></div>`}v[_]=w}this._renderResult=v}getGuidesByLine(r,c,l){const a=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.model.getBracketGuidesInRangeByLine(r,c,l,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?b.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?b.HorizontalGuidesState.EnabledForActive:b.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,s=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(r,c):null;let o=0,n=0,d=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&l){const S=this._context.model.getActiveIndentGuide(l.lineNumber,r,c);o=S.startLineNumber,n=S.endLineNumber,d=S.indent}const{indentSize:u}=this._context.model.getTextModelOptions(),f=[];for(let S=r;S<=c;S++){const v=new Array;f.push(v);const m=a?a[S-r]:[],_=new C.ArrayQueue(m),L=s?s[S-r]:[];for(let w=1;w<=L;w++){const k=(w-1)*u+1,D=m.length===0&&o<=S&&S<=n&&w===d;v.push(..._.takeWhile(O=>O.visibleColumn<k)||[]);const M=_.peek();(!M||M.visibleColumn!==k||M.horizontalLine)&&v.push(new b.IndentGuide(k,D?"core-guide-indent-active":"core-guide-indent",null))}v.push(..._.takeWhile(w=>!0)||[])}return f}render(r,c){if(!this._renderResult)return"";const l=c-r;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}e.IndentGuidesOverlay=g;function i(t){if(!(t&&t.isTransparent()))return t}(0,T.registerThemingParticipant)((t,r)=>{const c=t.getColor(N.editorIndentGuides);c&&r.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${c} inset; }`);const l=t.getColor(N.editorActiveIndentGuides)||c;l&&r.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${l} inset; }`);const a=[{bracketColor:N.editorBracketHighlightingForeground1,guideColor:N.editorBracketPairGuideBackground1,guideColorActive:N.editorBracketPairGuideActiveBackground1},{bracketColor:N.editorBracketHighlightingForeground2,guideColor:N.editorBracketPairGuideBackground2,guideColorActive:N.editorBracketPairGuideActiveBackground2},{bracketColor:N.editorBracketHighlightingForeground3,guideColor:N.editorBracketPairGuideBackground3,guideColorActive:N.editorBracketPairGuideActiveBackground3},{bracketColor:N.editorBracketHighlightingForeground4,guideColor:N.editorBracketPairGuideBackground4,guideColorActive:N.editorBracketPairGuideActiveBackground4},{bracketColor:N.editorBracketHighlightingForeground5,guideColor:N.editorBracketPairGuideBackground5,guideColorActive:N.editorBracketPairGuideActiveBackground5},{bracketColor:N.editorBracketHighlightingForeground6,guideColor:N.editorBracketPairGuideBackground6,guideColorActive:N.editorBracketPairGuideActiveBackground6}],s=new p.BracketPairGuidesClassNames;let o=a.map(n=>{var d,u;const f=t.getColor(n.bracketColor),S=t.getColor(n.guideColor),v=t.getColor(n.guideColorActive),m=i((d=i(S))!==null&&d!==void 0?d:f==null?void 0:f.transparent(.3)),_=i((u=i(v))!==null&&u!==void 0?u:f);if(!(!m||!_))return{guideColor:m,guideColorActive:_}}).filter(h.isDefined);if(o.length>0){for(let n=0;n<30;n++){const d=o[n%o.length];r.addRule(`.monaco-editor .${s.getInlineClassNameOfLevel(n).replace(/ /g,".")} { --guide-color: ${d.guideColor}; --guide-color-active: ${d.guideColorActive}; }`)}r.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),r.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),r.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),r.addRule(`.monaco-editor .vertical.${s.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),r.addRule(`.monaco-editor .horizontal-top.${s.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),r.addRule(`.monaco-editor .horizontal-bottom.${s.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}})}),define(ee[45],te([0,1,13,14,3,21,31,39,141]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.CursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorContext=e.SingleCursorState=e.CursorConfiguration=e.CursorColumns=void 0,Object.defineProperty(e,"CursorColumns",{enumerable:!0,get:function(){return p.CursorColumns}});const h=()=>!0,g=()=>!1,i=d=>d===" "||d==="	";class t{constructor(u,f,S){this._cursorMoveConfigurationBrand=void 0,this._languageId=u;const v=S.options,m=v.get(130);this.readOnly=v.get(80),this.tabSize=f.tabSize,this.indentSize=f.indentSize,this.insertSpaces=f.insertSpaces,this.stickyTabStops=v.get(103),this.lineHeight=v.get(58),this.pageSize=Math.max(1,Math.floor(m.height/this.lineHeight)-2),this.useTabStops=v.get(115),this.wordSeparators=v.get(116),this.emptySelectionClipboard=v.get(32),this.copyWithSyntaxHighlighting=v.get(21),this.multiCursorMergeOverlapping=v.get(68),this.multiCursorPaste=v.get(70),this.autoClosingBrackets=v.get(5),this.autoClosingQuotes=v.get(8),this.autoClosingDelete=v.get(6),this.autoClosingOvertype=v.get(7),this.autoSurround=v.get(11),this.autoIndent=v.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:t._getShouldAutoClose(u,this.autoClosingQuotes),bracket:t._getShouldAutoClose(u,this.autoClosingBrackets)},this.autoClosingPairs=C.LanguageConfigurationRegistry.getAutoClosingPairs(u);let _=t._getSurroundingPairs(u);if(_)for(const L of _)this.surroundingPairs[L.open]=L.close}static shouldRecreate(u){return u.hasChanged(130)||u.hasChanged(116)||u.hasChanged(32)||u.hasChanged(68)||u.hasChanged(70)||u.hasChanged(5)||u.hasChanged(8)||u.hasChanged(6)||u.hasChanged(7)||u.hasChanged(11)||u.hasChanged(115)||u.hasChanged(58)||u.hasChanged(80)}get electricChars(){if(!this._electricChars){this._electricChars={};let u=t._getElectricCharacters(this._languageId);if(u)for(const f of u)this._electricChars[f]=!0}return this._electricChars}normalizeIndentation(u){return b.TextModel.normalizeIndentation(u,this.indentSize,this.insertSpaces)}static _getElectricCharacters(u){try{return C.LanguageConfigurationRegistry.getElectricCharacters(u)}catch(f){return(0,y.onUnexpectedError)(f),null}}static _getShouldAutoClose(u,f){switch(f){case"beforeWhitespace":return i;case"languageDefined":return t._getLanguageDefinedShouldAutoClose(u);case"always":return h;case"never":return g}}static _getLanguageDefinedShouldAutoClose(u){try{const f=C.LanguageConfigurationRegistry.getAutoCloseBeforeSet(u);return S=>f.indexOf(S)!==-1}catch(f){return(0,y.onUnexpectedError)(f),g}}static _getSurroundingPairs(u){try{return C.LanguageConfigurationRegistry.getSurroundingPairs(u)}catch(f){return(0,y.onUnexpectedError)(f),null}}}e.CursorConfiguration=t;class r{constructor(u,f,S,v){this._singleCursorStateBrand=void 0,this.selectionStart=u,this.selectionStartLeftoverVisibleColumns=f,this.position=S,this.leftoverVisibleColumns=v,this.selection=r._computeSelection(this.selectionStart,this.position)}equals(u){return this.selectionStartLeftoverVisibleColumns===u.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===u.leftoverVisibleColumns&&this.position.equals(u.position)&&this.selectionStart.equalsRange(u.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(u,f,S,v){return u?new r(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new N.Position(f,S),v):new r(new T.Range(f,S,f,S),v,new N.Position(f,S),v)}static _computeSelection(u,f){return u.isEmpty()||!f.isBeforeOrEqual(u.getStartPosition())?I.Selection.fromPositions(u.getStartPosition(),f):I.Selection.fromPositions(u.getEndPosition(),f)}}e.SingleCursorState=r;class c{constructor(u,f,S,v){this._cursorContextBrand=void 0,this.model=u,this.viewModel=f,this.coordinatesConverter=S,this.cursorConfig=v}}e.CursorContext=c;class l{constructor(u){this.modelState=u,this.viewState=null}}e.PartialModelCursorState=l;class a{constructor(u){this.modelState=null,this.viewState=u}}e.PartialViewCursorState=a;class s{constructor(u,f){this._cursorStateBrand=void 0,this.modelState=u,this.viewState=f}static fromModelState(u){return new l(u)}static fromViewState(u){return new a(u)}static fromModelSelection(u){const f=I.Selection.liftSelection(u),S=new r(T.Range.fromPositions(f.getSelectionStart()),0,f.getPosition(),0);return s.fromModelState(S)}static fromModelSelections(u){let f=[];for(let S=0,v=u.length;S<v;S++)f[S]=this.fromModelSelection(u[S]);return f}equals(u){return this.viewState.equals(u.viewState)&&this.modelState.equals(u.modelState)}}e.CursorState=s;class o{constructor(u,f,S){this._editOperationResultBrand=void 0,this.type=u,this.commands=f,this.shouldPushStackElementBefore=S.shouldPushStackElementBefore,this.shouldPushStackElementAfter=S.shouldPushStackElementAfter}}e.EditOperationResult=o;function n(d){return d==="'"||d==='"'||d==="`"}e.isQuote=n}),define(ee[194],te([0,1,8,45,3,21,39]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const C=Object.create(null);function p(g,i){if(i<=0)return"";C[g]||(C[g]=["",g]);const t=C[g];for(let r=t.length;r<=i;r++)t[r]=t[r-1]+g;return t[i]}e.cachedStringRepeat=p;class h{constructor(i,t){this._opts=t,this._selection=i,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(i,t,r,c,l){const a=N.CursorColumns.visibleColumnFromColumn(i,t,r);if(l){const s=p(" ",c),n=N.CursorColumns.prevIndentTabStop(a,c)/c;return p(s,n)}else{const s="	",n=N.CursorColumns.prevRenderTabStop(a,r)/r;return p(s,n)}}static shiftIndent(i,t,r,c,l){const a=N.CursorColumns.visibleColumnFromColumn(i,t,r);if(l){const s=p(" ",c),n=N.CursorColumns.nextIndentTabStop(a,c)/c;return p(s,n)}else{const s="	",n=N.CursorColumns.nextRenderTabStop(a,r)/r;return p(s,n)}}_addEditOperation(i,t,r){this._useLastEditRangeForCursorEndPosition?i.addTrackedEditOperation(t,r):i.addEditOperation(t,r)}getEditOperations(i,t){const r=this._selection.startLineNumber;let c=this._selection.endLineNumber;this._selection.endColumn===1&&r!==c&&(c=c-1);const{tabSize:l,indentSize:a,insertSpaces:s}=this._opts,o=r===c;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(i.getLineContent(r))&&(this._useLastEditRangeForCursorEndPosition=!0);let n=0,d=0;for(let u=r;u<=c;u++,n=d){d=0;let f=i.getLineContent(u),S=y.firstNonWhitespaceIndex(f);if(this._opts.isUnshift&&(f.length===0||S===0)||!o&&!this._opts.isUnshift&&f.length===0)continue;if(S===-1&&(S=f.length),u>1&&N.CursorColumns.visibleColumnFromColumn(f,S+1,l)%a!=0&&i.isCheapToTokenize(u-1)){let _=b.LanguageConfigurationRegistry.getEnterAction(this._opts.autoIndent,i,new T.Range(u-1,i.getLineMaxColumn(u-1),u-1,i.getLineMaxColumn(u-1)));if(_){if(d=n,_.appendText)for(let L=0,w=_.appendText.length;L<w&&d<a&&_.appendText.charCodeAt(L)===32;L++)d++;_.removeText&&(d=Math.max(0,d-_.removeText));for(let L=0;L<d&&!(S===0||f.charCodeAt(S-1)!==32);L++)S--}}if(this._opts.isUnshift&&S===0)continue;let v;this._opts.isUnshift?v=h.unshiftIndent(f,S+1,l,a,s):v=h.shiftIndent(f,S+1,l,a,s),this._addEditOperation(t,new T.Range(u,1,u,S+1),v),u===r&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=S+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&i.getLineLength(r)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const n=s?p(" ",a):"	";for(let d=r;d<=c;d++){const u=i.getLineContent(d);let f=y.firstNonWhitespaceIndex(u);if(!(this._opts.isUnshift&&(u.length===0||f===0))&&!(!o&&!this._opts.isUnshift&&u.length===0)&&(f===-1&&(f=u.length),!(this._opts.isUnshift&&f===0)))if(this._opts.isUnshift){f=Math.min(f,a);for(let S=0;S<f;S++)if(u.charCodeAt(S)===9){f=S+1;break}this._addEditOperation(t,new T.Range(d,1,d,f+1),"")}else this._addEditOperation(t,new T.Range(d,1,d,1),n),d===r&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(i,t){if(this._useLastEditRangeForCursorEndPosition){let c=t.getInverseEditOperations()[0];return new I.Selection(c.range.endLineNumber,c.range.endColumn,c.range.endLineNumber,c.range.endColumn)}const r=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let c=this._selection.startColumn;return r.startColumn<=c?r:r.getDirection()===0?new I.Selection(r.startLineNumber,c,r.endLineNumber,r.endColumn):new I.Selection(r.endLineNumber,r.endColumn,r.startLineNumber,c)}return r}}e.ShiftCommand=h}),define(ee[280],te([0,1,45]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class N{static whitespaceVisibleColumn(I,b,C){const p=I.length;let h=0,g=-1,i=-1;for(let t=0;t<p;t++){if(t===b)return[g,i,h];switch(h%C==0&&(g=t,i=h),I.charCodeAt(t)){case 32:h+=1;break;case 9:h=y.CursorColumns.nextRenderTabStop(h,C);break;default:return[-1,-1,-1]}}return b===p?[g,i,h]:[-1,-1,-1]}static atomicPosition(I,b,C,p){const h=I.length,[g,i,t]=N.whitespaceVisibleColumn(I,b,C);if(t===-1)return-1;let r;switch(p){case 0:r=!0;break;case 1:r=!1;break;case 2:if(t%C==0)return b;r=t%C<=C/2;break}if(r){if(g===-1)return-1;let a=i;for(let s=g;s<h;++s){if(a===i+C)return g;switch(I.charCodeAt(s)){case 32:a+=1;break;case 9:a=y.CursorColumns.nextRenderTabStop(a,C);break;default:return-1}}return a===i+C?g:-1}const c=y.CursorColumns.nextRenderTabStop(t,C);let l=t;for(let a=b;a<h;a++){if(l===c)return a;switch(I.charCodeAt(a)){case 32:l+=1;break;case 9:l=y.CursorColumns.nextRenderTabStop(l,C);break;default:return-1}}return l===c?h:-1}}e.AtomicTabMoveOperations=N}),define(ee[195],te([0,1,127,50,270,14,3,45,7,280]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class g{constructor(m=null){this.hitTarget=m,this.type=0}}class i{constructor(m,_,L){this.position=m,this.spanNode=_,this.injectedText=L,this.type=1}}var t;(function(v){function m(_,L,w){const k=_.getPositionFromDOMInfo(L,w);return k?new i(k,L,null):new g(L)}v.createFromDOMInfo=m})(t||(t={}));class r{constructor(m,_){this.lastViewCursorsRenderData=m,this.lastTextareaPosition=_}}e.PointerHandlerLastRenderData=r;class c{constructor(m,_,L=0,w=null,k=null,D=null){this.element=m,this.type=_,this.mouseColumn=L,this.position=w,!k&&w&&(k=new b.Range(w.lineNumber,w.column,w.lineNumber,w.column)),this.range=k,this.detail=D}static _typeToString(m){return m===1?"TEXTAREA":m===2?"GUTTER_GLYPH_MARGIN":m===3?"GUTTER_LINE_NUMBERS":m===4?"GUTTER_LINE_DECORATIONS":m===5?"GUTTER_VIEW_ZONE":m===6?"CONTENT_TEXT":m===7?"CONTENT_EMPTY":m===8?"CONTENT_VIEW_ZONE":m===9?"CONTENT_WIDGET":m===10?"OVERVIEW_RULER":m===11?"SCROLLBAR":m===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(m){return this._typeToString(m.type)+": "+m.position+" - "+m.range+" - "+m.detail}toString(){return c.toString(this)}}e.MouseTarget=c;class l{static isTextArea(m){return m.length===2&&m[0]===3&&m[1]===6}static isChildOfViewLines(m){return m.length>=4&&m[0]===3&&m[3]===7}static isStrictChildOfViewLines(m){return m.length>4&&m[0]===3&&m[3]===7}static isChildOfScrollableElement(m){return m.length>=2&&m[0]===3&&m[1]===5}static isChildOfMinimap(m){return m.length>=2&&m[0]===3&&m[1]===8}static isChildOfContentWidgets(m){return m.length>=4&&m[0]===3&&m[3]===1}static isChildOfOverflowingContentWidgets(m){return m.length>=1&&m[0]===2}static isChildOfOverlayWidgets(m){return m.length>=2&&m[0]===3&&m[1]===4}}class a{constructor(m,_,L){this.model=m.model;const w=m.configuration.options;this.layoutInfo=w.get(130),this.viewDomNode=_.viewDomNode,this.lineHeight=w.get(58),this.stickyTabStops=w.get(103),this.typicalHalfwidthCharacterWidth=w.get(43).typicalHalfwidthCharacterWidth,this.lastRenderData=L,this._context=m,this._viewHelper=_}getZoneAtCoord(m){return a.getZoneAtCoord(this._context,m)}static getZoneAtCoord(m,_){const L=m.viewLayout.getWhitespaceAtVerticalOffset(_);if(L){const w=L.verticalOffset+L.height/2,k=m.model.getLineCount();let D=null,M,O=null;return L.afterLineNumber!==k&&(O=new I.Position(L.afterLineNumber+1,1)),L.afterLineNumber>0&&(D=new I.Position(L.afterLineNumber,m.model.getLineMaxColumn(L.afterLineNumber))),O===null?M=D:D===null?M=O:_<w?M=D:M=O,{viewZoneId:L.id,afterLineNumber:L.afterLineNumber,positionBefore:D,positionAfter:O,position:M}}return null}getFullLineRangeAtCoord(m){if(this._context.viewLayout.isAfterLines(m)){const w=this._context.model.getLineCount(),k=this._context.model.getLineMaxColumn(w);return{range:new b.Range(w,k,w,k),isAfterLines:!0}}const _=this._context.viewLayout.getLineNumberAtVerticalOffset(m),L=this._context.model.getLineMaxColumn(_);return{range:new b.Range(_,1,_,L),isAfterLines:!1}}getLineNumberAtVerticalOffset(m){return this._context.viewLayout.getLineNumberAtVerticalOffset(m)}isAfterLines(m){return this._context.viewLayout.isAfterLines(m)}isInTopPadding(m){return this._context.viewLayout.isInTopPadding(m)}isInBottomPadding(m){return this._context.viewLayout.isInBottomPadding(m)}getVerticalOffsetForLineNumber(m){return this._context.viewLayout.getVerticalOffsetForLineNumber(m)}findAttribute(m,_){return a._findAttribute(m,_,this._viewHelper.viewDomNode)}static _findAttribute(m,_,L){for(;m&&m!==document.body;){if(m.hasAttribute&&m.hasAttribute(_))return m.getAttribute(_);if(m===L)return null;m=m.parentNode}return null}getLineWidth(m){return this._viewHelper.getLineWidth(m)}visibleRangeForPosition(m,_){return this._viewHelper.visibleRangeForPosition(m,_)}getPositionFromDOMInfo(m,_){return this._viewHelper.getPositionFromDOMInfo(m,_)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=a;class s{constructor(m,_,L){this.editorPos=_,this.pos=L,this.mouseVerticalOffset=Math.max(0,m.getCurrentScrollTop()+L.y-_.y),this.mouseContentHorizontalOffset=m.getCurrentScrollLeft()+L.x-_.x-m.layoutInfo.contentLeft,this.isInMarginArea=L.x-_.x<m.layoutInfo.contentLeft&&L.x-_.x>=m.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,u._getMouseColumn(this.mouseContentHorizontalOffset,m.typicalHalfwidthCharacterWidth))}}class o extends s{constructor(m,_,L,w){super(m,_,L);this._ctx=m,w?(this.target=w,this.targetPath=N.PartFingerprints.collect(w,m.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(m,_=null,L=null,w=null){let k=this.mouseColumn;return _&&_.column<this._ctx.model.getLineMaxColumn(_.lineNumber)&&(k=C.CursorColumns.visibleColumnFromColumn(this._ctx.model.getLineContent(_.lineNumber),_.column,this._ctx.model.getTextModelOptions().tabSize)+1),new c(this.target,m,k,_,L,w)}withTarget(m){return new o(this._ctx,this.editorPos,this.pos,m)}}const n={isAfterLines:!0};function d(v){return{isAfterLines:!1,horizontalDistanceToText:v}}class u{constructor(m,_){this._context=m,this._viewHelper=_}mouseTargetIsWidget(m){const _=m.target,L=N.PartFingerprints.collect(_,this._viewHelper.viewDomNode);return!!(l.isChildOfContentWidgets(L)||l.isChildOfOverflowingContentWidgets(L)||l.isChildOfOverlayWidgets(L))}createMouseTarget(m,_,L,w){const k=new a(this._context,this._viewHelper,m),D=new o(k,_,L,w);try{return u._createMouseTarget(k,D,!1)}catch(M){return D.fulfill(0)}}static _createMouseTarget(m,_,L){if(_.target===null){if(L)return _.fulfill(0);const D=u._doHitTest(m,_);return D.type===1?u.createMouseTargetFromHitTestPosition(m,_,D.spanNode,D.position,D.injectedText):this._createMouseTarget(m,_.withTarget(D.hitTarget),!0)}const w=_;let k=null;return k=k||u._hitTestContentWidget(m,w),k=k||u._hitTestOverlayWidget(m,w),k=k||u._hitTestMinimap(m,w),k=k||u._hitTestScrollbarSlider(m,w),k=k||u._hitTestViewZone(m,w),k=k||u._hitTestMargin(m,w),k=k||u._hitTestViewCursor(m,w),k=k||u._hitTestTextArea(m,w),k=k||u._hitTestViewLines(m,w,L),k=k||u._hitTestScrollbar(m,w),k||_.fulfill(0)}static _hitTestContentWidget(m,_){if(l.isChildOfContentWidgets(_.targetPath)||l.isChildOfOverflowingContentWidgets(_.targetPath)){const L=m.findAttribute(_.target,"widgetId");return L?_.fulfill(9,null,null,L):_.fulfill(0)}return null}static _hitTestOverlayWidget(m,_){if(l.isChildOfOverlayWidgets(_.targetPath)){const L=m.findAttribute(_.target,"widgetId");return L?_.fulfill(12,null,null,L):_.fulfill(0)}return null}static _hitTestViewCursor(m,_){if(_.target){const L=m.lastRenderData.lastViewCursorsRenderData;for(const w of L)if(_.target===w.domNode)return _.fulfill(6,w.position,null,{mightBeForeignElement:!1})}if(_.isInContentArea){const L=m.lastRenderData.lastViewCursorsRenderData,w=_.mouseContentHorizontalOffset,k=_.mouseVerticalOffset;for(const D of L){if(w<D.contentLeft||w>D.contentLeft+D.width)continue;const M=m.getVerticalOffsetForLineNumber(D.position.lineNumber);if(M<=k&&k<=M+D.height)return _.fulfill(6,D.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(m,_){const L=m.getZoneAtCoord(_.mouseVerticalOffset);if(L){const w=_.isInContentArea?8:5;return _.fulfill(w,L.position,null,L)}return null}static _hitTestTextArea(m,_){return l.isTextArea(_.targetPath)?m.lastRenderData.lastTextareaPosition?_.fulfill(6,m.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):_.fulfill(1,m.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(m,_){if(_.isInMarginArea){const L=m.getFullLineRangeAtCoord(_.mouseVerticalOffset),w=L.range.getStartPosition();let k=Math.abs(_.pos.x-_.editorPos.x);const D={isAfterLines:L.isAfterLines,glyphMarginLeft:m.layoutInfo.glyphMarginLeft,glyphMarginWidth:m.layoutInfo.glyphMarginWidth,lineNumbersWidth:m.layoutInfo.lineNumbersWidth,offsetX:k};return k-=m.layoutInfo.glyphMarginLeft,k<=m.layoutInfo.glyphMarginWidth?_.fulfill(2,w,L.range,D):(k-=m.layoutInfo.glyphMarginWidth,k<=m.layoutInfo.lineNumbersWidth?_.fulfill(3,w,L.range,D):(k-=m.layoutInfo.lineNumbersWidth,_.fulfill(4,w,L.range,D)))}return null}static _hitTestViewLines(m,_,L){if(!l.isChildOfViewLines(_.targetPath))return null;if(m.isInTopPadding(_.mouseVerticalOffset))return _.fulfill(7,new I.Position(1,1),null,n);if(m.isAfterLines(_.mouseVerticalOffset)||m.isInBottomPadding(_.mouseVerticalOffset)){const k=m.model.getLineCount(),D=m.model.getLineMaxColumn(k);return _.fulfill(7,new I.Position(k,D),null,n)}if(L){if(l.isStrictChildOfViewLines(_.targetPath)){const k=m.getLineNumberAtVerticalOffset(_.mouseVerticalOffset);if(m.model.getLineLength(k)===0){const M=m.getLineWidth(k),O=d(_.mouseContentHorizontalOffset-M);return _.fulfill(7,new I.Position(k,1),null,O)}const D=m.getLineWidth(k);if(_.mouseContentHorizontalOffset>=D){const M=d(_.mouseContentHorizontalOffset-D),O=new I.Position(k,m.model.getLineMaxColumn(k));return _.fulfill(7,O,null,M)}}return _.fulfill(0)}const w=u._doHitTest(m,_);return w.type===1?u.createMouseTargetFromHitTestPosition(m,_,w.spanNode,w.position,w.injectedText):this._createMouseTarget(m,_.withTarget(w.hitTarget),!0)}static _hitTestMinimap(m,_){if(l.isChildOfMinimap(_.targetPath)){const L=m.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),w=m.model.getLineMaxColumn(L);return _.fulfill(11,new I.Position(L,w))}return null}static _hitTestScrollbarSlider(m,_){if(l.isChildOfScrollableElement(_.targetPath)&&_.target&&_.target.nodeType===1){const L=_.target.className;if(L&&/\b(slider|scrollbar)\b/.test(L)){const w=m.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),k=m.model.getLineMaxColumn(w);return _.fulfill(11,new I.Position(w,k))}}return null}static _hitTestScrollbar(m,_){if(l.isChildOfScrollableElement(_.targetPath)){const L=m.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),w=m.model.getLineMaxColumn(L);return _.fulfill(11,new I.Position(L,w))}return null}getMouseColumn(m,_){const L=this._context.configuration.options,w=L.get(130),k=this._context.viewLayout.getCurrentScrollLeft()+_.x-m.x-w.contentLeft;return u._getMouseColumn(k,L.get(43).typicalHalfwidthCharacterWidth)}static _getMouseColumn(m,_){return m<0?1:Math.round(m/_)+1}static createMouseTargetFromHitTestPosition(m,_,L,w,k){const D=w.lineNumber,M=w.column,O=m.getLineWidth(D);if(_.mouseContentHorizontalOffset>O){const j=d(_.mouseContentHorizontalOffset-O);return _.fulfill(7,w,null,j)}const F=m.visibleRangeForPosition(D,M);if(!F)return _.fulfill(0,w);const R=F.left;if(_.mouseContentHorizontalOffset===R)return _.fulfill(6,w,null,{mightBeForeignElement:!!k});const A=[];if(A.push({offset:F.left,column:M}),M>1){const j=m.visibleRangeForPosition(D,M-1);j&&A.push({offset:j.left,column:M-1})}const P=m.model.getLineMaxColumn(D);if(M<P){const j=m.visibleRangeForPosition(D,M+1);j&&A.push({offset:j.left,column:M+1})}A.sort((j,K)=>j.offset-K.offset);const E=_.pos.toClientCoordinates(),B=L.getBoundingClientRect(),V=B.left<=E.clientX&&E.clientX<=B.right;for(let j=1;j<A.length;j++){const K=A[j-1],Y=A[j];if(K.offset<=_.mouseContentHorizontalOffset&&_.mouseContentHorizontalOffset<=Y.offset){const J=new b.Range(D,K.column,D,Y.column);return _.fulfill(6,w,J,{mightBeForeignElement:!V||!!k})}}return _.fulfill(6,w,null,{mightBeForeignElement:!V||!!k})}static _doHitTestWithCaretRangeFromPoint(m,_){const L=m.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),k=m.getVerticalOffsetForLineNumber(L)+Math.floor(m.lineHeight/2);let D=_.pos.y+(k-_.mouseVerticalOffset);D<=_.editorPos.y&&(D=_.editorPos.y+1),D>=_.editorPos.y+m.layoutInfo.height&&(D=_.editorPos.y+m.layoutInfo.height-1);const M=new y.PageCoordinates(_.pos.x,D),O=this._actualDoHitTestWithCaretRangeFromPoint(m,M.toClientCoordinates());return O.type===1?O:this._actualDoHitTestWithCaretRangeFromPoint(m,_.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(m,_){const L=p.getShadowRoot(m.viewDomNode);let w;if(L?typeof L.caretRangeFromPoint=="undefined"?w=f(L,_.clientX,_.clientY):w=L.caretRangeFromPoint(_.clientX,_.clientY):w=document.caretRangeFromPoint(_.clientX,_.clientY),!w||!w.startContainer)return new g;const k=w.startContainer;if(k.nodeType===k.TEXT_NODE){const D=k.parentNode,M=D?D.parentNode:null,O=M?M.parentNode:null;return(O&&O.nodeType===O.ELEMENT_NODE?O.className:null)===T.ViewLine.CLASS_NAME?t.createFromDOMInfo(m,D,w.startOffset):new g(k.parentNode)}else if(k.nodeType===k.ELEMENT_NODE){const D=k.parentNode,M=D?D.parentNode:null;return(M&&M.nodeType===M.ELEMENT_NODE?M.className:null)===T.ViewLine.CLASS_NAME?t.createFromDOMInfo(m,k,k.textContent.length):new g(k)}return new g}static _doHitTestWithCaretPositionFromPoint(m,_){const L=document.caretPositionFromPoint(_.clientX,_.clientY);if(L.offsetNode.nodeType===L.offsetNode.TEXT_NODE){const w=L.offsetNode.parentNode,k=w?w.parentNode:null,D=k?k.parentNode:null;return(D&&D.nodeType===D.ELEMENT_NODE?D.className:null)===T.ViewLine.CLASS_NAME?t.createFromDOMInfo(m,L.offsetNode.parentNode,L.offset):new g(L.offsetNode.parentNode)}if(L.offsetNode.nodeType===L.offsetNode.ELEMENT_NODE){const w=L.offsetNode.parentNode,k=w&&w.nodeType===w.ELEMENT_NODE?w.className:null,D=w?w.parentNode:null,M=D&&D.nodeType===D.ELEMENT_NODE?D.className:null;if(k===T.ViewLine.CLASS_NAME){const O=L.offsetNode.childNodes[Math.min(L.offset,L.offsetNode.childNodes.length-1)];if(O)return t.createFromDOMInfo(m,O,0)}else if(M===T.ViewLine.CLASS_NAME)return t.createFromDOMInfo(m,L.offsetNode,0)}return new g(L.offsetNode)}static _snapToSoftTabBoundary(m,_){const L=_.getLineContent(m.lineNumber),{tabSize:w}=_.getTextModelOptions(),k=h.AtomicTabMoveOperations.atomicPosition(L,m.column-1,w,2);return k!==-1?new I.Position(m.lineNumber,k+1):m}static _doHitTest(m,_){let L=new g;if(typeof document.caretRangeFromPoint=="function"?L=this._doHitTestWithCaretRangeFromPoint(m,_):document.caretPositionFromPoint&&(L=this._doHitTestWithCaretPositionFromPoint(m,_.pos.toClientCoordinates())),L.type===1){const w=m.model.getInjectedTextAt(L.position),k=m.model.normalizePosition(L.position,2);(w||!k.equals(L.position))&&(L=new i(k,L.spanNode,w))}return L.type===1&&m.stickyTabStops&&(L=new i(this._snapToSoftTabBoundary(L.position,m.model),L.spanNode,L.injectedText)),L}}e.MouseTargetFactory=u;function f(v,m,_){const L=document.createRange();let w=v.elementFromPoint(m,_);if(w!==null){for(;w&&w.firstChild&&w.firstChild.nodeType!==w.firstChild.TEXT_NODE&&w.lastChild&&w.lastChild.firstChild;)w=w.lastChild;const k=w.getBoundingClientRect(),D=window.getComputedStyle(w,null).getPropertyValue("font"),M=w.innerText;let O=k.left,F=0,R;if(m>k.left+k.width)F=M.length;else{const A=S.getInstance();for(let P=0;P<M.length+1;P++){if(R=A.getCharWidth(M.charAt(P),D)/2,O+=R,m<O){F=P;break}O+=R}}L.setStart(w.firstChild,F),L.setEnd(w.firstChild,F)}return L}e.shadowCaretRangeFromPoint=f;class S{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return S._INSTANCE||(S._INSTANCE=new S),S._INSTANCE}getCharWidth(m,_){const L=m+_;if(this._cache[L])return this._cache[L];const w=this._canvas.getContext("2d");w.font=_;const D=w.measureText(m).width;return this._cache[L]=D,D}}S._INSTANCE=null}),define(ee[673],te([0,1,7,57,10,2,17,195,127,140,14,21,118]),function(q,e,y,N,T,I,b,C,p,h,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=e.createMouseMoveEventMerger=void 0;function r(s){return function(o,n){let d=!1;return s&&(d=s.mouseTargetIsWidget(n)),d||n.preventDefault(),n}}e.createMouseMoveEventMerger=r;class c extends t.ViewEventHandler{constructor(o,n,d){super();this._context=o,this.viewController=n,this.viewHelper=d,this.mouseTargetFactory=new C.MouseTargetFactory(this._context,d),this._mouseDownOperation=this._register(new l(this._context,this.viewController,this.viewHelper,(S,v)=>this._createMouseTarget(S,v),S=>this._getMouseColumn(S))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(130).height;const u=new p.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(u.onContextMenu(this.viewHelper.viewDomNode,S=>this._onContextMenu(S,!0))),this._register(u.onMouseMoveThrottled(this.viewHelper.viewDomNode,S=>this._onMouseMove(S),r(this.mouseTargetFactory),c.MOUSE_MOVE_MINIMUM_TIME)),this._register(u.onMouseUp(this.viewHelper.viewDomNode,S=>this._onMouseUp(S))),this._register(u.onMouseLeave(this.viewHelper.viewDomNode,S=>this._onMouseLeave(S))),this._register(u.onMouseDown(this.viewHelper.viewDomNode,S=>this._onMouseDown(S)));const f=S=>{if(this.viewController.emitMouseWheel(S),!this._context.configuration.options.get(67))return;const v=new N.StandardWheelEvent(S);if(b.isMacintosh?(S.metaKey||S.ctrlKey)&&!S.shiftKey&&!S.altKey:S.ctrlKey&&!S.metaKey&&!S.shiftKey&&!S.altKey){const _=h.EditorZoom.getZoomLevel(),L=v.deltaY>0?1:-1;h.EditorZoom.setZoomLevel(_+L),v.preventDefault(),v.stopPropagation()}};this._register(y.addDisposableListener(this.viewHelper.viewDomNode,y.EventType.MOUSE_WHEEL,f,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(o){if(o.hasChanged(130)){const n=this._context.configuration.options.get(130).height;this._height!==n&&(this._height=n,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(o){return this._mouseDownOperation.onCursorStateChanged(o),!1}onFocusChanged(o){return!1}onScrollChanged(o){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(o,n){const u=new p.ClientCoordinates(o,n).toPageCoordinates(),f=(0,p.createEditorPagePosition)(this.viewHelper.viewDomNode);return u.y<f.y||u.y>f.y+f.height||u.x<f.x||u.x>f.x+f.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),f,u,null)}_createMouseTarget(o,n){let d=o.target;if(!this.viewHelper.viewDomNode.contains(d)){const u=y.getShadowRoot(this.viewHelper.viewDomNode);u&&(d=u.elementsFromPoint(o.posx,o.posy).find(f=>this.viewHelper.viewDomNode.contains(f)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),o.editorPos,o.pos,n?d:null)}_getMouseColumn(o){return this.mouseTargetFactory.getMouseColumn(o.editorPos,o.pos)}_onContextMenu(o,n){this.viewController.emitContextMenu({event:o,target:this._createMouseTarget(o,n)})}_onMouseMove(o){this._mouseDownOperation.isActive()||o.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:o,target:this._createMouseTarget(o,!0)})}_onMouseLeave(o){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:o,target:null})}_onMouseUp(o){this.viewController.emitMouseUp({event:o,target:this._createMouseTarget(o,!0)})}_onMouseDown(o){const n=this._createMouseTarget(o,!0),d=n.type===6||n.type===7,u=n.type===2||n.type===3||n.type===4,f=n.type===3,S=this._context.configuration.options.get(97),v=n.type===8||n.type===5,m=n.type===9;let _=o.leftButton||o.middleButton;b.isMacintosh&&o.leftButton&&o.ctrlKey&&(_=!1);const L=()=>{o.preventDefault(),this.viewHelper.focusTextArea()};if(_&&(d||f&&S))L(),this._mouseDownOperation.start(n.type,o);else if(u)o.preventDefault();else if(v){const w=n.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(w.viewZoneId)&&(L(),this._mouseDownOperation.start(n.type,o),o.preventDefault())}else m&&this.viewHelper.shouldSuppressMouseDownOnWidget(n.detail)&&(L(),o.preventDefault());this.viewController.emitMouseDown({event:o,target:n})}}e.MouseHandler=c,c.MOUSE_MOVE_MINIMUM_TIME=100;class l extends I.Disposable{constructor(o,n,d,u,f){super();this._context=o,this._viewController=n,this._viewHelper=d,this._createMouseTarget=u,this._getMouseColumn=f,this._mouseMoveMonitor=this._register(new p.GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new T.TimeoutTimer),this._mouseState=new a,this._currentSelection=new i.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(o){this._lastMouseEvent=o,this._mouseState.setModifiers(o);const n=this._findMousePosition(o,!0);!n||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:o,target:n}):this._dispatchMouse(n,!0))}start(o,n){this._lastMouseEvent=n,this._mouseState.setStartedOnLineNumbers(o===3),this._mouseState.setStartButtons(n),this._mouseState.setModifiers(n);const d=this._findMousePosition(n,!0);if(!d||!d.position)return;this._mouseState.trySetCount(n.detail,d.position),n.detail=this._mouseState.count;const u=this._context.configuration.options;if(!u.get(80)&&u.get(31)&&!u.get(18)&&!this._mouseState.altKey&&n.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&d.type===6&&d.position&&this._currentSelection.containsPosition(d.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(n.target,n.buttons,r(null),f=>this._onMouseDownThenMove(f),f=>{const S=this._findMousePosition(this._lastMouseEvent,!0);f&&f instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:S?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(d,n.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(n.target,n.buttons,r(null),f=>this._onMouseDownThenMove(f),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const o=this._findMousePosition(this._lastMouseEvent,!1);!o||this._mouseState.isDragAndDrop||this._dispatchMouse(o,!0)},10)}onCursorStateChanged(o){this._currentSelection=o.selections[0]}_getPositionOutsideEditor(o){const n=o.editorPos,d=this._context.model,u=this._context.viewLayout,f=this._getMouseColumn(o);if(o.posy<n.y){const v=Math.max(u.getCurrentScrollTop()-(n.y-o.posy),0),m=C.HitTestContext.getZoneAtCoord(this._context,v);if(m){const L=this._helpPositionJumpOverViewZone(m);if(L)return new C.MouseTarget(null,13,f,L)}const _=u.getLineNumberAtVerticalOffset(v);return new C.MouseTarget(null,13,f,new g.Position(_,1))}if(o.posy>n.y+n.height){const v=u.getCurrentScrollTop()+(o.posy-n.y),m=C.HitTestContext.getZoneAtCoord(this._context,v);if(m){const L=this._helpPositionJumpOverViewZone(m);if(L)return new C.MouseTarget(null,13,f,L)}const _=u.getLineNumberAtVerticalOffset(v);return new C.MouseTarget(null,13,f,new g.Position(_,d.getLineMaxColumn(_)))}const S=u.getLineNumberAtVerticalOffset(u.getCurrentScrollTop()+(o.posy-n.y));return o.posx<n.x?new C.MouseTarget(null,13,f,new g.Position(S,1)):o.posx>n.x+n.width?new C.MouseTarget(null,13,f,new g.Position(S,d.getLineMaxColumn(S))):null}_findMousePosition(o,n){const d=this._getPositionOutsideEditor(o);if(d)return d;const u=this._createMouseTarget(o,n);if(!u.position)return null;if(u.type===8||u.type===5){const S=this._helpPositionJumpOverViewZone(u.detail);if(S)return new C.MouseTarget(u.element,u.type,u.mouseColumn,S,null,u.detail)}return u}_helpPositionJumpOverViewZone(o){const n=new g.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),d=o.positionBefore,u=o.positionAfter;return d&&u?d.isBefore(n)?d:u:null}_dispatchMouse(o,n){!o.position||this._viewController.dispatchMouse({position:o.position,mouseColumn:o.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:n,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class a{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(o){this._altKey=o.altKey,this._ctrlKey=o.ctrlKey,this._metaKey=o.metaKey,this._shiftKey=o.shiftKey}setStartButtons(o){this._leftButton=o.leftButton,this._middleButton=o.middleButton}setStartedOnLineNumbers(o){this._startedOnLineNumbers=o}trySetCount(o,n){const d=new Date().getTime();d-this._lastSetMouseDownCountTime>a.CLEAR_MOUSE_DOWN_COUNT_TIME&&(o=1),this._lastSetMouseDownCountTime=d,o>this._lastMouseDownCount+1&&(o=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(n)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=n,this._lastMouseDownCount=Math.min(o,this._lastMouseDownPositionEqualCount)}}a.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(ee[674],te([0,1,7,17,58,2,673,127,164,175]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class g extends b.MouseHandler{constructor(c,l,a){super(c,l,a);this._register(T.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Tap,o=>this.onTap(o))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Change,o=>this.onChange(o))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Contextmenu,o=>this._onContextMenu(new C.EditorMouseEvent(o,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",o=>{const n=o.pointerType;if(n==="mouse"){this._lastPointerType="mouse";return}else n==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const s=new C.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(s.onPointerMoveThrottled(this.viewHelper.viewDomNode,o=>this._onMouseMove(o),(0,b.createMouseMoveEventMerger)(this.mouseTargetFactory),b.MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(s.onPointerUp(this.viewHelper.viewDomNode,o=>this._onMouseUp(o))),this._register(s.onPointerLeave(this.viewHelper.viewDomNode,o=>this._onMouseLeave(o))),this._register(s.onPointerDown(this.viewHelper.viewDomNode,o=>this._onMouseDown(o)))}onTap(c){if(!c.initialTarget||!this.viewHelper.linesContentDomNode.contains(c.initialTarget))return;c.preventDefault(),this.viewHelper.focusTextArea();const l=this._createMouseTarget(new C.EditorMouseEvent(c,this.viewHelper.viewDomNode),!1);l.position&&this.viewController.dispatchMouse({position:l.position,mouseColumn:l.position.column,startedOnLineNumbers:!1,mouseDownCount:c.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(c){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-c.translationX,-c.translationY)}_onMouseDown(c){c.browserEvent.pointerType!=="touch"&&super._onMouseDown(c)}}e.PointerEventHandler=g;class i extends b.MouseHandler{constructor(c,l,a){super(c,l,a);this._register(T.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Tap,s=>this.onTap(s))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Change,s=>this.onChange(s))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Contextmenu,s=>this._onContextMenu(new C.EditorMouseEvent(s,this.viewHelper.viewDomNode),!1)))}onTap(c){c.preventDefault(),this.viewHelper.focusTextArea();const l=this._createMouseTarget(new C.EditorMouseEvent(c,this.viewHelper.viewDomNode),!1);if(l.position){const a=document.createEvent("CustomEvent");a.initEvent(h.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(a),this.viewController.moveTo(l.position)}}onChange(c){this._context.model.deltaScrollNow(-c.translationX,-c.translationY)}}class t extends I.Disposable{constructor(c,l,a){super();N.isIOS&&p.BrowserFeatures.pointerEvents?this.handler=this._register(new g(c,l,a)):window.TouchEvent?this.handler=this._register(new i(c,l,a)):this.handler=this._register(new b.MouseHandler(c,l,a))}getTargetAtClientPoint(c,l){return this.handler.getTargetAtClientPoint(c,l)}}e.PointerHandler=t}),define(ee[281],te([0,1,195]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class N{constructor(b){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=b}emitKeyDown(b){this.onKeyDown&&this.onKeyDown(b)}emitKeyUp(b){this.onKeyUp&&this.onKeyUp(b)}emitContextMenu(b){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(b))}emitMouseMove(b){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(b))}emitMouseLeave(b){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(b))}emitMouseDown(b){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(b))}emitMouseUp(b){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(b))}emitMouseDrag(b){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(b))}emitMouseDrop(b){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(b))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(b){this.onMouseWheel&&this.onMouseWheel(b)}_convertViewToModelMouseEvent(b){return b.target?{event:b.event,target:this._convertViewToModelMouseTarget(b.target)}:b}_convertViewToModelMouseTarget(b){return N.convertViewToModelMouseTarget(b,this._coordinatesConverter)}static convertViewToModelMouseTarget(b,C){return new T(b.element,b.type,b.mouseColumn,b.position?C.convertViewPositionToModelPosition(b.position):null,b.range?C.convertViewRangeToModelRange(b.range):null,b.detail)}}e.ViewUserInputEvents=N;class T{constructor(b,C,p,h,g,i){this.element=b,this.type=C,this.mouseColumn=p,this.position=h,this.range=g,this.detail=i}toString(){return y.MouseTarget.toString(this)}}}),define(ee[675],te([0,1,45,14,3]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class I{static columnSelect(C,p,h,g,i,t){let r=Math.abs(i-h)+1,c=h>i,l=g>t,a=g<t,s=[];for(let o=0;o<r;o++){let n=h+(c?-o:o),d=y.CursorColumns.columnFromVisibleColumn2(C,p,n,g),u=y.CursorColumns.columnFromVisibleColumn2(C,p,n,t),f=y.CursorColumns.visibleColumnFromColumn2(C,p,new N.Position(n,d)),S=y.CursorColumns.visibleColumnFromColumn2(C,p,new N.Position(n,u));a&&(f>t||S<g)||l&&(S>g||f<t)||s.push(new y.SingleCursorState(new T.Range(n,d,n,d),0,new N.Position(n,u),0))}if(s.length===0)for(let o=0;o<r;o++){const n=h+(c?-o:o),d=p.getLineMaxColumn(n);s.push(new y.SingleCursorState(new T.Range(n,d,n,d),0,new N.Position(n,d),0))}return{viewStates:s,reversed:c,fromLineNumber:h,fromVisualColumn:g,toLineNumber:i,toVisualColumn:t}}static columnSelectLeft(C,p,h){let g=h.toViewVisualColumn;return g>0&&g--,I.columnSelect(C,p,h.fromViewLineNumber,h.fromViewVisualColumn,h.toViewLineNumber,g)}static columnSelectRight(C,p,h){let g=0;const i=Math.min(h.fromViewLineNumber,h.toViewLineNumber),t=Math.max(h.fromViewLineNumber,h.toViewLineNumber);for(let c=i;c<=t;c++){const l=p.getLineMaxColumn(c),a=y.CursorColumns.visibleColumnFromColumn2(C,p,new N.Position(c,l));g=Math.max(g,a)}let r=h.toViewVisualColumn;return r<g&&r++,this.columnSelect(C,p,h.fromViewLineNumber,h.fromViewVisualColumn,h.toViewLineNumber,r)}static columnSelectUp(C,p,h,g){const i=g?C.pageSize:1,t=Math.max(1,h.toViewLineNumber-i);return this.columnSelect(C,p,h.fromViewLineNumber,h.fromViewVisualColumn,t,h.toViewVisualColumn)}static columnSelectDown(C,p,h,g){const i=g?C.pageSize:1,t=Math.min(p.getLineCount(),h.toViewLineNumber+i);return this.columnSelect(C,p,h.fromViewLineNumber,h.fromViewVisualColumn,t,h.toViewVisualColumn)}}e.ColumnSelection=I}),define(ee[196],te([0,1,45,14,3,8,280]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class C{constructor(g,i,t){this._cursorPositionBrand=void 0,this.lineNumber=g,this.column=i,this.leftoverVisibleColumns=t}}e.CursorPosition=C;class p{static leftPosition(g,i){if(i.column>g.getLineMinColumn(i.lineNumber))return i.delta(void 0,-I.prevCharLength(g.getLineContent(i.lineNumber),i.column-1));if(i.lineNumber>1){const t=i.lineNumber-1;return new N.Position(t,g.getLineMaxColumn(t))}else return i}static leftPositionAtomicSoftTabs(g,i,t){if(i.column<=g.getLineIndentColumn(i.lineNumber)){const r=g.getLineMinColumn(i.lineNumber),c=g.getLineContent(i.lineNumber),l=b.AtomicTabMoveOperations.atomicPosition(c,i.column-1,t,0);if(l!==-1&&l+1>=r)return new N.Position(i.lineNumber,l+1)}return this.leftPosition(g,i)}static left(g,i,t){const r=g.stickyTabStops?p.leftPositionAtomicSoftTabs(i,t,g.tabSize):p.leftPosition(i,t);return new C(r.lineNumber,r.column,0)}static moveLeft(g,i,t,r,c){let l,a;if(t.hasSelection()&&!r)l=t.selection.startLineNumber,a=t.selection.startColumn;else{const s=t.position.delta(void 0,-(c-1)),o=i.normalizePosition(p.clipPositionColumn(s,i),0),n=p.left(g,i,o);l=n.lineNumber,a=n.column}return t.move(r,l,a,0)}static clipPositionColumn(g,i){return new N.Position(g.lineNumber,p.clipRange(g.column,i.getLineMinColumn(g.lineNumber),i.getLineMaxColumn(g.lineNumber)))}static clipRange(g,i,t){return g<i?i:g>t?t:g}static rightPosition(g,i,t){return t<g.getLineMaxColumn(i)?t=t+I.nextCharLength(g.getLineContent(i),t-1):i<g.getLineCount()&&(i=i+1,t=g.getLineMinColumn(i)),new N.Position(i,t)}static rightPositionAtomicSoftTabs(g,i,t,r,c){if(t<g.getLineIndentColumn(i)){const l=g.getLineContent(i),a=b.AtomicTabMoveOperations.atomicPosition(l,t-1,r,1);if(a!==-1)return new N.Position(i,a+1)}return this.rightPosition(g,i,t)}static right(g,i,t){const r=g.stickyTabStops?p.rightPositionAtomicSoftTabs(i,t.lineNumber,t.column,g.tabSize,g.indentSize):p.rightPosition(i,t.lineNumber,t.column);return new C(r.lineNumber,r.column,0)}static moveRight(g,i,t,r,c){let l,a;if(t.hasSelection()&&!r)l=t.selection.endLineNumber,a=t.selection.endColumn;else{const s=t.position.delta(void 0,c-1),o=i.normalizePosition(p.clipPositionColumn(s,i),1),n=p.right(g,i,o);l=n.lineNumber,a=n.column}return t.move(r,l,a,0)}static vertical(g,i,t,r,c,l,a){const s=y.CursorColumns.visibleColumnFromColumn(i.getLineContent(t),r,g.tabSize)+c,o=i.getLineCount(),n=t===1&&r===1,d=t===o&&r===i.getLineMaxColumn(t),u=l<t?n:d;return t=l,t<1?(t=1,a?r=i.getLineMinColumn(t):r=Math.min(i.getLineMaxColumn(t),r)):t>o?(t=o,a?r=i.getLineMaxColumn(t):r=Math.min(i.getLineMaxColumn(t),r)):r=y.CursorColumns.columnFromVisibleColumn2(g,i,t,s),u?c=0:c=s-y.CursorColumns.visibleColumnFromColumn(i.getLineContent(t),r,g.tabSize),new C(t,r,c)}static down(g,i,t,r,c,l,a){return this.vertical(g,i,t,r,c,t+l,a)}static moveDown(g,i,t,r,c){let l,a;t.hasSelection()&&!r?(l=t.selection.endLineNumber,a=t.selection.endColumn):(l=t.position.lineNumber,a=t.position.column);let s=p.down(g,i,l,a,t.leftoverVisibleColumns,c,!0);return t.move(r,s.lineNumber,s.column,s.leftoverVisibleColumns)}static translateDown(g,i,t){let r=t.selection,c=p.down(g,i,r.selectionStartLineNumber,r.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),l=p.down(g,i,r.positionLineNumber,r.positionColumn,t.leftoverVisibleColumns,1,!1);return new y.SingleCursorState(new T.Range(c.lineNumber,c.column,c.lineNumber,c.column),c.leftoverVisibleColumns,new N.Position(l.lineNumber,l.column),l.leftoverVisibleColumns)}static up(g,i,t,r,c,l,a){return this.vertical(g,i,t,r,c,t-l,a)}static moveUp(g,i,t,r,c){let l,a;t.hasSelection()&&!r?(l=t.selection.startLineNumber,a=t.selection.startColumn):(l=t.position.lineNumber,a=t.position.column);let s=p.up(g,i,l,a,t.leftoverVisibleColumns,c,!0);return t.move(r,s.lineNumber,s.column,s.leftoverVisibleColumns)}static translateUp(g,i,t){let r=t.selection,c=p.up(g,i,r.selectionStartLineNumber,r.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),l=p.up(g,i,r.positionLineNumber,r.positionColumn,t.leftoverVisibleColumns,1,!1);return new y.SingleCursorState(new T.Range(c.lineNumber,c.column,c.lineNumber,c.column),c.leftoverVisibleColumns,new N.Position(l.lineNumber,l.column),l.leftoverVisibleColumns)}static _isBlankLine(g,i){return g.getLineFirstNonWhitespaceColumn(i)===0}static moveToPrevBlankLine(g,i,t,r){let c=t.position.lineNumber;for(;c>1&&this._isBlankLine(i,c);)c--;for(;c>1&&!this._isBlankLine(i,c);)c--;return t.move(r,c,i.getLineMinColumn(c),0)}static moveToNextBlankLine(g,i,t,r){const c=i.getLineCount();let l=t.position.lineNumber;for(;l<c&&this._isBlankLine(i,l);)l++;for(;l<c&&!this._isBlankLine(i,l);)l++;return t.move(r,l,i.getLineMinColumn(l),0)}static moveToBeginningOfLine(g,i,t,r){let c=t.position.lineNumber,l=i.getLineMinColumn(c),a=i.getLineFirstNonWhitespaceColumn(c)||l,s;return t.position.column===a?s=l:s=a,t.move(r,c,s,0)}static moveToEndOfLine(g,i,t,r,c){let l=t.position.lineNumber,a=i.getLineMaxColumn(l);return t.move(r,l,a,c?1073741824-a:0)}static moveToBeginningOfBuffer(g,i,t,r){return t.move(r,1,1,0)}static moveToEndOfBuffer(g,i,t,r){let c=i.getLineCount(),l=i.getLineMaxColumn(c);return t.move(r,c,l,0)}}e.MoveOperations=p}),define(ee[197],te([0,1,8,98,45,196,3,14]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class p{static deleteRight(g,i,t,r){let c=[],l=g!==3;for(let a=0,s=r.length;a<s;a++){const o=r[a];let n=o;if(n.isEmpty()){let d=o.getPosition(),u=I.MoveOperations.right(i,t,d);n=new b.Range(u.lineNumber,u.column,d.lineNumber,d.column)}if(n.isEmpty()){c[a]=null;continue}n.startLineNumber!==n.endLineNumber&&(l=!0),c[a]=new N.ReplaceCommand(n,"")}return[l,c]}static isAutoClosingPairDelete(g,i,t,r,c,l,a){if(i==="never"&&t==="never"||g==="never")return!1;for(let s=0,o=l.length;s<o;s++){const n=l[s],d=n.getPosition();if(!n.isEmpty())return!1;const u=c.getLineContent(d.lineNumber);if(d.column<2||d.column>=u.length+1)return!1;const f=u.charAt(d.column-2),S=r.get(f);if(!S)return!1;if((0,T.isQuote)(f)){if(t==="never")return!1}else if(i==="never")return!1;const v=u.charAt(d.column-1);let m=!1;for(const _ of S)_.open===f&&_.close===v&&(m=!0);if(!m)return!1;if(g==="auto"){let _=!1;for(let L=0,w=a.length;L<w;L++){const k=a[L];if(d.lineNumber===k.startLineNumber&&d.column===k.startColumn){_=!0;break}}if(!_)return!1}}return!0}static _runAutoClosingPairDelete(g,i,t){let r=[];for(let c=0,l=t.length;c<l;c++){const a=t[c].getPosition(),s=new b.Range(a.lineNumber,a.column-1,a.lineNumber,a.column+1);r[c]=new N.ReplaceCommand(s,"")}return[!0,r]}static deleteLeft(g,i,t,r,c){if(this.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,t,r,c))return this._runAutoClosingPairDelete(i,t,r);const l=[];let a=g!==2;for(let s=0,o=r.length;s<o;s++){let n=p.getDeleteRange(r[s],t,i);if(n.isEmpty()){l[s]=null;continue}n.startLineNumber!==n.endLineNumber&&(a=!0),l[s]=new N.ReplaceCommand(n,"")}return[a,l]}static getDeleteRange(g,i,t){if(!g.isEmpty())return g;const r=g.getPosition();if(t.useTabStops&&r.column>1){const c=i.getLineContent(r.lineNumber),l=y.firstNonWhitespaceIndex(c),a=l===-1?c.length+1:l+1;if(r.column<=a){const s=T.CursorColumns.visibleColumnFromColumn2(t,i,r),o=T.CursorColumns.prevIndentTabStop(s,t.indentSize),n=T.CursorColumns.columnFromVisibleColumn2(t,i,r.lineNumber,o);return new b.Range(r.lineNumber,n,r.lineNumber,r.column)}}return b.Range.fromPositions(p.getPositionAfterDeleteLeft(r,i),r)}static getPositionAfterDeleteLeft(g,i){if(g.column>1){const t=y.getLeftDeleteOffset(g.column-1,i.getLineContent(g.lineNumber));return g.with(void 0,t+1)}else if(g.lineNumber>1){const t=g.lineNumber-1;return new C.Position(t,i.getLineMaxColumn(t))}else return g}static cut(g,i,t){let r=[],c=null;t.sort((l,a)=>C.Position.compare(l.getStartPosition(),a.getEndPosition()));for(let l=0,a=t.length;l<a;l++){const s=t[l];if(s.isEmpty())if(g.emptySelectionClipboard){let o=s.getPosition(),n,d,u,f;o.lineNumber<i.getLineCount()?(n=o.lineNumber,d=1,u=o.lineNumber+1,f=1):o.lineNumber>1&&(c==null?void 0:c.endLineNumber)!==o.lineNumber?(n=o.lineNumber-1,d=i.getLineMaxColumn(o.lineNumber-1),u=o.lineNumber,f=i.getLineMaxColumn(o.lineNumber)):(n=o.lineNumber,d=1,u=o.lineNumber,f=i.getLineMaxColumn(o.lineNumber));let S=new b.Range(n,d,u,f);c=S,S.isEmpty()?r[l]=null:r[l]=new N.ReplaceCommand(S,"")}else r[l]=null;else r[l]=new N.ReplaceCommand(s,"")}return new T.EditOperationResult(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=p}),define(ee[198],te([0,1,13,8,98,194,393,45,112,3,21,14,115,39,147]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class l{static indent(f,S,v){if(S===null||v===null)return[];let m=[];for(let _=0,L=v.length;_<L;_++)m[_]=new I.ShiftCommand(v[_],{isUnshift:!1,tabSize:f.tabSize,indentSize:f.indentSize,insertSpaces:f.insertSpaces,useTabStops:f.useTabStops,autoIndent:f.autoIndent});return m}static outdent(f,S,v){let m=[];for(let _=0,L=v.length;_<L;_++)m[_]=new I.ShiftCommand(v[_],{isUnshift:!0,tabSize:f.tabSize,indentSize:f.indentSize,insertSpaces:f.insertSpaces,useTabStops:f.useTabStops,autoIndent:f.autoIndent});return m}static shiftIndent(f,S,v){return v=v||1,I.ShiftCommand.shiftIndent(S,S.length+v,f.tabSize,f.indentSize,f.insertSpaces)}static unshiftIndent(f,S,v){return v=v||1,I.ShiftCommand.unshiftIndent(S,S.length+v,f.tabSize,f.indentSize,f.insertSpaces)}static _distributedPaste(f,S,v,m){let _=[];for(let L=0,w=v.length;L<w;L++)_[L]=new T.ReplaceCommand(v[L],m[L]);return new C.EditOperationResult(0,_,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(f,S,v,m,_){let L=[];for(let w=0,k=v.length;w<k;w++){const D=v[w];let M=D.getPosition();if(_&&!D.isEmpty()&&(_=!1),_&&m.indexOf(`
`)!==m.length-1&&(_=!1),_){let O=new h.Range(M.lineNumber,1,M.lineNumber,1);L[w]=new T.ReplaceCommandThatPreservesSelection(O,m,D,!0)}else L[w]=new T.ReplaceCommand(D,m)}return new C.EditOperationResult(0,L,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(f,S,v,m,_){if(m||S.length===1)return null;if(_&&_.length===S.length)return _;if(f.multiCursorPaste==="spread"){v.charCodeAt(v.length-1)===10&&(v=v.substr(0,v.length-1)),v.charCodeAt(v.length-1)===13&&(v=v.substr(0,v.length-1));let L=N.splitLines(v);if(L.length===S.length)return L}return null}static paste(f,S,v,m,_,L){const w=this._distributePasteToCursors(f,v,m,_,L);return w?(v=v.sort(h.Range.compareRangesUsingStarts),this._distributedPaste(f,S,v,w)):this._simplePaste(f,S,v,m,_)}static _goodIndentForLine(f,S,v){let m=null,_="";const L=r.LanguageConfigurationRegistry.getInheritIndentForLine(f.autoIndent,S,v,!1);if(L)m=L.action,_=L.indentation;else if(v>1){let w;for(w=v-1;w>=1;w--){const M=S.getLineContent(w);if(N.lastNonWhitespaceIndex(M)>=0)break}if(w<1)return null;const k=S.getLineMaxColumn(w),D=r.LanguageConfigurationRegistry.getEnterAction(f.autoIndent,S,new h.Range(w,k,w,k));D&&(_=D.indentation+D.appendText)}return m&&(m===t.IndentAction.Indent&&(_=l.shiftIndent(f,_)),m===t.IndentAction.Outdent&&(_=l.unshiftIndent(f,_)),_=f.normalizeIndentation(_)),_||null}static _replaceJumpToNextIndent(f,S,v,m){let _="",L=v.getStartPosition();if(f.insertSpaces){let w=C.CursorColumns.visibleColumnFromColumn2(f,S,L),k=f.indentSize,D=k-w%k;for(let M=0;M<D;M++)_+=" "}else _="	";return new T.ReplaceCommand(v,_,m)}static tab(f,S,v){let m=[];for(let _=0,L=v.length;_<L;_++){const w=v[_];if(w.isEmpty()){let k=S.getLineContent(w.startLineNumber);if(/^\s*$/.test(k)&&S.isCheapToTokenize(w.startLineNumber)){let D=this._goodIndentForLine(f,S,w.startLineNumber);D=D||"	";let M=f.normalizeIndentation(D);if(!k.startsWith(M)){m[_]=new T.ReplaceCommand(new h.Range(w.startLineNumber,1,w.startLineNumber,k.length+1),M,!0);continue}}m[_]=this._replaceJumpToNextIndent(f,S,w,!0)}else{if(w.startLineNumber===w.endLineNumber){let k=S.getLineMaxColumn(w.startLineNumber);if(w.startColumn!==1||w.endColumn!==k){m[_]=this._replaceJumpToNextIndent(f,S,w,!1);continue}}m[_]=new I.ShiftCommand(w,{isUnshift:!1,tabSize:f.tabSize,indentSize:f.indentSize,insertSpaces:f.insertSpaces,useTabStops:f.useTabStops,autoIndent:f.autoIndent})}}return m}static compositionType(f,S,v,m,_,L,w,k){const D=m.map(M=>this._compositionType(v,M,_,L,w,k));return new C.EditOperationResult(4,D,{shouldPushStackElementBefore:o(f,4),shouldPushStackElementAfter:!1})}static _compositionType(f,S,v,m,_,L){if(!S.isEmpty())return null;const w=S.getPosition(),k=Math.max(1,w.column-m),D=Math.min(f.getLineMaxColumn(w.lineNumber),w.column+_),M=new h.Range(w.lineNumber,k,w.lineNumber,D);return f.getValueInRange(M)===v&&L===0?null:new T.ReplaceCommandWithOffsetCursorState(M,v,0,L)}static _typeCommand(f,S,v){return v?new T.ReplaceCommandWithoutChangingPosition(f,S,!0):new T.ReplaceCommand(f,S,!0)}static _enter(f,S,v,m){if(f.autoIndent===0)return l._typeCommand(m,`
`,v);if(!S.isCheapToTokenize(m.getStartPosition().lineNumber)||f.autoIndent===1){let k=S.getLineContent(m.startLineNumber),D=N.getLeadingWhitespace(k).substring(0,m.startColumn-1);return l._typeCommand(m,`
`+f.normalizeIndentation(D),v)}const _=r.LanguageConfigurationRegistry.getEnterAction(f.autoIndent,S,m);if(_){if(_.indentAction===t.IndentAction.None)return l._typeCommand(m,`
`+f.normalizeIndentation(_.indentation+_.appendText),v);if(_.indentAction===t.IndentAction.Indent)return l._typeCommand(m,`
`+f.normalizeIndentation(_.indentation+_.appendText),v);if(_.indentAction===t.IndentAction.IndentOutdent){const k=f.normalizeIndentation(_.indentation),D=f.normalizeIndentation(_.indentation+_.appendText),M=`
`+D+`
`+k;return v?new T.ReplaceCommandWithoutChangingPosition(m,M,!0):new T.ReplaceCommandWithOffsetCursorState(m,M,-1,D.length-k.length,!0)}else if(_.indentAction===t.IndentAction.Outdent){const k=l.unshiftIndent(f,_.indentation);return l._typeCommand(m,`
`+f.normalizeIndentation(k+_.appendText),v)}}const L=S.getLineContent(m.startLineNumber),w=N.getLeadingWhitespace(L).substring(0,m.startColumn-1);if(f.autoIndent>=4){const k=r.LanguageConfigurationRegistry.getIndentForEnter(f.autoIndent,S,m,{unshiftIndent:D=>l.unshiftIndent(f,D),shiftIndent:D=>l.shiftIndent(f,D),normalizeIndentation:D=>f.normalizeIndentation(D)});if(k){let D=C.CursorColumns.visibleColumnFromColumn2(f,S,m.getEndPosition());const M=m.endColumn,O=S.getLineContent(m.endLineNumber),F=N.firstNonWhitespaceIndex(O);if(F>=0?m=m.setEndPosition(m.endLineNumber,Math.max(m.endColumn,F+1)):m=m.setEndPosition(m.endLineNumber,S.getLineMaxColumn(m.endLineNumber)),v)return new T.ReplaceCommandWithoutChangingPosition(m,`
`+f.normalizeIndentation(k.afterEnter),!0);{let R=0;return M<=F+1&&(f.insertSpaces||(D=Math.ceil(D/f.indentSize)),R=Math.min(D+1-f.normalizeIndentation(k.afterEnter).length-1,0)),new T.ReplaceCommandWithOffsetCursorState(m,`
`+f.normalizeIndentation(k.afterEnter),0,R,!0)}}}return l._typeCommand(m,`
`+f.normalizeIndentation(w),v)}static _isAutoIndentType(f,S,v){if(f.autoIndent<4)return!1;for(let m=0,_=v.length;m<_;m++)if(!S.isCheapToTokenize(v[m].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(f,S,v,m){const _=r.LanguageConfigurationRegistry.getIndentationAtPosition(S,v.startLineNumber,v.startColumn),L=r.LanguageConfigurationRegistry.getIndentActionForType(f.autoIndent,S,v,m,{shiftIndent:w=>l.shiftIndent(f,w),unshiftIndent:w=>l.unshiftIndent(f,w)});if(L===null)return null;if(L!==f.normalizeIndentation(_)){const w=S.getLineFirstNonWhitespaceColumn(v.startLineNumber);return w===0?l._typeCommand(new h.Range(v.startLineNumber,1,v.endLineNumber,v.endColumn),f.normalizeIndentation(L)+m,!1):l._typeCommand(new h.Range(v.startLineNumber,1,v.endLineNumber,v.endColumn),f.normalizeIndentation(L)+S.getLineContent(v.startLineNumber).substring(w-1,v.startColumn-1)+m,!1)}return null}static _isAutoClosingOvertype(f,S,v,m,_){if(f.autoClosingOvertype==="never"||!f.autoClosingPairs.autoClosingPairsCloseSingleChar.has(_))return!1;for(let L=0,w=v.length;L<w;L++){const k=v[L];if(!k.isEmpty())return!1;const D=k.getPosition(),M=S.getLineContent(D.lineNumber);if(M.charAt(D.column-1)!==_)return!1;const F=(0,C.isQuote)(_);if((D.column>2?M.charCodeAt(D.column-2):0)===92&&F)return!1;if(f.autoClosingOvertype==="auto"){let A=!1;for(let P=0,E=m.length;P<E;P++){const B=m[P];if(D.lineNumber===B.startLineNumber&&D.column===B.startColumn){A=!0;break}}if(!A)return!1}}return!0}static _runAutoClosingOvertype(f,S,v,m,_){let L=[];for(let w=0,k=m.length;w<k;w++){const M=m[w].getPosition(),O=new h.Range(M.lineNumber,M.column,M.lineNumber,M.column+1);L[w]=new T.ReplaceCommand(O,_)}return new C.EditOperationResult(4,L,{shouldPushStackElementBefore:o(f,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(f,S){const v=S.charAt(0),m=f.autoClosingPairs.autoClosingPairsOpenByStart.get(v)||[],_=f.autoClosingPairs.autoClosingPairsCloseByStart.get(v)||[],L=m.some(k=>S.startsWith(k.open)),w=_.some(k=>S.startsWith(k.close));return!L&&w}static _findAutoClosingPairOpen(f,S,v,m){const _=f.autoClosingPairs.autoClosingPairsOpenByEnd.get(m);if(!_)return null;let L=null;for(const w of _)if(L===null||w.open.length>L.open.length){let k=!0;for(const D of v)if(S.getValueInRange(new h.Range(D.lineNumber,D.column-w.open.length+1,D.lineNumber,D.column))+m!==w.open){k=!1;break}k&&(L=w)}return L}static _findContainedAutoClosingPair(f,S){if(S.open.length<=1)return null;const v=S.close.charAt(S.close.length-1),m=f.autoClosingPairs.autoClosingPairsCloseByEnd.get(v)||[];let _=null;for(const L of m)L.open!==S.open&&S.open.includes(L.open)&&S.close.endsWith(L.close)&&(!_||L.open.length>_.open.length)&&(_=L);return _}static _getAutoClosingPairClose(f,S,v,m,_){const L=(0,C.isQuote)(m),w=L?f.autoClosingQuotes:f.autoClosingBrackets,k=L?f.shouldAutoCloseBefore.quote:f.shouldAutoCloseBefore.bracket;if(w==="never")return null;for(const A of v)if(!A.isEmpty())return null;const D=v.map(A=>{const P=A.getPosition();return _?{lineNumber:P.lineNumber,beforeColumn:P.column-m.length,afterColumn:P.column}:{lineNumber:P.lineNumber,beforeColumn:P.column,afterColumn:P.column}}),M=this._findAutoClosingPairOpen(f,S,D.map(A=>new i.Position(A.lineNumber,A.beforeColumn)),m);if(!M)return null;const O=this._findContainedAutoClosingPair(f,M),F=O?O.close:"";let R=!0;for(const A of D){const{lineNumber:P,beforeColumn:E,afterColumn:B}=A,V=S.getLineContent(P),j=V.substring(0,E-1),K=V.substring(B-1);if(K.startsWith(F)||(R=!1),K.length>0){const ie=K.charAt(0);if(!l._isBeforeClosingBrace(f,K)&&!k(ie))return null}if(M.open.length===1&&(m==="'"||m==='"')&&w!=="always"){const ie=(0,p.getMapForWordSeparators)(f.wordSeparators);if(j.length>0){const ne=j.charCodeAt(j.length-1);if(ie.get(ne)===0)return null}}if(!S.isCheapToTokenize(P))return null;S.forceTokenization(P);const Y=S.getLineTokens(P),J=(0,c.createScopedLineTokens)(Y,E-1);if(!M.shouldAutoClose(J,E-J.firstCharOffset))return null;const Z=M.findNeutralCharacter();if(Z){const ie=S.getTokenTypeIfInsertingCharacter(P,E,Z);if(!M.isOK(ie))return null}}return R?M.close.substring(0,M.close.length-F.length):M.close}static _runAutoClosingOpenCharType(f,S,v,m,_,L,w){let k=[];for(let D=0,M=m.length;D<M;D++){const O=m[D];k[D]=new a(O,_,!L,w)}return new C.EditOperationResult(4,k,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(f,S){return(0,C.isQuote)(S)?f.autoSurround==="quotes"||f.autoSurround==="languageDefined":f.autoSurround==="brackets"||f.autoSurround==="languageDefined"}static _isSurroundSelectionType(f,S,v,m){if(!l._shouldSurroundChar(f,m)||!f.surroundingPairs.hasOwnProperty(m))return!1;const _=(0,C.isQuote)(m);for(let L=0,w=v.length;L<w;L++){const k=v[L];if(k.isEmpty())return!1;let D=!0;for(let M=k.startLineNumber;M<=k.endLineNumber;M++){const O=S.getLineContent(M),F=M===k.startLineNumber?k.startColumn-1:0,R=M===k.endLineNumber?k.endColumn-1:O.length,A=O.substring(F,R);if(/[^ \t]/.test(A)){D=!1;break}}if(D)return!1;if(_&&k.startLineNumber===k.endLineNumber&&k.startColumn+1===k.endColumn){const M=S.getValueInRange(k);if((0,C.isQuote)(M))return!1}}return!0}static _runSurroundSelectionType(f,S,v,m,_){let L=[];for(let w=0,k=m.length;w<k;w++){const D=m[w],M=S.surroundingPairs[_];L[w]=new b.SurroundSelectionCommand(D,_,M)}return new C.EditOperationResult(0,L,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(f,S,v){return!!(v.length===1&&S.isCheapToTokenize(v[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(f,S,v,m,_){if(!S.electricChars.hasOwnProperty(_)||!m.isEmpty())return null;let L=m.getPosition();v.forceTokenization(L.lineNumber);let w=v.getLineTokens(L.lineNumber),k;try{k=r.LanguageConfigurationRegistry.onElectricCharacter(_,w,L.column)}catch(D){return(0,y.onUnexpectedError)(D),null}if(!k)return null;if(k.matchOpenBracket){let D=(w.getLineContent()+_).lastIndexOf(k.matchOpenBracket)+1,M=v.bracketPairs.findMatchingBracketUp(k.matchOpenBracket,{lineNumber:L.lineNumber,column:D});if(M){if(M.startLineNumber===L.lineNumber)return null;let O=v.getLineContent(M.startLineNumber),F=N.getLeadingWhitespace(O),R=S.normalizeIndentation(F),A=v.getLineContent(L.lineNumber),P=v.getLineFirstNonWhitespaceColumn(L.lineNumber)||L.column,E=A.substring(P-1,L.column-1),B=R+E+_,V=new h.Range(L.lineNumber,1,L.lineNumber,L.column);const j=new T.ReplaceCommand(V,B);return new C.EditOperationResult(s(B,f),[j],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(f,S,v,m,_,L){if(!m||g.Selection.selectionsArrEqual(m,_))return null;let w=null;for(const D of _){if(!D.isEmpty())return null;const M=D.getPosition(),O=v.getValueInRange(new h.Range(M.lineNumber,M.column-1,M.lineNumber,M.column));if(w===null)w=O;else if(w!==O)return null}if(!w)return null;if(this._isAutoClosingOvertype(S,v,_,L,w)){const D=_.map(M=>new T.ReplaceCommand(new h.Range(M.positionLineNumber,M.positionColumn,M.positionLineNumber,M.positionColumn+1),"",!1));return new C.EditOperationResult(4,D,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const k=this._getAutoClosingPairClose(S,v,_,w,!0);return k!==null?this._runAutoClosingOpenCharType(f,S,v,_,w,!0,k):null}static typeWithInterceptors(f,S,v,m,_,L,w){if(!f&&w===`
`){let M=[];for(let O=0,F=_.length;O<F;O++)M[O]=l._enter(v,m,!1,_[O]);return new C.EditOperationResult(4,M,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!f&&this._isAutoIndentType(v,m,_)){let M=[],O=!1;for(let F=0,R=_.length;F<R;F++)if(M[F]=this._runAutoIndentType(v,m,_[F],w),!M[F]){O=!0;break}if(!O)return new C.EditOperationResult(4,M,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!f&&this._isAutoClosingOvertype(v,m,_,L,w))return this._runAutoClosingOvertype(S,v,m,_,w);if(!f){const M=this._getAutoClosingPairClose(v,m,_,w,!1);if(M)return this._runAutoClosingOpenCharType(S,v,m,_,w,!1,M)}if(this._isSurroundSelectionType(v,m,_,w))return this._runSurroundSelectionType(S,v,m,_,w);if(!f&&this._isTypeInterceptorElectricChar(v,m,_)){const M=this._typeInterceptorElectricChar(S,v,m,_[0],w);if(M)return M}let k=[];for(let M=0,O=_.length;M<O;M++)k[M]=new T.ReplaceCommand(_[M],w);const D=s(w,S);return new C.EditOperationResult(D,k,{shouldPushStackElementBefore:o(S,D),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(f,S,v,m,_){let L=[];for(let k=0,D=m.length;k<D;k++)L[k]=new T.ReplaceCommand(m[k],_);const w=s(_,f);return new C.EditOperationResult(w,L,{shouldPushStackElementBefore:o(f,w),shouldPushStackElementAfter:!1})}static lineInsertBefore(f,S,v){if(S===null||v===null)return[];let m=[];for(let _=0,L=v.length;_<L;_++){let w=v[_].positionLineNumber;if(w===1)m[_]=new T.ReplaceCommandWithoutChangingPosition(new h.Range(1,1,1,1),`
`);else{w--;let k=S.getLineMaxColumn(w);m[_]=this._enter(f,S,!1,new h.Range(w,k,w,k))}}return m}static lineInsertAfter(f,S,v){if(S===null||v===null)return[];let m=[];for(let _=0,L=v.length;_<L;_++){const w=v[_].positionLineNumber;let k=S.getLineMaxColumn(w);m[_]=this._enter(f,S,!1,new h.Range(w,k,w,k))}return m}static lineBreakInsert(f,S,v){let m=[];for(let _=0,L=v.length;_<L;_++)m[_]=this._enter(f,S,!0,v[_]);return m}}e.TypeOperations=l;class a extends T.ReplaceCommandWithOffsetCursorState{constructor(f,S,v,m){super(f,(v?S:"")+m,0,-m.length);this._openCharacter=S,this._closeCharacter=m,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(f,S){let m=S.getInverseEditOperations()[0].range;return this.closeCharacterRange=new h.Range(m.startLineNumber,m.endColumn-this._closeCharacter.length,m.endLineNumber,m.endColumn),this.enclosingRange=new h.Range(m.startLineNumber,m.endColumn-this._openCharacter.length-this._closeCharacter.length,m.endLineNumber,m.endColumn),super.computeCursorState(f,S)}}e.TypeWithAutoClosingCommand=a;function s(u,f){return u===" "?f===5||f===6?6:5:4}function o(u,f){return d(u)&&!d(f)?!0:u===5?!1:n(u)!==n(f)}function n(u){return u===6||u===5?"space":u}function d(u){return u===4||u===5||u===6}}),define(ee[158],te([0,1,8,45,197,112,14,3]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class p{static _createWord(t,r,c,l,a){return{start:l,end:a,wordType:r,nextCharClass:c}}static _findPreviousWordOnLine(t,r,c){let l=r.getLineContent(c.lineNumber);return this._doFindPreviousWordOnLine(l,t,c)}static _doFindPreviousWordOnLine(t,r,c){let l=0;for(let a=c.column-2;a>=0;a--){let s=t.charCodeAt(a),o=r.get(s);if(o===0){if(l===2)return this._createWord(t,l,o,a+1,this._findEndOfWord(t,r,l,a+1));l=1}else if(o===2){if(l===1)return this._createWord(t,l,o,a+1,this._findEndOfWord(t,r,l,a+1));l=2}else if(o===1&&l!==0)return this._createWord(t,l,o,a+1,this._findEndOfWord(t,r,l,a+1))}return l!==0?this._createWord(t,l,1,0,this._findEndOfWord(t,r,l,0)):null}static _findEndOfWord(t,r,c,l){let a=t.length;for(let s=l;s<a;s++){let o=t.charCodeAt(s),n=r.get(o);if(n===1||c===1&&n===2||c===2&&n===0)return s}return a}static _findNextWordOnLine(t,r,c){let l=r.getLineContent(c.lineNumber);return this._doFindNextWordOnLine(l,t,c)}static _doFindNextWordOnLine(t,r,c){let l=0,a=t.length;for(let s=c.column-1;s<a;s++){let o=t.charCodeAt(s),n=r.get(o);if(n===0){if(l===2)return this._createWord(t,l,n,this._findStartOfWord(t,r,l,s-1),s);l=1}else if(n===2){if(l===1)return this._createWord(t,l,n,this._findStartOfWord(t,r,l,s-1),s);l=2}else if(n===1&&l!==0)return this._createWord(t,l,n,this._findStartOfWord(t,r,l,s-1),s)}return l!==0?this._createWord(t,l,1,this._findStartOfWord(t,r,l,a-1),a):null}static _findStartOfWord(t,r,c,l){for(let a=l;a>=0;a--){let s=t.charCodeAt(a),o=r.get(s);if(o===1||c===1&&o===2||c===2&&o===0)return a+1}return 0}static moveWordLeft(t,r,c,l){let a=c.lineNumber,s=c.column;s===1&&a>1&&(a=a-1,s=r.getLineMaxColumn(a));let o=p._findPreviousWordOnLine(t,r,new b.Position(a,s));if(l===0)return new b.Position(a,o?o.start+1:1);if(l===1)return o&&o.wordType===2&&o.end-o.start==1&&o.nextCharClass===0&&(o=p._findPreviousWordOnLine(t,r,new b.Position(a,o.start+1))),new b.Position(a,o?o.start+1:1);if(l===3){for(;o&&o.wordType===2;)o=p._findPreviousWordOnLine(t,r,new b.Position(a,o.start+1));return new b.Position(a,o?o.start+1:1)}return o&&s<=o.end+1&&(o=p._findPreviousWordOnLine(t,r,new b.Position(a,o.start+1))),new b.Position(a,o?o.end+1:1)}static _moveWordPartLeft(t,r){const c=r.lineNumber,l=t.getLineMaxColumn(c);if(r.column===1)return c>1?new b.Position(c-1,t.getLineMaxColumn(c-1)):r;const a=t.getLineContent(c);for(let s=r.column-1;s>1;s--){const o=a.charCodeAt(s-2),n=a.charCodeAt(s-1);if(o===95&&n!==95)return new b.Position(c,s);if(y.isLowerAsciiLetter(o)&&y.isUpperAsciiLetter(n))return new b.Position(c,s);if(y.isUpperAsciiLetter(o)&&y.isUpperAsciiLetter(n)&&s+1<l){const d=a.charCodeAt(s);if(y.isLowerAsciiLetter(d))return new b.Position(c,s)}}return new b.Position(c,1)}static moveWordRight(t,r,c,l){let a=c.lineNumber,s=c.column,o=!1;s===r.getLineMaxColumn(a)&&a<r.getLineCount()&&(o=!0,a=a+1,s=1);let n=p._findNextWordOnLine(t,r,new b.Position(a,s));if(l===2)n&&n.wordType===2&&n.end-n.start==1&&n.nextCharClass===0&&(n=p._findNextWordOnLine(t,r,new b.Position(a,n.end+1))),n?s=n.end+1:s=r.getLineMaxColumn(a);else if(l===3){for(o&&(s=0);n&&(n.wordType===2||n.start+1<=s);)n=p._findNextWordOnLine(t,r,new b.Position(a,n.end+1));n?s=n.start+1:s=r.getLineMaxColumn(a)}else n&&!o&&s>=n.start+1&&(n=p._findNextWordOnLine(t,r,new b.Position(a,n.end+1))),n?s=n.start+1:s=r.getLineMaxColumn(a);return new b.Position(a,s)}static _moveWordPartRight(t,r){const c=r.lineNumber,l=t.getLineMaxColumn(c);if(r.column===l)return c<t.getLineCount()?new b.Position(c+1,1):r;const a=t.getLineContent(c);for(let s=r.column+1;s<l;s++){const o=a.charCodeAt(s-2),n=a.charCodeAt(s-1);if(o!==95&&n===95)return new b.Position(c,s);if(y.isLowerAsciiLetter(o)&&y.isUpperAsciiLetter(n))return new b.Position(c,s);if(y.isUpperAsciiLetter(o)&&y.isUpperAsciiLetter(n)&&s+1<l){const d=a.charCodeAt(s);if(y.isLowerAsciiLetter(d))return new b.Position(c,s)}}return new b.Position(c,l)}static _deleteWordLeftWhitespace(t,r){const c=t.getLineContent(r.lineNumber),l=r.column-2,a=y.lastNonWhitespaceIndex(c,l);return a+1<l?new C.Range(r.lineNumber,a+2,r.lineNumber,r.column):null}static deleteWordLeft(t,r){const c=t.wordSeparators,l=t.model,a=t.selection,s=t.whitespaceHeuristics;if(!a.isEmpty())return a;if(T.DeleteOperations.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,t.model,[t.selection],t.autoClosedCharacters)){const f=t.selection.getPosition();return new C.Range(f.lineNumber,f.column-1,f.lineNumber,f.column+1)}const o=new b.Position(a.positionLineNumber,a.positionColumn);let n=o.lineNumber,d=o.column;if(n===1&&d===1)return null;if(s){let f=this._deleteWordLeftWhitespace(l,o);if(f)return f}let u=p._findPreviousWordOnLine(c,l,o);return r===0?u?d=u.start+1:d>1?d=1:(n--,d=l.getLineMaxColumn(n)):(u&&d<=u.end+1&&(u=p._findPreviousWordOnLine(c,l,new b.Position(n,u.start+1))),u?d=u.end+1:d>1?d=1:(n--,d=l.getLineMaxColumn(n))),new C.Range(n,d,o.lineNumber,o.column)}static deleteInsideWord(t,r,c){if(!c.isEmpty())return c;const l=new b.Position(c.positionLineNumber,c.positionColumn);let a=this._deleteInsideWordWhitespace(r,l);return a||this._deleteInsideWordDetermineDeleteRange(t,r,l)}static _charAtIsWhitespace(t,r){const c=t.charCodeAt(r);return c===32||c===9}static _deleteInsideWordWhitespace(t,r){const c=t.getLineContent(r.lineNumber),l=c.length;if(l===0)return null;let a=Math.max(r.column-2,0);if(!this._charAtIsWhitespace(c,a))return null;let s=Math.min(r.column-1,l-1);if(!this._charAtIsWhitespace(c,s))return null;for(;a>0&&this._charAtIsWhitespace(c,a-1);)a--;for(;s+1<l&&this._charAtIsWhitespace(c,s+1);)s++;return new C.Range(r.lineNumber,a+1,r.lineNumber,s+2)}static _deleteInsideWordDetermineDeleteRange(t,r,c){const l=r.getLineContent(c.lineNumber),a=l.length;if(a===0)return c.lineNumber>1?new C.Range(c.lineNumber-1,r.getLineMaxColumn(c.lineNumber-1),c.lineNumber,1):c.lineNumber<r.getLineCount()?new C.Range(c.lineNumber,1,c.lineNumber+1,1):new C.Range(c.lineNumber,1,c.lineNumber,1);const s=f=>f.start+1<=c.column&&c.column<=f.end+1,o=(f,S)=>(f=Math.min(f,c.column),S=Math.max(S,c.column),new C.Range(c.lineNumber,f,c.lineNumber,S)),n=f=>{let S=f.start+1,v=f.end+1,m=!1;for(;v-1<a&&this._charAtIsWhitespace(l,v-1);)m=!0,v++;if(!m)for(;S>1&&this._charAtIsWhitespace(l,S-2);)S--;return o(S,v)},d=p._findPreviousWordOnLine(t,r,c);if(d&&s(d))return n(d);const u=p._findNextWordOnLine(t,r,c);return u&&s(u)?n(u):d&&u?o(d.end+1,u.start+1):d?o(d.start+1,d.end+1):u?o(u.start+1,u.end+1):o(1,a+1)}static _deleteWordPartLeft(t,r){if(!r.isEmpty())return r;const c=r.getPosition(),l=p._moveWordPartLeft(t,c);return new C.Range(c.lineNumber,c.column,l.lineNumber,l.column)}static _findFirstNonWhitespaceChar(t,r){let c=t.length;for(let l=r;l<c;l++){let a=t.charAt(l);if(a!==" "&&a!=="	")return l}return c}static _deleteWordRightWhitespace(t,r){const c=t.getLineContent(r.lineNumber),l=r.column-1,a=this._findFirstNonWhitespaceChar(c,l);return l+1<a?new C.Range(r.lineNumber,r.column,r.lineNumber,a+1):null}static deleteWordRight(t,r){const c=t.wordSeparators,l=t.model,a=t.selection,s=t.whitespaceHeuristics;if(!a.isEmpty())return a;const o=new b.Position(a.positionLineNumber,a.positionColumn);let n=o.lineNumber,d=o.column;const u=l.getLineCount(),f=l.getLineMaxColumn(n);if(n===u&&d===f)return null;if(s){let v=this._deleteWordRightWhitespace(l,o);if(v)return v}let S=p._findNextWordOnLine(c,l,o);return r===2?S?d=S.end+1:d<f||n===u?d=f:(n++,S=p._findNextWordOnLine(c,l,new b.Position(n,1)),S?d=S.start+1:d=l.getLineMaxColumn(n)):(S&&d>=S.start+1&&(S=p._findNextWordOnLine(c,l,new b.Position(n,S.end+1))),S?d=S.start+1:d<f||n===u?d=f:(n++,S=p._findNextWordOnLine(c,l,new b.Position(n,1)),S?d=S.start+1:d=l.getLineMaxColumn(n))),new C.Range(n,d,o.lineNumber,o.column)}static _deleteWordPartRight(t,r){if(!r.isEmpty())return r;const c=r.getPosition(),l=p._moveWordPartRight(t,c);return new C.Range(c.lineNumber,c.column,l.lineNumber,l.column)}static _createWordAtPosition(t,r,c){const l=new C.Range(r,c.start+1,r,c.end+1);return{word:t.getValueInRange(l),startColumn:l.startColumn,endColumn:l.endColumn}}static getWordAtPosition(t,r,c){const l=(0,I.getMapForWordSeparators)(r),a=p._findPreviousWordOnLine(l,t,c);if(a&&a.wordType===1&&a.start<=c.column-1&&c.column-1<=a.end)return p._createWordAtPosition(t,c.lineNumber,a);const s=p._findNextWordOnLine(l,t,c);return s&&s.wordType===1&&s.start<=c.column-1&&c.column-1<=s.end?p._createWordAtPosition(t,c.lineNumber,s):null}static word(t,r,c,l,a){const s=(0,I.getMapForWordSeparators)(t.wordSeparators);let o=p._findPreviousWordOnLine(s,r,a),n=p._findNextWordOnLine(s,r,a);if(!l){let v,m;return o&&o.wordType===1&&o.start<=a.column-1&&a.column-1<=o.end?(v=o.start+1,m=o.end+1):n&&n.wordType===1&&n.start<=a.column-1&&a.column-1<=n.end?(v=n.start+1,m=n.end+1):(o?v=o.end+1:v=1,n?m=n.start+1:m=r.getLineMaxColumn(a.lineNumber)),new N.SingleCursorState(new C.Range(a.lineNumber,v,a.lineNumber,m),0,new b.Position(a.lineNumber,m),0)}let d,u;o&&o.wordType===1&&o.start<a.column-1&&a.column-1<o.end?(d=o.start+1,u=o.end+1):n&&n.wordType===1&&n.start<a.column-1&&a.column-1<n.end?(d=n.start+1,u=n.end+1):(d=a.column,u=a.column);let f=a.lineNumber,S;if(c.selectionStart.containsPosition(a))S=c.selectionStart.endColumn;else if(a.isBeforeOrEqual(c.selectionStart.getStartPosition())){S=d;let v=new b.Position(f,S);c.selectionStart.containsPosition(v)&&(S=c.selectionStart.endColumn)}else{S=u;let v=new b.Position(f,S);c.selectionStart.containsPosition(v)&&(S=c.selectionStart.startColumn)}return c.move(!0,f,S,0)}}e.WordOperations=p;class h extends p{static deleteWordPartLeft(t){const r=g([p.deleteWordLeft(t,0),p.deleteWordLeft(t,2),p._deleteWordPartLeft(t.model,t.selection)]);return r.sort(C.Range.compareRangesUsingEnds),r[2]}static deleteWordPartRight(t){const r=g([p.deleteWordRight(t,0),p.deleteWordRight(t,2),p._deleteWordPartRight(t.model,t.selection)]);return r.sort(C.Range.compareRangesUsingStarts),r[0]}static moveWordPartLeft(t,r,c){const l=g([p.moveWordLeft(t,r,c,0),p.moveWordLeft(t,r,c,2),p._moveWordPartLeft(r,c)]);return l.sort(b.Position.compare),l[2]}static moveWordPartRight(t,r,c){const l=g([p.moveWordRight(t,r,c,0),p.moveWordRight(t,r,c,2),p._moveWordPartRight(r,c)]);return l.sort(b.Position.compare),l[0]}}e.WordPartOperations=h;function g(i){return i.filter(t=>Boolean(t))}}),define(ee[199],te([0,1,20,45,196,158,14,3]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class p{static addCursorDown(i,t,r){let c=[],l=0;for(let a=0,s=t.length;a<s;a++){const o=t[a];c[l++]=new N.CursorState(o.modelState,o.viewState),r?c[l++]=N.CursorState.fromModelState(T.MoveOperations.translateDown(i.cursorConfig,i.model,o.modelState)):c[l++]=N.CursorState.fromViewState(T.MoveOperations.translateDown(i.cursorConfig,i,o.viewState))}return c}static addCursorUp(i,t,r){let c=[],l=0;for(let a=0,s=t.length;a<s;a++){const o=t[a];c[l++]=new N.CursorState(o.modelState,o.viewState),r?c[l++]=N.CursorState.fromModelState(T.MoveOperations.translateUp(i.cursorConfig,i.model,o.modelState)):c[l++]=N.CursorState.fromViewState(T.MoveOperations.translateUp(i.cursorConfig,i,o.viewState))}return c}static moveToBeginningOfLine(i,t,r){let c=[];for(let l=0,a=t.length;l<a;l++){const s=t[l];c[l]=this._moveToLineStart(i,s,r)}return c}static _moveToLineStart(i,t,r){const c=t.viewState.position.column,l=t.modelState.position.column,a=c===l,s=t.viewState.position.lineNumber,o=i.getLineFirstNonWhitespaceColumn(s);return!a&&!(c===o)?this._moveToLineStartByView(i,t,r):this._moveToLineStartByModel(i,t,r)}static _moveToLineStartByView(i,t,r){return N.CursorState.fromViewState(T.MoveOperations.moveToBeginningOfLine(i.cursorConfig,i,t.viewState,r))}static _moveToLineStartByModel(i,t,r){return N.CursorState.fromModelState(T.MoveOperations.moveToBeginningOfLine(i.cursorConfig,i.model,t.modelState,r))}static moveToEndOfLine(i,t,r,c){let l=[];for(let a=0,s=t.length;a<s;a++){const o=t[a];l[a]=this._moveToLineEnd(i,o,r,c)}return l}static _moveToLineEnd(i,t,r,c){const l=t.viewState.position,a=i.getLineMaxColumn(l.lineNumber),s=l.column===a,o=t.modelState.position,n=i.model.getLineMaxColumn(o.lineNumber),d=a-l.column==n-o.column;return s||d?this._moveToLineEndByModel(i,t,r,c):this._moveToLineEndByView(i,t,r,c)}static _moveToLineEndByView(i,t,r,c){return N.CursorState.fromViewState(T.MoveOperations.moveToEndOfLine(i.cursorConfig,i,t.viewState,r,c))}static _moveToLineEndByModel(i,t,r,c){return N.CursorState.fromModelState(T.MoveOperations.moveToEndOfLine(i.cursorConfig,i.model,t.modelState,r,c))}static expandLineSelection(i,t){let r=[];for(let c=0,l=t.length;c<l;c++){const a=t[c],s=a.modelState.selection.startLineNumber,o=i.model.getLineCount();let n=a.modelState.selection.endLineNumber,d;n===o?d=i.model.getLineMaxColumn(o):(n++,d=1),r[c]=N.CursorState.fromModelState(new N.SingleCursorState(new C.Range(s,1,s,1),0,new b.Position(n,d),0))}return r}static moveToBeginningOfBuffer(i,t,r){let c=[];for(let l=0,a=t.length;l<a;l++){const s=t[l];c[l]=N.CursorState.fromModelState(T.MoveOperations.moveToBeginningOfBuffer(i.cursorConfig,i.model,s.modelState,r))}return c}static moveToEndOfBuffer(i,t,r){let c=[];for(let l=0,a=t.length;l<a;l++){const s=t[l];c[l]=N.CursorState.fromModelState(T.MoveOperations.moveToEndOfBuffer(i.cursorConfig,i.model,s.modelState,r))}return c}static selectAll(i,t){const r=i.model.getLineCount(),c=i.model.getLineMaxColumn(r);return N.CursorState.fromModelState(new N.SingleCursorState(new C.Range(1,1,1,1),0,new b.Position(r,c),0))}static line(i,t,r,c,l){const a=i.model.validatePosition(c),s=l?i.coordinatesConverter.validateViewPosition(new b.Position(l.lineNumber,l.column),a):i.coordinatesConverter.convertModelPositionToViewPosition(a);if(!r||!t.modelState.hasSelection()){const n=i.model.getLineCount();let d=a.lineNumber+1,u=1;return d>n&&(d=n,u=i.model.getLineMaxColumn(d)),N.CursorState.fromModelState(new N.SingleCursorState(new C.Range(a.lineNumber,1,d,u),0,new b.Position(d,u),0))}const o=t.modelState.selectionStart.getStartPosition().lineNumber;if(a.lineNumber<o)return N.CursorState.fromViewState(t.viewState.move(t.modelState.hasSelection(),s.lineNumber,1,0));if(a.lineNumber>o){const n=i.getLineCount();let d=s.lineNumber+1,u=1;return d>n&&(d=n,u=i.getLineMaxColumn(d)),N.CursorState.fromViewState(t.viewState.move(t.modelState.hasSelection(),d,u,0))}else{const n=t.modelState.selectionStart.getEndPosition();return N.CursorState.fromModelState(t.modelState.move(t.modelState.hasSelection(),n.lineNumber,n.column,0))}}static word(i,t,r,c){const l=i.model.validatePosition(c);return N.CursorState.fromModelState(I.WordOperations.word(i.cursorConfig,i.model,t.modelState,r,l))}static cancelSelection(i,t){if(!t.modelState.hasSelection())return new N.CursorState(t.modelState,t.viewState);const r=t.viewState.position.lineNumber,c=t.viewState.position.column;return N.CursorState.fromViewState(new N.SingleCursorState(new C.Range(r,c,r,c),0,new b.Position(r,c),0))}static moveTo(i,t,r,c,l){const a=i.model.validatePosition(c),s=l?i.coordinatesConverter.validateViewPosition(new b.Position(l.lineNumber,l.column),a):i.coordinatesConverter.convertModelPositionToViewPosition(a);return N.CursorState.fromViewState(t.viewState.move(r,s.lineNumber,s.column,0))}static simpleMove(i,t,r,c,l,a){switch(r){case 0:return a===4?this._moveHalfLineLeft(i,t,c):this._moveLeft(i,t,c,l);case 1:return a===4?this._moveHalfLineRight(i,t,c):this._moveRight(i,t,c,l);case 2:return a===2?this._moveUpByViewLines(i,t,c,l):this._moveUpByModelLines(i,t,c,l);case 3:return a===2?this._moveDownByViewLines(i,t,c,l):this._moveDownByModelLines(i,t,c,l);case 4:return a===2?t.map(s=>N.CursorState.fromViewState(T.MoveOperations.moveToPrevBlankLine(i.cursorConfig,i,s.viewState,c))):t.map(s=>N.CursorState.fromModelState(T.MoveOperations.moveToPrevBlankLine(i.cursorConfig,i.model,s.modelState,c)));case 5:return a===2?t.map(s=>N.CursorState.fromViewState(T.MoveOperations.moveToNextBlankLine(i.cursorConfig,i,s.viewState,c))):t.map(s=>N.CursorState.fromModelState(T.MoveOperations.moveToNextBlankLine(i.cursorConfig,i.model,s.modelState,c)));case 6:return this._moveToViewMinColumn(i,t,c);case 7:return this._moveToViewFirstNonWhitespaceColumn(i,t,c);case 8:return this._moveToViewCenterColumn(i,t,c);case 9:return this._moveToViewMaxColumn(i,t,c);case 10:return this._moveToViewLastNonWhitespaceColumn(i,t,c);default:return null}}static viewportMove(i,t,r,c,l){const a=i.getCompletelyVisibleViewRange(),s=i.coordinatesConverter.convertViewRangeToModelRange(a);switch(r){case 11:{const o=this._firstLineNumberInRange(i.model,s,l),n=i.model.getLineFirstNonWhitespaceColumn(o);return[this._moveToModelPosition(i,t[0],c,o,n)]}case 13:{const o=this._lastLineNumberInRange(i.model,s,l),n=i.model.getLineFirstNonWhitespaceColumn(o);return[this._moveToModelPosition(i,t[0],c,o,n)]}case 12:{const o=Math.round((s.startLineNumber+s.endLineNumber)/2),n=i.model.getLineFirstNonWhitespaceColumn(o);return[this._moveToModelPosition(i,t[0],c,o,n)]}case 14:{let o=[];for(let n=0,d=t.length;n<d;n++){const u=t[n];o[n]=this.findPositionInViewportIfOutside(i,u,a,c)}return o}default:return null}}static findPositionInViewportIfOutside(i,t,r,c){let l=t.viewState.position.lineNumber;if(r.startLineNumber<=l&&l<=r.endLineNumber-1)return new N.CursorState(t.modelState,t.viewState);{let a;l>r.endLineNumber-1?a=r.endLineNumber-1:l<r.startLineNumber?a=r.startLineNumber:a=l;const s=T.MoveOperations.vertical(i.cursorConfig,i,l,t.viewState.position.column,t.viewState.leftoverVisibleColumns,a,!1);return N.CursorState.fromViewState(t.viewState.move(c,s.lineNumber,s.column,s.leftoverVisibleColumns))}}static _firstLineNumberInRange(i,t,r){let c=t.startLineNumber;return t.startColumn!==i.getLineMinColumn(c)&&c++,Math.min(t.endLineNumber,c+r-1)}static _lastLineNumberInRange(i,t,r){let c=t.startLineNumber;return t.startColumn!==i.getLineMinColumn(c)&&c++,Math.max(c,t.endLineNumber-r+1)}static _moveLeft(i,t,r,c){return t.map(l=>N.CursorState.fromViewState(T.MoveOperations.moveLeft(i.cursorConfig,i,l.viewState,r,c)))}static _moveHalfLineLeft(i,t,r){let c=[];for(let l=0,a=t.length;l<a;l++){const s=t[l],o=s.viewState.position.lineNumber,n=Math.round(i.getLineContent(o).length/2);c[l]=N.CursorState.fromViewState(T.MoveOperations.moveLeft(i.cursorConfig,i,s.viewState,r,n))}return c}static _moveRight(i,t,r,c){return t.map(l=>N.CursorState.fromViewState(T.MoveOperations.moveRight(i.cursorConfig,i,l.viewState,r,c)))}static _moveHalfLineRight(i,t,r){let c=[];for(let l=0,a=t.length;l<a;l++){const s=t[l],o=s.viewState.position.lineNumber,n=Math.round(i.getLineContent(o).length/2);c[l]=N.CursorState.fromViewState(T.MoveOperations.moveRight(i.cursorConfig,i,s.viewState,r,n))}return c}static _moveDownByViewLines(i,t,r,c){let l=[];for(let a=0,s=t.length;a<s;a++){const o=t[a];l[a]=N.CursorState.fromViewState(T.MoveOperations.moveDown(i.cursorConfig,i,o.viewState,r,c))}return l}static _moveDownByModelLines(i,t,r,c){let l=[];for(let a=0,s=t.length;a<s;a++){const o=t[a];l[a]=N.CursorState.fromModelState(T.MoveOperations.moveDown(i.cursorConfig,i.model,o.modelState,r,c))}return l}static _moveUpByViewLines(i,t,r,c){let l=[];for(let a=0,s=t.length;a<s;a++){const o=t[a];l[a]=N.CursorState.fromViewState(T.MoveOperations.moveUp(i.cursorConfig,i,o.viewState,r,c))}return l}static _moveUpByModelLines(i,t,r,c){let l=[];for(let a=0,s=t.length;a<s;a++){const o=t[a];l[a]=N.CursorState.fromModelState(T.MoveOperations.moveUp(i.cursorConfig,i.model,o.modelState,r,c))}return l}static _moveToViewPosition(i,t,r,c,l){return N.CursorState.fromViewState(t.viewState.move(r,c,l,0))}static _moveToModelPosition(i,t,r,c,l){return N.CursorState.fromModelState(t.modelState.move(r,c,l,0))}static _moveToViewMinColumn(i,t,r){let c=[];for(let l=0,a=t.length;l<a;l++){const s=t[l],o=s.viewState.position.lineNumber,n=i.getLineMinColumn(o);c[l]=this._moveToViewPosition(i,s,r,o,n)}return c}static _moveToViewFirstNonWhitespaceColumn(i,t,r){let c=[];for(let l=0,a=t.length;l<a;l++){const s=t[l],o=s.viewState.position.lineNumber,n=i.getLineFirstNonWhitespaceColumn(o);c[l]=this._moveToViewPosition(i,s,r,o,n)}return c}static _moveToViewCenterColumn(i,t,r){let c=[];for(let l=0,a=t.length;l<a;l++){const s=t[l],o=s.viewState.position.lineNumber,n=Math.round((i.getLineMaxColumn(o)+i.getLineMinColumn(o))/2);c[l]=this._moveToViewPosition(i,s,r,o,n)}return c}static _moveToViewMaxColumn(i,t,r){let c=[];for(let l=0,a=t.length;l<a;l++){const s=t[l],o=s.viewState.position.lineNumber,n=i.getLineMaxColumn(o);c[l]=this._moveToViewPosition(i,s,r,o,n)}return c}static _moveToViewLastNonWhitespaceColumn(i,t,r){let c=[];for(let l=0,a=t.length;l<a;l++){const s=t[l],o=s.viewState.position.lineNumber,n=i.getLineLastNonWhitespaceColumn(o);c[l]=this._moveToViewPosition(i,s,r,o,n)}return c}}e.CursorMoveCommands=p;var h;(function(g){const i=function(r){if(!y.isObject(r))return!1;let c=r;return!(!y.isString(c.to)||!y.isUndefined(c.select)&&!y.isBoolean(c.select)||!y.isUndefined(c.by)&&!y.isString(c.by)||!y.isUndefined(c.value)&&!y.isNumber(c.value))};g.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:i,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},g.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},g.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(r){if(!r.to)return null;let c;switch(r.to){case g.RawDirection.Left:c=0;break;case g.RawDirection.Right:c=1;break;case g.RawDirection.Up:c=2;break;case g.RawDirection.Down:c=3;break;case g.RawDirection.PrevBlankLine:c=4;break;case g.RawDirection.NextBlankLine:c=5;break;case g.RawDirection.WrappedLineStart:c=6;break;case g.RawDirection.WrappedLineFirstNonWhitespaceCharacter:c=7;break;case g.RawDirection.WrappedLineColumnCenter:c=8;break;case g.RawDirection.WrappedLineEnd:c=9;break;case g.RawDirection.WrappedLineLastNonWhitespaceCharacter:c=10;break;case g.RawDirection.ViewPortTop:c=11;break;case g.RawDirection.ViewPortBottom:c=13;break;case g.RawDirection.ViewPortCenter:c=12;break;case g.RawDirection.ViewPortIfOutside:c=14;break;default:return null}let l=0;switch(r.by){case g.RawUnit.Line:l=1;break;case g.RawUnit.WrappedLine:l=2;break;case g.RawUnit.Character:l=3;break;case g.RawUnit.HalfLine:l=4;break}return{direction:c,unit:l,select:!!r.select,value:r.value||1}}g.parse=t})(h=e.CursorMove||(e.CursorMove={}))}),define(ee[159],te([0,1,470,34,20,44,15,28,675,45,197,199,198,14,3,24,16,82]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const o=0;class n extends b.EditorCommand{runEditorCommand(M,O,F){const R=O._getViewModel();!R||this.runCoreEditorCommand(R,F||{})}}e.CoreEditorCommand=n;var d;(function(D){const M=function(F){if(!T.isObject(F))return!1;const R=F;return!(!T.isString(R.to)||!T.isUndefined(R.by)&&!T.isString(R.by)||!T.isUndefined(R.value)&&!T.isNumber(R.value)||!T.isUndefined(R.revealCursor)&&!T.isBoolean(R.revealCursor))};D.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:M,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},D.RawDirection={Up:"up",Down:"down"},D.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function O(F){let R;switch(F.to){case D.RawDirection.Up:R=1;break;case D.RawDirection.Down:R=2;break;default:return null}let A;switch(F.by){case D.RawUnit.Line:A=1;break;case D.RawUnit.WrappedLine:A=2;break;case D.RawUnit.Page:A=3;break;case D.RawUnit.HalfPage:A=4;break;default:A=2}const P=Math.floor(F.value||1),E=!!F.revealCursor;return{direction:R,unit:A,value:P,revealCursor:E,select:!!F.select}}D.parse=O})(d=e.EditorScroll_||(e.EditorScroll_={}));var u;(function(D){const M=function(O){if(!T.isObject(O))return!1;const F=O;return!(!T.isNumber(F.lineNumber)&&!T.isString(F.lineNumber)||!T.isUndefined(F.at)&&!T.isString(F.at))};D.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:M,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},D.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(u=e.RevealLine_||(e.RevealLine_={}));class f{constructor(M){M.addImplementation(1e4,"code-editor",(O,F)=>{const R=O.get(C.ICodeEditorService).getFocusedCodeEditor();return R&&R.hasTextFocus()?this._runEditorCommand(O,R,F):!1}),M.addImplementation(1e3,"generic-dom-input-textarea",(O,F)=>{const R=document.activeElement;return R&&["input","textarea"].indexOf(R.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),M.addImplementation(0,"generic-dom",(O,F)=>{const R=O.get(C.ICodeEditorService).getActiveCodeEditor();return R?(R.focus(),this._runEditorCommand(O,R,F)):!1})}_runEditorCommand(M,O,F){const R=this.runEditorCommand(M,O,F);return R||!0}}var S;(function(D){class M extends n{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,z){W.model.pushStackElement(),W.setCursorStates(z.source,3,[i.CursorMoveCommands.moveTo(W,W.getPrimaryCursorState(),this._inSelectionMode,z.position,z.viewPosition)]),W.revealPrimaryCursor(z.source,!0)}}D.MoveTo=(0,b.registerEditorCommand)(new M({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),D.MoveToSelect=(0,b.registerEditorCommand)(new M({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class O extends n{runCoreEditorCommand(W,z){W.model.pushStackElement();const U=this._getColumnSelectResult(W,W.getPrimaryCursorState(),W.getCursorColumnSelectData(),z);W.setCursorStates(z.source,3,U.viewStates.map(x=>h.CursorState.fromViewState(x))),W.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:U.fromLineNumber,fromViewVisualColumn:U.fromVisualColumn,toViewLineNumber:U.toLineNumber,toViewVisualColumn:U.toVisualColumn}),U.reversed?W.revealTopMostCursor(z.source):W.revealBottomMostCursor(z.source)}}D.ColumnSelect=(0,b.registerEditorCommand)(new class extends O{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(G,W,z,U){const x=G.model.validatePosition(U.position),X=G.coordinatesConverter.validateViewPosition(new r.Position(U.viewPosition.lineNumber,U.viewPosition.column),x);let le=U.doColumnSelect?z.fromViewLineNumber:X.lineNumber,fe=U.doColumnSelect?z.fromViewVisualColumn:U.mouseColumn-1;return p.ColumnSelection.columnSelect(G.cursorConfig,G,le,fe,X.lineNumber,U.mouseColumn-1)}}),D.CursorColumnSelectLeft=(0,b.registerEditorCommand)(new class extends O{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(G,W,z,U){return p.ColumnSelection.columnSelectLeft(G.cursorConfig,G,z)}}),D.CursorColumnSelectRight=(0,b.registerEditorCommand)(new class extends O{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(G,W,z,U){return p.ColumnSelection.columnSelectRight(G.cursorConfig,G,z)}});class F extends O{constructor(W){super(W);this._isPaged=W.isPaged}_getColumnSelectResult(W,z,U,x){return p.ColumnSelection.columnSelectUp(W.cursorConfig,W,U,this._isPaged)}}D.CursorColumnSelectUp=(0,b.registerEditorCommand)(new F({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),D.CursorColumnSelectPageUp=(0,b.registerEditorCommand)(new F({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class R extends O{constructor(W){super(W);this._isPaged=W.isPaged}_getColumnSelectResult(W,z,U,x){return p.ColumnSelection.columnSelectDown(W.cursorConfig,W,U,this._isPaged)}}D.CursorColumnSelectDown=(0,b.registerEditorCommand)(new R({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),D.CursorColumnSelectPageDown=(0,b.registerEditorCommand)(new R({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class A extends n{constructor(){super({id:"cursorMove",precondition:void 0,description:i.CursorMove.description})}runCoreEditorCommand(W,z){const U=i.CursorMove.parse(z);!U||this._runCursorMove(W,z.source,U)}_runCursorMove(W,z,U){W.model.pushStackElement(),W.setCursorStates(z,3,A._move(W,W.getCursorStates(),U)),W.revealPrimaryCursor(z,!0)}static _move(W,z,U){const x=U.select,X=U.value;switch(U.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return i.CursorMoveCommands.simpleMove(W,z,U.direction,x,X,U.unit);case 11:case 13:case 12:case 14:return i.CursorMoveCommands.viewportMove(W,z,U.direction,x,X);default:return null}}}D.CursorMoveImpl=A,D.CursorMove=(0,b.registerEditorCommand)(new A);class P extends n{constructor(W){super(W);this._staticArgs=W.args}runCoreEditorCommand(W,z){let U=this._staticArgs;this._staticArgs.value===-1&&(U={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:W.cursorConfig.pageSize}),W.model.pushStackElement(),W.setCursorStates(z.source,3,i.CursorMoveCommands.simpleMove(W,W.getCursorStates(),U.direction,U.select,U.value,U.unit)),W.revealPrimaryCursor(z.source,!0)}}D.CursorLeft=(0,b.registerEditorCommand)(new P({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),D.CursorLeftSelect=(0,b.registerEditorCommand)(new P({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|15}})),D.CursorRight=(0,b.registerEditorCommand)(new P({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),D.CursorRightSelect=(0,b.registerEditorCommand)(new P({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|17}})),D.CursorUp=(0,b.registerEditorCommand)(new P({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),D.CursorUpSelect=(0,b.registerEditorCommand)(new P({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),D.CursorPageUp=(0,b.registerEditorCommand)(new P({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:11}})),D.CursorPageUpSelect=(0,b.registerEditorCommand)(new P({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|11}})),D.CursorDown=(0,b.registerEditorCommand)(new P({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),D.CursorDownSelect=(0,b.registerEditorCommand)(new P({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),D.CursorPageDown=(0,b.registerEditorCommand)(new P({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:12}})),D.CursorPageDownSelect=(0,b.registerEditorCommand)(new P({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|12}})),D.CreateCursor=(0,b.registerEditorCommand)(new class extends n{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(G,W){let z;W.wholeLine?z=i.CursorMoveCommands.line(G,G.getPrimaryCursorState(),!1,W.position,W.viewPosition):z=i.CursorMoveCommands.moveTo(G,G.getPrimaryCursorState(),!1,W.position,W.viewPosition);const U=G.getCursorStates();if(U.length>1){const x=z.modelState?z.modelState.position:null,X=z.viewState?z.viewState.position:null;for(let le=0,fe=U.length;le<fe;le++){const $=U[le];if(!(x&&!$.modelState.selection.containsPosition(x))&&!(X&&!$.viewState.selection.containsPosition(X))){U.splice(le,1),G.model.pushStackElement(),G.setCursorStates(W.source,3,U);return}}}U.push(z),G.model.pushStackElement(),G.setCursorStates(W.source,3,U)}}),D.LastCursorMoveToSelect=(0,b.registerEditorCommand)(new class extends n{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(G,W){const z=G.getLastAddedCursorIndex(),U=G.getCursorStates(),x=U.slice(0);x[z]=i.CursorMoveCommands.moveTo(G,U[z],!0,W.position,W.viewPosition),G.model.pushStackElement(),G.setCursorStates(W.source,3,x)}});class E extends n{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,z){W.model.pushStackElement(),W.setCursorStates(z.source,3,i.CursorMoveCommands.moveToBeginningOfLine(W,W.getCursorStates(),this._inSelectionMode)),W.revealPrimaryCursor(z.source,!0)}}D.CursorHome=(0,b.registerEditorCommand)(new E({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),D.CursorHomeSelect=(0,b.registerEditorCommand)(new E({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class B extends n{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,z){W.model.pushStackElement(),W.setCursorStates(z.source,3,this._exec(W.getCursorStates())),W.revealPrimaryCursor(z.source,!0)}_exec(W){const z=[];for(let U=0,x=W.length;U<x;U++){const X=W[U],le=X.modelState.position.lineNumber;z[U]=h.CursorState.fromModelState(X.modelState.move(this._inSelectionMode,le,1,0))}return z}}D.CursorLineStart=(0,b.registerEditorCommand)(new B({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),D.CursorLineStartSelect=(0,b.registerEditorCommand)(new B({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class V extends n{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,z){W.model.pushStackElement(),W.setCursorStates(z.source,3,i.CursorMoveCommands.moveToEndOfLine(W,W.getCursorStates(),this._inSelectionMode,z.sticky||!1)),W.revealPrimaryCursor(z.source,!0)}}D.CursorEnd=(0,b.registerEditorCommand)(new V({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:y.localize(0,null),type:"boolean",default:!1}}}}]}})),D.CursorEndSelect=(0,b.registerEditorCommand)(new V({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:y.localize(1,null),type:"boolean",default:!1}}}}]}}));class j extends n{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,z){W.model.pushStackElement(),W.setCursorStates(z.source,3,this._exec(W,W.getCursorStates())),W.revealPrimaryCursor(z.source,!0)}_exec(W,z){const U=[];for(let x=0,X=z.length;x<X;x++){const le=z[x],fe=le.modelState.position.lineNumber,$=W.model.getLineMaxColumn(fe);U[x]=h.CursorState.fromModelState(le.modelState.move(this._inSelectionMode,fe,$,0))}return U}}D.CursorLineEnd=(0,b.registerEditorCommand)(new j({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),D.CursorLineEndSelect=(0,b.registerEditorCommand)(new j({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class K extends n{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,z){W.model.pushStackElement(),W.setCursorStates(z.source,3,i.CursorMoveCommands.moveToBeginningOfBuffer(W,W.getCursorStates(),this._inSelectionMode)),W.revealPrimaryCursor(z.source,!0)}}D.CursorTop=(0,b.registerEditorCommand)(new K({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),D.CursorTopSelect=(0,b.registerEditorCommand)(new K({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class Y extends n{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,z){W.model.pushStackElement(),W.setCursorStates(z.source,3,i.CursorMoveCommands.moveToEndOfBuffer(W,W.getCursorStates(),this._inSelectionMode)),W.revealPrimaryCursor(z.source,!0)}}D.CursorBottom=(0,b.registerEditorCommand)(new Y({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),D.CursorBottomSelect=(0,b.registerEditorCommand)(new Y({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class J extends n{constructor(){super({id:"editorScroll",precondition:void 0,description:d.description})}runCoreEditorCommand(W,z){const U=d.parse(z);!U||this._runEditorScroll(W,z.source,U)}_runEditorScroll(W,z,U){const x=this._computeDesiredScrollTop(W,U);if(U.revealCursor){const X=W.getCompletelyVisibleViewRangeAtScrollTop(x);W.setCursorStates(z,3,[i.CursorMoveCommands.findPositionInViewportIfOutside(W,W.getPrimaryCursorState(),X,U.select)])}W.setScrollTop(x,0)}_computeDesiredScrollTop(W,z){if(z.unit===1){const X=W.getCompletelyVisibleViewRange(),le=W.coordinatesConverter.convertViewRangeToModelRange(X);let fe;z.direction===1?fe=Math.max(1,le.startLineNumber-z.value):fe=Math.min(W.model.getLineCount(),le.startLineNumber+z.value);const $=W.coordinatesConverter.convertModelPositionToViewPosition(new r.Position(fe,1));return W.getVerticalOffsetForLineNumber($.lineNumber)}let U;z.unit===3?U=W.cursorConfig.pageSize*z.value:z.unit===4?U=Math.round(W.cursorConfig.pageSize/2)*z.value:U=z.value;const x=(z.direction===1?-1:1)*U;return W.getScrollTop()+x*W.cursorConfig.lineHeight}}D.EditorScrollImpl=J,D.EditorScroll=(0,b.registerEditorCommand)(new J),D.ScrollLineUp=(0,b.registerEditorCommand)(new class extends n{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(G,W){D.EditorScroll._runEditorScroll(G,W.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),D.ScrollPageUp=(0,b.registerEditorCommand)(new class extends n{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(G,W){D.EditorScroll._runEditorScroll(G,W.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),D.ScrollLineDown=(0,b.registerEditorCommand)(new class extends n{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(G,W){D.EditorScroll._runEditorScroll(G,W.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),D.ScrollPageDown=(0,b.registerEditorCommand)(new class extends n{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(G,W){D.EditorScroll._runEditorScroll(G,W.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class Z extends n{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,z){W.model.pushStackElement(),W.setCursorStates(z.source,3,[i.CursorMoveCommands.word(W,W.getPrimaryCursorState(),this._inSelectionMode,z.position)]),W.revealPrimaryCursor(z.source,!0)}}D.WordSelect=(0,b.registerEditorCommand)(new Z({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),D.WordSelectDrag=(0,b.registerEditorCommand)(new Z({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),D.LastCursorWordSelect=(0,b.registerEditorCommand)(new class extends n{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(G,W){const z=G.getLastAddedCursorIndex(),U=G.getCursorStates(),x=U.slice(0),X=U[z];x[z]=i.CursorMoveCommands.word(G,X,X.modelState.hasSelection(),W.position),G.model.pushStackElement(),G.setCursorStates(W.source,3,x)}});class ie extends n{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,z){W.model.pushStackElement(),W.setCursorStates(z.source,3,[i.CursorMoveCommands.line(W,W.getPrimaryCursorState(),this._inSelectionMode,z.position,z.viewPosition)]),W.revealPrimaryCursor(z.source,!1)}}D.LineSelect=(0,b.registerEditorCommand)(new ie({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),D.LineSelectDrag=(0,b.registerEditorCommand)(new ie({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class ne extends n{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,z){const U=W.getLastAddedCursorIndex(),x=W.getCursorStates(),X=x.slice(0);X[U]=i.CursorMoveCommands.line(W,x[U],this._inSelectionMode,z.position,z.viewPosition),W.model.pushStackElement(),W.setCursorStates(z.source,3,X)}}D.LastCursorLineSelect=(0,b.registerEditorCommand)(new ne({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),D.LastCursorLineSelectDrag=(0,b.registerEditorCommand)(new ne({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),D.CancelSelection=(0,b.registerEditorCommand)(new class extends n{constructor(){super({id:"cancelSelection",precondition:l.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(G,W){G.model.pushStackElement(),G.setCursorStates(W.source,3,[i.CursorMoveCommands.cancelSelection(G,G.getPrimaryCursorState())]),G.revealPrimaryCursor(W.source,!0)}}),D.RemoveSecondaryCursors=(0,b.registerEditorCommand)(new class extends n{constructor(){super({id:"removeSecondaryCursors",precondition:l.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:o+1,kbExpr:l.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(G,W){G.model.pushStackElement(),G.setCursorStates(W.source,3,[G.getPrimaryCursorState()]),G.revealPrimaryCursor(W.source,!0),(0,I.status)(y.localize(2,null))}}),D.RevealLine=(0,b.registerEditorCommand)(new class extends n{constructor(){super({id:"revealLine",precondition:void 0,description:u.description})}runCoreEditorCommand(G,W){const z=W,U=z.lineNumber||0;let x=typeof U=="number"?U+1:parseInt(U)+1;x<1&&(x=1);const X=G.model.getLineCount();x>X&&(x=X);const le=new c.Range(x,1,x,G.model.getLineMaxColumn(x));let fe=0;if(z.at)switch(z.at){case u.RawAtArgument.Top:fe=3;break;case u.RawAtArgument.Center:fe=1;break;case u.RawAtArgument.Bottom:fe=4;break;default:break}const $=G.coordinatesConverter.convertModelRangeToViewRange(le);G.revealRange(W.source,!1,$,fe,0)}}),D.SelectAll=new class extends f{constructor(){super(b.SelectAllCommand)}runDOMCommand(){N.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(G,W,z){const U=W._getViewModel();!U||this.runCoreEditorCommand(U,z)}runCoreEditorCommand(G,W){G.model.pushStackElement(),G.setCursorStates("keyboard",3,[i.CursorMoveCommands.selectAll(G,G.getPrimaryCursorState())])}},D.SetSelection=(0,b.registerEditorCommand)(new class extends n{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(G,W){G.model.pushStackElement(),G.setCursorStates(W.source,3,[h.CursorState.fromModelSelection(W.selection)])}})})(S=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const v=a.ContextKeyExpr.and(l.EditorContextKeys.textInputFocus,l.EditorContextKeys.columnSelection);function m(D,M){s.KeybindingsRegistry.registerKeybindingRule({id:D,primary:M,when:v,weight:o+1})}m(S.CursorColumnSelectLeft.id,1024|15),m(S.CursorColumnSelectRight.id,1024|17),m(S.CursorColumnSelectUp.id,1024|16),m(S.CursorColumnSelectPageUp.id,1024|11),m(S.CursorColumnSelectDown.id,1024|18),m(S.CursorColumnSelectPageDown.id,1024|12);function _(D){return D.register(),D}var L;(function(D){class M extends b.EditorCommand{runEditorCommand(F,R,A){const P=R._getViewModel();!P||this.runCoreEditingCommand(R,P,A||{})}}D.CoreEditingCommand=M,D.LineBreakInsert=(0,b.registerEditorCommand)(new class extends M{constructor(){super({id:"lineBreakInsert",precondition:l.EditorContextKeys.writable,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(O,F,R){O.pushUndoStop(),O.executeCommands(this.id,t.TypeOperations.lineBreakInsert(F.cursorConfig,F.model,F.getCursorStates().map(A=>A.modelState.selection)))}}),D.Outdent=(0,b.registerEditorCommand)(new class extends M{constructor(){super({id:"outdent",precondition:l.EditorContextKeys.writable,kbOpts:{weight:o,kbExpr:a.ContextKeyExpr.and(l.EditorContextKeys.editorTextFocus,l.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(O,F,R){O.pushUndoStop(),O.executeCommands(this.id,t.TypeOperations.outdent(F.cursorConfig,F.model,F.getCursorStates().map(A=>A.modelState.selection))),O.pushUndoStop()}}),D.Tab=(0,b.registerEditorCommand)(new class extends M{constructor(){super({id:"tab",precondition:l.EditorContextKeys.writable,kbOpts:{weight:o,kbExpr:a.ContextKeyExpr.and(l.EditorContextKeys.editorTextFocus,l.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(O,F,R){O.pushUndoStop(),O.executeCommands(this.id,t.TypeOperations.tab(F.cursorConfig,F.model,F.getCursorStates().map(A=>A.modelState.selection))),O.pushUndoStop()}}),D.DeleteLeft=(0,b.registerEditorCommand)(new class extends M{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(O,F,R){const[A,P]=g.DeleteOperations.deleteLeft(F.getPrevEditOperationType(),F.cursorConfig,F.model,F.getCursorStates().map(E=>E.modelState.selection),F.getCursorAutoClosedCharacters());A&&O.pushUndoStop(),O.executeCommands(this.id,P),F.setPrevEditOperationType(2)}}),D.DeleteRight=(0,b.registerEditorCommand)(new class extends M{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:o,kbExpr:l.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(O,F,R){const[A,P]=g.DeleteOperations.deleteRight(F.getPrevEditOperationType(),F.cursorConfig,F.model,F.getCursorStates().map(E=>E.modelState.selection));A&&O.pushUndoStop(),O.executeCommands(this.id,P),F.setPrevEditOperationType(3)}}),D.Undo=new class extends f{constructor(){super(b.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(O,F,R){if(!(!F.hasModel()||F.getOption(80)===!0))return F.getModel().undo()}},D.Redo=new class extends f{constructor(){super(b.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(O,F,R){if(!(!F.hasModel()||F.getOption(80)===!0))return F.getModel().redo()}}})(L=e.CoreEditingCommands||(e.CoreEditingCommands={}));class w extends b.Command{constructor(M,O,F){super({id:M,precondition:void 0,description:F});this._handlerId=O}runCommand(M,O){const F=M.get(C.ICodeEditorService).getFocusedCodeEditor();!F||F.trigger("keyboard",this._handlerId,O)}}function k(D,M){_(new w("default:"+D,D)),_(new w(D,D,M))}k("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),k("replacePreviousChar"),k("compositionType"),k("compositionStart"),k("compositionEnd"),k("paste"),k("cut")}),define(ee[676],te([0,1,159,14,17]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class I{constructor(C,p,h,g){this.configuration=C,this.viewModel=p,this.userInputEvents=h,this.commandDelegate=g}paste(C,p,h,g){this.commandDelegate.paste(C,p,h,g)}type(C){this.commandDelegate.type(C)}compositionType(C,p,h,g){this.commandDelegate.compositionType(C,p,h,g)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(C){y.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:C})}_validateViewColumn(C){const p=this.viewModel.getLineMinColumn(C.lineNumber);return C.column<p?new N.Position(C.lineNumber,p):C}_hasMulticursorModifier(C){switch(this.configuration.options.get(69)){case"altKey":return C.altKey;case"ctrlKey":return C.ctrlKey;case"metaKey":return C.metaKey;default:return!1}}_hasNonMulticursorModifier(C){switch(this.configuration.options.get(69)){case"altKey":return C.ctrlKey||C.metaKey;case"ctrlKey":return C.altKey||C.metaKey;case"metaKey":return C.ctrlKey||C.altKey;default:return!1}}dispatchMouse(C){const p=this.configuration.options,h=T.isLinux&&p.get(95),g=p.get(18);C.middleButton&&!h?this._columnSelect(C.position,C.mouseColumn,C.inSelectionMode):C.startedOnLineNumbers?this._hasMulticursorModifier(C)?C.inSelectionMode?this._lastCursorLineSelect(C.position):this._createCursor(C.position,!0):C.inSelectionMode?this._lineSelectDrag(C.position):this._lineSelect(C.position):C.mouseDownCount>=4?this._selectAll():C.mouseDownCount===3?this._hasMulticursorModifier(C)?C.inSelectionMode?this._lastCursorLineSelectDrag(C.position):this._lastCursorLineSelect(C.position):C.inSelectionMode?this._lineSelectDrag(C.position):this._lineSelect(C.position):C.mouseDownCount===2?this._hasMulticursorModifier(C)?this._lastCursorWordSelect(C.position):C.inSelectionMode?this._wordSelectDrag(C.position):this._wordSelect(C.position):this._hasMulticursorModifier(C)?this._hasNonMulticursorModifier(C)||(C.shiftKey?this._columnSelect(C.position,C.mouseColumn,!0):C.inSelectionMode?this._lastCursorMoveToSelect(C.position):this._createCursor(C.position,!1)):C.inSelectionMode?C.altKey?this._columnSelect(C.position,C.mouseColumn,!0):g?this._columnSelect(C.position,C.mouseColumn,!0):this._moveToSelect(C.position):this.moveTo(C.position)}_usualArgs(C){return C=this._validateViewColumn(C),{source:"mouse",position:this._convertViewToModelPosition(C),viewPosition:C}}moveTo(C){y.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(C))}_moveToSelect(C){y.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(C))}_columnSelect(C,p,h){C=this._validateViewColumn(C),y.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(C),viewPosition:C,mouseColumn:p,doColumnSelect:h})}_createCursor(C,p){C=this._validateViewColumn(C),y.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(C),viewPosition:C,wholeLine:p})}_lastCursorMoveToSelect(C){y.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(C))}_wordSelect(C){y.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(C))}_wordSelectDrag(C){y.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(C))}_lastCursorWordSelect(C){y.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(C))}_lineSelect(C){y.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(C))}_lineSelectDrag(C){y.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(C))}_lastCursorLineSelect(C){y.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(C))}_lastCursorLineSelectDrag(C){y.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(C))}_selectAll(){y.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(C){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(C)}emitKeyDown(C){this.userInputEvents.emitKeyDown(C)}emitKeyUp(C){this.userInputEvents.emitKeyUp(C)}emitContextMenu(C){this.userInputEvents.emitContextMenu(C)}emitMouseMove(C){this.userInputEvents.emitMouseMove(C)}emitMouseLeave(C){this.userInputEvents.emitMouseLeave(C)}emitMouseUp(C){this.userInputEvents.emitMouseUp(C)}emitMouseDown(C){this.userInputEvents.emitMouseDown(C)}emitMouseDrag(C){this.userInputEvents.emitMouseDrag(C)}emitMouseDrop(C){this.userInputEvents.emitMouseDrop(C)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(C){this.userInputEvents.emitMouseWheel(C)}}e.ViewController=I}),define(ee[677],te([0,1,7,34,21,32,13,674,618,676,281,596,50,419,617,420,613,180,672,272,611,421,237,422,614,423,619,424,620,615,616,621,425,14,3,116,413,415,118,12,195]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S,v,m,_,L,w,k,D,M,O,F,R,A,P,E,B,V,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class K extends B.ViewEventHandler{constructor(Z,ie,ne,G,W,z){super();this._selections=[new T.Selection(1,1,1,1)],this._renderAnimationFrame=null;const U=new h.ViewController(ie,G,W,Z);this._context=new P.ViewContext(ie,ne.getColorTheme(),G),this._configPixelRatio=this._context.configuration.options.get(128),this._context.addEventHandler(this),this._register(ne.onDidColorThemeChange(re=>{this._context.theme.update(re),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new p.TextAreaHandler(this._context,U,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,I.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,I.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,I.createFastDomNode)(document.createElement("div")),t.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new a.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new d.ViewLines(this._context,this._linesContent),this._viewZones=new O.ViewZones(this._context),this._viewParts.push(this._viewZones);const x=new _.DecorationsOverviewRuler(this._context);this._viewParts.push(x);const X=new k.ScrollDecorationViewPart(this._context);this._viewParts.push(X);const le=new i.ContentViewOverlays(this._context);this._viewParts.push(le),le.addDynamicOverlay(new c.CurrentLineHighlightOverlay(this._context)),le.addDynamicOverlay(new D.SelectionsOverlay(this._context)),le.addDynamicOverlay(new o.IndentGuidesOverlay(this._context)),le.addDynamicOverlay(new l.DecorationsOverlay(this._context));const fe=new i.MarginViewOverlays(this._context);this._viewParts.push(fe),fe.addDynamicOverlay(new c.CurrentLineMarginHighlightOverlay(this._context)),fe.addDynamicOverlay(new s.GlyphMarginOverlay(this._context)),fe.addDynamicOverlay(new S.MarginViewLineDecorationsOverlay(this._context)),fe.addDynamicOverlay(new u.LinesDecorationsOverlay(this._context)),fe.addDynamicOverlay(new n.LineNumbersOverlay(this._context));const $=new f.Margin(this._context);$.getDomNode().appendChild(this._viewZones.marginDomNode),$.getDomNode().appendChild(fe.getDomNode()),this._viewParts.push($),this._contentWidgets=new r.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new M.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new m.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const H=new w.Rulers(this._context);this._viewParts.push(H);const Q=new v.Minimap(this._context);if(this._viewParts.push(Q),x){const re=this._scrollbar.getOverviewRulerLayoutInfo();re.parent.insertBefore(x.getDomNode(),re.insertBefore)}this._linesContent.appendChild(le.getDomNode()),this._linesContent.appendChild(H.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild($.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(X.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(Q.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),z?z.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new C.PointerHandler(this._context,U,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:Z=>{this._textAreaHandler.textArea.domNode.dispatchEvent(Z)},getLastRenderData:()=>{const Z=this._viewCursors.getLastRenderData()||[],ie=this._textAreaHandler.getLastRenderData();return new j.PointerHandlerLastRenderData(Z,ie)},shouldSuppressMouseDownOnViewZone:Z=>this._viewZones.shouldSuppressMouseDownOnViewZone(Z),shouldSuppressMouseDownOnWidget:Z=>this._contentWidgets.shouldSuppressMouseDownOnWidget(Z),getPositionFromDOMInfo:(Z,ie)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(Z,ie)),visibleRangeForPosition:(Z,ie)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new F.Position(Z,ie))),getLineWidth:Z=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(Z))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(Z,ie)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new F.Position(Z,ie)))}}_applyLayout(){const ie=this._context.configuration.options.get(130);this.domNode.setWidth(ie.width),this.domNode.setHeight(ie.height),this._overflowGuardContainer.setWidth(ie.width),this._overflowGuardContainer.setHeight(ie.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const Z=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(127)+" "+(0,V.getThemeTypeSelector)(this._context.theme.type)+Z}handleEvents(Z){super.handleEvents(Z),this._scheduleRender()}onConfigurationChanged(Z){return this._configPixelRatio=this._context.configuration.options.get(128),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(Z){return this._selections=Z.selections,!1}onFocusChanged(Z){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(Z){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const Z of this._viewParts)Z.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=y.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){Y(()=>this._actualRender())}_getViewPartsToRender(){let Z=[],ie=0;for(const ne of this._viewParts)ne.shouldRender()&&(Z[ie++]=ne);return Z}_actualRender(){if(!y.isInDOM(this.domNode.domNode))return;let Z=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&Z.length===0)return;const ie=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(ie.startLineNumber,ie.endLineNumber,ie.centeredLineNumber);const ne=new E.ViewportData(this._selections,ie,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(ne),this._viewLines.shouldRender()&&(this._viewLines.renderText(ne),this._viewLines.onDidRender(),Z=this._getViewPartsToRender());const G=new A.RenderingContext(this._context.viewLayout,ne,this._viewLines);for(const W of Z)W.prepareRender(G);for(const W of Z)W.render(G),W.onDidRender();Math.abs(N.getPixelRatio()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(Z){this._scrollbar.delegateVerticalScrollbarMouseDown(Z)}restoreState(Z){this._context.model.setScrollPosition({scrollTop:Z.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:Z.scrollLeft},1)}getOffsetForColumn(Z,ie){const ne=this._context.model.validateModelPosition({lineNumber:Z,column:ie}),G=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(ne);this._flushAccumulatedAndRenderNow();const W=this._viewLines.visibleRangeForPosition(new F.Position(G.lineNumber,G.column));return W?W.left:-1}getTargetAtClientPoint(Z,ie){const ne=this._pointerHandler.getTargetAtClientPoint(Z,ie);return ne?g.ViewUserInputEvents.convertViewToModelMouseTarget(ne,this._context.model.coordinatesConverter):null}createOverviewRuler(Z){return new L.OverviewRuler(this._context,Z)}change(Z){this._viewZones.changeViewZones(Z),this._scheduleRender()}render(Z,ie){if(ie){this._viewLines.forceShouldRender();for(const ne of this._viewParts)ne.forceShouldRender()}Z?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(Z){this._textAreaHandler.setAriaOptions(Z)}addContentWidget(Z){this._contentWidgets.addWidget(Z.widget),this.layoutContentWidget(Z),this._scheduleRender()}layoutContentWidget(Z){let ie=Z.position&&Z.position.range||null;if(ie===null){const G=Z.position?Z.position.position:null;G!==null&&(ie=new R.Range(G.lineNumber,G.column,G.lineNumber,G.column))}const ne=Z.position?Z.position.preference:null;this._contentWidgets.setWidgetPosition(Z.widget,ie,ne),this._scheduleRender()}removeContentWidget(Z){this._contentWidgets.removeWidget(Z.widget),this._scheduleRender()}addOverlayWidget(Z){this._overlayWidgets.addWidget(Z.widget),this.layoutOverlayWidget(Z),this._scheduleRender()}layoutOverlayWidget(Z){const ie=Z.position?Z.position.preference:null;this._overlayWidgets.setWidgetPosition(Z.widget,ie)&&this._scheduleRender()}removeOverlayWidget(Z){this._overlayWidgets.removeWidget(Z.widget),this._scheduleRender()}}e.View=K;function Y(J){try{return J()}catch(Z){(0,b.onUnexpectedError)(Z)}}}),define(ee[678],te([0,1,45,14,3,21]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class b{constructor(p){this._selTrackedRange=null,this._trackSelection=!0,this._setState(p,new y.SingleCursorState(new T.Range(1,1,1,1),0,new N.Position(1,1),0),new y.SingleCursorState(new T.Range(1,1,1,1),0,new N.Position(1,1),0))}dispose(p){this._removeTrackedRange(p)}startTrackingSelection(p){this._trackSelection=!0,this._updateTrackedRange(p)}stopTrackingSelection(p){this._trackSelection=!1,this._removeTrackedRange(p)}_updateTrackedRange(p){!this._trackSelection||(this._selTrackedRange=p.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(p){this._selTrackedRange=p.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new y.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(p){const h=p.model._getTrackedRange(this._selTrackedRange);return I.Selection.fromRange(h,this.modelState.selection.getDirection())}ensureValidState(p){this._setState(p,this.modelState,this.viewState)}setState(p,h,g){this._setState(p,h,g)}static _validatePositionWithCache(p,h,g,i){return h.equals(g)?i:p.normalizePosition(h,2)}static _validateViewState(p,h){const g=h.position,i=h.selectionStart.getStartPosition(),t=h.selectionStart.getEndPosition(),r=p.normalizePosition(g,2),c=this._validatePositionWithCache(p,i,g,r),l=this._validatePositionWithCache(p,t,i,c);return g.equals(r)&&i.equals(c)&&t.equals(l)?h:new y.SingleCursorState(T.Range.fromPositions(c,l),h.selectionStartLeftoverVisibleColumns+i.column-c.column,r,h.leftoverVisibleColumns+g.column-r.column)}_setState(p,h,g){if(g&&(g=b._validateViewState(p.viewModel,g)),h){const i=p.model.validateRange(h.selectionStart),t=h.selectionStart.equalsRange(i)?h.selectionStartLeftoverVisibleColumns:0,r=p.model.validatePosition(h.position),c=h.position.equals(r)?h.leftoverVisibleColumns:0;h=new y.SingleCursorState(i,t,r,c)}else{if(!g)return;const i=p.model.validateRange(p.coordinatesConverter.convertViewRangeToModelRange(g.selectionStart)),t=p.model.validatePosition(p.coordinatesConverter.convertViewPositionToModelPosition(g.position));h=new y.SingleCursorState(i,g.selectionStartLeftoverVisibleColumns,t,g.leftoverVisibleColumns)}if(g){const i=p.coordinatesConverter.validateViewRange(g.selectionStart,h.selectionStart),t=p.coordinatesConverter.validateViewPosition(g.position,h.position);g=new y.SingleCursorState(i,h.selectionStartLeftoverVisibleColumns,t,h.leftoverVisibleColumns)}else{const i=p.coordinatesConverter.convertModelPositionToViewPosition(new N.Position(h.selectionStart.startLineNumber,h.selectionStart.startColumn)),t=p.coordinatesConverter.convertModelPositionToViewPosition(new N.Position(h.selectionStart.endLineNumber,h.selectionStart.endColumn)),r=new T.Range(i.lineNumber,i.column,t.lineNumber,t.column),c=p.coordinatesConverter.convertModelPositionToViewPosition(h.position);g=new y.SingleCursorState(r,h.selectionStartLeftoverVisibleColumns,c,h.leftoverVisibleColumns)}this.modelState=h,this.viewState=g,this._updateTrackedRange(p)}}e.Cursor=b}),define(ee[679],te([0,1,45,678,21]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class I{constructor(C){this.context=C,this.primaryCursor=new N.Cursor(C),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let C=0,p=this.secondaryCursors.length;C<p;C++)this.secondaryCursors[C].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let C=0,p=this.secondaryCursors.length;C<p;C++)this.secondaryCursors[C].stopTrackingSelection(this.context)}updateContext(C){this.context=C}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let C=0,p=this.secondaryCursors.length;C<p;C++)this.secondaryCursors[C].ensureValidState(this.context)}readSelectionFromMarkers(){let C=[];C[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let p=0,h=this.secondaryCursors.length;p<h;p++)C[p+1]=this.secondaryCursors[p].readSelectionFromMarkers(this.context);return C}getAll(){let C=[];C[0]=this.primaryCursor.asCursorState();for(let p=0,h=this.secondaryCursors.length;p<h;p++)C[p+1]=this.secondaryCursors[p].asCursorState();return C}getViewPositions(){let C=[];C[0]=this.primaryCursor.viewState.position;for(let p=0,h=this.secondaryCursors.length;p<h;p++)C[p+1]=this.secondaryCursors[p].viewState.position;return C}getTopMostViewPosition(){let C=this.primaryCursor.viewState.position;for(let p=0,h=this.secondaryCursors.length;p<h;p++){const g=this.secondaryCursors[p].viewState.position;g.isBefore(C)&&(C=g)}return C}getBottomMostViewPosition(){let C=this.primaryCursor.viewState.position;for(let p=0,h=this.secondaryCursors.length;p<h;p++){const g=this.secondaryCursors[p].viewState.position;C.isBeforeOrEqual(g)&&(C=g)}return C}getSelections(){let C=[];C[0]=this.primaryCursor.modelState.selection;for(let p=0,h=this.secondaryCursors.length;p<h;p++)C[p+1]=this.secondaryCursors[p].modelState.selection;return C}getViewSelections(){let C=[];C[0]=this.primaryCursor.viewState.selection;for(let p=0,h=this.secondaryCursors.length;p<h;p++)C[p+1]=this.secondaryCursors[p].viewState.selection;return C}setSelections(C){this.setStates(y.CursorState.fromModelSelections(C))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(C){C!==null&&(this.primaryCursor.setState(this.context,C[0].modelState,C[0].viewState),this._setSecondaryStates(C.slice(1)))}_setSecondaryStates(C){const p=this.secondaryCursors.length,h=C.length;if(p<h){let g=h-p;for(let i=0;i<g;i++)this._addSecondaryCursor()}else if(p>h){let g=p-h;for(let i=0;i<g;i++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let g=0;g<h;g++)this.secondaryCursors[g].setState(this.context,C[g].modelState,C[g].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new N.Cursor(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(C){this.lastAddedCursorIndex>=C+1&&this.lastAddedCursorIndex--,this.secondaryCursors[C].dispose(this.context),this.secondaryCursors.splice(C,1)}_getAll(){let C=[];C[0]=this.primaryCursor;for(let p=0,h=this.secondaryCursors.length;p<h;p++)C[p+1]=this.secondaryCursors[p];return C}normalize(){if(this.secondaryCursors.length===0)return;let C=this._getAll(),p=[];for(let h=0,g=C.length;h<g;h++)p.push({index:h,selection:C[h].modelState.selection});p.sort((h,g)=>h.selection.startLineNumber===g.selection.startLineNumber?h.selection.startColumn-g.selection.startColumn:h.selection.startLineNumber-g.selection.startLineNumber);for(let h=0;h<p.length-1;h++){const g=p[h],i=p[h+1],t=g.selection,r=i.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let c;if(r.isEmpty()||t.isEmpty()?c=r.getStartPosition().isBeforeOrEqual(t.getEndPosition()):c=r.getStartPosition().isBefore(t.getEndPosition()),c){const l=g.index<i.index?h:h+1,a=g.index<i.index?h+1:h,s=p[a].index,o=p[l].index,n=p[a].selection,d=p[l].selection;if(!n.equalsSelection(d)){const u=n.plusRange(d),f=n.selectionStartLineNumber===n.startLineNumber&&n.selectionStartColumn===n.startColumn,S=d.selectionStartLineNumber===d.startLineNumber&&d.selectionStartColumn===d.startColumn;let v;s===this.lastAddedCursorIndex?(v=f,this.lastAddedCursorIndex=o):v=S;let m;v?m=new T.Selection(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn):m=new T.Selection(u.endLineNumber,u.endColumn,u.startLineNumber,u.startColumn),p[l].selection=m;const _=y.CursorState.fromModelSelection(m);C[o].setState(this.context,_.modelState,_.viewState)}for(const u of p)u.index>s&&u.index--;C.splice(s,1),p.splice(a,1),this._removeSecondaryCursor(s-1),h--}}}}e.CursorCollection=I}),define(ee[282],te([0,1,13,8,679,45,197,198,3,21,89,179,2,181]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=e.CursorModelState=void 0;class c{constructor(n,d){this.modelVersionId=n.getVersionId(),this.cursorState=d.getCursorStates()}equals(n){if(!n||this.modelVersionId!==n.modelVersionId||this.cursorState.length!==n.cursorState.length)return!1;for(let d=0,u=this.cursorState.length;d<u;d++)if(!this.cursorState[d].equals(n.cursorState[d]))return!1;return!0}}e.CursorModelState=c;class l{constructor(n,d,u){this._model=n,this._autoClosedCharactersDecorations=d,this._autoClosedEnclosingDecorations=u}static getAllAutoClosedCharacters(n){let d=[];for(const u of n)d=d.concat(u.getAutoClosedCharactersRanges());return d}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let n=[];for(let d=0;d<this._autoClosedCharactersDecorations.length;d++){const u=this._model.getDecorationRange(this._autoClosedCharactersDecorations[d]);u&&n.push(u)}return n}isValid(n){let d=[];for(let u=0;u<this._autoClosedEnclosingDecorations.length;u++){const f=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[u]);if(f&&(d.push(f),f.startLineNumber!==f.endLineNumber))return!1}d.sort(p.Range.compareRangesUsingStarts),n.sort(p.Range.compareRangesUsingStarts);for(let u=0;u<n.length;u++)if(u>=d.length||!d[u].strictContainsRange(n[u]))return!1;return!0}}class a extends t.Disposable{constructor(n,d,u,f){super();this._model=n,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=d,this._coordinatesConverter=u,this.context=new I.CursorContext(this._model,this._viewModel,this._coordinatesConverter,f),this._cursors=new T.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,t.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(n){this.context=new I.CursorContext(this._model,this._viewModel,this._coordinatesConverter,n),this._cursors.updateContext(this.context)}onLineMappingChanged(n){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(n,"viewModel",0,this.getCursorStates())}setHasFocus(n){this._hasFocus=n}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let n=this._cursors.getSelections();for(let d=0;d<this._autoClosedActions.length;d++){const u=this._autoClosedActions[d];u.isValid(n)||(u.dispose(),this._autoClosedActions.splice(d,1),d--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(n,d,u,f){let S=!1;f!==null&&f.length>a.MAX_CURSOR_COUNT&&(f=f.slice(0,a.MAX_CURSOR_COUNT),S=!0);const v=new c(this._model,this);return this._cursors.setStates(f),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(n,d,u,v,S)}setCursorColumnSelectData(n){this._columnSelectData=n}revealPrimary(n,d,u,f){const S=this._cursors.getViewPositions();if(S.length>1){this._emitCursorRevealRange(n,d,null,this._cursors.getViewSelections(),0,u,f);return}else{const v=S[0],m=new p.Range(v.lineNumber,v.column,v.lineNumber,v.column);this._emitCursorRevealRange(n,d,m,null,0,u,f)}}_revealPrimaryCursor(n,d,u,f,S){const v=this._cursors.getViewPositions();if(v.length>1)this._emitCursorRevealRange(n,d,null,this._cursors.getViewSelections(),u,f,S);else{const m=v[0],_=new p.Range(m.lineNumber,m.column,m.lineNumber,m.column);this._emitCursorRevealRange(n,d,_,null,u,f,S)}}_emitCursorRevealRange(n,d,u,f,S,v,m){n.emitViewEvent(new i.ViewRevealRangeRequestEvent(d,u,f,S,v,m))}saveState(){let n=[];const d=this._cursors.getSelections();for(let u=0,f=d.length;u<f;u++){const S=d[u];n.push({inSelectionMode:!S.isEmpty(),selectionStart:{lineNumber:S.selectionStartLineNumber,column:S.selectionStartColumn},position:{lineNumber:S.positionLineNumber,column:S.positionColumn}})}return n}restoreState(n,d){let u=[];for(let f=0,S=d.length;f<S;f++){const v=d[f];let m=1,_=1;v.position&&v.position.lineNumber&&(m=v.position.lineNumber),v.position&&v.position.column&&(_=v.position.column);let L=m,w=_;v.selectionStart&&v.selectionStart.lineNumber&&(L=v.selectionStart.lineNumber),v.selectionStart&&v.selectionStart.column&&(w=v.selectionStart.column),u.push({selectionStartLineNumber:L,selectionStartColumn:w,positionLineNumber:m,positionColumn:_})}this.setStates(n,"restoreState",0,I.CursorState.fromModelSelections(u)),this.revealPrimary(n,"restoreState",!0,1)}onModelContentChanged(n,d){if(d instanceof g.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(n,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=d.versionId,this._isHandling)return;const u=d.containsEvent(1);if(this._prevEditOperationType=0,u)this._cursors.dispose(),this._cursors=new T.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(n,"model",1,null,!1);else if(this._hasFocus&&d.resultingSelection&&d.resultingSelection.length>0){const f=I.CursorState.fromModelSelections(d.resultingSelection);this.setStates(n,"modelChange",d.isUndoing?5:d.isRedoing?6:2,f)&&this._revealPrimaryCursor(n,"modelChange",0,!0,0)}else{const f=this._cursors.readSelectionFromMarkers();this.setStates(n,"modelChange",2,I.CursorState.fromModelSelections(f))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const n=this._cursors.getPrimaryCursor(),d=n.viewState.selectionStart.getStartPosition(),u=n.viewState.position;return{isReal:!1,fromViewLineNumber:d.lineNumber,fromViewVisualColumn:I.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,d),toViewLineNumber:u.lineNumber,toViewVisualColumn:I.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,u)}}getSelections(){return this._cursors.getSelections()}setSelections(n,d,u,f){this.setStates(n,d,f,I.CursorState.fromModelSelections(u))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(n){this._prevEditOperationType=n}_pushAutoClosedAction(n,d){let u=[],f=[];for(let m=0,_=n.length;m<_;m++)u.push({range:n[m],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),f.push({range:d[m],options:{description:"auto-closed-enclosing",stickiness:1}});const S=this._model.deltaDecorations([],u),v=this._model.deltaDecorations([],f);this._autoClosedActions.push(new l(this._model,S,v))}_executeEditOperation(n){if(!n)return;n.shouldPushStackElementBefore&&this._model.pushStackElement();const d=s.executeCommands(this._model,this._cursors.getSelections(),n.commands);if(d){this._interpretCommandResult(d);let u=[],f=[];for(let S=0;S<n.commands.length;S++){const v=n.commands[S];v instanceof C.TypeWithAutoClosingCommand&&v.enclosingRange&&v.closeCharacterRange&&(u.push(v.closeCharacterRange),f.push(v.enclosingRange))}u.length>0&&this._pushAutoClosedAction(u,f),this._prevEditOperationType=n.type}n.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(n){(!n||n.length===0)&&(n=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(n),this._cursors.normalize()}_emitStateChangedIfNecessary(n,d,u,f,S){const v=new c(this._model,this);if(v.equals(f))return!1;const m=this._cursors.getSelections(),_=this._cursors.getViewSelections();if(n.emitViewEvent(new i.ViewCursorStateChangedEvent(_,m)),!f||f.cursorState.length!==v.cursorState.length||v.cursorState.some((L,w)=>!L.modelState.equals(f.cursorState[w].modelState))){const L=f?f.cursorState.map(k=>k.modelState.selection):null,w=f?f.modelVersionId:0;n.emitOutgoingEvent(new r.CursorStateChangedEvent(L,m,w,v.modelVersionId,d||"keyboard",u,S))}return!0}_findAutoClosingPairs(n){if(!n.length)return null;let d=[];for(let u=0,f=n.length;u<f;u++){const S=n[u];if(!S.text||S.text.indexOf(`
`)>=0)return null;const v=S.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!v)return null;const m=v[1],_=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(m);if(!_||_.length!==1)return null;const L=_[0].open,w=S.text.length-v[2].length-1,k=S.text.lastIndexOf(L,w-1);if(k===-1)return null;d.push([k,w])}return d}executeEdits(n,d,u,f){let S=null;d==="snippet"&&(S=this._findAutoClosingPairs(u)),S&&(u[0]._isTracked=!0);let v=[],m=[];const _=this._model.pushEditOperations(this.getSelections(),u,L=>{if(S)for(let k=0,D=S.length;k<D;k++){const[M,O]=S[k],F=L[k],R=F.range.startLineNumber,A=F.range.startColumn-1+M,P=F.range.startColumn-1+O;v.push(new p.Range(R,P+1,R,P+2)),m.push(new p.Range(R,A+1,R,P+2))}const w=f(L);return w&&(this._isHandling=!0),w});_&&(this._isHandling=!1,this.setSelections(n,d,_,0)),v.length>0&&this._pushAutoClosedAction(v,m)}_executeEdit(n,d,u,f=0){if(this.context.cursorConfig.readOnly)return;const S=new c(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),n()}catch(v){(0,y.onUnexpectedError)(v)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(d,u,f,S,!1)&&this._revealPrimaryCursor(d,u,0,!0,0)}setIsDoingComposition(n){this._isDoingComposition=n}getAutoClosedCharacters(){return l.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(n){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(n,d){this._executeEdit(()=>{d==="keyboard"&&(this._executeEditOperation(C.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},n,d)}type(n,d,u){this._executeEdit(()=>{if(u==="keyboard"){const f=d.length;let S=0;for(;S<f;){const v=N.nextCharLength(d,S),m=d.substr(S,v);this._executeEditOperation(C.TypeOperations.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),m)),S+=v}}else this._executeEditOperation(C.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),d))},n,u)}compositionType(n,d,u,f,S,v){if(d.length===0&&u===0&&f===0){if(S!==0){const m=this.getSelections().map(_=>{const L=_.getPosition();return new h.Selection(L.lineNumber,L.column+S,L.lineNumber,L.column+S)});this.setSelections(n,v,m,0)}return}this._executeEdit(()=>{this._executeEditOperation(C.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),d,u,f,S))},n,v)}paste(n,d,u,f,S){this._executeEdit(()=>{this._executeEditOperation(C.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),d,u,f||[]))},n,S,4)}cut(n,d){this._executeEdit(()=>{this._executeEditOperation(b.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},n,d)}executeCommand(n,d,u){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new I.EditOperationResult(0,[d],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},n,u)}executeCommands(n,d,u){this._executeEdit(()=>{this._executeEditOperation(new I.EditOperationResult(0,d,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},n,u)}}e.CursorsController=a,a.MAX_CURSOR_COUNT=1e4;class s{static executeCommands(n,d,u){const f={model:n,selectionsBefore:d,trackedRanges:[],trackedRangesDirection:[]},S=this._innerExecuteCommands(f,u);for(let v=0,m=f.trackedRanges.length;v<m;v++)f.model._setTrackedRange(f.trackedRanges[v],null,0);return S}static _innerExecuteCommands(n,d){if(this._arrayIsEmpty(d))return null;const u=this._getEditOperations(n,d);if(u.operations.length===0)return null;const f=u.operations,S=this._getLoserCursorMap(f);if(S.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let v=[];for(let L=0,w=f.length;L<w;L++)S.hasOwnProperty(f[L].identifier.major.toString())||v.push(f[L]);u.hadTrackedEditOperation&&v.length>0&&(v[0]._isTracked=!0);let m=n.model.pushEditOperations(n.selectionsBefore,v,L=>{let w=[];for(let M=0;M<n.selectionsBefore.length;M++)w[M]=[];for(const M of L)!M.identifier||w[M.identifier.major].push(M);const k=(M,O)=>M.identifier.minor-O.identifier.minor;let D=[];for(let M=0;M<n.selectionsBefore.length;M++)w[M].length>0?(w[M].sort(k),D[M]=d[M].computeCursorState(n.model,{getInverseEditOperations:()=>w[M],getTrackedSelection:O=>{const F=parseInt(O,10),R=n.model._getTrackedRange(n.trackedRanges[F]);return n.trackedRangesDirection[F]===0?new h.Selection(R.startLineNumber,R.startColumn,R.endLineNumber,R.endColumn):new h.Selection(R.endLineNumber,R.endColumn,R.startLineNumber,R.startColumn)}})):D[M]=n.selectionsBefore[M];return D});m||(m=n.selectionsBefore);let _=[];for(let L in S)S.hasOwnProperty(L)&&_.push(parseInt(L,10));_.sort((L,w)=>w-L);for(const L of _)m.splice(L,1);return m}static _arrayIsEmpty(n){for(let d=0,u=n.length;d<u;d++)if(n[d])return!1;return!0}static _getEditOperations(n,d){let u=[],f=!1;for(let S=0,v=d.length;S<v;S++){const m=d[S];if(m){const _=this._getEditOperationsFromCommand(n,S,m);u=u.concat(_.operations),f=f||_.hadTrackedEditOperation}}return{operations:u,hadTrackedEditOperation:f}}static _getEditOperationsFromCommand(n,d,u){let f=[],S=0;const v=(k,D,M=!1)=>{p.Range.isEmpty(k)&&D===""||f.push({identifier:{major:d,minor:S++},range:k,text:D,forceMoveMarkers:M,isAutoWhitespaceEdit:u.insertsAutoWhitespace})};let m=!1;const w={addEditOperation:v,addTrackedEditOperation:(k,D,M)=>{m=!0,v(k,D,M)},trackSelection:(k,D)=>{const M=h.Selection.liftSelection(k);let O;if(M.isEmpty())if(typeof D=="boolean")D?O=2:O=3;else{const A=n.model.getLineMaxColumn(M.startLineNumber);M.startColumn===A?O=2:O=3}else O=1;const F=n.trackedRanges.length,R=n.model._setTrackedRange(null,M,O);return n.trackedRanges[F]=R,n.trackedRangesDirection[F]=M.getDirection(),F.toString()}};try{u.getEditOperations(n.model,w)}catch(k){return(0,y.onUnexpectedError)(k),{operations:[],hadTrackedEditOperation:!1}}return{operations:f,hadTrackedEditOperation:m}}static _getLoserCursorMap(n){n=n.slice(0),n.sort((u,f)=>-p.Range.compareRangesUsingEnds(u.range,f.range));let d={};for(let u=1;u<n.length;u++){const f=n[u-1],S=n[u];if(p.Range.getStartPosition(f.range).isBefore(p.Range.getEndPosition(S.range))){let v;f.identifier.major>S.identifier.major?v=f.identifier.major:v=S.identifier.major,d[v.toString()]=!0;for(let m=0;m<n.length;m++)n[m].identifier.major===v&&(n.splice(m,1),m<u&&u--,m--);u>0&&u--}}return d}}}),define(ee[283],te([0,1,4,2,17,13,30,31,18,126,38,152,35,10,23,12,74,130,106,252,48,271,261,37,39]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelServiceImpl=void 0;function m(P){return P.toString()}function _(P){const E=new o.StringSHA1,B=P.createSnapshot();let V;for(;V=B.read();)E.update(V);return E.digest()}class L{constructor(E,B,V){this._modelEventListeners=new N.DisposableStore,this.model=E,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(E.onWillDispose(()=>B(E))),this._modelEventListeners.add(E.onDidChangeLanguage(j=>V(E,j)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(E){this._disposeLanguageSelection(),this._languageSelection=E,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(E.languageId)),this.model.setMode(E.languageId)}}const w=T.isLinux||T.isMacintosh?1:2;class k{constructor(E,B,V,j,K,Y,J,Z){this.uri=E,this.initialUndoRedoSnapshot=B,this.time=V,this.sharesUndoRedoStack=j,this.heapSize=K,this.sha1=Y,this.versionId=J,this.alternativeVersionId=Z}}let D=class Et extends N.Disposable{constructor(E,B,V,j,K,Y,J){super();this._configurationService=E,this._resourcePropertiesService=B,this._themeService=V,this._logService=j,this._undoRedoService=K,this._modeService=Y,this._languageConfigurationService=J,this._onModelAdded=this._register(new y.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new y.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new y.Emitter),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new F(this._themeService,this._modeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new O(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(E,B){var V;let j=b.EDITOR_MODEL_DEFAULTS.tabSize;if(E.editor&&typeof E.editor.tabSize!="undefined"){const z=parseInt(E.editor.tabSize,10);isNaN(z)||(j=z),j<1&&(j=1)}let K=j;if(E.editor&&typeof E.editor.indentSize!="undefined"&&E.editor.indentSize!=="tabSize"){const z=parseInt(E.editor.indentSize,10);isNaN(z)||(K=z),K<1&&(K=1)}let Y=b.EDITOR_MODEL_DEFAULTS.insertSpaces;E.editor&&typeof E.editor.insertSpaces!="undefined"&&(Y=E.editor.insertSpaces==="false"?!1:Boolean(E.editor.insertSpaces));let J=w;const Z=E.eol;Z===`\r
`?J=2:Z===`
`&&(J=1);let ie=b.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;E.editor&&typeof E.editor.trimAutoWhitespace!="undefined"&&(ie=E.editor.trimAutoWhitespace==="false"?!1:Boolean(E.editor.trimAutoWhitespace));let ne=b.EDITOR_MODEL_DEFAULTS.detectIndentation;E.editor&&typeof E.editor.detectIndentation!="undefined"&&(ne=E.editor.detectIndentation==="false"?!1:Boolean(E.editor.detectIndentation));let G=b.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;E.editor&&typeof E.editor.largeFileOptimizations!="undefined"&&(G=E.editor.largeFileOptimizations==="false"?!1:Boolean(E.editor.largeFileOptimizations));let W=b.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return((V=E.editor)===null||V===void 0?void 0:V.bracketPairColorization)&&typeof E.editor.bracketPairColorization=="object"&&(W={enabled:!!E.editor.bracketPairColorization.enabled}),{isForSimpleWidget:B,tabSize:j,indentSize:K,insertSpaces:Y,detectIndentation:ne,defaultEOL:J,trimAutoWhitespace:ie,largeFileOptimizations:G,bracketPairColorizationOptions:W}}_getEOL(E,B){if(E)return this._resourcePropertiesService.getEOL(E,B);const V=this._configurationService.getValue("files.eol",{overrideIdentifier:B});return V&&typeof V=="string"&&V!=="auto"?V:T.OS===3||T.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const E=this._configurationService.getValue("files.restoreUndoStack");return typeof E=="boolean"?E:!0}getCreationOptions(E,B,V){let j=this._modelCreationOptionsByLanguageAndResource[E+B];if(!j){const K=this._configurationService.getValue("editor",{overrideIdentifier:E,resource:B}),Y=this._getEOL(B,E);j=Et._readModelOptions({editor:K,eol:Y},V),this._modelCreationOptionsByLanguageAndResource[E+B]=j}return j}_updateModelOptions(){const E=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const B=Object.keys(this._models);for(let V=0,j=B.length;V<j;V++){const K=B[V],Y=this._models[K],J=Y.model.getLanguageId(),Z=Y.model.uri,ie=E[J+Z],ne=this.getCreationOptions(J,Z,Y.model.isForSimpleWidget);Et._setModelOptionsForModel(Y.model,ne,ie)}}static _setModelOptionsForModel(E,B,V){V&&V.defaultEOL!==B.defaultEOL&&E.getLineCount()===1&&E.setEOL(B.defaultEOL===1?0:1),!(V&&V.detectIndentation===B.detectIndentation&&V.insertSpaces===B.insertSpaces&&V.tabSize===B.tabSize&&V.indentSize===B.indentSize&&V.trimAutoWhitespace===B.trimAutoWhitespace&&(0,S.equals)(V.bracketPairColorizationOptions,B.bracketPairColorizationOptions))&&(B.detectIndentation?(E.detectIndentation(B.insertSpaces,B.tabSize),E.updateOptions({trimAutoWhitespace:B.trimAutoWhitespace,bracketColorizationOptions:B.bracketPairColorizationOptions})):E.updateOptions({insertSpaces:B.insertSpaces,tabSize:B.tabSize,indentSize:B.indentSize,trimAutoWhitespace:B.trimAutoWhitespace,bracketColorizationOptions:B.bracketPairColorizationOptions}))}_insertDisposedModel(E){this._disposedModels.set(m(E.uri),E),this._disposedModelsHeapSize+=E.heapSize}_removeDisposedModel(E){const B=this._disposedModels.get(m(E));return B&&(this._disposedModelsHeapSize-=B.heapSize),this._disposedModels.delete(m(E)),B}_ensureDisposedModelsHeapSize(E){if(this._disposedModelsHeapSize>E){const B=[];for(this._disposedModels.forEach(V=>{V.sharesUndoRedoStack||B.push(V)}),B.sort((V,j)=>V.time-j.time);B.length>0&&this._disposedModelsHeapSize>E;){const V=B.shift();this._removeDisposedModel(V.uri),V.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(V.initialUndoRedoSnapshot)}}}_createModelData(E,B,V,j){const K=this.getCreationOptions(B,V,j),Y=new C.TextModel(E,K,B,V,this._undoRedoService,this._modeService,this._languageConfigurationService);if(V&&this._disposedModels.has(m(V))){const ie=this._removeDisposedModel(V),ne=this._undoRedoService.getElements(V),G=_(Y)===ie.sha1;if(G||ie.sharesUndoRedoStack){for(const W of ne.past)(0,n.isEditStackElement)(W)&&W.matchesResource(V)&&W.setModel(Y);for(const W of ne.future)(0,n.isEditStackElement)(W)&&W.matchesResource(V)&&W.setModel(Y);this._undoRedoService.setElementsValidFlag(V,!0,W=>(0,n.isEditStackElement)(W)&&W.matchesResource(V)),G&&(Y._overwriteVersionId(ie.versionId),Y._overwriteAlternativeVersionId(ie.alternativeVersionId),Y._overwriteInitialUndoRedoSnapshot(ie.initialUndoRedoSnapshot))}else ie.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(ie.initialUndoRedoSnapshot)}const J=m(Y.uri);if(this._models[J])throw new Error("ModelService: Cannot add model because it already exists!");const Z=new L(Y,ie=>this._onWillDispose(ie),(ie,ne)=>this._onDidChangeLanguage(ie,ne));return this._models[J]=Z,Z}createModel(E,B,V,j=!1){let K;return B?(K=this._createModelData(E,B.languageId,V,j),this.setMode(K.model,B)):K=this._createModelData(E,h.PLAINTEXT_MODE_ID,V,j),this._onModelAdded.fire(K.model),K.model}setMode(E,B){if(!B)return;const V=this._models[m(E.uri)];!V||V.setLanguage(B)}getModels(){const E=[],B=Object.keys(this._models);for(let V=0,j=B.length;V<j;V++){const K=B[V];E.push(this._models[K].model)}return E}getModel(E){const B=m(E),V=this._models[B];return V?V.model:null}getSemanticTokensProviderStyling(E){return this._semanticStyling.get(E)}_schemaShouldMaintainUndoRedoElements(E){return E.scheme===d.Schemas.file||E.scheme===d.Schemas.vscodeRemote||E.scheme===d.Schemas.userData||E.scheme===d.Schemas.vscodeNotebookCell||E.scheme==="fake-fs"}_onWillDispose(E){const B=m(E.uri),V=this._models[B],j=this._undoRedoService.getUriComparisonKey(E.uri)!==E.uri.toString();let K=!1,Y=0;if(j||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(E.uri)){const Z=this._undoRedoService.getElements(E.uri);if(Z.past.length>0||Z.future.length>0){for(const ie of Z.past)(0,n.isEditStackElement)(ie)&&ie.matchesResource(E.uri)&&(K=!0,Y+=ie.heapSize(E.uri),ie.setModel(E.uri));for(const ie of Z.future)(0,n.isEditStackElement)(ie)&&ie.matchesResource(E.uri)&&(K=!0,Y+=ie.heapSize(E.uri),ie.setModel(E.uri))}}const J=Et.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(K)if(!j&&Y>J){const Z=V.model.getInitialUndoRedoSnapshot();Z!==null&&this._undoRedoService.restoreSnapshot(Z)}else this._ensureDisposedModelsHeapSize(J-Y),this._undoRedoService.setElementsValidFlag(E.uri,!1,Z=>(0,n.isEditStackElement)(Z)&&Z.matchesResource(E.uri)),this._insertDisposedModel(new k(E.uri,V.model.getInitialUndoRedoSnapshot(),Date.now(),j,Y,_(E),E.getVersionId(),E.getAlternativeVersionId()));else if(!j){const Z=V.model.getInitialUndoRedoSnapshot();Z!==null&&this._undoRedoService.restoreSnapshot(Z)}delete this._models[B],V.dispose(),delete this._modelCreationOptionsByLanguageAndResource[E.getLanguageId()+E.uri],this._onModelRemoved.fire(E)}_onDidChangeLanguage(E,B){const V=B.oldLanguage,j=E.getLanguageId(),K=this.getCreationOptions(V,E.uri,E.isForSimpleWidget),Y=this.getCreationOptions(j,E.uri,E.isForSimpleWidget);Et._setModelOptionsForModel(E,Y,K),this._onModelModeChanged.fire({model:E,oldModeId:V})}};D.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,D=Be([Ce(0,t.IConfigurationService),Ce(1,i.ITextResourcePropertiesService),Ce(2,l.IThemeService),Ce(3,a.ILogService),Ce(4,s.IUndoRedoService),Ce(5,g.IModeService),Ce(6,v.ILanguageConfigurationService)],D),e.ModelServiceImpl=D,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function M(P,E,B){var V;const j=(V=B.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:P.getLanguageId(),resource:P.uri}))===null||V===void 0?void 0:V.enabled;return typeof j=="boolean"?j:E.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=M;class O extends N.Disposable{constructor(E,B,V,j){super();this._watchers=Object.create(null),this._semanticStyling=j;const K=Z=>{this._watchers[Z.uri.toString()]=new A(Z,B,this._semanticStyling)},Y=(Z,ie)=>{ie.dispose(),delete this._watchers[Z.uri.toString()]},J=()=>{for(let Z of E.getModels()){const ie=this._watchers[Z.uri.toString()];M(Z,B,V)?ie||K(Z):ie&&Y(Z,ie)}};this._register(E.onModelAdded(Z=>{M(Z,B,V)&&K(Z)})),this._register(E.onModelRemoved(Z=>{const ie=this._watchers[Z.uri.toString()];ie&&Y(Z,ie)})),this._register(V.onDidChangeConfiguration(Z=>{Z.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&J()})),this._register(B.onDidColorThemeChange(J))}}class F extends N.Disposable{constructor(E,B,V){super();this._themeService=E,this._modeService=B,this._logService=V,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(E){return this._caches.has(E)||this._caches.set(E,new u.SemanticTokensProviderStyling(E.getLegend(),this._themeService,this._modeService,this._logService)),this._caches.get(E)}}class R{constructor(E,B,V){this.provider=E,this.resultId=B,this.data=V}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}class A extends N.Disposable{constructor(E,B,V){super();this._isDisposed=!1,this._model=E,this._semanticStyling=V,this._fetchDocumentSemanticTokens=this._register(new r.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),A.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const j=()=>{(0,N.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const K of p.DocumentSemanticTokensProviderRegistry.all(E))typeof K.onDidChange=="function"&&this._documentProvidersChangeListeners.push(K.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};j(),this._register(p.DocumentSemanticTokensProviderRegistry.onDidChange(()=>{j(),this._fetchDocumentSemanticTokens.schedule()})),this._register(B.onDidColorThemeChange(K=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,f.hasDocumentSemanticTokensProvider)(this._model)){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const E=new c.CancellationTokenSource,B=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,V=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,j=(0,f.getDocumentSemanticTokens)(this._model,B,V,E.token);this._currentDocumentRequestCancellationTokenSource=E;const K=[],Y=this._model.onDidChangeContent(J=>{K.push(J)});j.then(J=>{if(this._currentDocumentRequestCancellationTokenSource=null,Y.dispose(),!J)this._setDocumentSemanticTokens(null,null,null,K);else{const{provider:Z,tokens:ie}=J,ne=this._semanticStyling.get(Z);this._setDocumentSemanticTokens(Z,ie||null,ne,K)}},J=>{J&&(I.isPromiseCanceledError(J)||typeof J.message=="string"&&J.message.indexOf("busy")!==-1)||I.onUnexpectedError(J),this._currentDocumentRequestCancellationTokenSource=null,Y.dispose(),K.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(E,B,V,j,K){for(let Y=0;Y<K;Y++)V[j+Y]=E[B+Y]}_setDocumentSemanticTokens(E,B,V,j){const K=this._currentDocumentResponse,Y=()=>{j.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){E&&B&&E.releaseDocumentSemanticTokens(B.resultId);return}if(!E||!V){this._model.setSemanticTokens(null,!1);return}if(!B){this._model.setSemanticTokens(null,!0),Y();return}if((0,f.isSemanticTokensEdits)(B)){if(!K){this._model.setSemanticTokens(null,!0);return}if(B.edits.length===0)B={resultId:B.resultId,data:K.data};else{let J=0;for(const W of B.edits)J+=(W.data?W.data.length:0)-W.deleteCount;const Z=K.data,ie=new Uint32Array(Z.length+J);let ne=Z.length,G=ie.length;for(let W=B.edits.length-1;W>=0;W--){const z=B.edits[W],U=ne-(z.start+z.deleteCount);U>0&&(A._copy(Z,ne-U,ie,G-U,U),G-=U),z.data&&(A._copy(z.data,0,ie,G-z.data.length,z.data.length),G-=z.data.length),ne=z.start}ne>0&&A._copy(Z,0,ie,0,ne),B={resultId:B.resultId,data:ie}}}if((0,f.isSemanticTokens)(B)){this._currentDocumentResponse=new R(E,B.resultId,B.data);const J=(0,u.toMultilineTokens2)(B,V,this._model.getLanguageId());if(j.length>0)for(const Z of j)for(const ie of J)for(const ne of Z.changes)ie.applyEdit(ne.range,ne.text);this._model.setSemanticTokens(J,!0)}else this._model.setSemanticTokens(null,!0);Y()}}e.ModelSemanticColoring=A,A.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300}),define(ee[680],te([0,1,19,14,3,49,31,89,179,574,236,64]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class t{constructor(d,u,f,S,v,m,_,L,w){this._editorId=d,this.model=u,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=f,this._monospaceLineBreaksComputerFactory=S,this.fontInfo=v,this.tabSize=m,this.wrappingStrategy=_,this.wrappingColumn=L,this.wrappingIndent=w,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new a(this)}_constructLines(d,u){this.modelLineProjections=[],d&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const f=this.model.getLinesContent(),S=this.model.getInjectedTextDecorations(this._editorId),v=f.length,m=this.createLineBreaksComputer(),_=new y.ArrayQueue(C.LineInjectedText.fromDecorations(S));for(let R=0;R<v;R++){const A=_.takeWhile(P=>P.lineNumber===R+1);m.addRequest(f[R],A,u?u[R]:null)}const L=m.finalize();let w=[],k=this.hiddenAreasDecorationIds.map(R=>this.model.getDecorationRange(R)).sort(T.Range.compareRangesUsingStarts),D=1,M=0,O=-1,F=O+1<k.length?M+1:v+2;for(let R=0;R<v;R++){let A=R+1;A===F&&(O++,D=k[O].startLineNumber,M=k[O].endLineNumber,F=O+1<k.length?M+1:v+2);let P=A>=D&&A<=M,E=(0,h.createModelLineProjection)(L[R],!P);w[R]=E.getViewLineCount(),this.modelLineProjections[R]=E}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new g.ConstantTimePrefixSumComputer(w)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(d=>this.model.getDecorationRange(d))}setHiddenAreas(d){const u=d.map(M=>this.model.validateRange(M));let f=r(u),S=this.hiddenAreasDecorationIds.map(M=>this.model.getDecorationRange(M)).sort(T.Range.compareRangesUsingStarts);if(f.length===S.length){let M=!1;for(let O=0;O<f.length;O++)if(!f[O].equalsRange(S[O])){M=!0;break}if(!M)return!1}const v=f.map(M=>({range:M,options:b.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,v);let m=f,_=1,L=0,w=-1,k=w+1<m.length?L+1:this.modelLineProjections.length+2,D=!1;for(let M=0;M<this.modelLineProjections.length;M++){let O=M+1;O===k&&(w++,_=m[w].startLineNumber,L=m[w].endLineNumber,k=w+1<m.length?L+1:this.modelLineProjections.length+2);let F=!1;if(O>=_&&O<=L?this.modelLineProjections[M].isVisible()&&(this.modelLineProjections[M]=this.modelLineProjections[M].setVisible(!1),F=!0):(D=!0,this.modelLineProjections[M].isVisible()||(this.modelLineProjections[M]=this.modelLineProjections[M].setVisible(!0),F=!0)),F){let R=this.modelLineProjections[M].getViewLineCount();this.projectedModelLineLineCounts.setValue(M,R)}}return D||this.setHiddenAreas([]),!0}modelPositionIsVisible(d,u){return d<1||d>this.modelLineProjections.length?!1:this.modelLineProjections[d-1].isVisible()}getModelLineViewLineCount(d){return d<1||d>this.modelLineProjections.length?1:this.modelLineProjections[d-1].getViewLineCount()}setTabSize(d){return this.tabSize===d?!1:(this.tabSize=d,this._constructLines(!1,null),!0)}setWrappingSettings(d,u,f,S){const v=this.fontInfo.equals(d),m=this.wrappingStrategy===u,_=this.wrappingColumn===f,L=this.wrappingIndent===S;if(v&&m&&_&&L)return!1;const w=v&&m&&!_&&L;this.fontInfo=d,this.wrappingStrategy=u,this.wrappingColumn=f,this.wrappingIndent=S;let k=null;if(w){k=[];for(let D=0,M=this.modelLineProjections.length;D<M;D++)k[D]=this.modelLineProjections[D].getLineBreakData()}return this._constructLines(!1,k),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(d,u,f){if(!d||d<=this._validModelVersionId)return null;let S=u===1?1:this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,v=this.projectedModelLineLineCounts.getPrefixSum(f);return this.modelLineProjections.splice(u-1,f-u+1),this.projectedModelLineLineCounts.removeValues(u-1,f-u+1),new p.ViewLinesDeletedEvent(S,v)}onModelLinesInserted(d,u,f,S){if(!d||d<=this._validModelVersionId)return null;const v=u>2&&!this.modelLineProjections[u-2].isVisible();let m=u===1?1:this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,_=0,L=[],w=[];for(let k=0,D=S.length;k<D;k++){let M=(0,h.createModelLineProjection)(S[k],!v);L.push(M);let O=M.getViewLineCount();_+=O,w[k]=O}return this.modelLineProjections=this.modelLineProjections.slice(0,u-1).concat(L).concat(this.modelLineProjections.slice(u-1)),this.projectedModelLineLineCounts.insertValues(u-1,w),new p.ViewLinesInsertedEvent(m,m+_-1)}onModelLineChanged(d,u,f){if(d!==null&&d<=this._validModelVersionId)return[!1,null,null,null];let S=u-1,v=this.modelLineProjections[S].getViewLineCount(),m=this.modelLineProjections[S].isVisible(),_=(0,h.createModelLineProjection)(f,m);this.modelLineProjections[S]=_;let L=this.modelLineProjections[S].getViewLineCount(),w=!1,k=0,D=-1,M=0,O=-1,F=0,R=-1;v>L?(k=this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,D=k+L-1,F=D+1,R=F+(v-L)-1,w=!0):v<L?(k=this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,D=k+v-1,M=D+1,O=M+(L-v)-1,w=!0):(k=this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,D=k+L-1),this.projectedModelLineLineCounts.setValue(S,L);const A=k<=D?new p.ViewLinesChangedEvent(k,D):null,P=M<=O?new p.ViewLinesInsertedEvent(M,O):null,E=F<=R?new p.ViewLinesDeletedEvent(F,R):null;return[w,A,P,E]}acceptVersionId(d){this._validModelVersionId=d,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(d){if(d<1)return 1;const u=this.getViewLineCount();return d>u?u:d|0}getActiveIndentGuide(d,u,f){d=this._toValidViewLineNumber(d),u=this._toValidViewLineNumber(u),f=this._toValidViewLineNumber(f);const S=this.convertViewPositionToModelPosition(d,this.getViewLineMinColumn(d)),v=this.convertViewPositionToModelPosition(u,this.getViewLineMinColumn(u)),m=this.convertViewPositionToModelPosition(f,this.getViewLineMinColumn(f)),_=this.model.getActiveIndentGuide(S.lineNumber,v.lineNumber,m.lineNumber),L=this.convertModelPositionToViewPosition(_.startLineNumber,1),w=this.convertModelPositionToViewPosition(_.endLineNumber,this.model.getLineMaxColumn(_.endLineNumber));return{startLineNumber:L.lineNumber,endLineNumber:w.lineNumber,indent:_.indent}}getViewLineInfo(d){d=this._toValidViewLineNumber(d);let u=this.projectedModelLineLineCounts.getIndexOf(d-1),f=u.index,S=u.remainder;return new c(f+1,S)}getMinColumnOfViewLine(d){return this.modelLineProjections[d.modelLineNumber-1].getViewLineMinColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(d){const u=this.modelLineProjections[d.modelLineNumber-1],f=u.getViewLineMinColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx),S=u.getModelColumnOfViewPosition(d.modelLineWrappedLineIdx,f);return new N.Position(d.modelLineNumber,S)}getModelEndPositionOfViewLine(d){const u=this.modelLineProjections[d.modelLineNumber-1],f=u.getViewLineMaxColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx),S=u.getModelColumnOfViewPosition(d.modelLineWrappedLineIdx,f);return new N.Position(d.modelLineNumber,S)}getViewLineInfosGroupedByModelRanges(d,u){const f=this.getViewLineInfo(d),S=this.getViewLineInfo(u),v=new Array;let m=this.getModelStartPositionOfViewLine(f),_=new Array;for(let L=f.modelLineNumber;L<=S.modelLineNumber;L++){const w=this.modelLineProjections[L-1];if(w.isVisible()){let k=L===f.modelLineNumber?f.modelLineWrappedLineIdx:0,D=L===S.modelLineNumber?S.modelLineWrappedLineIdx+1:w.getViewLineCount();for(let M=k;M<D;M++)_.push(new c(L,M))}if(!w.isVisible()&&m){const k=new N.Position(L-1,this.model.getLineMaxColumn(L-1)+1),D=T.Range.fromPositions(m,k);v.push(new l(D,_)),_=[],m=null}else w.isVisible()&&!m&&(m=new N.Position(L,1))}if(m){const L=T.Range.fromPositions(m,this.getModelEndPositionOfViewLine(S));v.push(new l(L,_))}return v}getViewLinesBracketGuides(d,u,f,S){const v=f?this.convertViewPositionToModelPosition(f.lineNumber,f.column):null,m=[];for(const _ of this.getViewLineInfosGroupedByModelRanges(d,u)){const L=_.modelRange.startLineNumber,w=this.model.getLinesBracketGuides(L,_.modelRange.endLineNumber,v,S);for(const k of _.viewLines)if(k.isWrappedLineContinuation&&this.getMinColumnOfViewLine(k)===1)m.push([]);else{let D=w[k.modelLineNumber-L];D=D.map(M=>M.horizontalLine?new I.IndentGuide(M.visibleColumn,M.className,new I.IndentGuideHorizontalLine(M.horizontalLine.top,this.convertModelPositionToViewPosition(k.modelLineNumber,M.horizontalLine.endColumn).column)):M),m.push(D)}}return m}getViewLinesIndentGuides(d,u){d=this._toValidViewLineNumber(d),u=this._toValidViewLineNumber(u);const f=this.convertViewPositionToModelPosition(d,this.getViewLineMinColumn(d)),S=this.convertViewPositionToModelPosition(u,this.getViewLineMaxColumn(u));let v=[],m=[],_=[];const L=f.lineNumber-1,w=S.lineNumber-1;let k=null;for(let F=L;F<=w;F++){const R=this.modelLineProjections[F];if(R.isVisible()){let A=R.getViewLineNumberOfModelPosition(0,F===L?f.column:1),P=R.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(F+1)),E=P-A+1,B=0;E>1&&R.getViewLineMinColumn(this.model,F+1,P)===1&&(B=A===0?1:2),m.push(E),_.push(B),k===null&&(k=new N.Position(F+1,0))}else k!==null&&(v=v.concat(this.model.getLinesIndentGuides(k.lineNumber,F)),k=null)}k!==null&&(v=v.concat(this.model.getLinesIndentGuides(k.lineNumber,S.lineNumber)),k=null);const D=u-d+1;let M=new Array(D),O=0;for(let F=0,R=v.length;F<R;F++){let A=v[F],P=Math.min(D-O,m[F]),E=_[F],B;E===2?B=0:E===1?B=1:B=P;for(let V=0;V<P;V++)V===B&&(A=0),M[O++]=A}return M}getViewLineContent(d){const u=this.getViewLineInfo(d);return this.modelLineProjections[u.modelLineNumber-1].getViewLineContent(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineLength(d){const u=this.getViewLineInfo(d);return this.modelLineProjections[u.modelLineNumber-1].getViewLineLength(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineMinColumn(d){const u=this.getViewLineInfo(d);return this.modelLineProjections[u.modelLineNumber-1].getViewLineMinColumn(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineMaxColumn(d){const u=this.getViewLineInfo(d);return this.modelLineProjections[u.modelLineNumber-1].getViewLineMaxColumn(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineData(d){const u=this.getViewLineInfo(d);return this.modelLineProjections[u.modelLineNumber-1].getViewLineData(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLinesData(d,u,f){d=this._toValidViewLineNumber(d),u=this._toValidViewLineNumber(u);let S=this.projectedModelLineLineCounts.getIndexOf(d-1),v=d,m=S.index,_=S.remainder,L=[];for(let w=m,k=this.model.getLineCount();w<k;w++){let D=this.modelLineProjections[w];if(!D.isVisible())continue;let M=w===m?_:0,O=D.getViewLineCount()-M,F=!1;v+O>u&&(F=!0,O=u-v+1);let R=M+O;if(D.getViewLinesData(this.model,w+1,M,R,v-d,f,L),v+=O,F)break}return L}validateViewPosition(d,u,f){d=this._toValidViewLineNumber(d);let S=this.projectedModelLineLineCounts.getIndexOf(d-1),v=S.index,m=S.remainder,_=this.modelLineProjections[v],L=_.getViewLineMinColumn(this.model,v+1,m),w=_.getViewLineMaxColumn(this.model,v+1,m);u<L&&(u=L),u>w&&(u=w);let k=_.getModelColumnOfViewPosition(m,u);return this.model.validatePosition(new N.Position(v+1,k)).equals(f)?new N.Position(d,u):this.convertModelPositionToViewPosition(f.lineNumber,f.column)}validateViewRange(d,u){const f=this.validateViewPosition(d.startLineNumber,d.startColumn,u.getStartPosition()),S=this.validateViewPosition(d.endLineNumber,d.endColumn,u.getEndPosition());return new T.Range(f.lineNumber,f.column,S.lineNumber,S.column)}convertViewPositionToModelPosition(d,u){const f=this.getViewLineInfo(d);let S=this.modelLineProjections[f.modelLineNumber-1].getModelColumnOfViewPosition(f.modelLineWrappedLineIdx,u);return this.model.validatePosition(new N.Position(f.modelLineNumber,S))}convertViewRangeToModelRange(d){const u=this.convertViewPositionToModelPosition(d.startLineNumber,d.startColumn),f=this.convertViewPositionToModelPosition(d.endLineNumber,d.endColumn);return new T.Range(u.lineNumber,u.column,f.lineNumber,f.column)}convertModelPositionToViewPosition(d,u,f=2){const S=this.model.validatePosition(new N.Position(d,u)),v=S.lineNumber,m=S.column;let _=v-1,L=!1;for(;_>0&&!this.modelLineProjections[_].isVisible();)_--,L=!0;if(_===0&&!this.modelLineProjections[_].isVisible())return new N.Position(1,1);const w=1+this.projectedModelLineLineCounts.getPrefixSum(_);let k;return L?k=this.modelLineProjections[_].getViewPositionOfModelPosition(w,this.model.getLineMaxColumn(_+1),f):k=this.modelLineProjections[v-1].getViewPositionOfModelPosition(w,m,f),k}convertModelRangeToViewRange(d,u=0){if(d.isEmpty()){const f=this.convertModelPositionToViewPosition(d.startLineNumber,d.startColumn,u);return T.Range.fromPositions(f)}else{const f=this.convertModelPositionToViewPosition(d.startLineNumber,d.startColumn,1),S=this.convertModelPositionToViewPosition(d.endLineNumber,d.endColumn,0);return new T.Range(f.lineNumber,f.column,S.lineNumber,S.column)}}getViewLineNumberOfModelPosition(d,u){let f=d-1;if(this.modelLineProjections[f].isVisible()){const v=1+this.projectedModelLineLineCounts.getPrefixSum(f);return this.modelLineProjections[f].getViewLineNumberOfModelPosition(v,u)}for(;f>0&&!this.modelLineProjections[f].isVisible();)f--;if(f===0&&!this.modelLineProjections[f].isVisible())return 1;const S=1+this.projectedModelLineLineCounts.getPrefixSum(f);return this.modelLineProjections[f].getViewLineNumberOfModelPosition(S,this.model.getLineMaxColumn(f+1))}getDecorationsInRange(d,u,f){const S=this.convertViewPositionToModelPosition(d.startLineNumber,d.startColumn),v=this.convertViewPositionToModelPosition(d.endLineNumber,d.endColumn);if(v.lineNumber-S.lineNumber<=d.endLineNumber-d.startLineNumber)return this.model.getDecorationsInRange(new T.Range(S.lineNumber,1,v.lineNumber,v.column),u,f);let m=[];const _=S.lineNumber-1,L=v.lineNumber-1;let w=null;for(let O=_;O<=L;O++)if(this.modelLineProjections[O].isVisible())w===null&&(w=new N.Position(O+1,O===_?S.column:1));else if(w!==null){const R=this.model.getLineMaxColumn(O);m=m.concat(this.model.getDecorationsInRange(new T.Range(w.lineNumber,w.column,O,R),u,f)),w=null}w!==null&&(m=m.concat(this.model.getDecorationsInRange(new T.Range(w.lineNumber,w.column,v.lineNumber,v.column),u,f)),w=null),m.sort((O,F)=>{const R=T.Range.compareRangesUsingStarts(O.range,F.range);return R===0?O.id<F.id?-1:O.id>F.id?1:0:R});let k=[],D=0,M=null;for(const O of m){const F=O.id;M!==F&&(M=F,k[D++]=O)}return k}getInjectedTextAt(d){const u=this.getViewLineInfo(d.lineNumber);return this.modelLineProjections[u.modelLineNumber-1].getInjectedTextAt(u.modelLineWrappedLineIdx,d.column)}normalizePosition(d,u){const f=this.getViewLineInfo(d.lineNumber);return this.modelLineProjections[f.modelLineNumber-1].normalizePosition(f.modelLineWrappedLineIdx,d,u)}getLineIndentColumn(d){const u=this.getViewLineInfo(d);return u.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(u.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=t;function r(n){if(n.length===0)return[];const d=n.slice();d.sort(T.Range.compareRangesUsingStarts);const u=[];let f=d[0].startLineNumber,S=d[0].endLineNumber;for(let v=1,m=d.length;v<m;v++){let _=d[v];_.startLineNumber>S+1?(u.push(new T.Range(f,1,S,1)),f=_.startLineNumber,S=_.endLineNumber):_.endLineNumber>S&&(S=_.endLineNumber)}return u.push(new T.Range(f,1,S,1)),u}class c{constructor(d,u){this.modelLineNumber=d,this.modelLineWrappedLineIdx=u}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class l{constructor(d,u){this.modelRange=d,this.viewLines=u}}class a{constructor(d){this._lines=d}convertViewPositionToModelPosition(d){return this._lines.convertViewPositionToModelPosition(d.lineNumber,d.column)}convertViewRangeToModelRange(d){return this._lines.convertViewRangeToModelRange(d)}validateViewPosition(d,u){return this._lines.validateViewPosition(d.lineNumber,d.column,u)}validateViewRange(d,u){return this._lines.validateViewRange(d,u)}convertModelPositionToViewPosition(d,u){return this._lines.convertModelPositionToViewPosition(d.lineNumber,d.column,u)}convertModelRangeToViewRange(d,u){return this._lines.convertModelRangeToViewRange(d,u)}modelPositionIsVisible(d){return this._lines.modelPositionIsVisible(d.lineNumber,d.column)}getModelLineViewLineCount(d){return this._lines.getModelLineViewLineCount(d)}getViewLineNumberOfModelPosition(d,u){return this._lines.getViewLineNumberOfModelPosition(d,u)}}class s{constructor(d){this.model=d}dispose(){}createCoordinatesConverter(){return new o(this)}getHiddenAreas(){return[]}setHiddenAreas(d){return!1}setTabSize(d){return!1}setWrappingSettings(d,u,f,S){return!1}createLineBreaksComputer(){let d=[];return{addRequest:(u,f,S)=>{d.push(null)},finalize:()=>d}}onModelFlushed(){}onModelLinesDeleted(d,u,f){return new p.ViewLinesDeletedEvent(u,f)}onModelLinesInserted(d,u,f,S){return new p.ViewLinesInsertedEvent(u,f)}onModelLineChanged(d,u,f){return[!1,new p.ViewLinesChangedEvent(u,u),null,null]}acceptVersionId(d){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(d,u,f){return{startLineNumber:d,endLineNumber:d,indent:0}}getViewLinesBracketGuides(d,u,f){return new Array(u-d+1).fill([])}getViewLinesIndentGuides(d,u){const f=u-d+1;let S=new Array(f);for(let v=0;v<f;v++)S[v]=0;return S}getViewLineContent(d){return this.model.getLineContent(d)}getViewLineLength(d){return this.model.getLineLength(d)}getViewLineMinColumn(d){return this.model.getLineMinColumn(d)}getViewLineMaxColumn(d){return this.model.getLineMaxColumn(d)}getViewLineData(d){let u=this.model.getLineTokens(d),f=u.getLineContent();return new i.ViewLineData(f,!1,1,f.length+1,0,u.inflate(),null)}getViewLinesData(d,u,f){const S=this.model.getLineCount();d=Math.min(Math.max(1,d),S),u=Math.min(Math.max(1,u),S);let v=[];for(let m=d;m<=u;m++){let _=m-d;f[_]||(v[_]=null),v[_]=this.getViewLineData(m)}return v}getDecorationsInRange(d,u,f){return this.model.getDecorationsInRange(d,u,f)}normalizePosition(d,u){return this.model.normalizePosition(d,u)}getLineIndentColumn(d){return this.model.getLineIndentColumn(d)}getInjectedTextAt(d){return null}}e.ViewModelLinesFromModelAsIs=s;class o{constructor(d){this._lines=d}_validPosition(d){return this._lines.model.validatePosition(d)}_validRange(d){return this._lines.model.validateRange(d)}convertViewPositionToModelPosition(d){return this._validPosition(d)}convertViewRangeToModelRange(d){return this._validRange(d)}validateViewPosition(d,u){return this._validPosition(u)}validateViewRange(d,u){return this._validRange(u)}convertModelPositionToViewPosition(d){return this._validPosition(d)}convertModelRangeToViewRange(d){return this._validRange(d)}modelPositionIsVisible(d){const u=this._lines.model.getLineCount();return!(d.lineNumber<1||d.lineNumber>u)}getModelLineViewLineCount(d){return 1}getViewLineNumberOfModelPosition(d,u){return d}}}),define(ee[681],te([0,1,29,2,8,30,14,3,89,18,257,258,179,426,680,64,251,10,17,282,45,181,126,19]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const v=!0;class m extends N.Disposable{constructor(w,k,D,M,O,F){super();if(this._editorId=w,this._configuration=k,this.model=D,this._eventDispatcher=new u.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new d.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new s.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new s.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,v&&this.model.isTooLargeForTokenization())this._lines=new c.ViewModelLinesFromModelAsIs(this.model);else{const R=this._configuration.options,A=R.get(43),P=R.get(124),E=R.get(131),B=R.get(123);this._lines=new c.ViewModelLinesFromProjectedModel(this._editorId,this.model,M,O,A,this.model.getOptions().tabSize,P,E.wrappingColumn,B)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new n.CursorsController(D,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new r.ViewLayout(this._configuration,this.getLineCount(),F)),this._register(this.viewLayout.onDidScroll(R=>{R.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new t.ViewScrollChangedEvent(R)),this._eventDispatcher.emitOutgoingEvent(new u.ScrollChangedEvent(R.oldScrollWidth,R.oldScrollLeft,R.oldScrollHeight,R.oldScrollTop,R.scrollWidth,R.scrollLeft,R.scrollHeight,R.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(R=>{this._eventDispatcher.emitOutgoingEvent(R)})),this._decorations=new a.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(R=>{try{const A=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(A,R)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(i.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new t.ViewTokensColorsChangedEvent)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(w){this._eventDispatcher.addViewEventHandler(w)}removeViewEventHandler(w){this._eventDispatcher.removeViewEventHandler(w)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const w=this.viewLayout.getLinesViewportData(),k=new C.Range(w.startLineNumber,this.getLineMinColumn(w.startLineNumber),w.endLineNumber,this.getLineMaxColumn(w.endLineNumber)),D=this._toModelVisibleRanges(k);for(const M of D)this.model.tokenizeViewport(M.startLineNumber,M.endLineNumber)}setHasFocus(w){this._hasFocus=w,this._cursor.setHasFocus(w),this._eventDispatcher.emitSingleViewEvent(new t.ViewFocusChangedEvent(w)),this._eventDispatcher.emitOutgoingEvent(new u.FocusChangedEvent(!w,w))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new t.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new t.ViewCompositionEndEvent)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new t.ViewThemeChangedEvent)}_onConfigurationChanged(w,k){let D=null;if(this._viewportStartLine!==-1){let E=new b.Position(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));D=this.coordinatesConverter.convertViewPositionToModelPosition(E)}let M=!1;const O=this._configuration.options,F=O.get(43),R=O.get(124),A=O.get(131),P=O.get(123);if(this._lines.setWrappingSettings(F,R,A.wrappingColumn,P)&&(w.emitViewEvent(new t.ViewFlushedEvent),w.emitViewEvent(new t.ViewLineMappingChangedEvent),w.emitViewEvent(new t.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(w),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(M=!0),this._updateConfigurationViewLineCount.schedule()),k.hasChanged(80)&&(this._decorations.reset(),w.emitViewEvent(new t.ViewDecorationsChangedEvent(null))),w.emitViewEvent(new t.ViewConfigurationChangedEvent(k)),this.viewLayout.onConfigurationChanged(k),M&&D){const E=this.coordinatesConverter.convertModelPositionToViewPosition(D),B=this.viewLayout.getVerticalOffsetForLineNumber(E.lineNumber);this.viewLayout.setScrollPosition({scrollTop:B+this._viewportStartLineDelta},1)}d.CursorConfiguration.shouldRecreate(k)&&(this.cursorConfig=new d.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(w=>{try{const k=this._eventDispatcher.beginEmitViewEvents();let D=!1,M=!1;const O=w.changes,F=w instanceof p.ModelRawContentChangedEvent?w.versionId:null,R=this._lines.createLineBreaksComputer();for(const E of O)switch(E.changeType){case 4:{for(let B=0;B<E.detail.length;B++){const V=E.detail[B];let j=E.injectedTexts[B];j&&(j=j.filter(K=>!K.ownerId||K.ownerId===this._editorId)),R.addRequest(V,j,null)}break}case 2:{let B=null;E.injectedText&&(B=E.injectedText.filter(V=>!V.ownerId||V.ownerId===this._editorId)),R.addRequest(E.detail,B,null);break}}const A=R.finalize(),P=new S.ArrayQueue(A);for(const E of O)switch(E.changeType){case 1:{this._lines.onModelFlushed(),k.emitViewEvent(new t.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),D=!0;break}case 3:{const B=this._lines.onModelLinesDeleted(F,E.fromLineNumber,E.toLineNumber);B!==null&&(k.emitViewEvent(B),this.viewLayout.onLinesDeleted(B.fromLineNumber,B.toLineNumber)),D=!0;break}case 4:{const B=P.takeCount(E.detail.length),V=this._lines.onModelLinesInserted(F,E.fromLineNumber,E.toLineNumber,B);V!==null&&(k.emitViewEvent(V),this.viewLayout.onLinesInserted(V.fromLineNumber,V.toLineNumber)),D=!0;break}case 2:{const B=P.dequeue(),[V,j,K,Y]=this._lines.onModelLineChanged(F,E.lineNumber,B);M=V,j&&k.emitViewEvent(j),K&&(k.emitViewEvent(K),this.viewLayout.onLinesInserted(K.fromLineNumber,K.toLineNumber)),Y&&(k.emitViewEvent(Y),this.viewLayout.onLinesDeleted(Y.fromLineNumber,Y.toLineNumber));break}case 5:break}F!==null&&this._lines.acceptVersionId(F),this.viewLayout.onHeightMaybeChanged(),!D&&M&&(k.emitViewEvent(new t.ViewLineMappingChangedEvent),k.emitViewEvent(new t.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(k),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const k=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(k){const D=this.coordinatesConverter.convertModelPositionToViewPosition(k.getStartPosition()),M=this.viewLayout.getVerticalOffsetForLineNumber(D.lineNumber);this.viewLayout.setScrollPosition({scrollTop:M+this._viewportStartLineDelta},1)}}try{const k=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(k,w)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(w=>{let k=[];for(let D=0,M=w.ranges.length;D<M;D++){const O=w.ranges[D],F=this.coordinatesConverter.convertModelPositionToViewPosition(new b.Position(O.fromLineNumber,1)).lineNumber,R=this.coordinatesConverter.convertModelPositionToViewPosition(new b.Position(O.toLineNumber,this.model.getLineMaxColumn(O.toLineNumber))).lineNumber;k[D]={fromLineNumber:F,toLineNumber:R}}this._eventDispatcher.emitSingleViewEvent(new t.ViewTokensChangedEvent(k)),w.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(w=>{this._eventDispatcher.emitSingleViewEvent(new t.ViewLanguageConfigurationEvent),this.cursorConfig=new d.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(w=>{this.cursorConfig=new d.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(w=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const k=this._eventDispatcher.beginEmitViewEvents();k.emitViewEvent(new t.ViewFlushedEvent),k.emitViewEvent(new t.ViewLineMappingChangedEvent),k.emitViewEvent(new t.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(k),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new d.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(w=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new t.ViewDecorationsChangedEvent(w))}))}setHiddenAreas(w){let k=!1;try{const D=this._eventDispatcher.beginEmitViewEvents();k=this._lines.setHiddenAreas(w),k&&(D.emitViewEvent(new t.ViewFlushedEvent),D.emitViewEvent(new t.ViewLineMappingChangedEvent),D.emitViewEvent(new t.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(D),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),k&&this._eventDispatcher.emitOutgoingEvent(new u.ViewZonesChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const w=this._configuration.options.get(130),k=this._configuration.options.get(58),D=Math.max(20,Math.round(w.height/k)),M=this.viewLayout.getLinesViewportData(),O=Math.max(1,M.completelyVisibleStartLineNumber-D),F=Math.min(this.getLineCount(),M.completelyVisibleEndLineNumber+D);return this._toModelVisibleRanges(new C.Range(O,this.getLineMinColumn(O),F,this.getLineMaxColumn(F)))}getVisibleRanges(){const w=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(w)}_toModelVisibleRanges(w){const k=this.coordinatesConverter.convertViewRangeToModelRange(w),D=this._lines.getHiddenAreas();if(D.length===0)return[k];let M=[],O=0,F=k.startLineNumber,R=k.startColumn,A=k.endLineNumber,P=k.endColumn;for(let E=0,B=D.length;E<B;E++){const V=D[E].startLineNumber,j=D[E].endLineNumber;j<F||V>A||(F<V&&(M[O++]=new C.Range(F,R,V-1,this.model.getLineMaxColumn(V-1))),F=j+1,R=1)}return(F<A||F===A&&R<P)&&(M[O++]=new C.Range(F,R,A,P)),M}getCompletelyVisibleViewRange(){const w=this.viewLayout.getLinesViewportData(),k=w.completelyVisibleStartLineNumber,D=w.completelyVisibleEndLineNumber;return new C.Range(k,this.getLineMinColumn(k),D,this.getLineMaxColumn(D))}getCompletelyVisibleViewRangeAtScrollTop(w){const k=this.viewLayout.getLinesViewportDataAtScrollTop(w),D=k.completelyVisibleStartLineNumber,M=k.completelyVisibleEndLineNumber;return new C.Range(D,this.getLineMinColumn(D),M,this.getLineMaxColumn(M))}saveState(){const w=this.viewLayout.saveState(),k=w.scrollTop,D=this.viewLayout.getLineNumberAtVerticalOffset(k),M=this.coordinatesConverter.convertViewPositionToModelPosition(new b.Position(D,this.getLineMinColumn(D))),O=this.viewLayout.getVerticalOffsetForLineNumber(D)-k;return{scrollLeft:w.scrollLeft,firstPosition:M,firstPositionDeltaTop:O}}reduceRestoreState(w){if(typeof w.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(w);const k=this.model.validatePosition(w.firstPosition),D=this.coordinatesConverter.convertModelPositionToViewPosition(k),M=this.viewLayout.getVerticalOffsetForLineNumber(D.lineNumber)-w.firstPositionDeltaTop;return{scrollLeft:w.scrollLeft,scrollTop:M}}_reduceRestoreStateCompatibility(w){return{scrollLeft:w.scrollLeft,scrollTop:w.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(w,k,D){this._viewportStartLine=w;let M=this.coordinatesConverter.convertViewPositionToModelPosition(new b.Position(w,this.getLineMinColumn(w)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new C.Range(M.lineNumber,M.column,M.lineNumber,M.column),1);const O=this.viewLayout.getVerticalOffsetForLineNumber(w),F=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=F-O}getActiveIndentGuide(w,k,D){return this._lines.getActiveIndentGuide(w,k,D)}getLinesIndentGuides(w,k){return this._lines.getViewLinesIndentGuides(w,k)}getBracketGuidesInRangeByLine(w,k,D,M){return this._lines.getViewLinesBracketGuides(w,k,D,M)}getLineContent(w){return this._lines.getViewLineContent(w)}getLineLength(w){return this._lines.getViewLineLength(w)}getLineMinColumn(w){return this._lines.getViewLineMinColumn(w)}getLineMaxColumn(w){return this._lines.getViewLineMaxColumn(w)}getLineFirstNonWhitespaceColumn(w){const k=T.firstNonWhitespaceIndex(this.getLineContent(w));return k===-1?0:k+1}getLineLastNonWhitespaceColumn(w){const k=T.lastNonWhitespaceIndex(this.getLineContent(w));return k===-1?0:k+2}getDecorationsInViewport(w){return this._decorations.getDecorationsViewportData(w).decorations}getInjectedTextAt(w){return this._lines.getInjectedTextAt(w)}getViewLineRenderingData(w,k){let D=this.model.mightContainRTL(),M=this.model.mightContainNonBasicASCII(),O=this.getTabSize(),F=this._lines.getViewLineData(k),A=this._decorations.getDecorationsViewportData(w).inlineDecorations[k-w.startLineNumber];return F.inlineDecorations&&(A=[...A,...F.inlineDecorations.map(P=>P.toInlineDecoration(k))]),new l.ViewLineRenderingData(F.minColumn,F.maxColumn,F.content,F.continuesWithWrappedLine,D,M,F.tokens,A,O,F.startVisibleColumn)}getViewLineData(w){return this._lines.getViewLineData(w)}getMinimapLinesRenderingData(w,k,D){let M=this._lines.getViewLinesData(w,k,D);return new l.MinimapLinesRenderingData(this.getTabSize(),M)}getAllOverviewRulerDecorations(w){const k=this.model.getOverviewRulerDecorations(this._editorId,(0,I.filterValidationDecorations)(this._configuration.options)),D=new _;for(const M of k){const O=M.options,F=O.overviewRuler;if(!F)continue;const R=F.position;if(R===0)continue;const A=F.getColor(w),P=this.coordinatesConverter.getViewLineNumberOfModelPosition(M.range.startLineNumber,M.range.startColumn),E=this.coordinatesConverter.getViewLineNumberOfModelPosition(M.range.endLineNumber,M.range.endColumn);D.accept(A,O.zIndex,P,E,R)}return D.asArray}invalidateOverviewRulerColorCache(){const w=this.model.getOverviewRulerDecorations();for(const k of w){const D=k.options.overviewRuler;D&&D.invalidateCachedColor()}}invalidateMinimapColorCache(){const w=this.model.getAllDecorations();for(const k of w){const D=k.options.minimap;D&&D.invalidateCachedColor()}}getValueInRange(w,k){const D=this.coordinatesConverter.convertViewRangeToModelRange(w);return this.model.getValueInRange(D,k)}getModelLineMaxColumn(w){return this.model.getLineMaxColumn(w)}validateModelPosition(w){return this.model.validatePosition(w)}validateModelRange(w){return this.model.validateRange(w)}deduceModelPositionRelativeToViewPosition(w,k,D){const M=this.coordinatesConverter.convertViewPositionToModelPosition(w);this.model.getEOL().length===2&&(k<0?k-=D:k+=D);const F=this.model.getOffsetAt(M)+k;return this.model.getPositionAt(F)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(w,k,D){const M=D?`\r
`:this.model.getEOL();w=w.slice(0),w.sort(C.Range.compareRangesUsingStarts);let O=!1,F=!1;for(const A of w)A.isEmpty()?O=!0:F=!0;if(!F){if(!k)return"";const A=w.map(E=>E.startLineNumber);let P="";for(let E=0;E<A.length;E++)E>0&&A[E-1]===A[E]||(P+=this.model.getLineContent(A[E])+M);return P}if(O&&k){let A=[],P=0;for(const E of w){const B=E.startLineNumber;E.isEmpty()?B!==P&&A.push(this.model.getLineContent(B)):A.push(this.model.getValueInRange(E,D?2:0)),P=B}return A.length===1?A[0]:A}let R=[];for(const A of w)A.isEmpty()||R.push(this.model.getValueInRange(A,D?2:0));return R.length===1?R[0]:R}getRichTextToCopy(w,k){const D=this.model.getLanguageId();if(D===f.PLAINTEXT_MODE_ID||w.length!==1)return null;let M=w[0];if(M.isEmpty()){if(!k)return null;const E=M.startLineNumber;M=new C.Range(E,this.model.getLineMinColumn(E),E,this.model.getLineMaxColumn(E))}const O=this._configuration.options.get(43),F=this._getColorMap(),A=/[:;\\\/<>]/.test(O.fontFamily)||O.fontFamily===I.EDITOR_FONT_DEFAULTS.fontFamily;let P;return A?P=I.EDITOR_FONT_DEFAULTS.fontFamily:(P=O.fontFamily,P=P.replace(/"/g,"'"),/[,']/.test(P)||/[+ ]/.test(P)&&(P=`'${P}'`),P=`${P}, ${I.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:D,html:`<div style="color: ${F[1]};background-color: ${F[2]};font-family: ${P};font-weight: ${O.fontWeight};font-size: ${O.fontSize}px;line-height: ${O.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(M,F)+"</div>"}}_getHTMLToCopy(w,k){const D=w.startLineNumber,M=w.startColumn,O=w.endLineNumber,F=w.endColumn,R=this.getTabSize();let A="";for(let P=D;P<=O;P++){const E=this.model.getLineTokens(P),B=E.getLineContent(),V=P===D?M-1:0,j=P===O?F-1:B.length;B===""?A+="<br>":A+=(0,g.tokenizeLineToHTML)(B,E.inflate(),k,V,j,R,o.isWindows)}return A}_getColorMap(){let w=h.TokenizationRegistry.getColorMap(),k=["#000000"];if(w)for(let D=1,M=w.length;D<M;D++)k[D]=y.Color.Format.CSS.formatHex(w[D]);return k}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(w,k,D){this._withViewEventsCollector(M=>this._cursor.setStates(M,w,k,D))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(w){this._cursor.setCursorColumnSelectData(w)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(w){this._cursor.setPrevEditOperationType(w)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(w,k,D=0){this._withViewEventsCollector(M=>this._cursor.setSelections(M,w,k,D))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(w){this._withViewEventsCollector(k=>this._cursor.restoreState(k,w))}_executeCursorEdit(w){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new u.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(w)}executeEdits(w,k,D){this._executeCursorEdit(M=>this._cursor.executeEdits(M,w,k,D))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(w=>this._cursor.startComposition(w))}endComposition(w){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(k=>this._cursor.endComposition(k,w))}type(w,k){this._executeCursorEdit(D=>this._cursor.type(D,w,k))}compositionType(w,k,D,M,O){this._executeCursorEdit(F=>this._cursor.compositionType(F,w,k,D,M,O))}paste(w,k,D,M){this._executeCursorEdit(O=>this._cursor.paste(O,w,k,D,M))}cut(w){this._executeCursorEdit(k=>this._cursor.cut(k,w))}executeCommand(w,k){this._executeCursorEdit(D=>this._cursor.executeCommand(D,w,k))}executeCommands(w,k){this._executeCursorEdit(D=>this._cursor.executeCommands(D,w,k))}revealPrimaryCursor(w,k){this._withViewEventsCollector(D=>this._cursor.revealPrimary(D,w,k,0))}revealTopMostCursor(w){const k=this._cursor.getTopMostViewPosition(),D=new C.Range(k.lineNumber,k.column,k.lineNumber,k.column);this._withViewEventsCollector(M=>M.emitViewEvent(new t.ViewRevealRangeRequestEvent(w,D,null,0,!0,0)))}revealBottomMostCursor(w){const k=this._cursor.getBottomMostViewPosition(),D=new C.Range(k.lineNumber,k.column,k.lineNumber,k.column);this._withViewEventsCollector(M=>M.emitViewEvent(new t.ViewRevealRangeRequestEvent(w,D,null,0,!0,0)))}revealRange(w,k,D,M,O){this._withViewEventsCollector(F=>F.emitViewEvent(new t.ViewRevealRangeRequestEvent(w,D,null,M,k,O)))}getVerticalOffsetForLineNumber(w){return this.viewLayout.getVerticalOffsetForLineNumber(w)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(w,k){this.viewLayout.setScrollPosition({scrollTop:w},k)}setScrollPosition(w,k){this.viewLayout.setScrollPosition(w,k)}deltaScrollNow(w,k){this.viewLayout.deltaScrollNow(w,k)}changeWhitespace(w){this.viewLayout.changeWhitespace(w)&&(this._eventDispatcher.emitSingleViewEvent(new t.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new u.ViewZonesChangedEvent))}setMaxLineWidth(w){this.viewLayout.setMaxLineWidth(w)}_withViewEventsCollector(w){try{const k=this._eventDispatcher.beginEmitViewEvents();w(k)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(w,k){return this._lines.normalizePosition(w,k)}getLineIndentColumn(w){return this._lines.getLineIndentColumn(w)}}e.ViewModel=m;class _{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(w,k,D,M,O){const F=this._asMap[w];if(F){const R=F.data,A=R[R.length-3],P=R[R.length-1];if(A===O&&P+1>=D){M>P&&(R[R.length-1]=M);return}R.push(O,D,M)}else{const R=new l.OverviewRulerDecorationsGroup(w,k,[O,D,M]);this._asMap[w]=R,this.asArray.push(R)}}}}),define(ee[160],te([0,1,474,7,13,4,2,48,62,15,28,677,281,30,282,45,14,3,21,228,143,24,18,52,22,681,26,16,9,153,40,12,60,20,416,595,158,632,358]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S,v,m,_,L,w,k,D,M,O,F,R,A,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let E=0;class B{constructor(x,X,le,fe,$){this.model=x,this.viewModel=X,this.view=le,this.hasRealView=fe,this.listenersToRemove=$}dispose(){(0,b.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let V=class Bt extends b.Disposable{constructor(x,X,le,fe,$,H,Q,re,ce,oe){super();this._onDidDispose=this._register(new I.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new I.Emitter),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new I.Emitter),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new I.Emitter),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new I.Emitter),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new I.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new I.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new I.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new I.Emitter),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new I.Emitter),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new I.Emitter),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new I.Emitter),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new j),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new j),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new I.Emitter),this.onWillType=this._onWillType.event,this._onDidType=this._register(new I.Emitter),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new I.Emitter),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new I.Emitter),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new I.Emitter),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new I.Emitter),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new I.Emitter),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new I.Emitter),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new I.Emitter),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new I.Emitter),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new I.Emitter),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new I.Emitter),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new I.Emitter),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new I.Emitter),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new I.Emitter),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new I.Emitter),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new I.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new I.Emitter),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new I.Emitter),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new I.Emitter),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null;const de=Object.assign({},X);this._domElement=x,this._overflowWidgetsDomNode=de.overflowWidgetsDomNode,delete de.overflowWidgetsDomNode,this._id=++E,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=le.isSimpleWidget||!1,this._telemetryData=le.telemetryData,this._configuration=this._register(this._createConfiguration(de,oe)),this._register(this._configuration.onDidChange(_e=>{this._onDidChangeConfiguration.fire(_e);const se=this._configuration.options;if(_e.hasChanged(130)){const ue=se.get(130);this._onDidLayoutChange.fire(ue)}})),this._contextKeyService=this._register(Q.createScoped(this._domElement)),this._notificationService=ce,this._codeEditorService=$,this._commandService=H,this._themeService=re,this._register(new K(this,this._contextKeyService)),this._register(new Y(this,this._contextKeyService)),this._instantiationService=fe.createChild(new k.ServiceCollection([L.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new J(x),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let pe;Array.isArray(le.contributions)?pe=le.contributions:pe=h.EditorExtensionsRegistry.getEditorContributions();for(const _e of pe){if(this._contributions[_e.id]){(0,T.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${_e.id}`));continue}try{const se=this._instantiationService.createInstance(_e.ctor,this);this._contributions[_e.id]=se}catch(se){(0,T.onUnexpectedError)(se)}}h.EditorExtensionsRegistry.getEditorActions().forEach(_e=>{if(this._actions[_e.id]){(0,T.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${_e.id}`));return}const se=new n.InternalEditorAction(_e.id,_e.label,_e.alias,(0,F.withNullAsUndefined)(_e.precondition),()=>this._instantiationService.invokeFunction(ue=>Promise.resolve(_e.runEditorCommand(ue,this,null))),this._contextKeyService);this._actions[se.id]=se}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(x,X){return new p.Configuration(this.isSimpleWidget,x,this._domElement,X)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return d.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const x=Object.keys(this._contributions);for(let X=0,le=x.length;X<le;X++){const fe=x[X];this._contributions[fe].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(x){return this._instantiationService.invokeFunction(x)}updateOptions(x){this._configuration.updateOptions(x)}getOptions(){return this._configuration.options}getOption(x){return this._configuration.options.get(x)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(x){return this._modelData?P.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(116),x):null}getValue(x=null){if(!this._modelData)return"";const X=!!(x&&x.preserveBOM);let le=0;return x&&x.lineEnding&&x.lineEnding===`
`?le=1:x&&x.lineEnding&&x.lineEnding===`\r
`&&(le=2),this._modelData.model.getValue(le,X)}setValue(x){!this._modelData||this._modelData.model.setValue(x)}getModel(){return this._modelData?this._modelData.model:null}setModel(x=null){const X=x;if(this._modelData===null&&X===null||this._modelData&&this._modelData.model===X)return;const le=this.hasTextFocus(),fe=this._detachModel();this._attachModel(X),le&&this.hasModel()&&this.focus();const $={oldModelUrl:fe?fe.uri:null,newModelUrl:X?X.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire($),this._postDetachModelCleanup(fe)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let x in this._decorationTypeSubtypes){const X=this._decorationTypeSubtypes[x];for(let le in X)this._removeDecorationType(x+"-"+le)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(x,X,le){const fe=x.model.validatePosition({lineNumber:X,column:le}),$=x.viewModel.coordinatesConverter.convertModelPositionToViewPosition(fe);return x.viewModel.viewLayout.getVerticalOffsetForLineNumber($.lineNumber)}getTopForLineNumber(x){return this._modelData?Bt._getVerticalOffsetForPosition(this._modelData,x,1):-1}getTopForPosition(x,X){return this._modelData?Bt._getVerticalOffsetForPosition(this._modelData,x,X):-1}setHiddenAreas(x){this._modelData&&this._modelData.viewModel.setHiddenAreas(x.map(X=>s.Range.lift(X)))}getVisibleColumnFromPosition(x){if(!this._modelData)return x.column;const X=this._modelData.model.validatePosition(x),le=this._modelData.model.getOptions().tabSize;return l.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(X.lineNumber),X.column,le)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(x){if(!!this._modelData){if(!a.Position.isIPosition(x))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:x.lineNumber,selectionStartColumn:x.column,positionLineNumber:x.lineNumber,positionColumn:x.column}])}}_sendRevealRange(x,X,le,fe){if(!this._modelData)return;if(!s.Range.isIRange(x))throw new Error("Invalid arguments");const $=this._modelData.model.validateRange(x),H=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange($);this._modelData.viewModel.revealRange("api",le,H,X,fe)}revealLine(x,X=0){this._revealLine(x,0,X)}revealLineInCenter(x,X=0){this._revealLine(x,1,X)}revealLineInCenterIfOutsideViewport(x,X=0){this._revealLine(x,2,X)}revealLineNearTop(x,X=0){this._revealLine(x,5,X)}_revealLine(x,X,le){if(typeof x!="number")throw new Error("Invalid arguments");this._sendRevealRange(new s.Range(x,1,x,1),X,!1,le)}revealPosition(x,X=0){this._revealPosition(x,0,!0,X)}revealPositionInCenter(x,X=0){this._revealPosition(x,1,!0,X)}revealPositionInCenterIfOutsideViewport(x,X=0){this._revealPosition(x,2,!0,X)}revealPositionNearTop(x,X=0){this._revealPosition(x,5,!0,X)}_revealPosition(x,X,le,fe){if(!a.Position.isIPosition(x))throw new Error("Invalid arguments");this._sendRevealRange(new s.Range(x.lineNumber,x.column,x.lineNumber,x.column),X,le,fe)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(x){const X=o.Selection.isISelection(x),le=s.Range.isIRange(x);if(!X&&!le)throw new Error("Invalid arguments");if(X)this._setSelectionImpl(x);else if(le){const fe={selectionStartLineNumber:x.startLineNumber,selectionStartColumn:x.startColumn,positionLineNumber:x.endLineNumber,positionColumn:x.endColumn};this._setSelectionImpl(fe)}}_setSelectionImpl(x){if(!this._modelData)return;const X=new o.Selection(x.selectionStartLineNumber,x.selectionStartColumn,x.positionLineNumber,x.positionColumn);this._modelData.viewModel.setSelections("api",[X])}revealLines(x,X,le=0){this._revealLines(x,X,0,le)}revealLinesInCenter(x,X,le=0){this._revealLines(x,X,1,le)}revealLinesInCenterIfOutsideViewport(x,X,le=0){this._revealLines(x,X,2,le)}revealLinesNearTop(x,X,le=0){this._revealLines(x,X,5,le)}_revealLines(x,X,le,fe){if(typeof x!="number"||typeof X!="number")throw new Error("Invalid arguments");this._sendRevealRange(new s.Range(x,1,X,1),le,!1,fe)}revealRange(x,X=0,le=!1,fe=!0){this._revealRange(x,le?1:0,fe,X)}revealRangeInCenter(x,X=0){this._revealRange(x,1,!0,X)}revealRangeInCenterIfOutsideViewport(x,X=0){this._revealRange(x,2,!0,X)}revealRangeNearTop(x,X=0){this._revealRange(x,5,!0,X)}revealRangeNearTopIfOutsideViewport(x,X=0){this._revealRange(x,6,!0,X)}revealRangeAtTop(x,X=0){this._revealRange(x,3,!0,X)}_revealRange(x,X,le,fe){if(!s.Range.isIRange(x))throw new Error("Invalid arguments");this._sendRevealRange(s.Range.lift(x),X,le,fe)}setSelections(x,X="api",le=0){if(!!this._modelData){if(!x||x.length===0)throw new Error("Invalid arguments");for(let fe=0,$=x.length;fe<$;fe++)if(!o.Selection.isISelection(x[fe]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(X,x,le)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(x,X=1){if(!!this._modelData){if(typeof x!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:x},X)}}setScrollTop(x,X=1){if(!!this._modelData){if(typeof x!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:x},X)}}setScrollPosition(x,X=1){!this._modelData||this._modelData.viewModel.setScrollPosition(x,X)}saveViewState(){if(!this._modelData)return null;const x={},X=Object.keys(this._contributions);for(const $ of X){const H=this._contributions[$];typeof H.saveViewState=="function"&&(x[$]=H.saveViewState())}const le=this._modelData.viewModel.saveCursorState(),fe=this._modelData.viewModel.saveState();return{cursorState:le,viewState:fe,contributionsState:x}}restoreViewState(x){if(!this._modelData||!this._modelData.hasRealView)return;const X=x;if(X&&X.cursorState&&X.viewState){const le=X.cursorState;Array.isArray(le)?this._modelData.viewModel.restoreCursorState(le):this._modelData.viewModel.restoreCursorState([le]);const fe=X.contributionsState||{},$=Object.keys(this._contributions);for(let Q=0,re=$.length;Q<re;Q++){const ce=$[Q],oe=this._contributions[ce];typeof oe.restoreViewState=="function"&&oe.restoreViewState(fe[ce])}const H=this._modelData.viewModel.reduceRestoreState(X.viewState);this._modelData.view.restoreState(H)}}getContribution(x){return this._contributions[x]||null}getActions(){const x=[],X=Object.keys(this._actions);for(let le=0,fe=X.length;le<fe;le++){const $=X[le];x.push(this._actions[$])}return x}getSupportedActions(){let x=this.getActions();return x=x.filter(X=>X.isSupported()),x}getAction(x){return this._actions[x]||null}trigger(x,X,le){switch(le=le||{},X){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(x);return;case"type":{const $=le;this._type(x,$.text||"");return}case"replacePreviousChar":{const $=le;this._compositionType(x,$.text||"",$.replaceCharCnt||0,0,0);return}case"compositionType":{const $=le;this._compositionType(x,$.text||"",$.replacePrevCharCnt||0,$.replaceNextCharCnt||0,$.positionDelta||0);return}case"paste":{const $=le;this._paste(x,$.text||"",$.pasteOnNewLine||!1,$.multicursorText||null,$.mode||null);return}case"cut":this._cut(x);return}const fe=this.getAction(X);if(fe){Promise.resolve(fe.run()).then(void 0,T.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(x,X,le)||this._triggerCommand(X,le)}_triggerCommand(x,X){this._commandService.executeCommand(x,X)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(x){!this._modelData||(this._modelData.viewModel.endComposition(x),this._onDidCompositionEnd.fire())}_type(x,X){!this._modelData||X.length===0||(x==="keyboard"&&this._onWillType.fire(X),this._modelData.viewModel.type(X,x),x==="keyboard"&&this._onDidType.fire(X))}_compositionType(x,X,le,fe,$){!this._modelData||this._modelData.viewModel.compositionType(X,le,fe,$,x)}_paste(x,X,le,fe,$){if(!this._modelData||X.length===0)return;const H=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(X,le,fe,x);const Q=this._modelData.viewModel.getSelection().getStartPosition();x==="keyboard"&&this._onDidPaste.fire({range:new s.Range(H.lineNumber,H.column,Q.lineNumber,Q.column),languageId:$})}_cut(x){!this._modelData||this._modelData.viewModel.cut(x)}_triggerEditorCommand(x,X,le){const fe=h.EditorExtensionsRegistry.getEditorCommand(X);return fe?(le=le||{},le.source=x,this._instantiationService.invokeFunction($=>{Promise.resolve(fe.runEditorCommand($,this,le)).then(void 0,T.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(x,X,le){if(!this._modelData||this._configuration.options.get(80))return!1;let fe;return le?Array.isArray(le)?fe=()=>le:fe=le:fe=()=>null,this._modelData.viewModel.executeEdits(x,X,fe),!0}executeCommand(x,X){!this._modelData||this._modelData.viewModel.executeCommand(X,x)}executeCommands(x,X){!this._modelData||this._modelData.viewModel.executeCommands(X,x)}changeDecorations(x){return this._modelData?this._modelData.model.changeDecorations(x,this._id):null}getLineDecorations(x){return this._modelData?this._modelData.model.getLineDecorations(x,this._id,(0,r.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(x,X){return this._modelData?x.length===0&&X.length===0?x:this._modelData.model.deltaDecorations(x,X,this._id):[]}removeDecorations(x){const X=this._decorationTypeKeysToIds[x];X&&this.deltaDecorations(X,[]),this._decorationTypeKeysToIds.hasOwnProperty(x)&&delete this._decorationTypeKeysToIds[x],this._decorationTypeSubtypes.hasOwnProperty(x)&&delete this._decorationTypeSubtypes[x]}getLayoutInfo(){return this._configuration.options.get(130)}createOverviewRuler(x){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(x)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(x){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(x)}layout(x){this._configuration.observeReferenceElement(x),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(x){const X={widget:x,position:x.getPosition()};this._contentWidgets.hasOwnProperty(x.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[x.getId()]=X,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(X)}layoutContentWidget(x){const X=x.getId();if(this._contentWidgets.hasOwnProperty(X)){const le=this._contentWidgets[X];le.position=x.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(le)}}removeContentWidget(x){const X=x.getId();if(this._contentWidgets.hasOwnProperty(X)){const le=this._contentWidgets[X];delete this._contentWidgets[X],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(le)}}addOverlayWidget(x){const X={widget:x,position:x.getPosition()};this._overlayWidgets.hasOwnProperty(x.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[x.getId()]=X,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(X)}layoutOverlayWidget(x){const X=x.getId();if(this._overlayWidgets.hasOwnProperty(X)){const le=this._overlayWidgets[X];le.position=x.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(le)}}removeOverlayWidget(x){const X=x.getId();if(this._overlayWidgets.hasOwnProperty(X)){const le=this._overlayWidgets[X];delete this._overlayWidgets[X],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(le)}}changeViewZones(x){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(x)}getTargetAtClientPoint(x,X){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(x,X)}getScrolledVisiblePosition(x){if(!this._modelData||!this._modelData.hasRealView)return null;const X=this._modelData.model.validatePosition(x),le=this._configuration.options,fe=le.get(130),$=Bt._getVerticalOffsetForPosition(this._modelData,X.lineNumber,X.column)-this.getScrollTop(),H=this._modelData.view.getOffsetForColumn(X.lineNumber,X.column)+fe.glyphMarginWidth+fe.lineNumbersWidth+fe.decorationsWidth-this.getScrollLeft();return{top:$,left:H,height:le.get(58)}}getOffsetForColumn(x,X){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(x,X)}render(x=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,x)}setAriaOptions(x){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(x)}applyFontInfo(x){p.Configuration.applyFontInfoSlow(x,this._configuration.options.get(43))}setBanner(x,X){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=x,this._configuration.reserveHeight(x?X:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(x){if(!x){this._modelData=null;return}const X=[];this._domElement.setAttribute("data-mode-id",x.getLanguageId()),this._configuration.setIsDominatedByLongLines(x.isDominatedByLongLines()),this._configuration.setMaxLineNumber(x.getLineCount()),x.onBeforeAttached();const le=new m.ViewModel(this._id,this._configuration,x,A.DOMLineBreaksComputerFactory.create(),R.MonospaceLineBreaksComputerFactory.create(this._configuration.options),H=>N.scheduleAtNextAnimationFrame(H));X.push(x.onDidChangeDecorations(H=>this._onDidChangeModelDecorations.fire(H))),X.push(x.onDidChangeLanguage(H=>{this._domElement.setAttribute("data-mode-id",x.getLanguageId()),this._onDidChangeModelLanguage.fire(H)})),X.push(x.onDidChangeLanguageConfiguration(H=>this._onDidChangeModelLanguageConfiguration.fire(H))),X.push(x.onDidChangeContent(H=>this._onDidChangeModelContent.fire(H))),X.push(x.onDidChangeOptions(H=>this._onDidChangeModelOptions.fire(H))),X.push(x.onWillDispose(()=>this.setModel(null))),X.push(le.onEvent(H=>{switch(H.kind){case 0:this._onDidContentSizeChange.fire(H);break;case 1:this._editorTextFocus.setValue(H.hasFocus);break;case 2:this._onDidScrollChange.fire(H);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{H.reachedMaxCursorCount&&this._notificationService.warn(y.localize(0,null,c.CursorsController.MAX_CURSOR_COUNT));const Q=[];for(let oe=0,de=H.selections.length;oe<de;oe++)Q[oe]=H.selections[oe].getPosition();const re={position:Q[0],secondaryPositions:Q.slice(1),reason:H.reason,source:H.source};this._onDidChangeCursorPosition.fire(re);const ce={selection:H.selections[0],secondarySelections:H.selections.slice(1),modelVersionId:H.modelVersionId,oldSelections:H.oldSelections,oldModelVersionId:H.oldModelVersionId,source:H.source,reason:H.reason};this._onDidChangeCursorSelection.fire(ce);break}}}));const[fe,$]=this._createView(le);if($){this._domElement.appendChild(fe.domNode.domNode);let H=Object.keys(this._contentWidgets);for(let Q=0,re=H.length;Q<re;Q++){const ce=H[Q];fe.addContentWidget(this._contentWidgets[ce])}H=Object.keys(this._overlayWidgets);for(let Q=0,re=H.length;Q<re;Q++){const ce=H[Q];fe.addOverlayWidget(this._overlayWidgets[ce])}fe.render(!1,!0),fe.domNode.domNode.setAttribute("data-uri",x.uri.toString())}this._modelData=new B(x,le,fe,$,X)}_createView(x){let X;this.isSimpleWidget?X={paste:($,H,Q,re)=>{this._paste("keyboard",$,H,Q,re)},type:$=>{this._type("keyboard",$)},compositionType:($,H,Q,re)=>{this._compositionType("keyboard",$,H,Q,re)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:X={paste:($,H,Q,re)=>{const ce={text:$,pasteOnNewLine:H,multicursorText:Q,mode:re};this._commandService.executeCommand("paste",ce)},type:$=>{const H={text:$};this._commandService.executeCommand("type",H)},compositionType:($,H,Q,re)=>{if(Q||re){const ce={text:$,replacePrevCharCnt:H,replaceNextCharCnt:Q,positionDelta:re};this._commandService.executeCommand("compositionType",ce)}else{const ce={text:$,replaceCharCnt:H};this._commandService.executeCommand("replacePreviousChar",ce)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const le=new t.ViewUserInputEvents(x.coordinatesConverter);return le.onKeyDown=$=>this._onKeyDown.fire($),le.onKeyUp=$=>this._onKeyUp.fire($),le.onContextMenu=$=>this._onContextMenu.fire($),le.onMouseMove=$=>this._onMouseMove.fire($),le.onMouseLeave=$=>this._onMouseLeave.fire($),le.onMouseDown=$=>this._onMouseDown.fire($),le.onMouseUp=$=>this._onMouseUp.fire($),le.onMouseDrag=$=>this._onMouseDrag.fire($),le.onMouseDrop=$=>this._onMouseDrop.fire($),le.onMouseDropCanceled=$=>this._onMouseDropCanceled.fire($),le.onMouseWheel=$=>this._onMouseWheel.fire($),[new i.View(X,this._configuration,this._themeService,x,le,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(x){x&&x.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const x=this._modelData.model,X=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),X&&this._domElement.contains(X)&&this._domElement.removeChild(X),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),x}_removeDecorationType(x){this._codeEditorService.removeDecorationType(x)}hasModel(){return this._modelData!==null}};V=Be([Ce(3,w.IInstantiationService),Ce(4,g.ICodeEditorService),Ce(5,_.ICommandService),Ce(6,L.IContextKeyService),Ce(7,M.IThemeService),Ce(8,D.INotificationService),Ce(9,O.IAccessibilityService)],V),e.CodeEditorWidget=V;class j extends b.Disposable{constructor(){super();this._onDidChangeToTrue=this._register(new I.Emitter),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new I.Emitter),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(x){const X=x?2:1;this._value!==X&&(this._value=X,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=j;class K extends b.Disposable{constructor(x,X){super();this._editor=x,X.createKey("editorId",x.getId()),this._editorSimpleInput=u.EditorContextKeys.editorSimpleInput.bindTo(X),this._editorFocus=u.EditorContextKeys.focus.bindTo(X),this._textInputFocus=u.EditorContextKeys.textInputFocus.bindTo(X),this._editorTextFocus=u.EditorContextKeys.editorTextFocus.bindTo(X),this._editorTabMovesFocus=u.EditorContextKeys.tabMovesFocus.bindTo(X),this._editorReadonly=u.EditorContextKeys.readOnly.bindTo(X),this._inDiffEditor=u.EditorContextKeys.inDiffEditor.bindTo(X),this._editorColumnSelection=u.EditorContextKeys.columnSelection.bindTo(X),this._hasMultipleSelections=u.EditorContextKeys.hasMultipleSelections.bindTo(X),this._hasNonEmptySelection=u.EditorContextKeys.hasNonEmptySelection.bindTo(X),this._canUndo=u.EditorContextKeys.canUndo.bindTo(X),this._canRedo=u.EditorContextKeys.canRedo.bindTo(X),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const x=this._editor.getOptions();this._editorTabMovesFocus.set(x.get(129)),this._editorReadonly.set(x.get(80)),this._inDiffEditor.set(x.get(53)),this._editorColumnSelection.set(x.get(18))}_updateFromSelection(){const x=this._editor.getSelections();x?(this._hasMultipleSelections.set(x.length>1),this._hasNonEmptySelection.set(x.some(X=>!X.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const x=this._editor.getModel();this._canUndo.set(Boolean(x&&x.canUndo())),this._canRedo.set(Boolean(x&&x.canRedo()))}}class Y extends b.Disposable{constructor(x,X){super();this._editor=x,this._contextKeyService=X,this._langId=u.EditorContextKeys.languageId.bindTo(X),this._hasCompletionItemProvider=u.EditorContextKeys.hasCompletionItemProvider.bindTo(X),this._hasCodeActionsProvider=u.EditorContextKeys.hasCodeActionsProvider.bindTo(X),this._hasCodeLensProvider=u.EditorContextKeys.hasCodeLensProvider.bindTo(X),this._hasDefinitionProvider=u.EditorContextKeys.hasDefinitionProvider.bindTo(X),this._hasDeclarationProvider=u.EditorContextKeys.hasDeclarationProvider.bindTo(X),this._hasImplementationProvider=u.EditorContextKeys.hasImplementationProvider.bindTo(X),this._hasTypeDefinitionProvider=u.EditorContextKeys.hasTypeDefinitionProvider.bindTo(X),this._hasHoverProvider=u.EditorContextKeys.hasHoverProvider.bindTo(X),this._hasDocumentHighlightProvider=u.EditorContextKeys.hasDocumentHighlightProvider.bindTo(X),this._hasDocumentSymbolProvider=u.EditorContextKeys.hasDocumentSymbolProvider.bindTo(X),this._hasReferenceProvider=u.EditorContextKeys.hasReferenceProvider.bindTo(X),this._hasRenameProvider=u.EditorContextKeys.hasRenameProvider.bindTo(X),this._hasSignatureHelpProvider=u.EditorContextKeys.hasSignatureHelpProvider.bindTo(X),this._hasInlayHintsProvider=u.EditorContextKeys.hasInlayHintsProvider.bindTo(X),this._hasDocumentFormattingProvider=u.EditorContextKeys.hasDocumentFormattingProvider.bindTo(X),this._hasDocumentSelectionFormattingProvider=u.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(X),this._hasMultipleDocumentFormattingProvider=u.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(X),this._hasMultipleDocumentSelectionFormattingProvider=u.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(X),this._isInWalkThrough=u.EditorContextKeys.isInWalkThroughSnippet.bindTo(X);const le=()=>this._update();this._register(x.onDidChangeModel(le)),this._register(x.onDidChangeModelLanguage(le)),this._register(f.CompletionProviderRegistry.onDidChange(le)),this._register(f.CodeActionProviderRegistry.onDidChange(le)),this._register(f.CodeLensProviderRegistry.onDidChange(le)),this._register(f.DefinitionProviderRegistry.onDidChange(le)),this._register(f.DeclarationProviderRegistry.onDidChange(le)),this._register(f.ImplementationProviderRegistry.onDidChange(le)),this._register(f.TypeDefinitionProviderRegistry.onDidChange(le)),this._register(f.HoverProviderRegistry.onDidChange(le)),this._register(f.DocumentHighlightProviderRegistry.onDidChange(le)),this._register(f.DocumentSymbolProviderRegistry.onDidChange(le)),this._register(f.ReferenceProviderRegistry.onDidChange(le)),this._register(f.RenameProviderRegistry.onDidChange(le)),this._register(f.DocumentFormattingEditProviderRegistry.onDidChange(le)),this._register(f.DocumentRangeFormattingEditProviderRegistry.onDidChange(le)),this._register(f.SignatureHelpProviderRegistry.onDidChange(le)),this._register(f.InlayHintsProviderRegistry.onDidChange(le)),le()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const x=this._editor.getModel();if(!x){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(x.getLanguageId()),this._hasCompletionItemProvider.set(f.CompletionProviderRegistry.has(x)),this._hasCodeActionsProvider.set(f.CodeActionProviderRegistry.has(x)),this._hasCodeLensProvider.set(f.CodeLensProviderRegistry.has(x)),this._hasDefinitionProvider.set(f.DefinitionProviderRegistry.has(x)),this._hasDeclarationProvider.set(f.DeclarationProviderRegistry.has(x)),this._hasImplementationProvider.set(f.ImplementationProviderRegistry.has(x)),this._hasTypeDefinitionProvider.set(f.TypeDefinitionProviderRegistry.has(x)),this._hasHoverProvider.set(f.HoverProviderRegistry.has(x)),this._hasDocumentHighlightProvider.set(f.DocumentHighlightProviderRegistry.has(x)),this._hasDocumentSymbolProvider.set(f.DocumentSymbolProviderRegistry.has(x)),this._hasReferenceProvider.set(f.ReferenceProviderRegistry.has(x)),this._hasRenameProvider.set(f.RenameProviderRegistry.has(x)),this._hasSignatureHelpProvider.set(f.SignatureHelpProviderRegistry.has(x)),this._hasInlayHintsProvider.set(f.InlayHintsProviderRegistry.has(x)),this._hasDocumentFormattingProvider.set(f.DocumentFormattingEditProviderRegistry.has(x)||f.DocumentRangeFormattingEditProviderRegistry.has(x)),this._hasDocumentSelectionFormattingProvider.set(f.DocumentRangeFormattingEditProviderRegistry.has(x)),this._hasMultipleDocumentFormattingProvider.set(f.DocumentFormattingEditProviderRegistry.all(x).length+f.DocumentRangeFormattingEditProviderRegistry.all(x).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(f.DocumentRangeFormattingEditProviderRegistry.all(x).length>1),this._isInWalkThrough.set(x.uri.scheme===C.Schemas.walkThroughSnippet)})}}e.EditorModeContext=Y;class J extends b.Disposable{constructor(x){super();this._onChange=this._register(new I.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(N.trackFocus(x)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const Z=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ie=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ne(U){return Z+encodeURIComponent(U.toString())+ie}const G=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),W=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function z(U){return G+encodeURIComponent(U.toString())+W}(0,M.registerThemingParticipant)((U,x)=>{const X=U.getColor(v.editorErrorBorder);X&&x.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${X}; }`);const le=U.getColor(v.editorErrorForeground);le&&x.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ne(le)}") repeat-x bottom left; }`);const fe=U.getColor(v.editorErrorBackground);fe&&x.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${fe}; }`);const $=U.getColor(v.editorWarningBorder);$&&x.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${$}; }`);const H=U.getColor(v.editorWarningForeground);H&&x.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ne(H)}") repeat-x bottom left; }`);const Q=U.getColor(v.editorWarningBackground);Q&&x.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${Q}; }`);const re=U.getColor(v.editorInfoBorder);re&&x.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${re}; }`);const ce=U.getColor(v.editorInfoForeground);ce&&x.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ne(ce)}") repeat-x bottom left; }`);const oe=U.getColor(v.editorInfoBackground);oe&&x.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${oe}; }`);const de=U.getColor(v.editorHintBorder);de&&x.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${de}; }`);const pe=U.getColor(v.editorHintForeground);pe&&x.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${z(pe)}") no-repeat bottom left; }`);const _e=U.getColor(S.editorUnnecessaryCodeOpacity);_e&&x.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${_e.rgba.a}; }`);const se=U.getColor(S.editorUnnecessaryCodeBorder);se&&x.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${se}; }`);const ue=U.getColor(v.editorForeground)||"inherit";x.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${ue}}`)})}),define(ee[284],te([0,1,475,7,32,110,10,4,2,62,67,28,160,665,30,3,87,143,31,72,234,148,117,64,16,9,153,40,22,12,73,478,91,15,13,61,223,27,138,68,356]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S,v,m,_,L,w,k,D,M,O,F,R,A,P,E,B,V){"use strict";var j;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class K{constructor(se,ue){this._contextMenuService=se,this._clipboardService=ue,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(se){return se.filter(ue=>!this._zonesMap[String(ue.id)])}clean(se){this._zones.length>0&&se.changeViewZones(ue=>{for(const be of this._zones)ue.removeZone(be)}),this._zones=[],this._zonesMap={},this._decorations=se.deltaDecorations(this._decorations,[])}apply(se,ue,be,ge){const Se=ge?g.StableEditorScrollState.capture(se):null;se.changeViewZones(ae=>{var he;for(const De of this._zones)ae.removeZone(De);for(const De of this._inlineDiffMargins)De.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let De=0,ke=be.zones.length;De<ke;De++){const Ve=be.zones[De];Ve.suppressMouseDown=!0;const Fe=ae.addZone(Ve);this._zones.push(Fe),this._zonesMap[String(Fe)]=!0,be.zones[De].diff&&Ve.marginDomNode&&(Ve.suppressMouseDown=!1,((he=be.zones[De].diff)===null||he===void 0?void 0:he.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new M.InlineDiffMargin(Fe,Ve.marginDomNode,se,be.zones[De].diff,this._contextMenuService,this._clipboardService)))}}),Se&&Se.restore(se),this._decorations=se.deltaDecorations(this._decorations,be.decorations),ue&&ue.setZones(be.overviewZones)}}let Y=0;const J=(0,V.registerIcon)("diff-insert",E.Codicon.add,y.localize(0,null)),Z=(0,V.registerIcon)("diff-remove",E.Codicon.remove,y.localize(1,null)),ie=(j=window.trustedTypes)===null||j===void 0?void 0:j.createPolicy("diffEditorWidget",{createHTML:_e=>_e});let ne=class it extends p.Disposable{constructor(se,ue,be,ge,Se,ae,he,De,ke,Ve,Fe,xe){super();this._editorProgressService=xe,this._onDidDispose=this._register(new C.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new C.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new C.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=Se,this._codeEditorService=De,this._contextKeyService=this._register(ae.createScoped(se)),this._instantiationService=he.createChild(new _.ServiceCollection([v.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=ke,this._notificationService=Ve,this._id=++Y,this._state=0,this._updatingDiffProgress=null,this._domElement=se,ue=ue||{},this._options=de(ue,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof ue.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",ue.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new b.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=it._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,T.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(N.addStandardDisposableListener(this._overviewDomElement,"mousedown",je=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(je)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new K(Fe,ge),this._modifiedEditorState=new K(Fe,ge),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new P.ElementSizeObserver(this._containerDomElement,ue.dimension,()=>this._onDidContainerSizeChanged())),ue.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(ue,be.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(ue,be.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=he.createInstance(r.DiffReview,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new X(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new fe(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(ke.onDidColorThemeChange(je=>{this._strategy&&this._strategy.applyColors(je)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=it._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const Ze=F.EditorExtensionsRegistry.getDiffEditorContributions();for(const je of Ze)try{this._register(he.createInstance(je.ctor,this))}catch($e){(0,R.onUnexpectedError)($e)}this._codeEditorService.addDiffEditor(this)}_setState(se){this._state!==se&&(this._state=se,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(se,ue){let be="monaco-diff-editor monaco-editor-background ";return ue&&(be+="side-by-side "),be+=(0,k.getThemeTypeSelector)(se.type),be}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(se,ue){const be=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(se),ue);this._register(be.onDidScrollChange(Se=>{this._isHandlingScrollEvent||!Se.scrollTopChanged&&!Se.scrollLeftChanged&&!Se.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:Se.scrollLeft,scrollTop:Se.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(be.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(be.onDidChangeConfiguration(Se=>{!be.getModel()||(Se.hasChanged(43)&&this._updateDecorationsRunner.schedule(),Se.hasChanged(131)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(be.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(be.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const ge=this._contextKeyService.createKey("isInDiffLeftEditor",be.hasWidgetFocus());return this._register(be.onDidFocusEditorWidget(()=>ge.set(!0))),this._register(be.onDidBlurEditorWidget(()=>ge.set(!1))),this._register(be.onDidContentSizeChange(Se=>{const ae=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+it.ONE_OVERVIEW_WIDTH,he=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:he,contentWidth:ae,contentHeightChanged:Se.contentHeightChanged,contentWidthChanged:Se.contentWidthChanged})})),be}_createRightHandSideEditor(se,ue){const be=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(se),ue);this._register(be.onDidScrollChange(Se=>{this._isHandlingScrollEvent||!Se.scrollTopChanged&&!Se.scrollLeftChanged&&!Se.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:Se.scrollLeft,scrollTop:Se.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(be.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(be.onDidChangeConfiguration(Se=>{!be.getModel()||(Se.hasChanged(43)&&this._updateDecorationsRunner.schedule(),Se.hasChanged(131)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(be.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(be.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(be.onDidChangeModelOptions(Se=>{Se.tabSize&&this._updateDecorationsRunner.schedule()}));const ge=this._contextKeyService.createKey("isInDiffRightEditor",be.hasWidgetFocus());return this._register(be.onDidFocusEditorWidget(()=>ge.set(!0))),this._register(be.onDidBlurEditorWidget(()=>ge.set(!1))),this._register(be.onDidContentSizeChange(Se=>{const ae=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+it.ONE_OVERVIEW_WIDTH,he=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:he,contentWidth:ae,contentHeightChanged:Se.contentHeightChanged,contentWidthChanged:Se.contentWidthChanged})})),be}_createInnerEditor(se,ue,be,ge){return se.createInstance(t.CodeEditorWidget,ue,be,ge)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return s.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(se){const ue=de(se,this._options),be=pe(this._options,ue);this._options=ue;const ge=be.ignoreTrimWhitespace||be.renderIndicators,Se=this._isVisible&&(be.maxComputationTime||be.maxFileSize);ge?this._beginUpdateDecorations():Se&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(se)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(se)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),be.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new X(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new fe(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=it._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),be.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(se){if(se&&(!se.original||!se.modified))throw new Error(se.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(se?se.original:null),this._modifiedEditor.setModel(se?se.modified:null),this._updateDecorationsRunner.cancel(),se&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),se&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(se){return this._modifiedEditor.getVisibleColumnFromPosition(se)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(se){this._modifiedEditor.setPosition(se)}revealLine(se,ue=0){this._modifiedEditor.revealLine(se,ue)}revealLineInCenter(se,ue=0){this._modifiedEditor.revealLineInCenter(se,ue)}revealLineInCenterIfOutsideViewport(se,ue=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(se,ue)}revealLineNearTop(se,ue=0){this._modifiedEditor.revealLineNearTop(se,ue)}revealPosition(se,ue=0){this._modifiedEditor.revealPosition(se,ue)}revealPositionInCenter(se,ue=0){this._modifiedEditor.revealPositionInCenter(se,ue)}revealPositionInCenterIfOutsideViewport(se,ue=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(se,ue)}revealPositionNearTop(se,ue=0){this._modifiedEditor.revealPositionNearTop(se,ue)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(se){this._modifiedEditor.setSelection(se)}setSelections(se){this._modifiedEditor.setSelections(se)}revealLines(se,ue,be=0){this._modifiedEditor.revealLines(se,ue,be)}revealLinesInCenter(se,ue,be=0){this._modifiedEditor.revealLinesInCenter(se,ue,be)}revealLinesInCenterIfOutsideViewport(se,ue,be=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(se,ue,be)}revealLinesNearTop(se,ue,be=0){this._modifiedEditor.revealLinesNearTop(se,ue,be)}revealRange(se,ue=0,be=!1,ge=!0){this._modifiedEditor.revealRange(se,ue,be,ge)}revealRangeInCenter(se,ue=0){this._modifiedEditor.revealRangeInCenter(se,ue)}revealRangeInCenterIfOutsideViewport(se,ue=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(se,ue)}revealRangeNearTop(se,ue=0){this._modifiedEditor.revealRangeNearTop(se,ue)}revealRangeNearTopIfOutsideViewport(se,ue=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(se,ue)}revealRangeAtTop(se,ue=0){this._modifiedEditor.revealRangeAtTop(se,ue)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const se=this._originalEditor.saveViewState(),ue=this._modifiedEditor.saveViewState();return{original:se,modified:ue}}restoreViewState(se){if(se&&se.original&&se.modified){const ue=se;this._originalEditor.restoreViewState(ue.original),this._modifiedEditor.restoreViewState(ue.modified)}}layout(se){this._elementSizeObserver.observe(se)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(se,ue,be){this._modifiedEditor.trigger(se,ue,be)}changeDecorations(se){return this._modifiedEditor.changeDecorations(se)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const se=this._elementSizeObserver.getHeight(),ue=this._getReviewHeight(),be=it.ENTIRE_DIFF_OVERVIEW_WIDTH-2*it.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:it.ONE_OVERVIEW_WIDTH,right:be+it.ONE_OVERVIEW_WIDTH,height:se-ue}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:it.ONE_OVERVIEW_WIDTH,height:se-ue}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),it.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(se,ue){return!se&&!ue?!0:!se||!ue?!1:se.toString()===ue.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const se=this._originalEditor.getModel(),ue=this._modifiedEditor.getModel();if(!se||!ue)return;this._diffComputationToken++;const be=this._diffComputationToken,ge=this._options.maxFileSize*1024*1024,Se=ae=>{const he=ae.getValueLength();return ge===0||he<=ge};if(!Se(se)||!Se(ue)){(!it._equals(se.uri,this._lastOriginalWarning)||!it._equals(ue.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=se.uri,this._lastModifiedWarning=ue.uri,this._notificationService.warn(y.localize(2,null)));return}this._setState(1),this._editorWorkerService.computeDiff(se.uri,ue.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(ae=>{be===this._diffComputationToken&&se===this._originalEditor.getModel()&&ue===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=ae,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},ae=>{be===this._diffComputationToken&&se===this._originalEditor.getModel()&&ue===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const se=this._diffComputationResult?this._diffComputationResult.changes:[],ue=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),be=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),ge=this._strategy.getEditorsDiffDecorations(se,this._options.ignoreTrimWhitespace,this._options.renderIndicators,ue,be);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,ge.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,ge.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(se){const ue=Object.assign({},se);return ue.inDiffEditor=!0,ue.automaticLayout=!1,ue.scrollbar=Object.assign({},ue.scrollbar||{}),ue.scrollbar.vertical="visible",ue.folding=!1,ue.codeLens=this._options.diffCodeLens,ue.fixedOverflowWidgets=!0,ue.minimap=Object.assign({},ue.minimap||{}),ue.minimap.enabled=!1,ue}_adjustOptionsForLeftHandSide(se){const ue=this._adjustOptionsForSubEditor(se);return this._options.renderSideBySide?ue.wordWrapOverride1=this._options.diffWordWrap:ue.wordWrapOverride1="off",se.originalAriaLabel&&(ue.ariaLabel=se.originalAriaLabel),ue.readOnly=!this._options.originalEditable,ue.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},ue),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(se){const ue=this._adjustOptionsForSubEditor(se);return se.modifiedAriaLabel&&(ue.ariaLabel=se.modifiedAriaLabel),ue.wordWrapOverride1=this._options.diffWordWrap,ue.revealHorizontalRightPadding=c.EditorOptions.revealHorizontalRightPadding.defaultValue+it.ENTIRE_DIFF_OVERVIEW_WIDTH,ue.scrollbar.verticalHasArrows=!1,ue.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},ue),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const se=this._elementSizeObserver.getWidth(),ue=this._elementSizeObserver.getHeight(),be=this._getReviewHeight(),ge=this._strategy.layout();this._originalDomNode.style.width=ge+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=se-ge+"px",this._modifiedDomNode.style.left=ge+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=ue-be+"px",this._overviewDomElement.style.width=it.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=se-it.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(it.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:ge,height:ue-be}),this._modifiedEditor.layout({width:se-ge-(this._options.renderOverviewRuler?it.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:ue-be}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(ue-be,se,be),this._layoutOverviewViewport()}_layoutOverviewViewport(){const se=this._computeOverviewViewport();se?(this._overviewViewportDomElement.setTop(se.top),this._overviewViewportDomElement.setHeight(se.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const se=this._modifiedEditor.getLayoutInfo();if(!se)return null;const ue=this._modifiedEditor.getScrollTop(),be=this._modifiedEditor.getScrollHeight(),ge=Math.max(0,se.height),Se=Math.max(0,ge-2*0),ae=be>0?Se/be:0,he=Math.max(0,Math.floor(se.height*ae)),De=Math.floor(ue*ae);return{height:he,top:De}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(se){this._strategy&&this._strategy.dispose(),this._strategy=se,se.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(se,ue){const be=this._diffComputationResult?this._diffComputationResult.changes:[];if(be.length===0||se<ue(be[0]))return null;let ge=0,Se=be.length-1;for(;ge<Se;){const ae=Math.floor((ge+Se)/2),he=ue(be[ae]),De=ae+1<=Se?ue(be[ae+1]):1073741824;se<he?Se=ae-1:se>=De?ge=ae+1:(ge=ae,Se=ae)}return be[ge]}_getEquivalentLineForOriginalLineNumber(se){const ue=this._getLineChangeAtOrBeforeLineNumber(se,De=>De.originalStartLineNumber);if(!ue)return se;const be=ue.originalStartLineNumber+(ue.originalEndLineNumber>0?-1:0),ge=ue.modifiedStartLineNumber+(ue.modifiedEndLineNumber>0?-1:0),Se=ue.originalEndLineNumber>0?ue.originalEndLineNumber-ue.originalStartLineNumber+1:0,ae=ue.modifiedEndLineNumber>0?ue.modifiedEndLineNumber-ue.modifiedStartLineNumber+1:0,he=se-be;return he<=Se?ge+Math.min(he,ae):ge+ae-Se+he}_getEquivalentLineForModifiedLineNumber(se){const ue=this._getLineChangeAtOrBeforeLineNumber(se,De=>De.modifiedStartLineNumber);if(!ue)return se;const be=ue.originalStartLineNumber+(ue.originalEndLineNumber>0?-1:0),ge=ue.modifiedStartLineNumber+(ue.modifiedEndLineNumber>0?-1:0),Se=ue.originalEndLineNumber>0?ue.originalEndLineNumber-ue.originalStartLineNumber+1:0,ae=ue.modifiedEndLineNumber>0?ue.modifiedEndLineNumber-ue.modifiedStartLineNumber+1:0,he=se-ge;return he<=ae?be+Math.min(he,Se):be+Se-ae+he}getDiffLineInformationForOriginal(se){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(se)}:null}getDiffLineInformationForModified(se){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(se)}:null}};ne.ONE_OVERVIEW_WIDTH=15,ne.ENTIRE_DIFF_OVERVIEW_WIDTH=30,ne.UPDATE_DIFF_DECORATIONS_DELAY=200,ne=Be([Ce(3,O.IClipboardService),Ce(4,n.IEditorWorkerService),Ce(5,v.IContextKeyService),Ce(6,m.IInstantiationService),Ce(7,i.ICodeEditorService),Ce(8,k.IThemeService),Ce(9,L.INotificationService),Ce(10,D.IContextMenuService),Ce(11,A.IEditorProgressService)],ne),e.DiffEditorWidget=ne;class G extends p.Disposable{constructor(se){super();this._dataSource=se,this._insertColor=null,this._removeColor=null}applyColors(se){const ue=(se.getColor(w.diffInserted)||w.defaultInsertColor).transparent(2),be=(se.getColor(w.diffRemoved)||w.defaultRemoveColor).transparent(2),ge=!ue.equals(this._insertColor)||!be.equals(this._removeColor);return this._insertColor=ue,this._removeColor=be,ge}getEditorsDiffDecorations(se,ue,be,ge,Se){Se=Se.sort((ke,Ve)=>ke.afterLineNumber-Ve.afterLineNumber),ge=ge.sort((ke,Ve)=>ke.afterLineNumber-Ve.afterLineNumber);const ae=this._getViewZones(se,ge,Se,be),he=this._getOriginalEditorDecorations(se,ue,be),De=this._getModifiedEditorDecorations(se,ue,be);return{original:{decorations:he.decorations,overviewZones:he.overviewZones,zones:ae.original},modified:{decorations:De.decorations,overviewZones:De.overviewZones,zones:ae.modified}}}}class W{constructor(se){this._source=se,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class z{constructor(se,ue,be,ge,Se){this._lineChanges=se,this._originalForeignVZ=ue,this._modifiedForeignVZ=be,this._originalEditor=ge,this._modifiedEditor=Se}static _getViewLineCount(se,ue,be){const ge=se.getModel(),Se=se._getViewModel();if(ge&&Se){const ae=oe(ge,Se,ue,be);return ae.endLineNumber-ae.startLineNumber+1}return be-ue+1}getViewZones(){const se=this._originalEditor.getOption(58),ue=this._modifiedEditor.getOption(58),be=this._originalEditor.getOption(131).wrappingColumn!==-1,ge=this._modifiedEditor.getOption(131).wrappingColumn!==-1,Se=be||ge,ae=this._originalEditor.getModel(),he=this._originalEditor._getViewModel().coordinatesConverter,De=this._modifiedEditor._getViewModel().coordinatesConverter,ke={original:[],modified:[]};let Ve=0,Fe=0,xe=0,Ze=0,je=0,$e=0;const Le=(Me,me)=>Me.afterLineNumber-me.afterLineNumber,Ee=(Me,me)=>{if(me.domNode===null&&Me.length>0){const ve=Me[Me.length-1];if(ve.afterLineNumber===me.afterLineNumber&&ve.domNode===null){ve.heightInLines+=me.heightInLines;return}}Me.push(me)},Pe=new W(this._modifiedForeignVZ),ze=new W(this._originalForeignVZ);let Te=1,Ne=1;for(let Me=0,me=this._lineChanges.length;Me<=me;Me++){const ve=Me<me?this._lineChanges[Me]:null;ve!==null?(xe=ve.originalStartLineNumber+(ve.originalEndLineNumber>0?-1:0),Ze=ve.modifiedStartLineNumber+(ve.modifiedEndLineNumber>0?-1:0),Fe=ve.originalEndLineNumber>0?z._getViewLineCount(this._originalEditor,ve.originalStartLineNumber,ve.originalEndLineNumber):0,Ve=ve.modifiedEndLineNumber>0?z._getViewLineCount(this._modifiedEditor,ve.modifiedStartLineNumber,ve.modifiedEndLineNumber):0,je=Math.max(ve.originalStartLineNumber,ve.originalEndLineNumber),$e=Math.max(ve.modifiedStartLineNumber,ve.modifiedEndLineNumber)):(xe+=1e7+Fe,Ze+=1e7+Ve,je=xe,$e=Ze);let Ie=[],ye=[];if(Se){let Re;ve?ve.originalEndLineNumber>0?Re=ve.originalStartLineNumber-Te:Re=ve.modifiedStartLineNumber-Ne:Re=ae.getLineCount()-Te;for(let We=0;We<Re;We++){const Ke=Te+We,He=Ne+We,Ge=he.getModelLineViewLineCount(Ke),qe=De.getModelLineViewLineCount(He);Ge<qe?Ie.push({afterLineNumber:Ke,heightInLines:qe-Ge,domNode:null,marginDomNode:null}):Ge>qe&&ye.push({afterLineNumber:He,heightInLines:Ge-qe,domNode:null,marginDomNode:null})}ve&&(Te=(ve.originalEndLineNumber>0?ve.originalEndLineNumber:ve.originalStartLineNumber)+1,Ne=(ve.modifiedEndLineNumber>0?ve.modifiedEndLineNumber:ve.modifiedStartLineNumber)+1)}for(;Pe.current&&Pe.current.afterLineNumber<=$e;){let Re;Pe.current.afterLineNumber<=Ze?Re=xe-Ze+Pe.current.afterLineNumber:Re=je;let We=null;ve&&ve.modifiedStartLineNumber<=Pe.current.afterLineNumber&&Pe.current.afterLineNumber<=ve.modifiedEndLineNumber&&(We=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Ie.push({afterLineNumber:Re,heightInLines:Pe.current.height/ue,domNode:null,marginDomNode:We}),Pe.advance()}for(;ze.current&&ze.current.afterLineNumber<=je;){let Re;ze.current.afterLineNumber<=xe?Re=Ze-xe+ze.current.afterLineNumber:Re=$e,ye.push({afterLineNumber:Re,heightInLines:ze.current.height/se,domNode:null}),ze.advance()}if(ve!==null&&Q(ve)){const Re=this._produceOriginalFromDiff(ve,Fe,Ve);Re&&Ie.push(Re)}if(ve!==null&&re(ve)){const Re=this._produceModifiedFromDiff(ve,Fe,Ve);Re&&ye.push(Re)}let we=0,Oe=0;for(Ie=Ie.sort(Le),ye=ye.sort(Le);we<Ie.length&&Oe<ye.length;){const Re=Ie[we],We=ye[Oe],Ke=Re.afterLineNumber-xe,He=We.afterLineNumber-Ze;Ke<He?(Ee(ke.original,Re),we++):He<Ke?(Ee(ke.modified,We),Oe++):Re.shouldNotShrink?(Ee(ke.original,Re),we++):We.shouldNotShrink?(Ee(ke.modified,We),Oe++):Re.heightInLines>=We.heightInLines?(Re.heightInLines-=We.heightInLines,Oe++):(We.heightInLines-=Re.heightInLines,we++)}for(;we<Ie.length;)Ee(ke.original,Ie[we]),we++;for(;Oe<ye.length;)Ee(ke.modified,ye[Oe]),Oe++}return{original:z._ensureDomNodes(ke.original),modified:z._ensureDomNodes(ke.modified)}}static _ensureDomNodes(se){return se.map(ue=>(ue.domNode||(ue.domNode=ce()),ue))}}function U(_e,se,ue,be,ge){return{range:new l.Range(_e,se,ue,be),options:ge}}const x={charDelete:o.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:o.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:o.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:o.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:o.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:o.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+k.ThemeIcon.asClassName(J),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:o.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:o.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+k.ThemeIcon.asClassName(Z),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:o.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class X extends G{constructor(se,ue){super(se);this._disableSash=ue===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new I.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(be=>this._onSashDrag(be)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(se){const ue=se===!1;this._disableSash!==ue&&(this._disableSash=ue,this._sash.state=this._disableSash?0:3)}layout(se=this._sashRatio){const be=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ne.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let ge=Math.floor((se||.5)*be);const Se=Math.floor(.5*be);return ge=this._disableSash?Se:ge||Se,be>X.MINIMUM_EDITOR_WIDTH*2?(ge<X.MINIMUM_EDITOR_WIDTH&&(ge=X.MINIMUM_EDITOR_WIDTH),ge>be-X.MINIMUM_EDITOR_WIDTH&&(ge=be-X.MINIMUM_EDITOR_WIDTH)):ge=Se,this._sashPosition!==ge&&(this._sashPosition=ge,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(se){const be=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ne.ENTIRE_DIFF_OVERVIEW_WIDTH:0),ge=this.layout((this._startSashPosition+(se.currentX-se.startX))/be);this._sashRatio=ge/be,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(se){return 0}getVerticalSashLeft(se){return this._sashPosition}getVerticalSashHeight(se){return this._dataSource.getHeight()}_getViewZones(se,ue,be){const ge=this._dataSource.getOriginalEditor(),Se=this._dataSource.getModifiedEditor();return new le(se,ue,be,ge,Se).getViewZones()}_getOriginalEditorDecorations(se,ue,be){const ge=this._dataSource.getOriginalEditor(),Se=String(this._removeColor),ae={decorations:[],overviewZones:[]},he=ge.getModel(),De=ge._getViewModel();for(const ke of se)if(re(ke)){ae.decorations.push({range:new l.Range(ke.originalStartLineNumber,1,ke.originalEndLineNumber,1073741824),options:be?x.lineDeleteWithSign:x.lineDelete}),(!Q(ke)||!ke.charChanges)&&ae.decorations.push(U(ke.originalStartLineNumber,1,ke.originalEndLineNumber,1073741824,x.charDeleteWholeLine));const Ve=oe(he,De,ke.originalStartLineNumber,ke.originalEndLineNumber);if(ae.overviewZones.push(new d.OverviewRulerZone(Ve.startLineNumber,Ve.endLineNumber,Se)),ke.charChanges){for(const Fe of ke.charChanges)if(re(Fe))if(ue)for(let xe=Fe.originalStartLineNumber;xe<=Fe.originalEndLineNumber;xe++){let Ze,je;xe===Fe.originalStartLineNumber?Ze=Fe.originalStartColumn:Ze=he.getLineFirstNonWhitespaceColumn(xe),xe===Fe.originalEndLineNumber?je=Fe.originalEndColumn:je=he.getLineLastNonWhitespaceColumn(xe),ae.decorations.push(U(xe,Ze,xe,je,x.charDelete))}else ae.decorations.push(U(Fe.originalStartLineNumber,Fe.originalStartColumn,Fe.originalEndLineNumber,Fe.originalEndColumn,x.charDelete))}}return ae}_getModifiedEditorDecorations(se,ue,be){const ge=this._dataSource.getModifiedEditor(),Se=String(this._insertColor),ae={decorations:[],overviewZones:[]},he=ge.getModel(),De=ge._getViewModel();for(const ke of se)if(Q(ke)){ae.decorations.push({range:new l.Range(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,1073741824),options:be?x.lineInsertWithSign:x.lineInsert}),(!re(ke)||!ke.charChanges)&&ae.decorations.push(U(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,1073741824,x.charInsertWholeLine));const Ve=oe(he,De,ke.modifiedStartLineNumber,ke.modifiedEndLineNumber);if(ae.overviewZones.push(new d.OverviewRulerZone(Ve.startLineNumber,Ve.endLineNumber,Se)),ke.charChanges){for(const Fe of ke.charChanges)if(Q(Fe))if(ue)for(let xe=Fe.modifiedStartLineNumber;xe<=Fe.modifiedEndLineNumber;xe++){let Ze,je;xe===Fe.modifiedStartLineNumber?Ze=Fe.modifiedStartColumn:Ze=he.getLineFirstNonWhitespaceColumn(xe),xe===Fe.modifiedEndLineNumber?je=Fe.modifiedEndColumn:je=he.getLineLastNonWhitespaceColumn(xe),ae.decorations.push(U(xe,Ze,xe,je,x.charInsert))}else ae.decorations.push(U(Fe.modifiedStartLineNumber,Fe.modifiedStartColumn,Fe.modifiedEndLineNumber,Fe.modifiedEndColumn,x.charInsert))}}return ae}}X.MINIMUM_EDITOR_WIDTH=100;class le extends z{constructor(se,ue,be,ge,Se){super(se,ue,be,ge,Se)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(se,ue,be){return be>ue?{afterLineNumber:Math.max(se.originalStartLineNumber,se.originalEndLineNumber),heightInLines:be-ue,domNode:null}:null}_produceModifiedFromDiff(se,ue,be){return ue>be?{afterLineNumber:Math.max(se.modifiedStartLineNumber,se.modifiedEndLineNumber),heightInLines:ue-be,domNode:null}:null}}class fe extends G{constructor(se,ue){super(se);this._decorationsLeft=se.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(se.getOriginalEditor().onDidLayoutChange(be=>{this._decorationsLeft!==be.decorationsLeft&&(this._decorationsLeft=be.decorationsLeft,se.relayoutEditors())}))}setEnableSplitViewResizing(se){}_getViewZones(se,ue,be,ge){const Se=this._dataSource.getOriginalEditor(),ae=this._dataSource.getModifiedEditor();return new $(se,ue,be,Se,ae,ge).getViewZones()}_getOriginalEditorDecorations(se,ue,be){const ge=String(this._removeColor),Se={decorations:[],overviewZones:[]},ae=this._dataSource.getOriginalEditor(),he=ae.getModel(),De=ae._getViewModel();for(const ke of se)if(re(ke)){Se.decorations.push({range:new l.Range(ke.originalStartLineNumber,1,ke.originalEndLineNumber,1073741824),options:x.lineDeleteMargin});const Ve=oe(he,De,ke.originalStartLineNumber,ke.originalEndLineNumber);Se.overviewZones.push(new d.OverviewRulerZone(Ve.startLineNumber,Ve.endLineNumber,ge))}return Se}_getModifiedEditorDecorations(se,ue,be){const ge=this._dataSource.getModifiedEditor(),Se=String(this._insertColor),ae={decorations:[],overviewZones:[]},he=ge.getModel(),De=ge._getViewModel();for(const ke of se)if(Q(ke)){ae.decorations.push({range:new l.Range(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,1073741824),options:be?x.lineInsertWithSign:x.lineInsert});const Ve=oe(he,De,ke.modifiedStartLineNumber,ke.modifiedEndLineNumber);if(ae.overviewZones.push(new d.OverviewRulerZone(Ve.startLineNumber,Ve.endLineNumber,Se)),ke.charChanges){for(const Fe of ke.charChanges)if(Q(Fe))if(ue)for(let xe=Fe.modifiedStartLineNumber;xe<=Fe.modifiedEndLineNumber;xe++){let Ze,je;xe===Fe.modifiedStartLineNumber?Ze=Fe.modifiedStartColumn:Ze=he.getLineFirstNonWhitespaceColumn(xe),xe===Fe.modifiedEndLineNumber?je=Fe.modifiedEndColumn:je=he.getLineLastNonWhitespaceColumn(xe),ae.decorations.push(U(xe,Ze,xe,je,x.charInsert))}else ae.decorations.push(U(Fe.modifiedStartLineNumber,Fe.modifiedStartColumn,Fe.modifiedEndLineNumber,Fe.modifiedEndColumn,x.charInsert))}else ae.decorations.push(U(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,1073741824,x.charInsertWholeLine))}return ae}layout(){return Math.max(5,this._decorationsLeft)}}class $ extends z{constructor(se,ue,be,ge,Se,ae){super(se,ue,be,ge,Se);this._originalModel=ge.getModel(),this._renderIndicators=ae,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const se=super.getViewZones();return this._finalize(se),se}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const se=document.createElement("div");return se.className="inline-added-margin-view-zone",se}_produceOriginalFromDiff(se,ue,be){const ge=document.createElement("div");return ge.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(se.originalStartLineNumber,se.originalEndLineNumber),heightInLines:be,domNode:document.createElement("div"),marginDomNode:ge}}_produceModifiedFromDiff(se,ue,be){const ge=document.createElement("div");ge.className=`view-lines line-delete ${B.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const Se=document.createElement("div");Se.className="inline-deleted-margin-view-zone";const ae={shouldNotShrink:!0,afterLineNumber:se.modifiedEndLineNumber===0?se.modifiedStartLineNumber:se.modifiedStartLineNumber-1,heightInLines:ue,minWidthInPx:0,domNode:ge,marginDomNode:Se,diff:{originalStartLineNumber:se.originalStartLineNumber,originalEndLineNumber:se.originalEndLineNumber,modifiedStartLineNumber:se.modifiedStartLineNumber,modifiedEndLineNumber:se.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let he=se.originalStartLineNumber;he<=se.originalEndLineNumber;he++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(he),null,null);return this._pendingLineChange.push(se),this._pendingViewZones.push(ae),ae}_finalize(se){const ue=this._modifiedEditor.getOptions(),be=this._modifiedEditor.getModel().getOptions().tabSize,ge=ue.get(43),Se=ue.get(29),ae=ge.typicalHalfwidthCharacterWidth,he=ue.get(92),De=this._originalModel.mightContainNonBasicASCII(),ke=this._originalModel.mightContainRTL(),Ve=ue.get(58),xe=ue.get(130).decorationsWidth,Ze=ue.get(104),je=ue.get(87),$e=ue.get(82),Le=ue.get(44),Ee=this._lineBreaksComputer.finalize();let Pe=0;for(let ze=0;ze<this._pendingLineChange.length;ze++){const Te=this._pendingLineChange[ze],Ne=this._pendingViewZones[ze],Me=Ne.domNode;h.Configuration.applyFontInfoSlow(Me,ge);const me=Ne.marginDomNode;h.Configuration.applyFontInfoSlow(me,ge);const ve=[];if(Te.charChanges)for(const He of Te.charChanges)re(He)&&ve.push(new S.InlineDecoration(new l.Range(He.originalStartLineNumber,He.originalStartColumn,He.originalEndLineNumber,He.originalEndColumn),"char-delete",0));const Ie=ve.length>0,ye=(0,a.createStringBuilder)(1e4);let we=0,Oe=0,Re=null;for(let He=Te.originalStartLineNumber;He<=Te.originalEndLineNumber;He++){const Ge=He-Te.originalStartLineNumber,qe=this._originalModel.getLineTokens(He),Ue=qe.getLineContent(),Qe=Ee[Pe++],Ye=u.LineDecoration.filter(ve,He,1,Ue.length+1);if(Qe){let et=0;for(const Je of Qe.breakOffsets){const at=qe.sliceAndInflate(et,Je,0),mt=Ue.substring(et,Je);we=Math.max(we,this._renderOriginalLine(Oe++,mt,at,u.LineDecoration.extractWrapped(Ye,et,Je),Ie,De,ke,ge,Se,Ve,xe,Ze,je,$e,Le,be,ye,me)),et=Je}for(Re||(Re=[]);Re.length<Ge;)Re[Re.length]=1;Re[Ge]=Qe.breakOffsets.length,Ne.heightInLines+=Qe.breakOffsets.length-1;const st=document.createElement("div");st.className="line-delete",se.original.push({afterLineNumber:He,afterColumn:0,heightInLines:Qe.breakOffsets.length-1,domNode:ce(),marginDomNode:st})}else we=Math.max(we,this._renderOriginalLine(Oe++,Ue,qe,Ye,Ie,De,ke,ge,Se,Ve,xe,Ze,je,$e,Le,be,ye,me))}we+=he;const We=ye.build(),Ke=ie?ie.createHTML(We):We;if(Me.innerHTML=Ke,Ne.minWidthInPx=we*ae,Re){const He=Te.originalEndLineNumber-Te.originalStartLineNumber;for(;Re.length<=He;)Re[Re.length]=1}Ne.diff.viewLineCounts=Re}se.original.sort((ze,Te)=>ze.afterLineNumber-Te.afterLineNumber)}_renderOriginalLine(se,ue,be,ge,Se,ae,he,De,ke,Ve,Fe,xe,Ze,je,$e,Le,Ee,Pe){Ee.appendASCIIString('<div class="view-line'),Se||Ee.appendASCIIString(" char-delete"),Ee.appendASCIIString('" style="top:'),Ee.appendASCIIString(String(se*Ve)),Ee.appendASCIIString('px;width:1000000px;">');const ze=S.ViewLineRenderingData.isBasicASCII(ue,ae),Te=S.ViewLineRenderingData.containsRTL(ue,ze,he),Ne=(0,f.renderViewLine)(new f.RenderLineInput(De.isMonospace&&!ke,De.canUseHalfwidthRightwardsArrow,ue,!1,ze,Te,0,be,ge,Le,0,De.spaceWidth,De.middotWidth,De.wsmiddotWidth,xe,Ze,je,$e!==c.EditorFontLigatures.OFF,null),Ee);if(Ee.appendASCIIString("</div>"),this._renderIndicators){const Me=document.createElement("div");Me.className=`delete-sign ${k.ThemeIcon.asClassName(Z)}`,Me.setAttribute("style",`position:absolute;top:${se*Ve}px;width:${Fe}px;height:${Ve}px;right:0;`),Pe.appendChild(Me)}return Ne.characterMapping.getAbsoluteOffset(Ne.characterMapping.length)}}function H(_e,se){return(0,c.stringSet)(_e,se,["off","on","inherit"])}function Q(_e){return _e.modifiedEndLineNumber>0}function re(_e){return _e.originalEndLineNumber>0}function ce(){const _e=document.createElement("div");return _e.className="diagonal-fill",_e}function oe(_e,se,ue,be){const ge=_e.getLineCount();return ue=Math.min(ge,Math.max(1,ue)),be=Math.min(ge,Math.max(1,be)),se.coordinatesConverter.convertModelRangeToViewRange(new l.Range(ue,_e.getLineMinColumn(ue),be,_e.getLineMaxColumn(be)))}function de(_e,se){return{enableSplitViewResizing:(0,c.boolean)(_e.enableSplitViewResizing,se.enableSplitViewResizing),renderSideBySide:(0,c.boolean)(_e.renderSideBySide,se.renderSideBySide),maxComputationTime:(0,c.clampedInt)(_e.maxComputationTime,se.maxComputationTime,0,1073741824),maxFileSize:(0,c.clampedInt)(_e.maxFileSize,se.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,c.boolean)(_e.ignoreTrimWhitespace,se.ignoreTrimWhitespace),renderIndicators:(0,c.boolean)(_e.renderIndicators,se.renderIndicators),originalEditable:(0,c.boolean)(_e.originalEditable,se.originalEditable),diffCodeLens:(0,c.boolean)(_e.diffCodeLens,se.diffCodeLens),renderOverviewRuler:(0,c.boolean)(_e.renderOverviewRuler,se.renderOverviewRuler),diffWordWrap:H(_e.diffWordWrap,se.diffWordWrap)}}function pe(_e,se){return{enableSplitViewResizing:_e.enableSplitViewResizing!==se.enableSplitViewResizing,renderSideBySide:_e.renderSideBySide!==se.renderSideBySide,maxComputationTime:_e.maxComputationTime!==se.maxComputationTime,maxFileSize:_e.maxFileSize!==se.maxFileSize,ignoreTrimWhitespace:_e.ignoreTrimWhitespace!==se.ignoreTrimWhitespace,renderIndicators:_e.renderIndicators!==se.renderIndicators,originalEditable:_e.originalEditable!==se.originalEditable,diffCodeLens:_e.diffCodeLens!==se.diffCodeLens,renderOverviewRuler:_e.renderOverviewRuler!==se.renderOverviewRuler,diffWordWrap:_e.diffWordWrap!==se.diffWordWrap}}(0,k.registerThemingParticipant)((_e,se)=>{const ue=_e.getColor(w.diffInserted);ue&&(se.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${ue}; }`),se.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${ue}; }`),se.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${ue}; }`));const be=_e.getColor(w.diffRemoved);be&&(se.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${be}; }`),se.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${be}; }`),se.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${be}; }`));const ge=_e.getColor(w.diffInsertedOutline);ge&&se.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${_e.type==="hc"?"dashed":"solid"} ${ge}; }`);const Se=_e.getColor(w.diffRemovedOutline);Se&&se.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${_e.type==="hc"?"dashed":"solid"} ${Se}; }`);const ae=_e.getColor(w.scrollbarShadow);ae&&se.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${ae}; }`);const he=_e.getColor(w.diffBorder);he&&se.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${he}; }`);const De=_e.getColor(w.scrollbarSliderBackground);De&&se.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${De};
			}
		`);const ke=_e.getColor(w.scrollbarSliderHoverBackground);ke&&se.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${ke};
			}
		`);const Ve=_e.getColor(w.scrollbarSliderActiveBackground);Ve&&se.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Ve};
			}
		`);const Fe=_e.getColor(w.diffDiagonalFill);se.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${Fe} 12.5%,
			#0000 12.5%, #0000 50%,
			${Fe} 50%, ${Fe} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(ee[161],te([0,1,37,28,160,26,16,9,40,12,60]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let i=class extends T.CodeEditorWidget{constructor(r,c,l,a,s,o,n,d,u,f){super(r,Object.assign(Object.assign({},l.getRawOptions()),{overflowWidgetsDomNode:l.getOverflowWidgetsDomNode()}),{},a,s,o,n,d,u,f);this._parentEditor=l,this._overwriteOptions=c,super.updateOptions(this._overwriteOptions),this._register(l.onDidChangeConfiguration(S=>this._onParentConfigurationChanged(S)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(r){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(r){y.mixin(this._overwriteOptions,r,!0),super.updateOptions(this._overwriteOptions)}};i=Be([Ce(3,C.IInstantiationService),Ce(4,N.ICodeEditorService),Ce(5,I.ICommandService),Ce(6,b.IContextKeyService),Ce(7,h.IThemeService),Ce(8,p.INotificationService),Ce(9,g.IAccessibilityService)],i),e.EmbeddedCodeEditorWidget=i}),define(ee[682],te([0,1,10,2,15,14,3,21,24,49,31,52,488,36,22,12,360]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const a=(0,c.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},t.localize(0,null));class s extends T.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:t.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(f,S){let v=d.get(S);!v||v.jumpToBracket()}}class o extends T.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:t.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(f,S,v){const m=d.get(S);if(!m)return;let _=!0;v&&v.selectBrackets===!1&&(_=!1),m.selectToBracket(_)}}class n{constructor(f,S,v){this.position=f,this.brackets=S,this.options=v}}class d extends N.Disposable{constructor(f){super();this._editor=f,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new y.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(63),this._updateBracketsSoon.schedule(),this._register(f.onDidChangeCursorPosition(S=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(f.onDidChangeModelContent(S=>{this._updateBracketsSoon.schedule()})),this._register(f.onDidChangeModel(S=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(f.onDidChangeModelLanguageConfiguration(S=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(f.onDidChangeConfiguration(S=>{S.hasChanged(63)&&(this._matchBrackets=this._editor.getOption(63),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(f.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(f.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(f){return f.getContribution(d.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const f=this._editor.getModel(),S=this._editor.getSelections().map(v=>{const m=v.getStartPosition(),_=f.bracketPairs.matchBracket(m);let L=null;if(_)_[0].containsPosition(m)?L=_[1].getStartPosition():_[1].containsPosition(m)&&(L=_[0].getStartPosition());else{const w=f.bracketPairs.findEnclosingBrackets(m);if(w)L=w[0].getStartPosition();else{const k=f.bracketPairs.findNextBracket(m);k&&k.range&&(L=k.range.getStartPosition())}}return L?new C.Selection(L.lineNumber,L.column,L.lineNumber,L.column):new C.Selection(m.lineNumber,m.column,m.lineNumber,m.column)});this._editor.setSelections(S),this._editor.revealRange(S[0])}selectToBracket(f){if(!this._editor.hasModel())return;const S=this._editor.getModel(),v=[];this._editor.getSelections().forEach(m=>{const _=m.getStartPosition();let L=S.bracketPairs.matchBracket(_);if(!L&&(L=S.bracketPairs.findEnclosingBrackets(_),!L)){const D=S.bracketPairs.findNextBracket(_);D&&D.range&&(L=S.bracketPairs.matchBracket(D.range.getStartPosition()))}let w=null,k=null;if(L){L.sort(b.Range.compareRangesUsingStarts);const[D,M]=L;if(w=f?D.getStartPosition():D.getEndPosition(),k=f?M.getEndPosition():M.getStartPosition(),M.containsPosition(_)){const O=w;w=k,k=O}}w&&k&&v.push(new C.Selection(w.lineNumber,w.column,k.lineNumber,k.column))}),v.length>0&&(this._editor.setSelections(v),this._editor.revealRange(v[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let f=[],S=0;for(const v of this._lastBracketsData){let m=v.brackets;m&&(f[S++]={range:m[0],options:v.options},f[S++]={range:m[1],options:v.options})}this._decorations=this._editor.deltaDecorations(this._decorations,f)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const f=this._editor.getSelections();if(f.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const S=this._editor.getModel(),v=S.getVersionId();let m=[];this._lastVersionId===v&&(m=this._lastBracketsData);let _=[],L=0;for(let O=0,F=f.length;O<F;O++){let R=f[O];R.isEmpty()&&(_[L++]=R.getStartPosition())}_.length>1&&_.sort(I.Position.compare);let w=[],k=0,D=0,M=m.length;for(let O=0,F=_.length;O<F;O++){let R=_[O];for(;D<M&&m[D].position.isBefore(R);)D++;if(D<M&&m[D].position.equals(R))w[k++]=m[D];else{let A=S.bracketPairs.matchBracket(R),P=d._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!A&&this._matchBrackets==="always"&&(A=S.bracketPairs.findEnclosingBrackets(R,20),P=d._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),w[k++]=new n(R,A,P)}}this._lastBracketsData=w,this._lastVersionId=v}}e.BracketMatchingController=d,d.ID="editor.contrib.bracketMatchingController",d._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=g.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,l.themeColorFromId)(a),position:h.OverviewRulerLane.Center}}),d._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=g.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,T.registerEditorContribution)(d.ID,d),(0,T.registerEditorAction)(o),(0,T.registerEditorAction)(s),(0,l.registerThemingParticipant)((u,f)=>{const S=u.getColor(i.editorBracketMatchBackground);S&&f.addRule(`.monaco-editor .bracket-match { background-color: ${S}; }`);const v=u.getColor(i.editorBracketMatchBorder);v&&f.addRule(`.monaco-editor .bracket-match { border: 1px solid ${v}; }`)}),r.MenuRegistry.appendMenuItem(r.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:t.localize(3,null)},order:2})}),define(ee[683],te([0,1,15,98,196,3,24,490]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class p extends y.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:C.localize(0,null),alias:"Transpose Letters",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(g,i){if(!i.hasModel())return;let t=i.getModel(),r=[],c=i.getSelections();for(let l of c){if(!l.isEmpty())continue;let a=l.startLineNumber,s=l.startColumn,o=t.getLineMaxColumn(a);if(a===1&&(s===1||s===2&&o===2))continue;let n=s===o?l.getPosition():T.MoveOperations.rightPosition(t,l.getPosition().lineNumber,l.getPosition().column),d=T.MoveOperations.leftPosition(t,n),u=T.MoveOperations.leftPosition(t,d),f=t.getValueInRange(I.Range.fromPositions(u,d)),S=t.getValueInRange(I.Range.fromPositions(d,n)),v=I.Range.fromPositions(u,n);r.push(new N.ReplaceCommand(v,S+f))}r.length>0&&(i.pushUndoStop(),i.executeCommands(this.id,r),i.pushUndoStop())}}(0,y.registerEditorAction)(p)}),define(ee[684],te([0,1,7,96,58,27,4,2,31,493,41,22,12,361]),function(q,e,y,N,T,I,b,C,p,h,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var r;(function(l){l.Hidden={type:0};class a{constructor(o,n,d,u){this.actions=o,this.trigger=n,this.editorPosition=d,this.widgetPosition=u,this.type=1}}l.Showing=a})(r||(r={}));let c=class Ni extends C.Disposable{constructor(a,s,o,n){super();this._editor=a,this._quickFixActionId=s,this._preferredFixActionId=o,this._keybindingService=n,this._onClick=this._register(new b.Emitter),this.onClick=this._onClick.event,this._state=r.Hidden,this._domNode=document.createElement("div"),this._domNode.className=I.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(d=>{const u=this._editor.getModel();(this.state.type!==1||!u||this.state.editorPosition.lineNumber>=u.getLineCount())&&this.hide()})),T.Gesture.ignoreTarget(this._domNode),this._register(y.addStandardDisposableGenericMouseDownListner(this._domNode,d=>{if(this.state.type!==1)return;this._editor.focus(),d.preventDefault();const{top:u,height:f}=y.getDomNodePagePosition(this._domNode),S=this._editor.getOption(58);let v=Math.floor(S/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(v+=S),this._onClick.fire({x:d.posx,y:u+f+v,actions:this.state.actions,trigger:this.state.trigger})})),this._register(y.addDisposableListener(this._domNode,"mouseenter",d=>{if((d.buttons&1)!=1)return;this.hide();const u=new N.GlobalMouseMoveMonitor;u.startMonitoring(d.target,d.buttons,N.standardMouseMoveMerger,()=>{},()=>{u.dispose()})})),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(56)&&!this._editor.getOption(56).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(a,s,o){if(a.validActions.length<=0)return this.hide();const n=this._editor.getOptions();if(!n.get(56).enabled)return this.hide();const d=this._editor.getModel();if(!d)return this.hide();const{lineNumber:u,column:f}=d.validatePosition(o),S=d.getOptions().tabSize,v=n.get(43),m=d.getLineContent(u),_=p.TextModel.computeIndentLevel(m,S),L=v.spaceWidth*_>22,w=D=>D>2&&this._editor.getTopForLineNumber(D)===this._editor.getTopForLineNumber(D-1);let k=u;if(!L){if(u>1&&!w(u-1))k-=1;else if(!w(u+1))k+=1;else if(f*v.spaceWidth<22)return this.hide()}this.state=new r.Showing(a,s,o,{position:{lineNumber:k,column:1},preference:Ni._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=r.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(a){this._state=a,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...I.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...I.Codicon.lightbulbAutofix.classNamesArray);const s=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(s){this.title=h.localize(0,null,s.getLabel());return}}this._domNode.classList.remove(...I.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...I.Codicon.lightBulb.classNamesArray);const a=this._keybindingService.lookupKeybinding(this._quickFixActionId);a?this.title=h.localize(1,null,a.getLabel()):this.title=h.localize(2,null)}set title(a){this._domNode.title=a}};c._posPref=[0],c=Be([Ce(3,g.IKeybindingService)],c),e.LightBulbWidget=c,(0,t.registerThemingParticipant)((l,a)=>{var s;const o=(s=l.getColor(i.editorBackground))===null||s===void 0?void 0:s.transparent(.7),n=l.getColor(i.editorLightBulbForeground);n&&a.addRule(`
		.monaco-editor .contentWidgets ${I.Codicon.lightBulb.cssSelector} {
			color: ${n};
			background-color: ${o};
		}`);const d=l.getColor(i.editorLightBulbAutoFixForeground);d&&a.addRule(`
		.monaco-editor .contentWidgets ${I.Codicon.lightbulbAutofix.cssSelector} {
			color: ${d};
			background-color: ${o};
		}`)})});var qt=this&&this.__classPrivateFieldSet||function(q,e,y,N,T){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!T)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?q!==e||!T:!e.has(q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?T.call(q,y):T?T.value=y:e.set(q,y),y},Lt=this&&this.__classPrivateFieldGet||function(q,e,y,N){if(y==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?q!==e||!N:!e.has(q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return y==="m"?N:y==="a"?N.call(q):N?N.value:e.get(q)};define(ee[685],te([0,1,13,163,2,156,9,636,684]),function(q,e,y,N,T,I,b,C,p){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let g=class extends T.Disposable{constructor(t,r,c,l,a){super();this._editor=t,this.delegate=l,this._activeCodeActions=this._register(new T.MutableDisposable),h.set(this,!1),this._codeActionWidget=new N.Lazy(()=>this._register(a.createInstance(C.CodeActionMenu,this._editor,{onSelectCodeAction:s=>Ae(this,void 0,void 0,function*(){this.delegate.applyCodeAction(s,!0)})}))),this._lightBulbWidget=new N.Lazy(()=>{const s=this._register(a.createInstance(p.LightBulbWidget,this._editor,r,c));return this._register(s.onClick(o=>this.showCodeActionList(o.trigger,o.actions,o,{includeDisabledActions:!1}))),s})}dispose(){qt(this,h,!0,"f"),super.dispose()}update(t){var r,c,l;return Ae(this,void 0,void 0,function*(){if(t.type!==1){(r=this._lightBulbWidget.rawValue)===null||r===void 0||r.hide();return}let a;try{a=yield t.actions}catch(s){(0,y.onUnexpectedError)(s);return}if(!Lt(this,h,"f"))if(this._lightBulbWidget.getValue().update(a,t.trigger,t.position),t.trigger.type===1){if((c=t.trigger.filter)===null||c===void 0?void 0:c.include){const o=this.tryGetValidActionToApply(t.trigger,a);if(o){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(o,!1)}finally{a.dispose()}return}if(t.trigger.context){const n=this.getInvalidActionThatWouldHaveBeenApplied(t.trigger,a);if(n&&n.action.disabled){I.MessageController.get(this._editor).showMessage(n.action.disabled,t.trigger.context.position),a.dispose();return}}}const s=!!((l=t.trigger.filter)===null||l===void 0?void 0:l.include);if(t.trigger.context&&(!a.allActions.length||!s&&!a.validActions.length)){I.MessageController.get(this._editor).showMessage(t.trigger.context.notAvailableMessage,t.trigger.context.position),this._activeCodeActions.value=a,a.dispose();return}this._activeCodeActions.value=a,this._codeActionWidget.getValue().show(t.trigger,a,t.position,{includeDisabledActions:s})}else this._codeActionWidget.getValue().isVisible?a.dispose():this._activeCodeActions.value=a})}getInvalidActionThatWouldHaveBeenApplied(t,r){if(!!r.allActions.length&&(t.autoApply==="first"&&r.validActions.length===0||t.autoApply==="ifSingle"&&r.allActions.length===1))return r.allActions.find(({action:c})=>c.disabled)}tryGetValidActionToApply(t,r){if(!!r.validActions.length&&(t.autoApply==="first"&&r.validActions.length>0||t.autoApply==="ifSingle"&&r.validActions.length===1))return r.validActions[0]}showCodeActionList(t,r,c,l){return Ae(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(t,r,c,l)})}};h=new WeakMap,g=Be([Ce(4,b.IInstantiationService)],g),e.CodeActionUi=g}),define(ee[285],te([0,1,23,163,2,8,15,150,24,155,685,156,492,26,16,9,92,40,61,83,637,149]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.QuickFixController=void 0;function f(A){return c.ContextKeyExpr.regex(d.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,I.escapeRegExpCharacters)(A.value)+"\\b"))}const S={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:t.localize(0,null)},apply:{type:"string",description:t.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[t.localize(2,null),t.localize(3,null),t.localize(4,null)]},preferred:{type:"boolean",default:!1,description:t.localize(5,null)}}};let v=class Ti extends T.Disposable{constructor(P,E,B,V,j){super();this._instantiationService=j,this._editor=P,this._model=this._register(new d.CodeActionModel(this._editor,E,B,V)),this._register(this._model.onDidChangeState(K=>this.update(K))),this._ui=new N.Lazy(()=>this._register(new g.CodeActionUi(P,w.Id,R.Id,{applyCodeAction:(K,Y)=>Ae(this,void 0,void 0,function*(){try{yield this._applyCodeAction(K)}finally{Y&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(P){return P.getContribution(Ti.ID)}update(P){this._ui.getValue().update(P)}showCodeActions(P,E,B){return this._ui.getValue().showCodeActionList(P,E,B,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(P,E,B){if(!this._editor.hasModel())return;i.MessageController.get(this._editor).closeMessage();const V=this._editor.getPosition();this._trigger({type:1,filter:E,autoApply:B,context:{notAvailableMessage:P,position:V}})}_trigger(P){return this._model.trigger(P)}_applyCodeAction(P){return this._instantiationService.invokeFunction(m,P,this._editor)}};v.ID="editor.contrib.quickFixController",v=Be([Ce(1,a.IMarkerService),Ce(2,c.IContextKeyService),Ce(3,o.IEditorProgressService),Ce(4,l.IInstantiationService)],v),e.QuickFixController=v;function m(A,P,E){return Ae(this,void 0,void 0,function*(){const B=A.get(C.IBulkEditService),V=A.get(r.ICommandService),j=A.get(n.ITelemetryService),K=A.get(s.INotificationService);if(j.publicLog2("codeAction.applyCodeAction",{codeActionTitle:P.action.title,codeActionKind:P.action.kind,codeActionIsPreferred:!!P.action.isPreferred}),yield P.resolve(y.CancellationToken.None),P.action.edit&&(yield B.apply(C.ResourceEdit.convert(P.action.edit),{editor:E,label:P.action.title})),P.action.command)try{yield V.executeCommand(P.action.command.id,...P.action.command.arguments||[])}catch(Y){const J=_(Y);K.error(typeof J=="string"?J:t.localize(6,null))}})}e.applyCodeAction=m;function _(A){return typeof A=="string"?A:A instanceof Error&&typeof A.message=="string"?A.message:void 0}function L(A,P,E,B){if(A.hasModel()){const V=v.get(A);V&&V.manualTriggerAtCurrentPosition(P,E,B)}}class w extends b.EditorAction{constructor(){super({id:w.Id,label:t.localize(7,null),alias:"Quick Fix...",precondition:c.ContextKeyExpr.and(p.EditorContextKeys.writable,p.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(P,E){return L(E,t.localize(8,null),void 0,void 0)}}e.QuickFixAction=w,w.Id="editor.action.quickFix";class k extends b.EditorCommand{constructor(){super({id:h.codeActionCommandId,precondition:c.ContextKeyExpr.and(p.EditorContextKeys.writable,p.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:S}]}})}runEditorCommand(P,E,B){const V=u.CodeActionCommandArgs.fromUser(B,{kind:u.CodeActionKind.Empty,apply:"ifSingle"});return L(E,typeof(B==null?void 0:B.kind)=="string"?V.preferred?t.localize(9,null,B.kind):t.localize(10,null,B.kind):V.preferred?t.localize(11,null):t.localize(12,null),{include:V.kind,includeSourceActions:!0,onlyIncludePreferredActions:V.preferred},V.apply)}}e.CodeActionCommand=k;class D extends b.EditorAction{constructor(){super({id:h.refactorCommandId,label:t.localize(13,null),alias:"Refactor...",precondition:c.ContextKeyExpr.and(p.EditorContextKeys.writable,p.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:c.ContextKeyExpr.and(p.EditorContextKeys.writable,f(u.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:S}]}})}run(P,E,B){const V=u.CodeActionCommandArgs.fromUser(B,{kind:u.CodeActionKind.Refactor,apply:"never"});return L(E,typeof(B==null?void 0:B.kind)=="string"?V.preferred?t.localize(14,null,B.kind):t.localize(15,null,B.kind):V.preferred?t.localize(16,null):t.localize(17,null),{include:u.CodeActionKind.Refactor.contains(V.kind)?V.kind:u.CodeActionKind.None,onlyIncludePreferredActions:V.preferred},V.apply)}}e.RefactorAction=D;class M extends b.EditorAction{constructor(){super({id:h.sourceActionCommandId,label:t.localize(18,null),alias:"Source Action...",precondition:c.ContextKeyExpr.and(p.EditorContextKeys.writable,p.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:c.ContextKeyExpr.and(p.EditorContextKeys.writable,f(u.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:S}]}})}run(P,E,B){const V=u.CodeActionCommandArgs.fromUser(B,{kind:u.CodeActionKind.Source,apply:"never"});return L(E,typeof(B==null?void 0:B.kind)=="string"?V.preferred?t.localize(19,null,B.kind):t.localize(20,null,B.kind):V.preferred?t.localize(21,null):t.localize(22,null),{include:u.CodeActionKind.Source.contains(V.kind)?V.kind:u.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:V.preferred},V.apply)}}e.SourceAction=M;class O extends b.EditorAction{constructor(){super({id:h.organizeImportsCommandId,label:t.localize(23,null),alias:"Organize Imports",precondition:c.ContextKeyExpr.and(p.EditorContextKeys.writable,f(u.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(P,E){return L(E,t.localize(24,null),{include:u.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}e.OrganizeImportsAction=O;class F extends b.EditorAction{constructor(){super({id:h.fixAllCommandId,label:t.localize(25,null),alias:"Fix All",precondition:c.ContextKeyExpr.and(p.EditorContextKeys.writable,f(u.CodeActionKind.SourceFixAll))})}run(P,E){return L(E,t.localize(26,null),{include:u.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}e.FixAllAction=F;class R extends b.EditorAction{constructor(){super({id:R.Id,label:t.localize(27,null),alias:"Auto Fix...",precondition:c.ContextKeyExpr.and(p.EditorContextKeys.writable,f(u.CodeActionKind.QuickFix)),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(P,E){return L(E,t.localize(28,null),{include:u.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}e.AutoFixAction=R,R.Id="editor.action.autoFix"}),define(ee[686],te([0,1,15,285]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerEditorContribution)(N.QuickFixController.ID,N.QuickFixController),(0,y.registerEditorAction)(N.QuickFixAction),(0,y.registerEditorAction)(N.RefactorAction),(0,y.registerEditorAction)(N.SourceAction),(0,y.registerEditorAction)(N.OrganizeImportsAction),(0,y.registerEditorAction)(N.AutoFixAction),(0,y.registerEditorAction)(N.FixAllAction),(0,y.registerEditorCommand)(new N.CodeActionCommand)}),define(ee[687],te([0,1,7,108,3,31,362]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class b{constructor(i,t,r){this.afterLineNumber=i,this.heightInPx=t,this._onHeight=r,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(i){this._lastHeight===void 0?this._lastHeight=i:this._lastHeight!==i&&(this._lastHeight=i,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class C{constructor(i,t,r){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=i,this._id=`codelens.widget-${C._idPool++}`,this.updatePosition(r),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${t}`}withCommands(i,t){this._commands.clear();let r=[],c=!1;for(let l=0;l<i.length;l++){const a=i[l];if(!!a&&(c=!0,a.command)){const s=(0,N.renderLabelWithIcons)(a.command.title.trim());a.command.id?(r.push(y.$("a",{id:String(l),title:a.command.tooltip},...s)),this._commands.set(String(l),a.command)):r.push(y.$("span",{title:a.command.tooltip},...s)),l+1<i.length&&r.push(y.$("span",void 0,"\xA0|\xA0"))}}c?(y.reset(this._domNode,...r),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):y.reset(this._domNode,y.$("span",void 0,"no commands"))}getCommand(i){return i.parentElement===this._domNode?this._commands.get(i.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(i){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(i);this._widgetPosition={position:{lineNumber:i,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}C._idPool=0;class p{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(i,t){this._addDecorations.push(i),this._addDecorationsCallbacks.push(t)}removeDecoration(i){this._removeDecorations.push(i)}commit(i){let t=i.deltaDecorations(this._removeDecorations,this._addDecorations);for(let r=0,c=t.length;r<c;r++)this._addDecorationsCallbacks[r](t[r])}}e.CodeLensHelper=p;class h{constructor(i,t,r,c,l,a,s){this._isDisposed=!1,this._editor=t,this._className=r,this._data=i,this._decorationIds=[];let o,n=[];this._data.forEach((d,u)=>{d.symbol.command&&n.push(d.symbol),c.addDecoration({range:d.symbol.range,options:I.ModelDecorationOptions.EMPTY},f=>this._decorationIds[u]=f),o?o=T.Range.plusRange(o,d.symbol.range):o=T.Range.lift(d.symbol.range)}),this._viewZone=new b(o.startLineNumber-1,a,s),this._viewZoneId=l.addZone(this._viewZone),n.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(n,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new C(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(i,t){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((i,t)=>{const r=this._editor.getModel().getDecorationRange(i),c=this._data[t].symbol;return!!(r&&T.Range.isEmpty(c.range)===r.isEmpty())})}updateCodeLensSymbols(i,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=i,this._data.forEach((r,c)=>{t.addDecoration({range:r.symbol.range,options:I.ModelDecorationOptions.EMPTY},l=>this._decorationIds[c]=l)})}updateHeight(i,t){this._viewZone.heightInPx=i,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(i){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const r=i.getDecorationRange(this._decorationIds[t]);r&&(this._data[t].symbol.range=r)}return this._data}updateCommands(i){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(i,!0);for(let t=0;t<this._data.length;t++){const r=i[t];if(r){const{symbol:c}=this._data[t];c.command=r.command||c.command}}}getCommand(i){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.getCommand(i)}getLineNumber(){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return i?i.startLineNumber:-1}update(i){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,i.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}e.CodeLensWidget=h}),define(ee[688],te([0,1,7,10,13,106,2,67,15,30,24,18,151,262,606,687,494,26,40,75]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let d=class{constructor(f,S,v,m){this._editor=f,this._commandService=S,this._notificationService=v,this._codeLensCache=m,this._disposables=new b.DisposableStore,this._localToDispose=new b.DisposableStore,this._lenses=[],this._getCodeLensModelDelays=new t.LanguageFeatureRequestDelays(i.CodeLensProviderRegistry,250,2500),this._oldCodeLensModels=new b.DisposableStore,this._resolveCodeLensesDelays=new t.LanguageFeatureRequestDelays(i.CodeLensProviderRegistry,250,2500),this._resolveCodeLensesScheduler=new N.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(_=>{(_.hasChanged(43)||_.hasChanged(16)||_.hasChanged(15))&&this._updateLensStyle(),_.hasChanged(14)&&this._onModelChange()})),this._disposables.add(i.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,I.hash)(this._editor.getId()).toString(16),this._styleElement=y.createStyleSheet(y.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var f;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(f=this._currentCodeLensModel)===null||f===void 0||f.dispose(),this._styleElement.remove()}_getLayoutInfo(){let f=this._editor.getOption(16),S;return!f||f<5?(f=this._editor.getOption(45)*.9|0,S=this._editor.getOption(58)):S=f*Math.max(1.3,this._editor.getOption(58)/this._editor.getOption(45))|0,{codeLensHeight:S,fontSize:f}}_updateLensStyle(){const{codeLensHeight:f,fontSize:S}=this._getLayoutInfo(),v=this._editor.getOption(15),m=this._editor.getOption(43),_=`--codelens-font-family${this._styleClassName}`,L=`--codelens-font-features${this._styleClassName}`;let w=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${f}px; font-size: ${S}px; padding-right: ${Math.round(S*.5)}px; font-feature-settings: var(${L}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${f}px; font-size: ${S}px; }
		`;v&&(w+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${_}), ${h.EDITOR_FONT_DEFAULTS.fontFamily}}`),this._styleElement.textContent=w,this._editor.getContainerDomNode().style.setProperty(_,v??"inherit"),this._editor.getContainerDomNode().style.setProperty(L,m.fontFeatureSettings),this._editor.changeViewZones(k=>{for(let D of this._lenses)D.updateHeight(f,k)})}_localDispose(){var f,S,v;(f=this._getCodeLensModelPromise)===null||f===void 0||f.cancel(),this._getCodeLensModelPromise=void 0,(S=this._resolveCodeLensesPromise)===null||S===void 0||S.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(v=this._currentCodeLensModel)===null||v===void 0||v.dispose()}_onModelChange(){this._localDispose();const f=this._editor.getModel();if(!f||!this._editor.getOption(14))return;const S=this._codeLensCache.get(f);if(S&&this._renderCodeLensSymbols(S),!i.CodeLensProviderRegistry.has(f)){S&&this._localToDispose.add((0,N.disposableTimeout)(()=>{const m=this._codeLensCache.get(f);S===m&&(this._codeLensCache.delete(f),this._onModelChange())},30*1e3));return}for(const m of i.CodeLensProviderRegistry.all(f))if(typeof m.onDidChange=="function"){let _=m.onDidChange(()=>v.schedule());this._localToDispose.add(_)}const v=new N.RunOnceScheduler(()=>{var m;const _=Date.now();(m=this._getCodeLensModelPromise)===null||m===void 0||m.cancel(),this._getCodeLensModelPromise=(0,N.createCancelablePromise)(L=>(0,r.getCodeLensModel)(f,L)),this._getCodeLensModelPromise.then(L=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=L,this._codeLensCache.put(f,L);const w=this._getCodeLensModelDelays.update(f,Date.now()-_);v.delay=w,this._renderCodeLensSymbols(L),this._resolveCodeLensesInViewportSoon()},T.onUnexpectedError)},this._getCodeLensModelDelays.get(f));this._localToDispose.add(v),this._localToDispose.add((0,b.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(m=>{this._editor.changeViewZones(_=>{let L=[],w=-1;this._lenses.forEach(D=>{!D.isValid()||w===D.getLineNumber()?L.push(D):(D.update(_),w=D.getLineNumber())});let k=new l.CodeLensHelper;L.forEach(D=>{D.dispose(k,_),this._lenses.splice(this._lenses.indexOf(D),1)}),k.commit(m)})}),v.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{v.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(m=>{m.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,b.toDisposable)(()=>{if(this._editor.getModel()){const m=C.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(_=>{this._editor.changeViewZones(L=>{this._disposeAllLenses(_,L)})}),m.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(m=>{if(m.target.type!==9)return;let _=m.target.element;if((_==null?void 0:_.tagName)==="SPAN"&&(_=_.parentElement),(_==null?void 0:_.tagName)==="A")for(const L of this._lenses){let w=L.getCommand(_);if(w){this._commandService.executeCommand(w.id,...w.arguments||[]).catch(k=>this._notificationService.error(k));break}}})),v.schedule()}_disposeAllLenses(f,S){const v=new l.CodeLensHelper;for(const m of this._lenses)m.dispose(v,S);f&&v.commit(f),this._lenses.length=0}_renderCodeLensSymbols(f){if(!this._editor.hasModel())return;let S=this._editor.getModel().getLineCount(),v=[],m;for(let w of f.lenses){let k=w.symbol.range.startLineNumber;k<1||k>S||(m&&m[m.length-1].symbol.range.startLineNumber===k?m.push(w):(m=[w],v.push(m)))}const _=C.StableEditorScrollState.capture(this._editor),L=this._getLayoutInfo();this._editor.changeDecorations(w=>{this._editor.changeViewZones(k=>{const D=new l.CodeLensHelper;let M=0,O=0;for(;O<v.length&&M<this._lenses.length;){let F=v[O][0].symbol.range.startLineNumber,R=this._lenses[M].getLineNumber();R<F?(this._lenses[M].dispose(D,k),this._lenses.splice(M,1)):R===F?(this._lenses[M].updateCodeLensSymbols(v[O],D),O++,M++):(this._lenses.splice(M,0,new l.CodeLensWidget(v[O],this._editor,this._styleClassName,D,k,L.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),M++,O++)}for(;M<this._lenses.length;)this._lenses[M].dispose(D,k),this._lenses.splice(M,1);for(;O<v.length;)this._lenses.push(new l.CodeLensWidget(v[O],this._editor,this._styleClassName,D,k,L.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),O++;D.commit(w)})}),_.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var f;(f=this._resolveCodeLensesPromise)===null||f===void 0||f.cancel(),this._resolveCodeLensesPromise=void 0;const S=this._editor.getModel();if(!S)return;const v=[],m=[];if(this._lenses.forEach(w=>{const k=w.computeIfNecessary(S);k&&(v.push(k),m.push(w))}),v.length===0)return;const _=Date.now(),L=(0,N.createCancelablePromise)(w=>{const k=v.map((D,M)=>{const O=new Array(D.length),F=D.map((R,A)=>!R.symbol.command&&typeof R.provider.resolveCodeLens=="function"?Promise.resolve(R.provider.resolveCodeLens(S,R.symbol,w)).then(P=>{O[A]=P},T.onUnexpectedExternalError):(O[A]=R.symbol,Promise.resolve(void 0)));return Promise.all(F).then(()=>{!w.isCancellationRequested&&!m[M].isDisposed()&&m[M].updateCommands(O)})});return Promise.all(k)});this._resolveCodeLensesPromise=L,this._resolveCodeLensesPromise.then(()=>{const w=this._resolveCodeLensesDelays.update(S,Date.now()-_);this._resolveCodeLensesScheduler.delay=w,this._currentCodeLensModel&&this._codeLensCache.put(S,this._currentCodeLensModel),this._oldCodeLensModels.clear(),L===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},w=>{(0,T.onUnexpectedError)(w),L===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getLenses(){return this._lenses}};d.ID="css.editor.codeLens",d=Be([Ce(1,s.ICommandService),Ce(2,o.INotificationService),Ce(3,c.ICodeLensCache)],d),e.CodeLensContribution=d,(0,p.registerEditorContribution)(d.ID,d),(0,p.registerEditorAction)(class extends p.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:g.EditorContextKeys.hasCodeLensProvider,label:(0,a.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(f,S){return Ae(this,void 0,void 0,function*(){if(!S.hasModel())return;const v=f.get(n.IQuickInputService),m=f.get(s.ICommandService),_=f.get(o.INotificationService),L=S.getSelection().positionLineNumber,w=S.getContribution(d.ID),k=[];for(let M of w.getLenses())if(M.getLineNumber()===L)for(let O of M.getItems()){const{command:F}=O.symbol;F&&k.push({label:F.title,command:F})}if(k.length===0)return;const D=yield v.pick(k,{canPickMany:!1});if(!!D)try{yield m.executeCommand(D.command.id,...D.command.arguments||[])}catch(M){_.error(M)}})}})}),define(ee[286],te([0,1,10,29,13,2,8,127,15,3,31,18,263,35]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=void 0;const c=500;let l=class Mi extends I.Disposable{constructor(s,o){super();this._editor=s,this._configurationService=o,this._localToDispose=this._register(new I.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new C.DynamicCssRules(this._editor),this._colorDecorationClassRefs=this._register(new I.DisposableStore),this._register(s.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(s.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(i.ColorProviderRegistry.onDidChange(()=>this.onModelChanged())),this._register(s.onDidChangeConfiguration(()=>{let n=this._isEnabled;this._isEnabled=this.isEnabled(),n!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const s=this._editor.getModel();if(!s)return!1;const o=s.getLanguageId(),n=this._configurationService.getValue(o);if(n&&typeof n=="object"){const d=n.colorDecorators;if(d&&d.enable!==void 0&&!d.enable)return d.enable}return this._editor.getOption(17)}static get(s){return s.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const s=this._editor.getModel();!s||!i.ColorProviderRegistry.has(s)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new y.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},Mi.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=(0,y.createCancelablePromise)(s=>{const o=this._editor.getModel();return o?(0,t.getColors)(o,s):Promise.resolve([])}),this._computePromise.then(s=>{this.updateDecorations(s),this.updateColorDecorators(s),this._computePromise=null},T.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(s){const o=s.map(n=>({range:{startLineNumber:n.colorInfo.range.startLineNumber,startColumn:n.colorInfo.range.startColumn,endLineNumber:n.colorInfo.range.endLineNumber,endColumn:n.colorInfo.range.endColumn},options:g.ModelDecorationOptions.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,o),this._colorDatas=new Map,this._decorationsIds.forEach((n,d)=>this._colorDatas.set(n,s[d]))}updateColorDecorators(s){this._colorDecorationClassRefs.clear();let o=[];for(let n=0;n<s.length&&o.length<c;n++){const{red:d,green:u,blue:f,alpha:S}=s[n].colorInfo.color,v=new N.RGBA(Math.round(d*255),Math.round(u*255),Math.round(f*255),S);let m=`rgba(${v.r}, ${v.g}, ${v.b}, ${v.a})`;const _=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:m}));o.push({range:{startLineNumber:s[n].colorInfo.range.startLineNumber,startColumn:s[n].colorInfo.range.startColumn,endLineNumber:s[n].colorInfo.range.endLineNumber,endColumn:s[n].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:b.noBreakWhitespace,inlineClassName:`${_.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],o))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(s){const o=this._editor.getModel();if(!o)return null;const n=o.getDecorationsInRange(h.Range.fromPositions(s,s)).filter(d=>this._colorDatas.has(d.id));return n.length===0?null:this._colorDatas.get(n[0].id)}isColorDecorationId(s){return this._colorDecoratorIds.has(s)}};l.ID="editor.contrib.colorDetector",l.RECOMPUTE_TIME=1e3,l=Be([Ce(1,r.IConfigurationService)],l),e.ColorDetector=l,(0,p.registerEditorContribution)(l.ID,l)}),define(ee[689],te([0,1,2,17,15,14,3,21,31,429,364]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function g(t){return N.isMacintosh?t.altKey:t.ctrlKey}class i extends y.Disposable{constructor(r){super();this._editor=r,this._register(this._editor.onMouseDown(c=>this._onEditorMouseDown(c))),this._register(this._editor.onMouseUp(c=>this._onEditorMouseUp(c))),this._register(this._editor.onMouseDrag(c=>this._onEditorMouseDrag(c))),this._register(this._editor.onMouseDrop(c=>this._onEditorMouseDrop(c))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(c=>this.onEditorKeyDown(c))),this._register(this._editor.onKeyUp(c=>this.onEditorKeyUp(c))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(r){!this._editor.getOption(31)||this._editor.getOption(18)||(g(r)&&(this._modifierPressed=!0),this._mouseDown&&g(r)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(r){!this._editor.getOption(31)||this._editor.getOption(18)||(g(r)&&(this._modifierPressed=!1),this._mouseDown&&r.keyCode===i.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(r){this._mouseDown=!0}_onEditorMouseUp(r){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(r){let c=r.target;if(this._dragSelection===null){let a=(this._editor.getSelections()||[]).filter(s=>c.position&&s.containsPosition(c.position));if(a.length===1)this._dragSelection=a[0];else return}g(r.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),c.position&&(this._dragSelection.containsPosition(c.position)?this._removeDecoration():this.showAt(c.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(r){if(r.target&&(this._hitContent(r.target)||this._hitMargin(r.target))&&r.target.position){let c=new I.Position(r.target.position.lineNumber,r.target.position.column);if(this._dragSelection===null){let l=null;if(r.event.shiftKey){let a=this._editor.getSelection();if(a){const{selectionStartLineNumber:s,selectionStartColumn:o}=a;l=[new C.Selection(s,o,c.lineNumber,c.column)]}}else l=(this._editor.getSelections()||[]).map(a=>a.containsPosition(c)?new C.Selection(c.lineNumber,c.column,c.lineNumber,c.column):a);this._editor.setSelections(l||[],"mouse",3)}else(!this._dragSelection.containsPosition(c)||(g(r.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(c)||this._dragSelection.getStartPosition().equals(c)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(i.ID,new h.DragAndDropCommand(this._dragSelection,c,g(r.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(r){let c=[{range:new b.Range(r.lineNumber,r.column,r.lineNumber,r.column),options:i._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,c),this._editor.revealPosition(r,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(r){return r.type===6||r.type===7}_hitMargin(r){return r.type===2||r.type===3||r.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=i,i.ID="editor.contrib.dragAndDrop",i.TRIGGER_KEY_VALUE=N.isMacintosh?6:5,i._DECORATION_OPTIONS=p.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,T.registerEditorContribution)(i.ID,i)}),define(ee[690],te([0,1,3,49,31,22,12]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class C{constructor(h){this._editor=h,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const h=this._findScopeDecorationIds.map(g=>this._editor.getModel().getDecorationRange(g)).filter(g=>!!g);if(h.length)return h}return null}getStartPosition(){return this._startPosition}setStartPosition(h){this._startPosition=h,this.setCurrentFindMatch(null)}_getDecorationIndex(h){const g=this._decorations.indexOf(h);return g>=0?g+1:1}getCurrentMatchesPosition(h){let g=this._editor.getModel().getDecorationsInRange(h);for(const i of g){const t=i.options;if(t===C._FIND_MATCH_DECORATION||t===C._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(h){let g=null,i=0;if(h)for(let t=0,r=this._decorations.length;t<r;t++){let c=this._editor.getModel().getDecorationRange(this._decorations[t]);if(h.equalsRange(c)){g=this._decorations[t],i=t+1;break}}return(this._highlightedDecorationId!==null||g!==null)&&this._editor.changeDecorations(t=>{if(this._highlightedDecorationId!==null&&(t.changeDecorationOptions(this._highlightedDecorationId,C._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),g!==null&&(this._highlightedDecorationId=g,t.changeDecorationOptions(this._highlightedDecorationId,C._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(t.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),g!==null){let r=this._editor.getModel().getDecorationRange(g);if(r.startLineNumber!==r.endLineNumber&&r.endColumn===1){let c=r.endLineNumber-1,l=this._editor.getModel().getLineMaxColumn(c);r=new y.Range(r.startLineNumber,r.startColumn,c,l)}this._rangeHighlightDecorationId=t.addDecoration(r,C._RANGE_HIGHLIGHT_DECORATION)}}),i}set(h,g){this._editor.changeDecorations(i=>{let t=C._FIND_MATCH_DECORATION,r=[];if(h.length>1e3){t=C._FIND_MATCH_NO_OVERVIEW_DECORATION;const l=this._editor.getModel().getLineCount(),s=this._editor.getLayoutInfo().height/l,o=Math.max(2,Math.ceil(3/s));let n=h[0].range.startLineNumber,d=h[0].range.endLineNumber;for(let u=1,f=h.length;u<f;u++){const S=h[u].range;d+o>=S.startLineNumber?S.endLineNumber>d&&(d=S.endLineNumber):(r.push({range:new y.Range(n,1,d,1),options:C._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),n=S.startLineNumber,d=S.endLineNumber)}r.push({range:new y.Range(n,1,d,1),options:C._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let c=new Array(h.length);for(let l=0,a=h.length;l<a;l++)c[l]={range:h[l].range,options:t};this._decorations=i.deltaDecorations(this._decorations,c),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,r),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(l=>i.removeDecoration(l)),this._findScopeDecorationIds=[]),(g==null?void 0:g.length)&&(this._findScopeDecorationIds=g.map(l=>i.addDecoration(l,C._FIND_SCOPE_DECORATION)))})}matchBeforePosition(h){if(this._decorations.length===0)return null;for(let g=this._decorations.length-1;g>=0;g--){let i=this._decorations[g],t=this._editor.getModel().getDecorationRange(i);if(!(!t||t.endLineNumber>h.lineNumber)){if(t.endLineNumber<h.lineNumber)return t;if(!(t.endColumn>h.column))return t}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(h){if(this._decorations.length===0)return null;for(let g=0,i=this._decorations.length;g<i;g++){let t=this._decorations[g],r=this._editor.getModel().getDecorationRange(t);if(!(!r||r.startLineNumber<h.lineNumber)){if(r.startLineNumber>h.lineNumber)return r;if(!(r.startColumn<h.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let h=[];return h=h.concat(this._decorations),h=h.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&h.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&h.push(this._rangeHighlightDecorationId),h}}e.FindDecorations=C,C._CURRENT_FIND_MATCH_DECORATION=T.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,b.themeColorFromId)(I.overviewRulerFindMatchForeground),position:N.OverviewRulerLane.Center},minimap:{color:(0,b.themeColorFromId)(I.minimapFindMatch),position:N.MinimapPosition.Inline}}),C._FIND_MATCH_DECORATION=T.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,b.themeColorFromId)(I.overviewRulerFindMatchForeground),position:N.OverviewRulerLane.Center},minimap:{color:(0,b.themeColorFromId)(I.minimapFindMatch),position:N.MinimapPosition.Inline}}),C._FIND_MATCH_NO_OVERVIEW_DECORATION=T.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),C._FIND_MATCH_ONLY_OVERVIEW_DECORATION=T.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,b.themeColorFromId)(I.overviewRulerFindMatchForeground),position:N.OverviewRulerLane.Center}}),C._RANGE_HIGHLIGHT_DECORATION=T.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),C._FIND_SCOPE_DECORATION=T.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(ee[162],te([0,1,19,10,2,98,14,3,21,145,690,430,431,16]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new r.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new r.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new r.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const c=240;class l{constructor(s,o){this._toDispose=new T.DisposableStore,this._editor=s,this._state=o,this._isDisposed=!1,this._startSearchingTimer=new N.TimeoutTimer,this._decorations=new g.FindDecorations(s),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new N.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(n=>{(n.reason===3||n.reason===5||n.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(n=>{this._ignoreModelContentChanged||(n.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(n=>this._onStateChanged(n))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,T.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(s){this._isDisposed||!this._editor.hasModel()||(s.searchString||s.isReplaceRevealed||s.isRegex||s.wholeWord||s.matchCase||s.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{s.searchScope?this.research(s.moveCursor,this._state.searchScope):this.research(s.moveCursor)},c)):s.searchScope?this.research(s.moveCursor,this._state.searchScope):this.research(s.moveCursor))}static _getSearchRange(s,o){return o||s.getFullModelRange()}research(s,o){let n=null;typeof o!="undefined"?o!==null&&(Array.isArray(o)?n=o:n=[o]):n=this._decorations.getFindScopes(),n!==null&&(n=n.map(S=>{if(S.startLineNumber!==S.endLineNumber){let v=S.endLineNumber;return S.endColumn===1&&(v=v-1),new C.Range(S.startLineNumber,1,v,this._editor.getModel().getLineMaxColumn(v))}return S}));let d=this._findMatches(n,!1,e.MATCHES_LIMIT);this._decorations.set(d,n);const u=this._editor.getSelection();let f=this._decorations.getCurrentMatchesPosition(u);if(f===0&&d.length>0){const S=(0,y.findFirstInSorted)(d.map(v=>v.range),v=>C.Range.compareRangesUsingStarts(v,u)>=0);f=S>0?S-1+1:f}this._state.changeMatchInfo(f,this._decorations.getCount(),void 0),s&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let s=this._decorations.getFindScope();return s&&this._editor.revealRangeInCenterIfOutsideViewport(s,0),!0}return!1}_setCurrentFindMatch(s){let o=this._decorations.setCurrentFindMatch(s);this._state.changeMatchInfo(o,this._decorations.getCount(),s),this._editor.setSelection(s),this._editor.revealRangeInCenterIfOutsideViewport(s,0)}_prevSearchPosition(s){let o=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:d}=s,u=this._editor.getModel();return o||d===1?(n===1?n=u.getLineCount():n--,d=u.getLineMaxColumn(n)):d--,new b.Position(n,d)}_moveToPrevMatch(s,o=!1){if(!this._state.canNavigateBack()){const _=this._decorations.matchAfterPosition(s);_&&this._setCurrentFindMatch(_);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let _=this._decorations.matchBeforePosition(s);_&&_.isEmpty()&&_.getStartPosition().equals(s)&&(s=this._prevSearchPosition(s),_=this._decorations.matchBeforePosition(s)),_&&this._setCurrentFindMatch(_);return}if(this._cannotFind())return;let n=this._decorations.getFindScope(),d=l._getSearchRange(this._editor.getModel(),n);d.getEndPosition().isBefore(s)&&(s=d.getEndPosition()),s.isBefore(d.getStartPosition())&&(s=d.getEndPosition());let{lineNumber:u,column:f}=s,S=this._editor.getModel(),v=new b.Position(u,f),m=S.findPreviousMatch(this._state.searchString,v,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,!1);if(m&&m.range.isEmpty()&&m.range.getStartPosition().equals(v)&&(v=this._prevSearchPosition(v),m=S.findPreviousMatch(this._state.searchString,v,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,!1)),!!m){if(!o&&!d.containsRange(m.range))return this._moveToPrevMatch(m.range.getStartPosition(),!0);this._setCurrentFindMatch(m.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(s){let o=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:d}=s,u=this._editor.getModel();return o||d===u.getLineMaxColumn(n)?(n===u.getLineCount()?n=1:n++,d=1):d++,new b.Position(n,d)}_moveToNextMatch(s){if(!this._state.canNavigateForward()){const n=this._decorations.matchBeforePosition(s);n&&this._setCurrentFindMatch(n);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let n=this._decorations.matchAfterPosition(s);n&&n.isEmpty()&&n.getStartPosition().equals(s)&&(s=this._nextSearchPosition(s),n=this._decorations.matchAfterPosition(s)),n&&this._setCurrentFindMatch(n);return}let o=this._getNextMatch(s,!1,!0);o&&this._setCurrentFindMatch(o.range)}_getNextMatch(s,o,n,d=!1){if(this._cannotFind())return null;let u=this._decorations.getFindScope(),f=l._getSearchRange(this._editor.getModel(),u);f.getEndPosition().isBefore(s)&&(s=f.getStartPosition()),s.isBefore(f.getStartPosition())&&(s=f.getStartPosition());let{lineNumber:S,column:v}=s,m=this._editor.getModel(),_=new b.Position(S,v),L=m.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,o);return n&&L&&L.range.isEmpty()&&L.range.getStartPosition().equals(_)&&(_=this._nextSearchPosition(_),L=m.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,o)),L?!d&&!f.containsRange(L.range)?this._getNextMatch(L.range.getEndPosition(),o,n,!0):L:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,t.parseReplaceString)(this._state.replaceString):t.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let s=this._getReplacePattern(),o=this._editor.getSelection(),n=this._getNextMatch(o.getStartPosition(),!0,!1);if(n)if(o.equalsRange(n.range)){let d=s.buildReplaceString(n.matches,this._state.preserveCase),u=new I.ReplaceCommand(o,d);this._executeEditorCommand("replace",u),this._decorations.setStartPosition(new b.Position(o.startLineNumber,o.startColumn+d.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}_findMatches(s,o,n){const d=(s||[null]).map(u=>l._getSearchRange(this._editor.getModel(),u));return this._editor.getModel().findMatches(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,o,n)}replaceAll(){if(!this._hasMatches())return;const s=this._decorations.getFindScopes();s===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(s),this.research(!1)}_largeReplaceAll(){const o=new h.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null).parseSearchRequest();if(!o)return;let n=o.regex;if(!n.multiline){let L="mu";n.ignoreCase&&(L+="i"),n.global&&(L+="g"),n=new RegExp(n.source,L)}const d=this._editor.getModel(),u=d.getValue(1),f=d.getFullModelRange(),S=this._getReplacePattern();let v;const m=this._state.preserveCase;S.hasReplacementPatterns||m?v=u.replace(n,function(){return S.buildReplaceString(arguments,m)}):v=u.replace(n,S.buildReplaceString(null,m));let _=new I.ReplaceCommandThatPreservesSelection(f,v,this._editor.getSelection());this._executeEditorCommand("replaceAll",_)}_regularReplaceAll(s){const o=this._getReplacePattern();let n=this._findMatches(s,o.hasReplacementPatterns||this._state.preserveCase,1073741824),d=[];for(let f=0,S=n.length;f<S;f++)d[f]=o.buildReplaceString(n[f].matches,this._state.preserveCase);let u=new i.ReplaceAllCommand(this._editor.getSelection(),n.map(f=>f.range),d);this._executeEditorCommand("replaceAll",u)}selectAllMatches(){if(!this._hasMatches())return;let s=this._decorations.getFindScopes(),n=this._findMatches(s,!1,1073741824).map(u=>new p.Selection(u.range.startLineNumber,u.range.startColumn,u.range.endLineNumber,u.range.endColumn)),d=this._editor.getSelection();for(let u=0,f=n.length;u<f;u++)if(n[u].equalsRange(d)){n=[d].concat(n.slice(0,u)).concat(n.slice(u+1));break}this._editor.setSelections(n)}_executeEditorCommand(s,o){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(s,o),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=l}),define(ee[691],te([0,1,7,249,54,10,162,22,12]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class h extends T.Widget{constructor(i,t,r,c){super();this._hideSoon=this._register(new I.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=i,this._state=t,this._keybindingService=r,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const l=c.getColorTheme().getColor(C.inputActiveOptionBorder),a=c.getColorTheme().getColor(C.inputActiveOptionForeground),s=c.getColorTheme().getColor(C.inputActiveOptionBackground);this.caseSensitive=this._register(new N.CaseSensitiveCheckbox({appendTitle:this._keybindingLabelFor(b.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:l,inputActiveOptionForeground:a,inputActiveOptionBackground:s})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new N.WholeWordsCheckbox({appendTitle:this._keybindingLabelFor(b.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:l,inputActiveOptionForeground:a,inputActiveOptionBackground:s})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new N.RegexCheckbox({appendTitle:this._keybindingLabelFor(b.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:l,inputActiveOptionForeground:a,inputActiveOptionBackground:s})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(o=>{let n=!1;o.isRegex&&(this.regex.checked=this._state.isRegex,n=!0),o.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,n=!0),o.matchCase&&(this.caseSensitive.checked=this._state.matchCase,n=!0),!this._state.isRevealed&&n&&this._revealTemporarily()})),this._register(y.addDisposableNonBubblingMouseOutListener(this._domNode,o=>this._onMouseOut())),this._register(y.addDisposableListener(this._domNode,"mouseover",o=>this._onMouseOver())),this._applyTheme(c.getColorTheme()),this._register(c.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(i){let t=this._keybindingService.lookupKeybinding(i);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return h.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(i){let t={inputActiveOptionBorder:i.getColor(C.inputActiveOptionBorder),inputActiveOptionForeground:i.getColor(C.inputActiveOptionForeground),inputActiveOptionBackground:i.getColor(C.inputActiveOptionBackground)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}}e.FindOptionsWidget=h,h.ID="editor.contrib.findOptionsWidget",(0,p.registerThemingParticipant)((g,i)=>{const t=g.getColor(C.editorWidgetBackground);t&&i.addRule(`.monaco-editor .findOptionsWidget { background-color: ${t}; }`);const r=g.getColor(C.editorWidgetForeground);r&&i.addRule(`.monaco-editor .findOptionsWidget { color: ${r}; }`);const c=g.getColor(C.widgetShadow);c&&i.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${c}; }`);const l=g.getColor(C.contrastBorder);l&&i.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${l}; }`)})}),define(ee[692],te([0,1,4,2,3,162]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function b(p,h){return p===1?!0:p===2?!1:h}class C extends N.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new y.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return b(this._isRegexOverride,this._isRegex)}get wholeWord(){return b(this._wholeWordOverride,this._wholeWord)}get matchCase(){return b(this._matchCaseOverride,this._matchCase)}get preserveCase(){return b(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(h,g,i){let t={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},r=!1;g===0&&(h=0),h>g&&(h=g),this._matchesPosition!==h&&(this._matchesPosition=h,t.matchesPosition=!0,r=!0),this._matchesCount!==g&&(this._matchesCount=g,t.matchesCount=!0,r=!0),typeof i!="undefined"&&(T.Range.equalsRange(this._currentMatch,i)||(this._currentMatch=i,t.currentMatch=!0,r=!0)),r&&this._onFindReplaceStateChange.fire(t)}change(h,g,i=!0){var t;let r={moveCursor:g,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},c=!1;const l=this.isRegex,a=this.wholeWord,s=this.matchCase,o=this.preserveCase;typeof h.searchString!="undefined"&&this._searchString!==h.searchString&&(this._searchString=h.searchString,r.searchString=!0,c=!0),typeof h.replaceString!="undefined"&&this._replaceString!==h.replaceString&&(this._replaceString=h.replaceString,r.replaceString=!0,c=!0),typeof h.isRevealed!="undefined"&&this._isRevealed!==h.isRevealed&&(this._isRevealed=h.isRevealed,r.isRevealed=!0,c=!0),typeof h.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==h.isReplaceRevealed&&(this._isReplaceRevealed=h.isReplaceRevealed,r.isReplaceRevealed=!0,c=!0),typeof h.isRegex!="undefined"&&(this._isRegex=h.isRegex),typeof h.wholeWord!="undefined"&&(this._wholeWord=h.wholeWord),typeof h.matchCase!="undefined"&&(this._matchCase=h.matchCase),typeof h.preserveCase!="undefined"&&(this._preserveCase=h.preserveCase),typeof h.searchScope!="undefined"&&(((t=h.searchScope)===null||t===void 0?void 0:t.every(n=>{var d;return(d=this._searchScope)===null||d===void 0?void 0:d.some(u=>!T.Range.equalsRange(u,n))}))||(this._searchScope=h.searchScope,r.searchScope=!0,c=!0)),typeof h.loop!="undefined"&&this._loop!==h.loop&&(this._loop=h.loop,r.loop=!0,c=!0),this._isRegexOverride=typeof h.isRegexOverride!="undefined"?h.isRegexOverride:0,this._wholeWordOverride=typeof h.wholeWordOverride!="undefined"?h.wholeWordOverride:0,this._matchCaseOverride=typeof h.matchCaseOverride!="undefined"?h.matchCaseOverride:0,this._preserveCaseOverride=typeof h.preserveCaseOverride!="undefined"?h.preserveCaseOverride:0,l!==this.isRegex&&(c=!0,r.isRegex=!0),a!==this.wholeWord&&(c=!0,r.wholeWord=!0),s!==this.matchCase&&(c=!0,r.matchCase=!0),o!==this.preserveCase&&(c=!0,r.preserveCase=!0),c&&this._onFindReplaceStateChange.fire(r)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=I.MATCHES_LIMIT}}e.FindReplaceState=C}),define(ee[693],te([0,1,7,44,172,110,54,10,27,13,2,17,8,3,162,500,659,564,22,68,12,365]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const u=(0,n.registerIcon)("find-selection",p.Codicon.selection,l.localize(0,null)),f=(0,n.registerIcon)("find-collapsed",p.Codicon.chevronRight,l.localize(1,null)),S=(0,n.registerIcon)("find-expanded",p.Codicon.chevronDown,l.localize(2,null));e.findReplaceIcon=(0,n.registerIcon)("find-replace",p.Codicon.replace,l.localize(3,null)),e.findReplaceAllIcon=(0,n.registerIcon)("find-replace-all",p.Codicon.replaceAll,l.localize(4,null)),e.findPreviousMatchIcon=(0,n.registerIcon)("find-previous-match",p.Codicon.arrowUp,l.localize(5,null)),e.findNextMatchIcon=(0,n.registerIcon)("find-next-match",p.Codicon.arrowDown,l.localize(6,null));const v=l.localize(7,null),m=l.localize(8,null),_=l.localize(9,null),L=l.localize(10,null),w=l.localize(11,null),k=l.localize(12,null),D=l.localize(13,null),M=l.localize(14,null),O=l.localize(15,null),F=l.localize(16,null),R=l.localize(17,null),A=l.localize(18,null,c.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=l.localize(19,null),e.NLS_NO_RESULTS=l.localize(20,null);const P=419,B=275-54;let V=69;const j=33,K="ctrlEnterReplaceAll.windows.donotask",Y=i.isMacintosh?256:2048;class J{constructor(z){this.afterLineNumber=z,this.heightInPx=j,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=J;function Z(W,z,U){const x=!!z.match(/\n/);if(U&&x&&U.selectionStart>0){W.stopPropagation();return}}function ie(W,z,U){const x=!!z.match(/\n/);if(U&&x&&U.selectionEnd<U.value.length){W.stopPropagation();return}}class ne extends b.Widget{constructor(z,U,x,X,le,fe,$,H,Q){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=z,this._controller=U,this._state=x,this._contextViewProvider=X,this._keybindingService=le,this._contextKeyService=fe,this._storageService=H,this._notificationService=Q,this._ctrlEnterReplaceAllWarningPrompted=!!H.getBoolean(K,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new C.Delayer(500),this._register((0,g.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(re=>this._onStateChanged(re))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(re=>{if(re.hasChanged(80)&&(this._codeEditor.getOption(80)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),re.hasChanged(130)&&this._tryUpdateWidgetWidth(),re.hasChanged(2)&&this.updateAccessibilitySupport(),re.hasChanged(35)){const ce=this._codeEditor.getOption(35).addExtraSpaceOnTop;ce&&!this._viewZone&&(this._viewZone=new J(0),this._showViewZone()),!ce&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Ae(this,void 0,void 0,function*(){if(this._isVisible){let re=yield this._controller.getGlobalBufferTerm();re&&re!==this._state.searchString&&(this._state.change({searchString:re},!1),this._findInput.select())}}))),this._findInputFocused=c.CONTEXT_FIND_INPUT_FOCUSED.bindTo(fe),this._findFocusTracker=this._register(y.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=c.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(fe),this._replaceFocusTracker=this._register(y.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new J(0)),this._applyTheme($.getColorTheme()),this._register($.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(re=>{if(re.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return ne.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(z){if(z.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(z.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),z.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),z.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(80)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=y.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(z.isRevealed||z.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),z.isRegex&&this._findInput.setRegex(this._state.isRegex),z.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),z.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),z.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),z.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),z.searchString||z.matchesCount||z.matchesPosition){let U=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",U),this._updateMatchesCount(),this._updateButtons()}(z.searchString||z.currentMatch)&&this._layoutViewZone(),z.updateHistory&&this._delayedUpdateHistory(),z.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,h.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=V+"px",this._state.matchesCount>=c.MATCHES_LIMIT?this._matchesCount.title=A:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let z;if(this._state.matchesCount>0){let U=String(this._state.matchesCount);this._state.matchesCount>=c.MATCHES_LIMIT&&(U+="+");let x=String(this._state.matchesPosition);x==="0"&&(x="?"),z=t.format(e.NLS_MATCHES_LOCATION,x,U)}else z=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(z)),(0,N.alert)(this._getAriaLabel(z,this._state.currentMatch,this._state.searchString)),V=Math.max(V,this._matchesCount.clientWidth)}_getAriaLabel(z,U,x){if(z===e.NLS_NO_RESULTS)return x===""?l.localize(21,null,z):l.localize(22,null,z,x);if(U){const X=l.localize(23,null,z,x,U.startLineNumber+":"+U.startColumn),le=this._codeEditor.getModel();return le&&U.startLineNumber<=le.getLineCount()&&U.startLineNumber>=1?`${le.getLineContent(U.startLineNumber)}, ${X}`:X}return l.localize(24,null,z,x)}_updateToggleSelectionFindButton(){let z=this._codeEditor.getSelection(),U=z?z.startLineNumber!==z.endLineNumber||z.startColumn!==z.endColumn:!1,x=this._toggleSelectionFind.checked;this._isVisible&&(x||U)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let z=this._state.searchString.length>0,U=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&z&&U&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&z&&U&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&z),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&z),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let x=!this._codeEditor.getOption(80);this._toggleReplaceBtn.setEnabled(this._isVisible&&x)}_reveal(){if(this._revealTimeouts.forEach(z=>{clearTimeout(z)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const z=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const x=!!z&&z.startLineNumber!==z.endLineNumber;this._toggleSelectionFind.checked=x;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let U=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&z){const x=this._codeEditor.getDomNode();if(x){const X=y.getDomNodePagePosition(x),le=this._codeEditor.getScrolledVisiblePosition(z.getStartPosition()),fe=X.left+(le?le.left:0),$=le?le.top:0;if(this._viewZone&&$<this._viewZone.heightInPx){z.endLineNumber>z.startLineNumber&&(U=!1);const H=y.getTopLeftOffset(this._domNode).left;fe>H&&(U=!1);const Q=this._codeEditor.getScrolledVisiblePosition(z.getEndPosition());X.left+(Q?Q.left:0)>H&&(U=!1)}}}this._showViewZone(U)}}_hide(z){this._revealTimeouts.forEach(U=>{clearTimeout(U)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),z&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(z){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const x=this._viewZone;this._viewZoneId!==void 0||!x||this._codeEditor.changeViewZones(X=>{x.heightInPx=this._getHeight(),this._viewZoneId=X.addZone(x),this._codeEditor.setScrollTop(z||this._codeEditor.getScrollTop()+x.heightInPx)})}_showViewZone(z=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new J(0));const x=this._viewZone;this._codeEditor.changeViewZones(X=>{if(this._viewZoneId!==void 0){const le=this._getHeight();if(le===x.heightInPx)return;let fe=le-x.heightInPx;x.heightInPx=le,X.layoutZone(this._viewZoneId),z&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+fe);return}else{let le=this._getHeight();if(le-=this._codeEditor.getOption(74).top,le<=0)return;x.heightInPx=le,this._viewZoneId=X.addZone(x),z&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+le)}})}_removeViewZone(){this._codeEditor.changeViewZones(z=>{this._viewZoneId!==void 0&&(z.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(z){let U={inputActiveOptionBorder:z.getColor(o.inputActiveOptionBorder),inputActiveOptionBackground:z.getColor(o.inputActiveOptionBackground),inputActiveOptionForeground:z.getColor(o.inputActiveOptionForeground),inputBackground:z.getColor(o.inputBackground),inputForeground:z.getColor(o.inputForeground),inputBorder:z.getColor(o.inputBorder),inputValidationInfoBackground:z.getColor(o.inputValidationInfoBackground),inputValidationInfoForeground:z.getColor(o.inputValidationInfoForeground),inputValidationInfoBorder:z.getColor(o.inputValidationInfoBorder),inputValidationWarningBackground:z.getColor(o.inputValidationWarningBackground),inputValidationWarningForeground:z.getColor(o.inputValidationWarningForeground),inputValidationWarningBorder:z.getColor(o.inputValidationWarningBorder),inputValidationErrorBackground:z.getColor(o.inputValidationErrorBackground),inputValidationErrorForeground:z.getColor(o.inputValidationErrorForeground),inputValidationErrorBorder:z.getColor(o.inputValidationErrorBorder)};this._findInput.style(U),this._replaceInput.style(U),this._toggleSelectionFind.style(U)}_tryUpdateWidgetWidth(){if(!this._isVisible||!y.isInDOM(this._domNode))return;const z=this._codeEditor.getLayoutInfo();if(z.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const x=z.width,X=z.minimap.minimapWidth;let le=!1,fe=!1,$=!1;if(this._resized&&y.getTotalWidth(this._domNode)>P){this._domNode.style.maxWidth=`${x-28-X-15}px`,this._replaceInput.width=y.getTotalWidth(this._findInput.domNode);return}if(P+28+X>=x&&(fe=!0),P+28+X-V>=x&&($=!0),P+28+X-V>=x+50&&(le=!0),this._domNode.classList.toggle("collapsed-find-widget",le),this._domNode.classList.toggle("narrow-find-widget",$),this._domNode.classList.toggle("reduced-find-widget",fe),!$&&!le&&(this._domNode.style.maxWidth=`${x-28-X-15}px`),this._resized){this._findInput.inputBox.layout();let H=this._findInput.inputBox.element.clientWidth;H>0&&(this._replaceInput.width=H)}else this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode))}_getHeight(){let z=0;return z+=4,z+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(z+=4,z+=this._replaceInput.inputBox.height+2),z+=4,z}_tryUpdateHeight(){const z=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===z?!1:(this._cachedHeight=z,this._domNode.style.height=`${z}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let z=this._codeEditor.getSelections();z.map(U=>{U.endColumn===1&&U.endLineNumber>U.startLineNumber&&(U=U.setEndPosition(U.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(U.endLineNumber-1)));const x=this._state.currentMatch;return U.startLineNumber!==U.endLineNumber&&!r.Range.equalsRange(U,x)?U:null}).filter(U=>!!U),z.length&&this._state.change({searchScope:z},!0)}}_onFindInputMouseDown(z){z.middleButton&&z.stopPropagation()}_onFindInputKeyDown(z){if(z.equals(Y|3))if(this._keybindingService.dispatchEvent(z,z.target)){z.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),z.preventDefault();return}if(z.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),z.preventDefault();return}if(z.equals(2048|18)){this._codeEditor.focus(),z.preventDefault();return}if(z.equals(16))return Z(z,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(z.equals(18))return ie(z,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(z){if(z.equals(Y|3))if(this._keybindingService.dispatchEvent(z,z.target)){z.preventDefault();return}else{i.isWindows&&i.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(l.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(K,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),z.preventDefault();return}if(z.equals(2)){this._findInput.focusOnCaseSensitive(),z.preventDefault();return}if(z.equals(1024|2)){this._findInput.focus(),z.preventDefault();return}if(z.equals(2048|18)){this._codeEditor.focus(),z.preventDefault();return}if(z.equals(16))return Z(z,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(z.equals(18))return ie(z,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(z){return 0}_keybindingLabelFor(z){let U=this._keybindingService.lookupKeybinding(z);return U?` (${U.getLabel()})`:""}_buildDomNode(){const z=!0,U=!0;this._findInput=this._register(new a.ContextScopedFindInput(null,this._contextViewProvider,{width:B,label:v,placeholder:m,appendCaseSensitiveLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleRegexCommand),validation:H=>{if(H.length===0||!this._findInput.getRegex())return null;try{return new RegExp(H,"gu"),null}catch(Q){return{content:Q.message}}},flexibleHeight:z,flexibleWidth:U,flexibleMaxHeight:118,showHistoryHint:()=>(0,s.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(H=>this._onFindInputKeyDown(H))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(H=>{H.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),H.preventDefault())})),this._register(this._findInput.onRegexKeyDown(H=>{H.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),H.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(H=>{this._tryUpdateHeight()&&this._showViewZone()})),i.isLinux&&this._register(this._findInput.onMouseDown(H=>this._onFindInputMouseDown(H))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new G({label:_+this._keybindingLabelFor(c.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(c.FIND_IDS.PreviousMatchFindAction).run().then(void 0,h.onUnexpectedError)}})),this._nextBtn=this._register(new G({label:L+this._keybindingLabelFor(c.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(c.FIND_IDS.NextMatchFindAction).run().then(void 0,h.onUnexpectedError)}}));let x=document.createElement("div");x.className="find-part",x.appendChild(this._findInput.domNode);const X=document.createElement("div");X.className="find-actions",x.appendChild(X),X.appendChild(this._matchesCount),X.appendChild(this._prevBtn.domNode),X.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new T.Checkbox({icon:u,title:w+this._keybindingLabelFor(c.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let H=this._codeEditor.getSelections();H.map(Q=>(Q.endColumn===1&&Q.endLineNumber>Q.startLineNumber&&(Q=Q.setEndPosition(Q.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Q.endLineNumber-1))),Q.isEmpty()?null:Q)).filter(Q=>!!Q),H.length&&this._state.change({searchScope:H},!0)}}else this._state.change({searchScope:null},!0)})),X.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new G({label:k+this._keybindingLabelFor(c.FIND_IDS.CloseFindWidgetCommand),icon:n.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:H=>{H.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),H.preventDefault())}})),X.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new a.ContextScopedReplaceInput(null,void 0,{label:D,placeholder:M,appendPreserveCaseLabel:this._keybindingLabelFor(c.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:z,flexibleWidth:U,flexibleMaxHeight:118,showHistoryHint:()=>(0,s.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(H=>this._onReplaceInputKeyDown(H))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(H=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(H=>{H.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),H.preventDefault())})),this._replaceBtn=this._register(new G({label:O+this._keybindingLabelFor(c.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:H=>{H.equals(1024|2)&&(this._closeBtn.focus(),H.preventDefault())}})),this._replaceAllBtn=this._register(new G({label:F+this._keybindingLabelFor(c.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));let le=document.createElement("div");le.className="replace-part",le.appendChild(this._replaceInput.domNode);const fe=document.createElement("div");fe.className="replace-actions",le.appendChild(fe),fe.appendChild(this._replaceBtn.domNode),fe.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new G({label:R,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${P}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(x),this._domNode.appendChild(le),this._resizeSash=new I.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let $=P;this._register(this._resizeSash.onDidStart(()=>{$=y.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(H=>{this._resized=!0;let Q=$+H.startX-H.currentX;if(Q<P)return;const re=parseFloat(y.getComputedStyle(this._domNode).maxWidth)||0;Q>re||(this._domNode.style.width=`${Q}px`,this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const H=y.getTotalWidth(this._domNode);if(H<P)return;let Q=P;if(!this._resized||H===P){const re=this._codeEditor.getLayoutInfo();Q=re.width-28-re.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${Q}px`,this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const z=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(z!==2)}}e.FindWidget=ne,ne.ID="editor.contrib.findWidget";class G extends b.Widget{constructor(z){super();this._opts=z;let U="button";this._opts.className&&(U=U+" "+this._opts.className),this._opts.icon&&(U=U+" "+d.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=U,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,x=>{this._opts.onTrigger(),x.preventDefault()}),this.onkeydown(this._domNode,x=>{if(x.equals(10)||x.equals(3)){this._opts.onTrigger(),x.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(x)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(z){this._domNode.classList.toggle("disabled",!z),this._domNode.setAttribute("aria-disabled",String(!z)),this._domNode.tabIndex=z?0:-1}setExpanded(z){this._domNode.setAttribute("aria-expanded",String(!!z)),z?(this._domNode.classList.remove(...d.ThemeIcon.asClassNameArray(f)),this._domNode.classList.add(...d.ThemeIcon.asClassNameArray(S))):(this._domNode.classList.remove(...d.ThemeIcon.asClassNameArray(S)),this._domNode.classList.add(...d.ThemeIcon.asClassNameArray(f)))}}e.SimpleButton=G,(0,d.registerThemingParticipant)((W,z)=>{const U=(pe,_e)=>{_e&&z.addRule(`.monaco-editor ${pe} { background-color: ${_e}; }`)};U(".findMatch",W.getColor(o.editorFindMatchHighlight)),U(".currentFindMatch",W.getColor(o.editorFindMatch)),U(".findScope",W.getColor(o.editorFindRangeHighlight));const x=W.getColor(o.editorWidgetBackground);U(".find-widget",x);const X=W.getColor(o.widgetShadow);X&&z.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${X}; }`);const le=W.getColor(o.editorFindMatchHighlightBorder);le&&z.addRule(`.monaco-editor .findMatch { border: 1px ${W.type==="hc"?"dotted":"solid"} ${le}; box-sizing: border-box; }`);const fe=W.getColor(o.editorFindMatchBorder);fe&&z.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${fe}; padding: 1px; box-sizing: border-box; }`);const $=W.getColor(o.editorFindRangeHighlightBorder);$&&z.addRule(`.monaco-editor .findScope { border: 1px ${W.type==="hc"?"dashed":"solid"} ${$}; }`);const H=W.getColor(o.contrastBorder);H&&z.addRule(`.monaco-editor .find-widget { border: 1px solid ${H}; }`);const Q=W.getColor(o.editorWidgetForeground);Q&&z.addRule(`.monaco-editor .find-widget { color: ${Q}; }`);const re=W.getColor(o.errorForeground);re&&z.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${re}; }`);const ce=W.getColor(o.editorWidgetResizeBorder);if(ce)z.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ce}; }`);else{const pe=W.getColor(o.editorWidgetBorder);pe&&z.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${pe}; }`)}const oe=W.getColor(o.toolbarHoverBackground);oe&&z.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${oe} !important;
		}
	`);const de=W.getColor(o.focusBorder);de&&z.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${de}; }`)})}),define(ee[287],te([0,1,10,2,8,15,24,162,691,692,693,499,36,91,16,73,41,40,76,12]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const d=524288;function u(R,A="single",P=!1){if(!R.hasModel())return null;const E=R.getSelection();if(A==="single"&&E.startLineNumber===E.endLineNumber||A==="multiple"){if(E.isEmpty()){const B=R.getConfiguredWordAtPosition(E.getStartPosition());if(B&&P===!1)return B.word}else if(R.getModel().getValueLengthInRange(E)<d)return R.getModel().getValueInRange(E)}return null}e.getSelectionSearchString=u;let f=class Ai extends N.Disposable{constructor(A,P,E,B){super();this._editor=A,this._findWidgetVisible=C.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(P),this._contextKeyService=P,this._storageService=E,this._clipboardService=B,this._updateHistoryDelayer=new y.Delayer(500),this._state=this._register(new h.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(V=>this._onStateChanged(V))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let V=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),V&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(A){return A.getContribution(Ai.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(A){this.saveQueryState(A),A.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),A.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(A){A.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),A.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),A.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),A.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!C.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let A=this._editor.getSelections();A.map(P=>(P.endColumn===1&&P.endLineNumber>P.startLineNumber&&(P=P.setEndPosition(P.endLineNumber-1,this._editor.getModel().getLineMaxColumn(P.endLineNumber-1))),P.isEmpty()?null:P)).filter(P=>!!P),A.length&&this._state.change({searchScope:A},!0)}}setSearchString(A){this._state.isRegex&&(A=T.escapeRegExpCharacters(A)),this._state.change({searchString:A},!1)}highlightFindOptions(A=!1){}_start(A,P){return Ae(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let E=Object.assign(Object.assign({},P),{isRevealed:!0});if(A.seedSearchStringFromSelection==="single"){let B=u(this._editor,A.seedSearchStringFromSelection,A.seedSearchStringFromNonEmptySelection);B&&(this._state.isRegex?E.searchString=T.escapeRegExpCharacters(B):E.searchString=B)}else if(A.seedSearchStringFromSelection==="multiple"&&!A.updateSearchScope){let B=u(this._editor,A.seedSearchStringFromSelection);B&&(E.searchString=B)}if(!E.searchString&&A.seedSearchStringFromGlobalClipboard){let B=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;B&&(E.searchString=B)}if(A.forceRevealReplace||E.isReplaceRevealed?E.isReplaceRevealed=!0:this._findWidgetVisible.get()||(E.isReplaceRevealed=!1),A.updateSearchScope){let B=this._editor.getSelections();B.some(V=>!V.isEmpty())&&(E.searchScope=B)}E.loop=A.loop,this._state.change(E,!1),this._model||(this._model=new C.FindModelBoundToEditorModel(this._editor,this._state))})}start(A,P){return this._start(A,P)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Ae(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(A){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(A)}};f.ID="editor.contrib.findController",f=Be([Ce(1,c.IContextKeyService),Ce(2,o.IStorageService),Ce(3,r.IClipboardService)],f),e.CommonFindController=f;let S=class extends f{constructor(A,P,E,B,V,j,K,Y){super(A,E,K,Y);this._contextViewService=P,this._keybindingService=B,this._themeService=V,this._notificationService=j,this._widget=null,this._findOptionsWidget=null}_start(A,P){const E=Object.create(null,{_start:{get:()=>super._start}});return Ae(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const B=this._editor.getSelection();let V=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":V=!0;break;case"never":V=!1;break;case"multiline":V=!!B&&B.startLineNumber!==B.endLineNumber;break;default:break}A.updateSearchScope=A.updateSearchScope||V,yield E._start.call(this,A,P),this._widget&&(A.shouldFocus===2?this._widget.focusReplaceInput():A.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(A=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!A?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new g.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new p.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};S=Be([Ce(1,l.IContextViewService),Ce(2,c.IContextKeyService),Ce(3,a.IKeybindingService),Ce(4,n.IThemeService),Ce(5,s.INotificationService),Ce(6,o.IStorageService),Ce(7,r.IClipboardService)],S),e.FindController=S,e.StartFindAction=(0,I.registerMultiEditorAction)(new I.MultiEditorAction({id:C.FIND_IDS.StartFindAction,label:i.localize(0,null),alias:"Find",precondition:c.ContextKeyExpr.or(b.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(R,A,P)=>{const E=f.get(A);return E?E.start({forceRevealReplace:!1,seedSearchStringFromSelection:A.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:A.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:A.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(35).loop}):!1});const v={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:i.localize(2,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:i.localize(3,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:i.localize(4,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:i.localize(5,null)},findInSelection:{type:"boolean"}}}}]};class m extends I.EditorAction{constructor(){super({id:C.FIND_IDS.StartFindWithArgs,label:i.localize(6,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:v})}run(A,P,E){return Ae(this,void 0,void 0,function*(){let B=f.get(P);if(B){const V=E?{searchString:E.searchString,replaceString:E.replaceString,isReplaceRevealed:E.replaceString!==void 0,isRegex:E.isRegex,wholeWord:E.matchWholeWord,matchCase:E.isCaseSensitive,preserveCase:E.preserveCase}:{};yield B.start({forceRevealReplace:!1,seedSearchStringFromSelection:B.getState().searchString.length===0&&P.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:P.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(E==null?void 0:E.findInSelection)||!1,loop:P.getOption(35).loop},V),B.setGlobalBufferTerm(B.getState().searchString)}})}}e.StartFindWithArgsAction=m;class _ extends I.EditorAction{constructor(){super({id:C.FIND_IDS.StartFindWithSelection,label:i.localize(7,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(A,P){return Ae(this,void 0,void 0,function*(){let E=f.get(P);E&&(yield E.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:P.getOption(35).loop}),E.setGlobalBufferTerm(E.getState().searchString))})}}e.StartFindWithSelectionAction=_;class L extends I.EditorAction{run(A,P){return Ae(this,void 0,void 0,function*(){let E=f.get(P);E&&!this._run(E)&&(yield E.start({forceRevealReplace:!1,seedSearchStringFromSelection:E.getState().searchString.length===0&&P.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:P.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:P.getOption(35).loop}),this._run(E))})}}e.MatchFindAction=L;class w extends L{constructor(){super({id:C.FIND_IDS.NextMatchFindAction,label:i.localize(8,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:b.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:c.ContextKeyExpr.and(b.EditorContextKeys.focus,C.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(A){return A.moveToNextMatch()?(A.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=w;class k extends L{constructor(){super({id:C.FIND_IDS.PreviousMatchFindAction,label:i.localize(9,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:b.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:c.ContextKeyExpr.and(b.EditorContextKeys.focus,C.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}]})}_run(A){return A.moveToPrevMatch()}}e.PreviousMatchFindAction=k;class D extends I.EditorAction{run(A,P){return Ae(this,void 0,void 0,function*(){let E=f.get(P);if(!E)return;const B=P.getOption(35).seedSearchStringFromSelection==="selection";let V=null;P.getOption(35).seedSearchStringFromSelection!=="never"&&(V=u(P,"single",B)),V&&E.setSearchString(V),this._run(E)||(yield E.start({forceRevealReplace:!1,seedSearchStringFromSelection:P.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:B,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:P.getOption(35).loop}),this._run(E))})}}e.SelectionMatchFindAction=D;class M extends D{constructor(){super({id:C.FIND_IDS.NextSelectionMatchFindAction,label:i.localize(10,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(A){return A.moveToNextMatch()}}e.NextSelectionMatchFindAction=M;class O extends D{constructor(){super({id:C.FIND_IDS.PreviousSelectionMatchFindAction,label:i.localize(11,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(A){return A.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=O,e.StartFindReplaceAction=(0,I.registerMultiEditorAction)(new I.MultiEditorAction({id:C.FIND_IDS.StartFindReplaceAction,label:i.localize(12,null),alias:"Replace",precondition:c.ContextKeyExpr.or(b.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(13,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(R,A,P)=>{if(!A.hasModel()||A.getOption(80))return!1;const E=f.get(A);if(!E)return!1;const B=A.getSelection(),V=E.isFindInputFocused(),j=!B.isEmpty()&&B.startLineNumber===B.endLineNumber&&A.getOption(35).seedSearchStringFromSelection!=="never"&&!V,K=V||j?2:1;return E.start({forceRevealReplace:!0,seedSearchStringFromSelection:j?"single":"none",seedSearchStringFromNonEmptySelection:A.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:A.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:K,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(35).loop})}),(0,I.registerEditorContribution)(f.ID,S),(0,I.registerEditorAction)(m),(0,I.registerEditorAction)(_),(0,I.registerEditorAction)(w),(0,I.registerEditorAction)(k),(0,I.registerEditorAction)(M),(0,I.registerEditorAction)(O);const F=I.EditorCommand.bindToContribution(f.get);(0,I.registerEditorCommand)(new F({id:C.FIND_IDS.CloseFindWidgetCommand,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(b.EditorContextKeys.focus,c.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),(0,I.registerEditorCommand)(new F({id:C.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:R=>R.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:b.EditorContextKeys.focus,primary:C.ToggleCaseSensitiveKeybinding.primary,mac:C.ToggleCaseSensitiveKeybinding.mac,win:C.ToggleCaseSensitiveKeybinding.win,linux:C.ToggleCaseSensitiveKeybinding.linux}})),(0,I.registerEditorCommand)(new F({id:C.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:R=>R.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:b.EditorContextKeys.focus,primary:C.ToggleWholeWordKeybinding.primary,mac:C.ToggleWholeWordKeybinding.mac,win:C.ToggleWholeWordKeybinding.win,linux:C.ToggleWholeWordKeybinding.linux}})),(0,I.registerEditorCommand)(new F({id:C.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:R=>R.toggleRegex(),kbOpts:{weight:100+5,kbExpr:b.EditorContextKeys.focus,primary:C.ToggleRegexKeybinding.primary,mac:C.ToggleRegexKeybinding.mac,win:C.ToggleRegexKeybinding.win,linux:C.ToggleRegexKeybinding.linux}})),(0,I.registerEditorCommand)(new F({id:C.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:R=>R.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:b.EditorContextKeys.focus,primary:C.ToggleSearchScopeKeybinding.primary,mac:C.ToggleSearchScopeKeybinding.mac,win:C.ToggleSearchScopeKeybinding.win,linux:C.ToggleSearchScopeKeybinding.linux}})),(0,I.registerEditorCommand)(new F({id:C.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:R=>R.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:b.EditorContextKeys.focus,primary:C.TogglePreserveCaseKeybinding.primary,mac:C.TogglePreserveCaseKeybinding.mac,win:C.TogglePreserveCaseKeybinding.win,linux:C.TogglePreserveCaseKeybinding.linux}})),(0,I.registerEditorCommand)(new F({id:C.FIND_IDS.ReplaceOneAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.replace(),kbOpts:{weight:100+5,kbExpr:b.EditorContextKeys.focus,primary:2048|1024|22}})),(0,I.registerEditorCommand)(new F({id:C.FIND_IDS.ReplaceOneAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.replace(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(b.EditorContextKeys.focus,C.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,I.registerEditorCommand)(new F({id:C.FIND_IDS.ReplaceAllAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.replaceAll(),kbOpts:{weight:100+5,kbExpr:b.EditorContextKeys.focus,primary:2048|512|3}})),(0,I.registerEditorCommand)(new F({id:C.FIND_IDS.ReplaceAllAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.replaceAll(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(b.EditorContextKeys.focus,C.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),(0,I.registerEditorCommand)(new F({id:C.FIND_IDS.SelectAllMatchesAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:b.EditorContextKeys.focus,primary:512|3}}))}),define(ee[694],te([0,1,27,31,502,68,12]),function(q,e,y,N,T,I,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=(0,I.registerIcon)("folding-expanded",y.Codicon.chevronDown,(0,T.localize)(0,null)),e.foldingCollapsedIcon=(0,I.registerIcon)("folding-collapsed",y.Codicon.chevronRight,(0,T.localize)(1,null));class C{constructor(h){this.editor=h,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(h,g){return g?C.HIDDEN_RANGE_DECORATION:h?this.showFoldingHighlights?C.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:C.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?C.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:C.EXPANDED_VISUAL_DECORATION}deltaDecorations(h,g){return this.editor.deltaDecorations(h,g)}changeDecorations(h){return this.editor.changeDecorations(h)}}e.FoldingDecorationProvider=C,C.COLLAPSED_VISUAL_DECORATION=N.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:b.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),C.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=N.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:b.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),C.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=N.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:b.ThemeIcon.asClassName(e.foldingExpandedIcon)}),C.EXPANDED_VISUAL_DECORATION=N.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+b.ThemeIcon.asClassName(e.foldingExpandedIcon)}),C.HIDDEN_RANGE_DECORATION=N.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(ee[695],te([0,1,31,39,182]),function(q,e,y,N,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const I=5e3;e.ID_INDENT_PROVIDER="indent";class b{constructor(g){this.editorModel=g,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(g){let i=N.LanguageConfigurationRegistry.getFoldingRules(this.editorModel.getLanguageId()),t=i&&!!i.offSide,r=i&&i.markers;return Promise.resolve(p(this.editorModel,t,r))}}e.IndentRangeProvider=b;class C{constructor(g){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=g}insertFirst(g,i,t){if(g>T.MAX_LINE_NUMBER||i>T.MAX_LINE_NUMBER)return;let r=this._length;this._startIndexes[r]=g,this._endIndexes[r]=i,this._length++,t<1e3&&(this._indentOccurrences[t]=(this._indentOccurrences[t]||0)+1)}toIndentRanges(g){if(this._length<=this._foldingRangesLimit){let i=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let r=this._length-1,c=0;r>=0;r--,c++)i[c]=this._startIndexes[r],t[c]=this._endIndexes[r];return new T.FoldingRegions(i,t)}else{let i=0,t=this._indentOccurrences.length;for(let a=0;a<this._indentOccurrences.length;a++){let s=this._indentOccurrences[a];if(s){if(s+i>this._foldingRangesLimit){t=a;break}i+=s}}const r=g.getOptions().tabSize;let c=new Uint32Array(this._foldingRangesLimit),l=new Uint32Array(this._foldingRangesLimit);for(let a=this._length-1,s=0;a>=0;a--){let o=this._startIndexes[a],n=g.getLineContent(o),d=y.TextModel.computeIndentLevel(n,r);(d<t||d===t&&i++<this._foldingRangesLimit)&&(c[s]=o,l[s]=this._endIndexes[a],s++)}return new T.FoldingRegions(c,l)}}}e.RangesCollector=C;function p(h,g,i,t=I){const r=h.getOptions().tabSize;let c=new C(t),l;i&&(l=new RegExp(`(${i.start.source})|(?:${i.end.source})`));let a=[],s=h.getLineCount()+1;a.push({indent:-1,endAbove:s,line:s});for(let o=h.getLineCount();o>0;o--){let n=h.getLineContent(o),d=y.TextModel.computeIndentLevel(n,r),u=a[a.length-1];if(d===-1){g&&(u.endAbove=o);continue}let f;if(l&&(f=n.match(l)))if(f[1]){let S=a.length-1;for(;S>0&&a[S].indent!==-2;)S--;if(S>0){a.length=S+1,u=a[S],c.insertFirst(o,u.line,d),u.line=o,u.indent=d,u.endAbove=o;continue}}else{a.push({indent:-2,endAbove:o,line:o});continue}if(u.indent>d){do a.pop(),u=a[a.length-1];while(u.indent>d);let S=u.endAbove-1;S-o>=1&&c.insertFirst(o,S,d)}u.indent===d?u.endAbove=o:a.push({indent:d,endAbove:o,line:o})}return c.toIndentRanges(h)}e.computeRanges=p}),define(ee[696],te([0,1,10,13,56,2,8,20,67,15,24,18,39,432,575,695,433,501,16,22,12,694,238,366]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const S=new o.RawContextKey("foldingEnabled",!1);let v=class Ri extends I.Disposable{constructor(Z,ie){super();this.contextKeyService=ie,this.localToDispose=this._register(new I.DisposableStore),this.editor=Z;const ne=this.editor.getOptions();this._isEnabled=ne.get(37),this._useFoldingProviders=ne.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=ne.get(41),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=ne.get(40),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new u.FoldingDecorationProvider(Z),this.foldingDecorationProvider.autoHideFoldingControls=ne.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=ne.get(39),this.foldingEnabled=S.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(G=>{if(G.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),G.hasChanged(98)||G.hasChanged(39)){const W=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=W.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=W.get(39),this.triggerFoldingModelChanged()}G.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),G.hasChanged(41)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(41)),G.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(Z){return Z.getContribution(Ri.ID)}saveViewState(){let Z=this.editor.getModel();if(!Z||!this._isEnabled||Z.isTooLargeForTokenization())return{};if(this.foldingModel){let ie=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),ne=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:ie,lineCount:Z.getLineCount(),provider:ne,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(Z){let ie=this.editor.getModel();if(!ie||!this._isEnabled||ie.isTooLargeForTokenization()||!this.hiddenRangeModel||!Z||Z.lineCount!==ie.getLineCount()||(this._currentModelHasFoldedImports=!!Z.foldedImports,!Z.collapsedRegions))return;(Z.provider===f.ID_SYNTAX_PROVIDER||Z.provider===a.ID_INIT_PROVIDER)&&(this.foldingStateMemento=Z);const ne=Z.collapsedRegions;if(this.hiddenRangeModel.applyMemento(ne)){const G=this.getFoldingModel();G&&G.then(W=>{if(W){this._restoringViewState=!0;try{W.applyMemento(ne)}finally{this._restoringViewState=!1}}}).then(void 0,N.onUnexpectedError)}}onModelChanged(){this.localToDispose.clear();let Z=this.editor.getModel();!this._isEnabled||!Z||Z.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new r.FoldingModel(Z,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new c.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(ie=>this.onHiddenRangesChanges(ie))),this.updateScheduler=new y.Delayer(200),this.cursorChangedScheduler=new y.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(i.FoldingRangeProviderRegistry.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(ie=>this.onDidChangeModelContent(ie))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(ie=>this.onEditorMouseDown(ie))),this.localToDispose.add(this.editor.onMouseUp(ie=>this.onEditorMouseUp(ie))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(Z){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new l.IndentRangeProvider(Z),this._useFoldingProviders&&this.foldingModel){let ie=i.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);if(ie.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new a.InitializingRangeProvider(Z,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);ie.length>0&&(this.rangeProvider=new f.SyntaxRangeProvider(Z,ie,()=>this.triggerFoldingModelChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(Z){var ie;(ie=this.hiddenRangeModel)===null||ie===void 0||ie.notifyChangeModelContent(Z),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const Z=this.foldingModel;if(!Z)return null;const ie=this.getRangeProvider(Z.textModel);let ne=this.foldingRegionPromise=(0,y.createCancelablePromise)(G=>ie.compute(G));return ne.then(G=>{if(G&&ne===this.foldingRegionPromise){let W;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const x=G.setCollapsedAllOfType(i.FoldingRangeKind.Imports.value,!0);x&&(W=p.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=x)}let z=this.editor.getSelections(),U=z?z.map(x=>x.startLineNumber):[];Z.update(G,U),W&&W.restore(this.editor)}return Z})}).then(void 0,Z=>((0,N.onUnexpectedError)(Z),null)))}onHiddenRangesChanges(Z){if(this.hiddenRangeModel&&Z.length&&!this._restoringViewState){let ie=this.editor.getSelections();ie&&this.hiddenRangeModel.adjustSelections(ie)&&this.editor.setSelections(ie)}this.editor.setHiddenAreas(Z)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const Z=this.getFoldingModel();!Z||Z.then(ie=>{if(ie){let ne=this.editor.getSelections();if(ne&&ne.length>0){let G=[];for(let W of ne){let z=W.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(z)&&G.push(...ie.getAllRegionsAtLine(z,U=>U.isCollapsed&&z>U.startLineNumber))}G.length&&(ie.toggleCollapseState(G),this.reveal(ne[0].getPosition()))}}}).then(void 0,N.onUnexpectedError)}onEditorMouseDown(Z){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!Z.target||!Z.target.range||!Z.event.leftButton&&!Z.event.middleButton)return;const ie=Z.target.range;let ne=!1;switch(Z.target.type){case 4:const G=Z.target.detail,W=Z.target.element.offsetLeft;if(G.offsetX-W<5)return;ne=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!Z.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let U=this.editor.getModel();if(U&&ie.startColumn===U.getLineMaxColumn(ie.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:ie.startLineNumber,iconClicked:ne}}onEditorMouseUp(Z){const ie=this.getFoldingModel();if(!ie||!this.mouseDownInfo||!Z.target)return;let ne=this.mouseDownInfo.lineNumber,G=this.mouseDownInfo.iconClicked,W=Z.target.range;if(!(!W||W.startLineNumber!==ne)){if(G){if(Z.target.type!==4)return}else{let z=this.editor.getModel();if(!z||W.startColumn!==z.getLineMaxColumn(ne))return}ie.then(z=>{if(z){let U=z.getRegionAtLine(ne);if(U&&U.startLineNumber===ne){let x=U.isCollapsed;if(G||x){let X=Z.event.altKey,le=[];if(X){let fe=H=>!H.containedBy(U)&&!U.containedBy(H),$=z.getRegionsInside(null,fe);for(const H of $)H.isCollapsed&&le.push(H);le.length===0&&(le=$)}else{let fe=Z.event.middleButton||Z.event.shiftKey;if(fe)for(const $ of z.getRegionsInside(U))$.isCollapsed===x&&le.push($);(x||!fe||le.length===0)&&le.push(U)}z.toggleCollapseState(le),this.reveal({lineNumber:ne,column:1})}}}}).then(void 0,N.onUnexpectedError)}}reveal(Z){this.editor.revealPositionInCenterIfOutsideViewport(Z,0)}};v.ID="editor.contrib.folding",v=Be([Ce(1,o.IContextKeyService)],v),e.FoldingController=v;class m extends h.EditorAction{runEditorCommand(Z,ie,ne){let G=v.get(ie);if(!G)return;let W=G.getFoldingModel();if(W)return this.reportTelemetry(Z,ie),W.then(z=>{if(z){this.invoke(G,z,ie,ne);const U=ie.getSelection();U&&G.reveal(U.getStartPosition())}})}getSelectedLines(Z){let ie=Z.getSelections();return ie?ie.map(ne=>ne.startLineNumber):[]}getLineNumbers(Z,ie){return Z&&Z.selectionLines?Z.selectionLines.map(ne=>ne+1):this.getSelectedLines(ie)}run(Z,ie){}}function _(J){if(!C.isUndefined(J)){if(!C.isObject(J))return!1;const Z=J;if(!C.isUndefined(Z.levels)&&!C.isNumber(Z.levels)||!C.isUndefined(Z.direction)&&!C.isString(Z.direction)||!C.isUndefined(Z.selectionLines)&&(!C.isArray(Z.selectionLines)||!Z.selectionLines.every(C.isNumber)))return!1}return!0}class L extends m{constructor(){super({id:"editor.unfold",label:s.localize(0,null),alias:"Unfold",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:_,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Z,ie,ne,G){let W=G&&G.levels||1,z=this.getLineNumbers(G,ne);G&&G.direction==="up"?(0,r.setCollapseStateLevelsUp)(ie,!1,W,z):(0,r.setCollapseStateLevelsDown)(ie,!1,W,z)}}class w extends m{constructor(){super({id:"editor.unfoldRecursively",label:s.localize(1,null),alias:"Unfold Recursively",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|89),weight:100}})}invoke(Z,ie,ne,G){(0,r.setCollapseStateLevelsDown)(ie,!1,Number.MAX_VALUE,this.getSelectedLines(ne))}}class k extends m{constructor(){super({id:"editor.fold",label:s.localize(2,null),alias:"Fold",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:_,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Z,ie,ne,G){let W=this.getLineNumbers(G,ne);const z=G&&G.levels,U=G&&G.direction;typeof z!="number"&&typeof U!="string"?(0,r.setCollapseStateUp)(ie,!0,W):U==="up"?(0,r.setCollapseStateLevelsUp)(ie,!0,z||1,W):(0,r.setCollapseStateLevelsDown)(ie,!0,z||1,W)}}class D extends m{constructor(){super({id:"editor.toggleFold",label:s.localize(3,null),alias:"Toggle Fold",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|42),weight:100}})}invoke(Z,ie,ne){let G=this.getSelectedLines(ne);(0,r.toggleCollapseState)(ie,1,G)}}class M extends m{constructor(){super({id:"editor.foldRecursively",label:s.localize(4,null),alias:"Fold Recursively",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|87),weight:100}})}invoke(Z,ie,ne){let G=this.getSelectedLines(ne);(0,r.setCollapseStateLevelsDown)(ie,!0,Number.MAX_VALUE,G)}}class O extends m{constructor(){super({id:"editor.foldAllBlockComments",label:s.localize(5,null),alias:"Fold All Block Comments",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|85),weight:100}})}invoke(Z,ie,ne){if(ie.regions.hasTypes())(0,r.setCollapseStateForType)(ie,i.FoldingRangeKind.Comment.value,!0);else{const G=ne.getModel();if(!G)return;const W=t.LanguageConfigurationRegistry.getComments(G.getLanguageId());if(W&&W.blockCommentStartToken){let z=new RegExp("^\\s*"+(0,b.escapeRegExpCharacters)(W.blockCommentStartToken));(0,r.setCollapseStateForMatchingLines)(ie,z,!0)}}}}class F extends m{constructor(){super({id:"editor.foldAllMarkerRegions",label:s.localize(6,null),alias:"Fold All Regions",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|29),weight:100}})}invoke(Z,ie,ne){if(ie.regions.hasTypes())(0,r.setCollapseStateForType)(ie,i.FoldingRangeKind.Region.value,!0);else{const G=ne.getModel();if(!G)return;const W=t.LanguageConfigurationRegistry.getFoldingRules(G.getLanguageId());if(W&&W.markers&&W.markers.start){let z=new RegExp(W.markers.start);(0,r.setCollapseStateForMatchingLines)(ie,z,!0)}}}}class R extends m{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:s.localize(7,null),alias:"Unfold All Regions",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|30),weight:100}})}invoke(Z,ie,ne){if(ie.regions.hasTypes())(0,r.setCollapseStateForType)(ie,i.FoldingRangeKind.Region.value,!1);else{const G=ne.getModel();if(!G)return;const W=t.LanguageConfigurationRegistry.getFoldingRules(G.getLanguageId());if(W&&W.markers&&W.markers.start){let z=new RegExp(W.markers.start);(0,r.setCollapseStateForMatchingLines)(ie,z,!1)}}}}class A extends m{constructor(){super({id:"editor.foldAllExcept",label:s.localize(8,null),alias:"Fold All Regions Except Selected",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|83),weight:100}})}invoke(Z,ie,ne){let G=this.getSelectedLines(ne);(0,r.setCollapseStateForRest)(ie,!0,G)}}class P extends m{constructor(){super({id:"editor.unfoldAllExcept",label:s.localize(9,null),alias:"Unfold All Regions Except Selected",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|81),weight:100}})}invoke(Z,ie,ne){let G=this.getSelectedLines(ne);(0,r.setCollapseStateForRest)(ie,!1,G)}}class E extends m{constructor(){super({id:"editor.foldAll",label:s.localize(10,null),alias:"Fold All",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|21),weight:100}})}invoke(Z,ie,ne){(0,r.setCollapseStateLevelsDown)(ie,!0)}}class B extends m{constructor(){super({id:"editor.unfoldAll",label:s.localize(11,null),alias:"Unfold All",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|40),weight:100}})}invoke(Z,ie,ne){(0,r.setCollapseStateLevelsDown)(ie,!1)}}class V extends m{getFoldingLevel(){return parseInt(this.id.substr(V.ID_PREFIX.length))}invoke(Z,ie,ne){(0,r.setCollapseStateAtLevel)(ie,this.getFoldingLevel(),!0,this.getSelectedLines(ne))}}V.ID_PREFIX="editor.foldLevel",V.ID=J=>V.ID_PREFIX+J;class j extends m{constructor(){super({id:"editor.gotoParentFold",label:s.localize(12,null),alias:"Go to Parent Fold",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(Z,ie,ne){let G=this.getSelectedLines(ne);if(G.length>0){let W=(0,r.getParentFoldLine)(G[0],ie);W!==null&&ne.setSelection({startLineNumber:W,startColumn:1,endLineNumber:W,endColumn:1})}}}class K extends m{constructor(){super({id:"editor.gotoPreviousFold",label:s.localize(13,null),alias:"Go to Previous Folding Range",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(Z,ie,ne){let G=this.getSelectedLines(ne);if(G.length>0){let W=(0,r.getPreviousFoldLine)(G[0],ie);W!==null&&ne.setSelection({startLineNumber:W,startColumn:1,endLineNumber:W,endColumn:1})}}}class Y extends m{constructor(){super({id:"editor.gotoNextFold",label:s.localize(14,null),alias:"Go to Next Folding Range",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(Z,ie,ne){let G=this.getSelectedLines(ne);if(G.length>0){let W=(0,r.getNextFoldLine)(G[0],ie);W!==null&&ne.setSelection({startLineNumber:W,startColumn:1,endLineNumber:W,endColumn:1})}}}(0,h.registerEditorContribution)(v.ID,v),(0,h.registerEditorAction)(L),(0,h.registerEditorAction)(w),(0,h.registerEditorAction)(k),(0,h.registerEditorAction)(M),(0,h.registerEditorAction)(E),(0,h.registerEditorAction)(B),(0,h.registerEditorAction)(O),(0,h.registerEditorAction)(F),(0,h.registerEditorAction)(R),(0,h.registerEditorAction)(A),(0,h.registerEditorAction)(P),(0,h.registerEditorAction)(D),(0,h.registerEditorAction)(j),(0,h.registerEditorAction)(K),(0,h.registerEditorAction)(Y);for(let J=1;J<=7;J++)(0,h.registerInstantiatedEditorAction)(new V({id:V.ID(J),label:s.localize(15,null,J),alias:`Fold Level ${J}`,precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|21+J),weight:100}}));e.foldBackgroundBackground=(0,n.registerColor)("editor.foldBackground",{light:(0,n.transparent)(n.editorSelectionBackground,.3),dark:(0,n.transparent)(n.editorSelectionBackground,.3),hc:null},s.localize(16,null),!0),e.editorFoldForeground=(0,n.registerColor)("editorGutter.foldingControlForeground",{dark:n.iconForeground,light:n.iconForeground,hc:n.iconForeground},s.localize(17,null)),(0,d.registerThemingParticipant)((J,Z)=>{const ie=J.getColor(e.foldBackgroundBackground);ie&&Z.addRule(`.monaco-editor .folded-background { background-color: ${ie}; }`);const ne=J.getColor(e.editorFoldForeground);ne&&Z.addRule(`
		.monaco-editor .cldr${d.ThemeIcon.asCSSSelector(u.foldingExpandedIcon)},
		.monaco-editor .cldr${d.ThemeIcon.asCSSSelector(u.foldingCollapsedIcon)} {
			color: ${ne} !important;
		}
		`)})}),define(ee[697],te([0,1,10,23,29,2,3,263,286,428,624,12]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorHoverParticipant=e.ColorHover=void 0;class t{constructor(l,a,s,o){this.owner=l,this.range=a,this.model=s,this.provider=o,this.forceShowAtRange=!0}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}}e.ColorHover=t;let r=class{constructor(l,a,s){this._editor=l,this._hover=a,this._themeService=s}computeSync(l,a){return[]}computeAsync(l,a,s){return y.AsyncIterableObject.fromPromise(this._computeAsync(l,a,s))}_computeAsync(l,a,s){return Ae(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const o=p.ColorDetector.get(this._editor);for(const n of a){if(!o.isColorDecorationId(n.id))continue;const d=o.getColorData(n.range.getStartPosition());if(d)return[yield this._createColorHover(this._editor.getModel(),d.colorInfo,d.provider)]}return[]})}_createColorHover(l,a,s){return Ae(this,void 0,void 0,function*(){const o=l.getValueInRange(a.range),{red:n,green:d,blue:u,alpha:f}=a.color,S=new T.RGBA(Math.round(n*255),Math.round(d*255),Math.round(u*255),f),v=new T.Color(S),m=yield(0,C.getColorPresentations)(l,a,s,N.CancellationToken.None),_=new h.ColorPickerModel(v,[],0);return _.colorPresentations=m||[],_.guessColorPresentation(v,o),new t(this,b.Range.lift(a.range),_,s)})}renderHoverParts(l,a,s){if(l.length===0||!this._editor.hasModel())return I.Disposable.None;const o=new I.DisposableStore,n=l[0],d=this._editor.getModel(),u=n.model,f=o.add(new g.ColorPickerWidget(a,u,this._editor.getOption(128),this._themeService));let S=new b.Range(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn);const v=()=>{let _,L;if(u.presentation.textEdit){_=[u.presentation.textEdit],L=new b.Range(u.presentation.textEdit.range.startLineNumber,u.presentation.textEdit.range.startColumn,u.presentation.textEdit.range.endLineNumber,u.presentation.textEdit.range.endColumn);const w=this._editor.getModel()._setTrackedRange(null,L,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",_),L=this._editor.getModel()._getTrackedRange(w)||L}else _=[{identifier:null,range:S,text:u.presentation.label,forceMoveMarkers:!1}],L=S.setEndPosition(S.endLineNumber,S.startColumn+u.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",_);u.presentation.additionalTextEdits&&(_=[...u.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",_),this._hover.hide()),this._editor.pushUndoStop(),S=L},m=_=>(0,C.getColorPresentations)(d,{range:S,color:{red:_.rgba.r/255,green:_.rgba.g/255,blue:_.rgba.b/255,alpha:_.rgba.a}},n.provider,N.CancellationToken.None).then(L=>{u.colorPresentations=L||[]});return o.add(u.onColorFlushed(_=>{m(_).then(v)})),o.add(u.onDidChangeColor(m)),this._hover.setColorPicker(f),o}};r=Be([Ce(2,i.IThemeService)],r),e.ColorHoverParticipant=r}),define(ee[698],te([0,1,10,13,67,15,3,21,24,31,72,52,518,12,434]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let l=class Zt{constructor(n,d){this.decorationIds=[],this.editor=n,this.editorWorkerService=d}static get(n){return n.getContribution(Zt.ID)}dispose(){}run(n,d){this.currentRequest&&this.currentRequest.cancel();const u=this.editor.getSelection(),f=this.editor.getModel();if(!f||!u)return;let S=u;if(S.startLineNumber!==S.endLineNumber)return;const v=new T.EditorState(this.editor,1|4),m=f.uri;return this.editorWorkerService.canNavigateValueSet(m)?(this.currentRequest=(0,y.createCancelablePromise)(_=>this.editorWorkerService.navigateValueSet(m,S,d)),this.currentRequest.then(_=>{if(!_||!_.range||!_.value||!v.validate(this.editor))return;let L=b.Range.lift(_.range),w=_.range,k=_.value.length-(S.endColumn-S.startColumn);w={startLineNumber:w.startLineNumber,startColumn:w.startColumn,endLineNumber:w.endLineNumber,endColumn:w.startColumn+_.value.length},k>1&&(S=new C.Selection(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn+k-1));const D=new c.InPlaceReplaceCommand(L,S,_.value);this.editor.pushUndoStop(),this.editor.executeCommand(n,D),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:w,options:Zt.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,y.timeout)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(N.onUnexpectedError)}).catch(N.onUnexpectedError)):Promise.resolve(void 0)}};l.ID="editor.contrib.inPlaceReplaceController",l.DECORATION=h.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),l=Be([Ce(1,g.IEditorWorkerService)],l);class a extends I.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:t.localize(0,null),alias:"Replace with Previous Value",precondition:p.EditorContextKeys.writable,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(n,d){const u=l.get(d);return u?u.run(this.id,!0):Promise.resolve(void 0)}}class s extends I.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:t.localize(1,null),alias:"Replace with Next Value",precondition:p.EditorContextKeys.writable,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(n,d){const u=l.get(d);return u?u.run(this.id,!1):Promise.resolve(void 0)}}(0,I.registerEditorContribution)(l.ID,l),(0,I.registerEditorAction)(a),(0,I.registerEditorAction)(s),(0,r.registerThemingParticipant)((o,n)=>{const d=o.getColor(i.editorBracketMatchBorder);d&&n.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${d}; }`)})}),define(ee[699],te([0,1,2,8,15,194,59,3,21,24,31,39,43,243,519,75]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function a(D,M,O,F){if(D.getLineCount()===1&&D.getLineMaxColumn(1)===1)return[];const R=i.LanguageConfigurationRegistry.getIndentationRules(D.getLanguageId());if(!R)return[];for(O=Math.min(O,D.getLineCount());M<=O&&R.unIndentedLinePattern;){let ie=D.getLineContent(M);if(!R.unIndentedLinePattern.test(ie))break;M++}if(M>O-1)return[];const{tabSize:A,indentSize:P,insertSpaces:E}=D.getOptions(),B=(ie,ne)=>(ne=ne||1,I.ShiftCommand.shiftIndent(ie,ie.length+ne,A,P,E)),V=(ie,ne)=>(ne=ne||1,I.ShiftCommand.unshiftIndent(ie,ie.length+ne,A,P,E));let j=[],K,Y=D.getLineContent(M),J=Y;if(F!=null){K=F;let ie=N.getLeadingWhitespace(Y);J=K+Y.substring(ie.length),R.decreaseIndentPattern&&R.decreaseIndentPattern.test(J)&&(K=V(K),J=K+Y.substring(ie.length)),Y!==J&&j.push(b.EditOperation.replaceMove(new p.Selection(M,1,M,ie.length+1),g.TextModel.normalizeIndentation(K,P,E)))}else K=N.getLeadingWhitespace(Y);let Z=K;R.increaseIndentPattern&&R.increaseIndentPattern.test(J)?(Z=B(Z),K=B(K)):R.indentNextLinePattern&&R.indentNextLinePattern.test(J)&&(Z=B(Z)),M++;for(let ie=M;ie<=O;ie++){let ne=D.getLineContent(ie),G=N.getLeadingWhitespace(ne),W=Z+ne.substring(G.length);R.decreaseIndentPattern&&R.decreaseIndentPattern.test(W)&&(Z=V(Z),K=V(K)),G!==Z&&j.push(b.EditOperation.replaceMove(new p.Selection(ie,1,ie,G.length+1),g.TextModel.normalizeIndentation(Z,P,E))),!(R.unIndentedLinePattern&&R.unIndentedLinePattern.test(ne))&&(R.increaseIndentPattern&&R.increaseIndentPattern.test(W)?(K=B(K),Z=K):R.indentNextLinePattern&&R.indentNextLinePattern.test(W)?Z=B(Z):Z=K)}return j}e.getReindentEditOperations=a;class s extends T.EditorAction{constructor(){super({id:s.ID,label:c.localize(0,null),alias:"Convert Indentation to Spaces",precondition:h.EditorContextKeys.writable})}run(M,O){let F=O.getModel();if(!F)return;let R=F.getOptions(),A=O.getSelection();if(!A)return;const P=new w(A,R.tabSize);O.pushUndoStop(),O.executeCommands(this.id,[P]),O.pushUndoStop(),F.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=s,s.ID="editor.action.indentationToSpaces";class o extends T.EditorAction{constructor(){super({id:o.ID,label:c.localize(1,null),alias:"Convert Indentation to Tabs",precondition:h.EditorContextKeys.writable})}run(M,O){let F=O.getModel();if(!F)return;let R=F.getOptions(),A=O.getSelection();if(!A)return;const P=new k(A,R.tabSize);O.pushUndoStop(),O.executeCommands(this.id,[P]),O.pushUndoStop(),F.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=o,o.ID="editor.action.indentationToTabs";class n extends T.EditorAction{constructor(M,O){super(O);this.insertSpaces=M}run(M,O){const F=M.get(l.IQuickInputService),R=M.get(t.IModelService);let A=O.getModel();if(!A)return;const P=R.getCreationOptions(A.getLanguageId(),A.uri,A.isForSimpleWidget),E=[1,2,3,4,5,6,7,8].map(V=>({id:V.toString(),label:V.toString(),description:V===P.tabSize?c.localize(2,null):void 0})),B=Math.min(A.getOptions().tabSize-1,7);setTimeout(()=>{F.pick(E,{placeHolder:c.localize(3,null),activeItem:E[B]}).then(V=>{V&&A&&!A.isDisposed()&&A.updateOptions({tabSize:parseInt(V.label,10),insertSpaces:this.insertSpaces})})},50)}}e.ChangeIndentationSizeAction=n;class d extends n{constructor(){super(!1,{id:d.ID,label:c.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=d,d.ID="editor.action.indentUsingTabs";class u extends n{constructor(){super(!0,{id:u.ID,label:c.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=u,u.ID="editor.action.indentUsingSpaces";class f extends T.EditorAction{constructor(){super({id:f.ID,label:c.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(M,O){const F=M.get(t.IModelService);let R=O.getModel();if(!R)return;const A=F.getCreationOptions(R.getLanguageId(),R.uri,R.isForSimpleWidget);R.detectIndentation(A.insertSpaces,A.tabSize)}}e.DetectIndentation=f,f.ID="editor.action.detectIndentation";class S extends T.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:c.localize(7,null),alias:"Reindent Lines",precondition:h.EditorContextKeys.writable})}run(M,O){let F=O.getModel();if(!F)return;let R=a(F,1,F.getLineCount());R.length>0&&(O.pushUndoStop(),O.executeEdits(this.id,R),O.pushUndoStop())}}e.ReindentLinesAction=S;class v extends T.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:c.localize(8,null),alias:"Reindent Selected Lines",precondition:h.EditorContextKeys.writable})}run(M,O){let F=O.getModel();if(!F)return;let R=O.getSelections();if(R===null)return;let A=[];for(let P of R){let E=P.startLineNumber,B=P.endLineNumber;if(E!==B&&P.endColumn===1&&B--,E===1){if(E===B)continue}else E--;let V=a(F,E,B);A.push(...V)}A.length>0&&(O.pushUndoStop(),O.executeEdits(this.id,A),O.pushUndoStop())}}e.ReindentSelectedLinesAction=v;class m{constructor(M,O){this._initialSelection=O,this._edits=[],this._selectionId=null;for(let F of M)F.range&&typeof F.text=="string"&&this._edits.push(F)}getEditOperations(M,O){for(let R of this._edits)O.addEditOperation(C.Range.lift(R.range),R.text);let F=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(F=!0,this._selectionId=O.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(F=!0,this._selectionId=O.trackSelection(this._initialSelection,!1))),F||(this._selectionId=O.trackSelection(this._initialSelection))}computeCursorState(M,O){return O.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=m;class _{constructor(M){this.callOnDispose=new y.DisposableStore,this.callOnModel=new y.DisposableStore,this.editor=M,this.callOnDispose.add(M.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(M.onDidChangeModel(()=>this.update())),this.callOnDispose.add(M.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(47))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:M})=>{this.trigger(M)})))}trigger(M){let O=this.editor.getSelections();if(O===null||O.length>1)return;const F=this.editor.getModel();if(!F||!F.isCheapToTokenize(M.getStartPosition().lineNumber))return;const R=this.editor.getOption(9),{tabSize:A,indentSize:P,insertSpaces:E}=F.getOptions();let B=[],V={shiftIndent:J=>I.ShiftCommand.shiftIndent(J,J.length+1,A,P,E),unshiftIndent:J=>I.ShiftCommand.unshiftIndent(J,J.length+1,A,P,E)},j=M.startLineNumber;for(;j<=M.endLineNumber;){if(this.shouldIgnoreLine(F,j)){j++;continue}break}if(j>M.endLineNumber)return;let K=F.getLineContent(j);if(!/\S/.test(K.substring(0,M.startColumn-1))){const J=i.LanguageConfigurationRegistry.getGoodIndentForLine(R,F,F.getLanguageId(),j,V);if(J!==null){let Z=N.getLeadingWhitespace(K),ie=r.getSpaceCnt(J,A),ne=r.getSpaceCnt(Z,A);if(ie!==ne){let G=r.generateIndent(ie,A,E);B.push({range:new C.Range(j,1,j,Z.length+1),text:G}),K=G+K.substr(Z.length)}else{let G=i.LanguageConfigurationRegistry.getIndentMetadata(F,j);if(G===0||G===8)return}}}const Y=j;for(;j<M.endLineNumber;){if(!/\S/.test(F.getLineContent(j+1))){j++;continue}break}if(j!==M.endLineNumber){let J={getLineTokens:ie=>F.getLineTokens(ie),getLanguageId:()=>F.getLanguageId(),getLanguageIdAtPosition:(ie,ne)=>F.getLanguageIdAtPosition(ie,ne),getLineContent:ie=>ie===Y?K:F.getLineContent(ie)},Z=i.LanguageConfigurationRegistry.getGoodIndentForLine(R,J,F.getLanguageId(),j+1,V);if(Z!==null){let ie=r.getSpaceCnt(Z,A),ne=r.getSpaceCnt(N.getLeadingWhitespace(F.getLineContent(j+1)),A);if(ie!==ne){let G=ie-ne;for(let W=j+1;W<=M.endLineNumber;W++){let z=F.getLineContent(W),U=N.getLeadingWhitespace(z),X=r.getSpaceCnt(U,A)+G,le=r.generateIndent(X,A,E);le!==U&&B.push({range:new C.Range(W,1,W,U.length+1),text:le})}}}}if(B.length>0){this.editor.pushUndoStop();let J=new m(B,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",J),this.editor.pushUndoStop()}}shouldIgnoreLine(M,O){M.forceTokenization(O);let F=M.getLineFirstNonWhitespaceColumn(O);if(F===0)return!0;let R=M.getLineTokens(O);if(R.getCount()>0){let A=R.findTokenIndexAtOffset(F);if(A>=0&&R.getStandardTokenType(A)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}e.AutoIndentOnPaste=_,_.ID="editor.contrib.autoIndentOnPaste";function L(D,M,O,F){if(D.getLineCount()===1&&D.getLineMaxColumn(1)===1)return;let R="";for(let P=0;P<O;P++)R+=" ";let A=new RegExp(R,"gi");for(let P=1,E=D.getLineCount();P<=E;P++){let B=D.getLineFirstNonWhitespaceColumn(P);if(B===0&&(B=D.getLineMaxColumn(P)),B===1)continue;const V=new C.Range(P,1,P,B),j=D.getValueInRange(V),K=F?j.replace(/\t/ig,R):j.replace(A,"	");M.addEditOperation(V,K)}}class w{constructor(M,O){this.selection=M,this.tabSize=O,this.selectionId=null}getEditOperations(M,O){this.selectionId=O.trackSelection(this.selection),L(M,O,this.tabSize,!0)}computeCursorState(M,O){return O.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=w;class k{constructor(M,O){this.selection=M,this.tabSize=O,this.selectionId=null}getEditOperations(M,O){this.selectionId=O.trackSelection(this.selection),L(M,O,this.tabSize,!1)}computeCursorState(M,O){return O.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=k,(0,T.registerEditorContribution)(_.ID,_),(0,T.registerEditorAction)(s),(0,T.registerEditorAction)(o),(0,T.registerEditorAction)(d),(0,T.registerEditorAction)(u),(0,T.registerEditorAction)(f),(0,T.registerEditorAction)(S),(0,T.registerEditorAction)(v)}),define(ee[200],te([0,1,10,23,13,4,2,8,159,59,3,18,183,26,244,184]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.minimizeInlineCompletion=e.provideInlineCompletions=e.SynchronizedInlineCompletionsCache=e.UpdateOperation=e.InlineCompletionsSession=e.InlineCompletionsModel=void 0;let a=class extends b.Disposable{constructor(m,_,L){super();this.editor=m,this.cache=_,this.commandService=L,this.onDidChangeEmitter=new I.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new b.MutableDisposable),this.active=!1,this.disposed=!1,this._register(L.onDidExecuteCommand(w=>{new Set([p.CoreEditingCommands.Tab.id,p.CoreEditingCommands.DeleteLeft.id,p.CoreEditingCommands.DeleteRight.id,c.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(w.commandId)&&m.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(w=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(w=>{this.session&&!this.session.isValid&&this.hide()})),this._register((0,b.toDisposable)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var m;return(m=this.session)===null||m===void 0?void 0:m.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(m){var _;(_=this.session)===null||_===void 0||_.setExpanded(m)}setActive(m){var _;this.active=m,m&&((_=this.session)===null||_===void 0||_.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(54).enabled||this.session&&this.session.isValid||this.trigger(i.InlineCompletionTriggerKind.Automatic)}trigger(m){if(this.completionSession.value){m===i.InlineCompletionTriggerKind.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new s(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,m),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var m;(m=this.session)===null||m===void 0||m.commitCurrentCompletion()}showNext(){var m;(m=this.session)===null||m===void 0||m.showNextInlineCompletion()}showPrevious(){var m;(m=this.session)===null||m===void 0||m.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var m;return Ae(this,void 0,void 0,function*(){const _=yield(m=this.session)===null||m===void 0?void 0:m.hasMultipleInlineCompletions();return _!==void 0?_:!1})}};a=Be([Ce(2,r.ICommandService)],a),e.InlineCompletionsModel=a;class s extends t.BaseGhostTextWidgetModel{constructor(m,_,L,w,k,D){super(m);this.triggerPosition=_,this.shouldUpdate=L,this.commandService=w,this.cache=k,this.initialTriggerKind=D,this.minReservedLineCount=0,this.updateOperation=this._register(new b.MutableDisposable),this.updateSoon=this._register(new y.RunOnceScheduler(()=>{let O=this.initialTriggerKind;return this.initialTriggerKind=i.InlineCompletionTriggerKind.Automatic,this.update(O)},50)),this.currentlySelectedCompletionId=void 0;let M;this._register(this.onDidChange(()=>{const O=this.currentCompletion;if(O&&O.sourceInlineCompletion!==M){M=O.sourceInlineCompletion;const F=O.sourceProvider;F.handleItemDidShow&&F.handleItemDidShow(O.sourceInlineCompletions,M)}})),this._register((0,b.toDisposable)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(O=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(O=>{this.scheduleAutomaticUpdate()})),this._register(i.InlineCompletionsProviderRegistry.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const m=this.cache.value.completions.findIndex(_=>_.semanticId===this.currentlySelectedCompletionId);return m===-1?(this.currentlySelectedCompletionId=void 0,0):m}get currentCachedCompletion(){if(!!this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var m;return Ae(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const _=((m=this.cache.value)===null||m===void 0?void 0:m.completions)||[];if(_.length>0){const L=(this.fixAndGetIndexOfCurrentSelection()+1)%_.length;this.currentlySelectedCompletionId=_[L].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var m;return Ae(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const _=((m=this.cache.value)===null||m===void 0?void 0:m.completions)||[];if(_.length>0){const L=(this.fixAndGetIndexOfCurrentSelection()+_.length-1)%_.length;this.currentlySelectedCompletionId=_[L].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var m;return Ae(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===i.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(i.InlineCompletionTriggerKind.Explicit):((m=this.cache.value)===null||m===void 0?void 0:m.triggerKind)!==i.InlineCompletionTriggerKind.Explicit&&(yield this.update(i.InlineCompletionTriggerKind.Explicit))})}hasMultipleInlineCompletions(){var m;return Ae(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((m=this.cache.value)===null||m===void 0?void 0:m.completions.length)||0)>1})}get ghostText(){const m=this.currentCompletion,_=this.editor.getOptions().get(54).mode;return m?(0,l.inlineCompletionToGhostText)(m,this.editor.getModel(),_,this.editor.getPosition()):void 0}get currentCompletion(){const m=this.currentCachedCompletion;if(!!m)return m.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(m){return Ae(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const _=this.editor.getPosition(),L=(0,y.createCancelablePromise)(k=>Ae(this,void 0,void 0,function*(){let D;try{D=yield f(_,this.editor.getModel(),{triggerKind:m,selectedSuggestionInfo:void 0},k)}catch(M){(0,T.onUnexpectedError)(M);return}k.isCancellationRequested||(this.cache.setValue(this.editor,D,m),this.onDidChangeEmitter.fire())})),w=new o(L,m);this.updateOperation.value=w,yield L,this.updateOperation.value===w&&this.updateOperation.clear()})}takeOwnership(m){this._register(m)}commitCurrentCompletion(){if(!this.ghostText)return;const m=this.currentCompletion;m&&this.commit(m)}commit(m){const _=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[h.EditOperation.replaceMove(m.range,m.text)]),m.command?this.commandService.executeCommand(m.command.id,...m.command.arguments||[]).finally(()=>{_==null||_.dispose()}).then(void 0,T.onUnexpectedExternalError):_==null||_.dispose(),this.onDidChangeEmitter.fire()}}e.InlineCompletionsSession=s;class o{constructor(m,_){this.promise=m,this.triggerKind=_}dispose(){this.promise.cancel()}}e.UpdateOperation=o;class n extends b.Disposable{constructor(m,_,L,w){super();this.triggerKind=w;const k=m.deltaDecorations([],_.items.map(D=>({range:D.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,b.toDisposable)(()=>{m.deltaDecorations(k,[])})),this.completions=_.items.map((D,M)=>new d(D,k[M])),this._register(m.onDidChangeModelContent(()=>{let D=!1;const M=m.getModel();for(const O of this.completions){const F=M.getDecorationRange(O.decorationId);if(!F){(0,T.onUnexpectedError)(new Error("Decoration has no range"));continue}O.synchronizedRange.equalsRange(F)||(D=!0,O.synchronizedRange=F)}D&&L()})),this._register(_)}}e.SynchronizedInlineCompletionsCache=n;class d{constructor(m,_){this.inlineCompletion=m,this.decorationId=_,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=m.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function u(v,m){const _=m.getWordAtPosition(v),L=m.getLineMaxColumn(v.lineNumber);return _?new g.Range(v.lineNumber,_.startColumn,v.lineNumber,L):g.Range.fromPositions(v,v.with(void 0,L))}function f(v,m,_,L=N.CancellationToken.None){return Ae(this,void 0,void 0,function*(){const w=u(v,m),k=i.InlineCompletionsProviderRegistry.all(m),D=yield Promise.all(k.map(O=>Ae(this,void 0,void 0,function*(){const F=yield O.provideInlineCompletions(m,v,_,L);return{completions:F,provider:O,dispose:()=>{F&&O.freeInlineCompletions(F)}}}))),M=new Map;for(const O of D){const F=O.completions;if(F)for(const R of F.items.map(A=>({text:A.text,range:A.range?g.Range.lift(A.range):w,command:A.command,sourceProvider:O.provider,sourceInlineCompletions:F,sourceInlineCompletion:A})))R.range.startLineNumber===R.range.endLineNumber&&M.set(JSON.stringify({text:R.text,range:R.range}),R)}return{items:[...M.values()],dispose:()=>{for(const O of D)O.dispose()}}})}e.provideInlineCompletions=f;function S(v,m){if(!m)return m;const _=v.getValueInRange(m.range),L=(0,C.commonPrefixLength)(_,m.text),w=v.getOffsetAt(m.range.getStartPosition())+L,k=v.getPositionAt(w),D=_.substr(L),M=(0,C.commonSuffixLength)(D,m.text),O=v.getPositionAt(Math.max(w,v.getOffsetAt(m.range.getEndPosition())-M));return{range:g.Range.fromPositions(k,O),text:m.text.substr(L,m.text.length-L-M)}}e.minimizeInlineCompletion=S}),define(ee[700],te([0,1,15,199,24,522]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class b extends y.EditorAction{constructor(){super({id:"expandLineSelection",label:I.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:T.EditorContextKeys.textInputFocus,primary:2048|42}})}run(p,h,g){if(g=g||{},!h.hasModel())return;const i=h._getViewModel();i.model.pushStackElement(),i.setCursorStates(g.source,3,N.CursorMoveCommands.expandLineSelection(i,i.getCursorStates())),i.revealPrimaryCursor(g.source,!0)}}e.ExpandLineSelectionAction=b,(0,y.registerEditorAction)(b)}),define(ee[701],te([0,1,8,194,3,21,115,39,243]),function(q,e,y,N,T,I,b,C,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;class h{constructor(i,t,r){this._selection=i,this._isMovingDown=t,this._autoIndent=r,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(i,t){let r=i.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===r){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let c=this._selection;c.startLineNumber<c.endLineNumber&&c.endColumn===1&&(this._moveEndPositionDown=!0,c=c.setEndPosition(c.endLineNumber-1,i.getLineMaxColumn(c.endLineNumber-1)));const{tabSize:l,indentSize:a,insertSpaces:s}=i.getOptions();let o=this.buildIndentConverter(l,a,s),n={getLineTokens:d=>i.getLineTokens(d),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(d,u)=>i.getLanguageIdAtPosition(d,u),getLineContent:null};if(c.startLineNumber===c.endLineNumber&&i.getLineMaxColumn(c.startLineNumber)===1){let d=c.startLineNumber,u=this._isMovingDown?d+1:d-1;i.getLineMaxColumn(u)===1?t.addEditOperation(new T.Range(1,1,1,1),null):(t.addEditOperation(new T.Range(d,1,d,1),i.getLineContent(u)),t.addEditOperation(new T.Range(u,1,u,i.getLineMaxColumn(u)),null)),c=new I.Selection(u,1,u,1)}else{let d,u;if(this._isMovingDown){d=c.endLineNumber+1,u=i.getLineContent(d),t.addEditOperation(new T.Range(d-1,i.getLineMaxColumn(d-1),d,i.getLineMaxColumn(d)),null);let f=u;if(this.shouldAutoIndent(i,c)){let S=this.matchEnterRule(i,o,l,d,c.startLineNumber-1);if(S!==null){let m=y.getLeadingWhitespace(i.getLineContent(d)),_=S+p.getSpaceCnt(m,l);f=p.generateIndent(_,l,s)+this.trimLeft(u)}else{n.getLineContent=_=>_===c.startLineNumber?i.getLineContent(d):i.getLineContent(_);let m=C.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,n,i.getLanguageIdAtPosition(d,1),c.startLineNumber,o);if(m!==null){let _=y.getLeadingWhitespace(i.getLineContent(d)),L=p.getSpaceCnt(m,l),w=p.getSpaceCnt(_,l);L!==w&&(f=p.generateIndent(L,l,s)+this.trimLeft(u))}}t.addEditOperation(new T.Range(c.startLineNumber,1,c.startLineNumber,1),f+`
`);let v=this.matchEnterRuleMovingDown(i,o,l,c.startLineNumber,d,f);if(v!==null)v!==0&&this.getIndentEditsOfMovingBlock(i,t,c,l,s,v);else{n.getLineContent=_=>_===c.startLineNumber?f:_>=c.startLineNumber+1&&_<=c.endLineNumber+1?i.getLineContent(_-1):i.getLineContent(_);let m=C.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,n,i.getLanguageIdAtPosition(d,1),c.startLineNumber+1,o);if(m!==null){const _=y.getLeadingWhitespace(i.getLineContent(c.startLineNumber)),L=p.getSpaceCnt(m,l),w=p.getSpaceCnt(_,l);if(L!==w){const k=L-w;this.getIndentEditsOfMovingBlock(i,t,c,l,s,k)}}}}else t.addEditOperation(new T.Range(c.startLineNumber,1,c.startLineNumber,1),f+`
`)}else if(d=c.startLineNumber-1,u=i.getLineContent(d),t.addEditOperation(new T.Range(d,1,d+1,1),null),t.addEditOperation(new T.Range(c.endLineNumber,i.getLineMaxColumn(c.endLineNumber),c.endLineNumber,i.getLineMaxColumn(c.endLineNumber)),`
`+u),this.shouldAutoIndent(i,c)){n.getLineContent=S=>S===d?i.getLineContent(c.startLineNumber):i.getLineContent(S);let f=this.matchEnterRule(i,o,l,c.startLineNumber,c.startLineNumber-2);if(f!==null)f!==0&&this.getIndentEditsOfMovingBlock(i,t,c,l,s,f);else{let S=C.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,n,i.getLanguageIdAtPosition(c.startLineNumber,1),d,o);if(S!==null){let v=y.getLeadingWhitespace(i.getLineContent(c.startLineNumber)),m=p.getSpaceCnt(S,l),_=p.getSpaceCnt(v,l);if(m!==_){let L=m-_;this.getIndentEditsOfMovingBlock(i,t,c,l,s,L)}}}}}this._selectionId=t.trackSelection(c)}buildIndentConverter(i,t,r){return{shiftIndent:c=>N.ShiftCommand.shiftIndent(c,c.length+1,i,t,r),unshiftIndent:c=>N.ShiftCommand.unshiftIndent(c,c.length+1,i,t,r)}}parseEnterResult(i,t,r,c,l){if(l){let a=l.indentation;l.indentAction===b.IndentAction.None||l.indentAction===b.IndentAction.Indent?a=l.indentation+l.appendText:l.indentAction===b.IndentAction.IndentOutdent?a=l.indentation:l.indentAction===b.IndentAction.Outdent&&(a=t.unshiftIndent(l.indentation)+l.appendText);let s=i.getLineContent(c);if(this.trimLeft(s).indexOf(this.trimLeft(a))>=0){let o=y.getLeadingWhitespace(i.getLineContent(c)),n=y.getLeadingWhitespace(a),d=C.LanguageConfigurationRegistry.getIndentMetadata(i,c);d!==null&&d&2&&(n=t.unshiftIndent(n));let u=p.getSpaceCnt(n,r),f=p.getSpaceCnt(o,r);return u-f}}return null}matchEnterRuleMovingDown(i,t,r,c,l,a){if(y.lastNonWhitespaceIndex(a)>=0){let s=i.getLineMaxColumn(l),o=C.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,i,new T.Range(l,s,l,s));return this.parseEnterResult(i,t,r,c,o)}else{let s=c-1;for(;s>=1;){let d=i.getLineContent(s);if(y.lastNonWhitespaceIndex(d)>=0)break;s--}if(s<1||c>i.getLineCount())return null;let o=i.getLineMaxColumn(s),n=C.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,i,new T.Range(s,o,s,o));return this.parseEnterResult(i,t,r,c,n)}}matchEnterRule(i,t,r,c,l,a){let s=l;for(;s>=1;){let d;if(s===l&&a!==void 0?d=a:d=i.getLineContent(s),y.lastNonWhitespaceIndex(d)>=0)break;s--}if(s<1||c>i.getLineCount())return null;let o=i.getLineMaxColumn(s),n=C.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,i,new T.Range(s,o,s,o));return this.parseEnterResult(i,t,r,c,n)}trimLeft(i){return i.replace(/^\s+/,"")}shouldAutoIndent(i,t){if(this._autoIndent<4||!i.isCheapToTokenize(t.startLineNumber))return!1;let r=i.getLanguageIdAtPosition(t.startLineNumber,1),c=i.getLanguageIdAtPosition(t.endLineNumber,1);return!(r!==c||C.LanguageConfigurationRegistry.getIndentRulesSupport(r)===null)}getIndentEditsOfMovingBlock(i,t,r,c,l,a){for(let s=r.startLineNumber;s<=r.endLineNumber;s++){let o=i.getLineContent(s),n=y.getLeadingWhitespace(o),u=p.getSpaceCnt(n,c)+a,f=p.generateIndent(u,c,l);f!==n&&(t.addEditOperation(new T.Range(s,1,s,n.length+1),f),s===r.endLineNumber&&r.endColumn<=n.length+1&&f===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(i,t){let r=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(r=r.setEndPosition(r.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&r.startLineNumber<r.endLineNumber&&(r=r.setEndPosition(r.endLineNumber,2)),r}}e.MoveLinesCommand=h}),define(ee[702],te([0,1,56,159,15,98,392,198,59,14,3,21,24,435,701,436,523,36]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class o extends T.EditorAction{constructor(G,W){super(W);this.down=G}run(G,W){if(!W.hasModel())return;const z=W.getSelections().map((X,le)=>({selection:X,index:le,ignore:!1}));z.sort((X,le)=>g.Range.compareRangesUsingStarts(X.selection,le.selection));let U=z[0];for(let X=1;X<z.length;X++){const le=z[X];U.selection.endLineNumber===le.selection.startLineNumber&&(U.index<le.index?le.ignore=!0:(U.ignore=!0,U=le))}const x=[];for(const X of z)x.push(new r.CopyLinesCommand(X.selection,this.down,X.ignore));W.pushUndoStop(),W.executeCommands(this.id,x),W.pushUndoStop()}}class n extends o{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:a.localize(0,null),alias:"Copy Line Up",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"2_line",title:a.localize(1,null),order:1}})}}class d extends o{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:a.localize(2,null),alias:"Copy Line Down",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"2_line",title:a.localize(3,null),order:2}})}}class u extends T.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:a.localize(4,null),alias:"Duplicate Selection",precondition:t.EditorContextKeys.writable,menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"2_line",title:a.localize(5,null),order:5}})}run(G,W,z){if(!W.hasModel())return;const U=[],x=W.getSelections(),X=W.getModel();for(const le of x)if(le.isEmpty())U.push(new r.CopyLinesCommand(le,!0));else{const fe=new i.Selection(le.endLineNumber,le.endColumn,le.endLineNumber,le.endColumn);U.push(new I.ReplaceCommandThatSelectsText(fe,X.getValueInRange(le)))}W.pushUndoStop(),W.executeCommands(this.id,U),W.pushUndoStop()}}e.DuplicateSelectionAction=u;class f extends T.EditorAction{constructor(G,W){super(W);this.down=G}run(G,W){let z=[],U=W.getSelections()||[];const x=W.getOption(9);for(const X of U)z.push(new c.MoveLinesCommand(X,this.down,x));W.pushUndoStop(),W.executeCommands(this.id,z),W.pushUndoStop()}}class S extends f{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:a.localize(6,null),alias:"Move Line Up",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"2_line",title:a.localize(7,null),order:3}})}}class v extends f{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:a.localize(8,null),alias:"Move Line Down",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"2_line",title:a.localize(9,null),order:4}})}}class m extends T.EditorAction{constructor(G,W){super(W);this.descending=G}run(G,W){const z=W.getSelections()||[];for(const x of z)if(!l.SortLinesCommand.canRun(W.getModel(),x,this.descending))return;let U=[];for(let x=0,X=z.length;x<X;x++)U[x]=new l.SortLinesCommand(z[x],this.descending);W.pushUndoStop(),W.executeCommands(this.id,U),W.pushUndoStop()}}e.AbstractSortLinesAction=m;class _ extends m{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:a.localize(10,null),alias:"Sort Lines Ascending",precondition:t.EditorContextKeys.writable})}}e.SortLinesAscendingAction=_;class L extends m{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:a.localize(11,null),alias:"Sort Lines Descending",precondition:t.EditorContextKeys.writable})}}e.SortLinesDescendingAction=L;class w extends T.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:a.localize(12,null),alias:"Delete Duplicate Lines",precondition:t.EditorContextKeys.writable})}run(G,W){if(!W.hasModel())return;let z=W.getModel();if(z.getLineCount()===1&&z.getLineMaxColumn(1)===1)return;let U=[],x=[],X=0;for(let le of W.getSelections()){let fe=new Set,$=[];for(let ce=le.startLineNumber;ce<=le.endLineNumber;ce++){let oe=z.getLineContent(ce);fe.has(oe)||($.push(oe),fe.add(oe))}let H=new i.Selection(le.startLineNumber,1,le.endLineNumber,z.getLineMaxColumn(le.endLineNumber)),Q=le.startLineNumber-X,re=new i.Selection(Q,1,Q+$.length-1,$[$.length-1].length);U.push(p.EditOperation.replace(H,$.join(`
`))),x.push(re),X+=le.endLineNumber-le.startLineNumber+1-$.length}W.pushUndoStop(),W.executeEdits(this.id,U,x),W.pushUndoStop()}}e.DeleteDuplicateLinesAction=w;class k extends T.EditorAction{constructor(){super({id:k.ID,label:a.localize(13,null),alias:"Trim Trailing Whitespace",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|54),weight:100}})}run(G,W,z){let U=[];z.reason==="auto-save"&&(U=(W.getSelections()||[]).map(le=>new h.Position(le.positionLineNumber,le.positionColumn)));let x=W.getSelection();if(x===null)return;let X=new b.TrimTrailingWhitespaceCommand(x,U);W.pushUndoStop(),W.executeCommands(this.id,[X]),W.pushUndoStop()}}e.TrimTrailingWhitespaceAction=k,k.ID="editor.action.trimTrailingWhitespace";class D extends T.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:a.localize(14,null),alias:"Delete Line",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(G,W){if(!W.hasModel())return;let z=this._getLinesToRemove(W),U=W.getModel();if(U.getLineCount()===1&&U.getLineMaxColumn(1)===1)return;let x=0,X=[],le=[];for(let fe=0,$=z.length;fe<$;fe++){const H=z[fe];let Q=H.startLineNumber,re=H.endLineNumber,ce=1,oe=U.getLineMaxColumn(re);re<U.getLineCount()?(re+=1,oe=1):Q>1&&(Q-=1,ce=U.getLineMaxColumn(Q)),X.push(p.EditOperation.replace(new i.Selection(Q,ce,re,oe),"")),le.push(new i.Selection(Q-x,H.positionColumn,Q-x,H.positionColumn)),x+=H.endLineNumber-H.startLineNumber+1}W.pushUndoStop(),W.executeEdits(this.id,X,le),W.pushUndoStop()}_getLinesToRemove(G){let W=G.getSelections().map(x=>{let X=x.endLineNumber;return x.startLineNumber<x.endLineNumber&&x.endColumn===1&&(X-=1),{startLineNumber:x.startLineNumber,selectionStartColumn:x.selectionStartColumn,endLineNumber:X,positionColumn:x.positionColumn}});W.sort((x,X)=>x.startLineNumber===X.startLineNumber?x.endLineNumber-X.endLineNumber:x.startLineNumber-X.startLineNumber);let z=[],U=W[0];for(let x=1;x<W.length;x++)U.endLineNumber+1>=W[x].startLineNumber?U.endLineNumber=W[x].endLineNumber:(z.push(U),U=W[x]);return z.push(U),z}}e.DeleteLinesAction=D;class M extends T.EditorAction{constructor(){super({id:"editor.action.indentLines",label:a.localize(15,null),alias:"Indent Line",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(G,W){const z=W._getViewModel();!z||(W.pushUndoStop(),W.executeCommands(this.id,C.TypeOperations.indent(z.cursorConfig,W.getModel(),W.getSelections())),W.pushUndoStop())}}e.IndentLinesAction=M;class O extends T.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:a.localize(16,null),alias:"Outdent Line",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(G,W){N.CoreEditingCommands.Outdent.runEditorCommand(G,W,null)}}class F extends T.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:a.localize(17,null),alias:"Insert Line Above",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(G,W){const z=W._getViewModel();!z||(W.pushUndoStop(),W.executeCommands(this.id,C.TypeOperations.lineInsertBefore(z.cursorConfig,W.getModel(),W.getSelections())))}}e.InsertLineBeforeAction=F;class R extends T.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:a.localize(18,null),alias:"Insert Line Below",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(G,W){const z=W._getViewModel();!z||(W.pushUndoStop(),W.executeCommands(this.id,C.TypeOperations.lineInsertAfter(z.cursorConfig,W.getModel(),W.getSelections())))}}e.InsertLineAfterAction=R;class A extends T.EditorAction{run(G,W){if(!W.hasModel())return;const z=W.getSelection();let U=this._getRangesToDelete(W),x=[];for(let fe=0,$=U.length-1;fe<$;fe++){let H=U[fe],Q=U[fe+1];g.Range.intersectRanges(H,Q)===null?x.push(H):U[fe+1]=g.Range.plusRange(H,Q)}x.push(U[U.length-1]);let X=this._getEndCursorState(z,x),le=x.map(fe=>p.EditOperation.replace(fe,""));W.pushUndoStop(),W.executeEdits(this.id,le,X),W.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=A;class P extends A{constructor(){super({id:"deleteAllLeft",label:a.localize(19,null),alias:"Delete All Left",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(G,W){let z=null,U=[],x=0;return W.forEach(X=>{let le;if(X.endColumn===1&&x>0){let fe=X.startLineNumber-x;le=new i.Selection(fe,X.startColumn,fe,X.startColumn)}else le=new i.Selection(X.startLineNumber,X.startColumn,X.startLineNumber,X.startColumn);x+=X.endLineNumber-X.startLineNumber,X.intersectRanges(G)?z=le:U.push(le)}),z&&U.unshift(z),U}_getRangesToDelete(G){let W=G.getSelections();if(W===null)return[];let z=W,U=G.getModel();return U===null?[]:(z.sort(g.Range.compareRangesUsingStarts),z=z.map(x=>{if(x.isEmpty())if(x.startColumn===1){let X=Math.max(1,x.startLineNumber-1),le=x.startLineNumber===1?1:U.getLineContent(X).length+1;return new g.Range(X,le,x.startLineNumber,1)}else return new g.Range(x.startLineNumber,1,x.startLineNumber,x.startColumn);else return new g.Range(x.startLineNumber,1,x.endLineNumber,x.endColumn)}),z)}}e.DeleteAllLeftAction=P;class E extends A{constructor(){super({id:"deleteAllRight",label:a.localize(20,null),alias:"Delete All Right",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(G,W){let z=null,U=[];for(let x=0,X=W.length,le=0;x<X;x++){let fe=W[x],$=new i.Selection(fe.startLineNumber-le,fe.startColumn,fe.startLineNumber-le,fe.startColumn);fe.intersectRanges(G)?z=$:U.push($)}return z&&U.unshift(z),U}_getRangesToDelete(G){let W=G.getModel();if(W===null)return[];let z=G.getSelections();if(z===null)return[];let U=z.map(x=>{if(x.isEmpty()){const X=W.getLineMaxColumn(x.startLineNumber);return x.startColumn===X?new g.Range(x.startLineNumber,x.startColumn,x.startLineNumber+1,1):new g.Range(x.startLineNumber,x.startColumn,x.startLineNumber,X)}return x});return U.sort(g.Range.compareRangesUsingStarts),U}}e.DeleteAllRightAction=E;class B extends T.EditorAction{constructor(){super({id:"editor.action.joinLines",label:a.localize(21,null),alias:"Join Lines",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(G,W){let z=W.getSelections();if(z===null)return;let U=W.getSelection();if(U===null)return;z.sort(g.Range.compareRangesUsingStarts);let x=[],X=z.reduce((re,ce)=>re.isEmpty()?re.endLineNumber===ce.startLineNumber?(U.equalsSelection(re)&&(U=ce),ce):ce.startLineNumber>re.endLineNumber+1?(x.push(re),ce):new i.Selection(re.startLineNumber,re.startColumn,ce.endLineNumber,ce.endColumn):ce.startLineNumber>re.endLineNumber?(x.push(re),ce):new i.Selection(re.startLineNumber,re.startColumn,ce.endLineNumber,ce.endColumn));x.push(X);let le=W.getModel();if(le===null)return;let fe=[],$=[],H=U,Q=0;for(let re=0,ce=x.length;re<ce;re++){let oe=x[re],de=oe.startLineNumber,pe=1,_e=0,se,ue,be=le.getLineContent(oe.endLineNumber).length-oe.endColumn;if(oe.isEmpty()||oe.startLineNumber===oe.endLineNumber){let ae=oe.getStartPosition();ae.lineNumber<le.getLineCount()?(se=de+1,ue=le.getLineMaxColumn(se)):(se=ae.lineNumber,ue=le.getLineMaxColumn(ae.lineNumber))}else se=oe.endLineNumber,ue=le.getLineMaxColumn(se);let ge=le.getLineContent(de);for(let ae=de+1;ae<=se;ae++){let he=le.getLineContent(ae),De=le.getLineFirstNonWhitespaceColumn(ae);if(De>=1){let ke=!0;ge===""&&(ke=!1),ke&&(ge.charAt(ge.length-1)===" "||ge.charAt(ge.length-1)==="	")&&(ke=!1,ge=ge.replace(/[\s\uFEFF\xA0]+$/g," "));let Ve=he.substr(De-1);ge+=(ke?" ":"")+Ve,ke?_e=Ve.length+1:_e=Ve.length}else _e=0}let Se=new g.Range(de,pe,se,ue);if(!Se.isEmpty()){let ae;oe.isEmpty()?(fe.push(p.EditOperation.replace(Se,ge)),ae=new i.Selection(Se.startLineNumber-Q,ge.length-_e+1,de-Q,ge.length-_e+1)):oe.startLineNumber===oe.endLineNumber?(fe.push(p.EditOperation.replace(Se,ge)),ae=new i.Selection(oe.startLineNumber-Q,oe.startColumn,oe.endLineNumber-Q,oe.endColumn)):(fe.push(p.EditOperation.replace(Se,ge)),ae=new i.Selection(oe.startLineNumber-Q,oe.startColumn,oe.startLineNumber-Q,ge.length-be)),g.Range.intersectRanges(Se,U)!==null?H=ae:$.push(ae)}Q+=Se.endLineNumber-Se.startLineNumber}$.unshift(H),W.pushUndoStop(),W.executeEdits(this.id,fe,$),W.pushUndoStop()}}e.JoinLinesAction=B;class V extends T.EditorAction{constructor(){super({id:"editor.action.transpose",label:a.localize(22,null),alias:"Transpose characters around the cursor",precondition:t.EditorContextKeys.writable})}run(G,W){let z=W.getSelections();if(z===null)return;let U=W.getModel();if(U===null)return;let x=[];for(let X=0,le=z.length;X<le;X++){let fe=z[X];if(!fe.isEmpty())continue;let $=fe.getStartPosition(),H=U.getLineMaxColumn($.lineNumber);if($.column>=H){if($.lineNumber===U.getLineCount())continue;let Q=new g.Range($.lineNumber,Math.max(1,$.column-1),$.lineNumber+1,1),re=U.getValueInRange(Q).split("").reverse().join("");x.push(new I.ReplaceCommand(new i.Selection($.lineNumber,Math.max(1,$.column-1),$.lineNumber+1,1),re))}else{let Q=new g.Range($.lineNumber,Math.max(1,$.column-1),$.lineNumber,$.column+1),re=U.getValueInRange(Q).split("").reverse().join("");x.push(new I.ReplaceCommandThatPreservesSelection(Q,re,new i.Selection($.lineNumber,$.column+1,$.lineNumber,$.column+1)))}}W.pushUndoStop(),W.executeCommands(this.id,x),W.pushUndoStop()}}e.TransposeAction=V;class j extends T.EditorAction{run(G,W){const z=W.getSelections();if(z===null)return;const U=W.getModel();if(U===null)return;const x=W.getOption(116),X=[];for(const le of z)if(le.isEmpty()){const fe=le.getStartPosition(),$=W.getConfiguredWordAtPosition(fe);if(!$)continue;const H=new g.Range(fe.lineNumber,$.startColumn,fe.lineNumber,$.endColumn),Q=U.getValueInRange(H);X.push(p.EditOperation.replace(H,this._modifyText(Q,x)))}else{const fe=U.getValueInRange(le);X.push(p.EditOperation.replace(le,this._modifyText(fe,x)))}W.pushUndoStop(),W.executeEdits(this.id,X),W.pushUndoStop()}}e.AbstractCaseAction=j;class K extends j{constructor(){super({id:"editor.action.transformToUppercase",label:a.localize(23,null),alias:"Transform to Uppercase",precondition:t.EditorContextKeys.writable})}_modifyText(G,W){return G.toLocaleUpperCase()}}e.UpperCaseAction=K;class Y extends j{constructor(){super({id:"editor.action.transformToLowercase",label:a.localize(24,null),alias:"Transform to Lowercase",precondition:t.EditorContextKeys.writable})}_modifyText(G,W){return G.toLocaleLowerCase()}}e.LowerCaseAction=Y;class J{constructor(G,W){this._pattern=G,this._flags=W,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(G){}}return this._actual}isSupported(){return this.get()!==null}}class Z extends j{constructor(){super({id:"editor.action.transformToTitlecase",label:a.localize(25,null),alias:"Transform to Title Case",precondition:t.EditorContextKeys.writable})}_modifyText(G,W){const z=Z.titleBoundary.get();return z?G.toLocaleLowerCase().replace(z,U=>U.toLocaleUpperCase()):G}}e.TitleCaseAction=Z,Z.titleBoundary=new J("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class ie extends j{constructor(){super({id:"editor.action.transformToSnakecase",label:a.localize(26,null),alias:"Transform to Snake Case",precondition:t.EditorContextKeys.writable})}_modifyText(G,W){const z=ie.caseBoundary.get(),U=ie.singleLetters.get();return!z||!U?G:G.replace(z,"$1_$2").replace(U,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=ie,ie.caseBoundary=new J("(\\p{Ll})(\\p{Lu})","gmu"),ie.singleLetters=new J("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,T.registerEditorAction)(n),(0,T.registerEditorAction)(d),(0,T.registerEditorAction)(u),(0,T.registerEditorAction)(S),(0,T.registerEditorAction)(v),(0,T.registerEditorAction)(_),(0,T.registerEditorAction)(L),(0,T.registerEditorAction)(w),(0,T.registerEditorAction)(k),(0,T.registerEditorAction)(D),(0,T.registerEditorAction)(M),(0,T.registerEditorAction)(O),(0,T.registerEditorAction)(F),(0,T.registerEditorAction)(R),(0,T.registerEditorAction)(P),(0,T.registerEditorAction)(E),(0,T.registerEditorAction)(B),(0,T.registerEditorAction)(V),(0,T.registerEditorAction)(K),(0,T.registerEditorAction)(Y),ie.caseBoundary.isSupported()&&ie.singleLetters.isSupported()&&(0,T.registerEditorAction)(ie),Z.titleBoundary.isSupported()&&(0,T.registerEditorAction)(Z)}),define(ee[703],te([0,1,19,10,23,29,13,2,8,25,15,28,14,3,24,31,18,39,524,16,22,12]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new n.RawContextKey("LinkedEditingInputVisible",!1);const f="linked-editing-decoration";let S=class Yt extends C.Disposable{constructor(w,k){super();this._debounceDuration=200,this._localToDispose=this._register(new C.DisposableStore),this._editor=w,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(k),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new C.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(D=>{(D.hasChanged(61)||D.hasChanged(81))&&this.reinitialize(!1)})),this._register(a.LinkedEditingRangeProviderRegistry.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(w){return w.getContribution(Yt.ID)}reinitialize(w){const k=this._editor.getModel(),D=k!==null&&(this._editor.getOption(61)||this._editor.getOption(81))&&a.LinkedEditingRangeProviderRegistry.has(k);if(D===this._enabled&&!w||(this._enabled=D,this.clearRanges(),this._localToDispose.clear(),!D||k===null))return;this._languageWordPattern=s.LanguageConfigurationRegistry.getWordDefinition(k.getLanguageId()),this._localToDispose.add(k.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=s.LanguageConfigurationRegistry.getWordDefinition(k.getLanguageId())}));const M=new N.Delayer(this._debounceDuration),O=()=>{this._rangeUpdateTriggerPromise=M.trigger(()=>this.updateRanges(),this._debounceDuration)},F=new N.Delayer(0),R=A=>{this._rangeSyncTriggerPromise=F.trigger(()=>this._syncRanges(A))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{O()})),this._localToDispose.add(this._editor.onDidChangeModelContent(A=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const P=k.getDecorationRange(this._currentDecorations[0]);if(P&&A.changes.every(E=>P.intersectRanges(E.range))){R(this._currentDecorations);return}}O()})),this._localToDispose.add({dispose:()=>{M.cancel(),F.cancel()}}),this.updateRanges()}_syncRanges(w){if(!this._editor.hasModel()||w!==this._currentDecorations||w.length===0)return;const k=this._editor.getModel(),D=k.getDecorationRange(w[0]);if(!D||D.startLineNumber!==D.endLineNumber)return this.clearRanges();const M=k.getValueInRange(D);if(this._currentWordPattern){const F=M.match(this._currentWordPattern);if((F?F[0].length:0)!==M.length)return this.clearRanges()}let O=[];for(let F=1,R=w.length;F<R;F++){const A=k.getDecorationRange(w[F]);if(!!A)if(A.startLineNumber!==A.endLineNumber)O.push({range:A,text:M});else{let P=k.getValueInRange(A),E=M,B=A.startColumn,V=A.endColumn;const j=p.commonPrefixLength(P,E);B+=j,P=P.substr(j),E=E.substr(j);const K=p.commonSuffixLength(P,E);V-=K,P=P.substr(0,P.length-K),E=E.substr(0,E.length-K),(B!==V||E.length!==0)&&O.push({range:new r.Range(A.startLineNumber,B,A.endLineNumber,V),text:E})}}if(O.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const F=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",O),this._editor._getViewModel().setPrevEditOperationType(F)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(w=!1){return Ae(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const k=this._editor.getPosition();if(!this._enabled&&!w||this._editor.getSelections().length>1){this.clearRanges();return}const D=this._editor.getModel(),M=D.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===M){if(k.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const F=D.getDecorationRange(this._currentDecorations[0]);if(F&&F.containsPosition(k))return}}this._currentRequestPosition=k,this._currentRequestModelVersion=M;const O=(0,N.createCancelablePromise)(F=>Ae(this,void 0,void 0,function*(){try{const R=yield _(D,k,F);if(O!==this._currentRequest||(this._currentRequest=null,M!==D.getVersionId()))return;let A=[];(R==null?void 0:R.ranges)&&(A=R.ranges),this._currentWordPattern=(R==null?void 0:R.wordPattern)||this._languageWordPattern;let P=!1;for(let B=0,V=A.length;B<V;B++)if(r.Range.containsPosition(A[B],k)){if(P=!0,B!==0){const j=A[B];A.splice(B,1),A.unshift(j)}break}if(!P){this.clearRanges();return}const E=A.map(B=>({range:B,options:Yt.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,E)}catch(R){(0,b.isPromiseCanceledError)(R)||(0,b.onUnexpectedError)(R),(this._currentRequest===O||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=O,O})}};S.ID="editor.contrib.linkedEditing",S.DECORATION=l.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:f}),S=Be([Ce(1,n.IContextKeyService)],S),e.LinkedEditingContribution=S;class v extends g.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:o.localize(0,null),alias:"Start Linked Editing",precondition:n.ContextKeyExpr.and(c.EditorContextKeys.writable,c.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(w,k){const D=w.get(i.ICodeEditorService),[M,O]=Array.isArray(k)&&k||[void 0,void 0];return h.URI.isUri(M)&&t.Position.isIPosition(O)?D.openCodeEditor({resource:M},D.getActiveCodeEditor()).then(F=>{!F||(F.setPosition(O),F.invokeWithinContext(R=>(this.reportTelemetry(R,F),this.run(R,F))))},b.onUnexpectedError):super.runCommand(w,k)}run(w,k){const D=S.get(k);return D?Promise.resolve(D.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=v;const m=g.EditorCommand.bindToContribution(S.get);(0,g.registerEditorCommand)(new m({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:L=>L.clearRanges(),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function _(L,w,k){const D=a.LinkedEditingRangeProviderRegistry.ordered(L);return(0,N.first)(D.map(M=>()=>Ae(this,void 0,void 0,function*(){try{return yield M.provideLinkedEditingRanges(L,w,k)}catch(O){(0,b.onUnexpectedExternalError)(O);return}})),M=>!!M&&y.isNonEmptyArray(M==null?void 0:M.ranges))}e.editorLinkedEditingBackground=(0,d.registerColor)("editor.linkedEditingBackground",{dark:I.Color.fromHex("#f00").transparent(.3),light:I.Color.fromHex("#f00").transparent(.3),hc:I.Color.fromHex("#f00").transparent(.3)},o.localize(1,null)),(0,u.registerThemingParticipant)((L,w)=>{const k=L.getColor(e.editorLinkedEditingBackground);k&&w.addRule(`.monaco-editor .${f} { background: ${k}; border-left-color: ${k}; }`)}),(0,g.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(L,w)=>_(L,w,T.CancellationToken.None)),(0,g.registerEditorContribution)(S.ID,S),(0,g.registerEditorAction)(v)}),define(ee[704],te([0,1,10,23,13,70,2,48,17,42,25,15,31,18,240,578,525,40,53,22,12,371]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;function u(_,L){const w=_.url&&/^command:/i.test(_.url.toString()),k=_.tooltip?_.tooltip:w?a.localize(0,null):a.localize(1,null),D=L?p.isMacintosh?a.localize(2,null):a.localize(3,null):p.isMacintosh?a.localize(4,null):a.localize(5,null);if(_.url){let M="";if(/^command:/i.test(_.url.toString())){const F=_.url.toString().match(/^command:([^?#]+)/);if(F){const R=F[1];M=` "${a.localize(6,null,R)}"`}}return new I.MarkdownString("",!0).appendMarkdown(`[${k}](${_.url.toString(!0).replace(/ /g,"%20")}${M}) (${D})`)}else return new I.MarkdownString().appendText(`${k} (${D})`)}const f={general:t.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:t.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class S{constructor(L,w){this.link=L,this.decorationId=w}static decoration(L,w){return{range:L.range,options:S._getOptions(L,w,!1)}}static _getOptions(L,w,k){const D=Object.assign({},k?f.active:f.general);return D.hoverMessage=u(L,w),D}activate(L,w){L.changeDecorationOptions(this.decorationId,S._getOptions(this.link,w,!0))}deactivate(L,w){L.changeDecorationOptions(this.decorationId,S._getOptions(this.link,w,!1))}}let v=class Xt{constructor(L,w,k){this.listenersToRemove=new b.DisposableStore,this.editor=L,this.openerService=w,this.notificationService=k;let D=new c.ClickLinkGesture(L);this.listenersToRemove.add(D),this.listenersToRemove.add(D.onMouseMoveOrRelevantKeyDown(([M,O])=>{this._onEditorMouseMove(M,O)})),this.listenersToRemove.add(D.onExecute(M=>{this.onEditorMouseUp(M)})),this.listenersToRemove.add(D.onCancel(M=>{this.cleanUpActiveLinkDecoration()})),this.enabled=L.getOption(62),this.listenersToRemove.add(L.onDidChangeConfiguration(M=>{const O=L.getOption(62);this.enabled!==O&&(this.enabled=O,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(L.onDidChangeModelContent(M=>this.onChange())),this.listenersToRemove.add(L.onDidChangeModel(M=>this.onModelChanged())),this.listenersToRemove.add(L.onDidChangeModelLanguage(M=>this.onModelModeChanged())),this.listenersToRemove.add(r.LinkProviderRegistry.onDidChange(M=>this.onModelModeChanged())),this.timeout=new y.TimeoutTimer,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(L){return L.getContribution(Xt.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),Xt.RECOMPUTE_TIME)}beginCompute(){return Ae(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;const L=this.editor.getModel();if(!!r.LinkProviderRegistry.has(L)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=y.createCancelablePromise(w=>(0,l.getLinks)(L,w));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(w){(0,T.onUnexpectedError)(w)}finally{this.computePromise=null}}})}updateDecorations(L){const w=this.editor.getOption(69)==="altKey";let k=[],D=Object.keys(this.currentOccurrences);for(let F=0,R=D.length;F<R;F++){let A=D[F],P=this.currentOccurrences[A];k.push(P.decorationId)}let M=[];if(L)for(const F of L)M.push(S.decoration(F,w));let O=this.editor.deltaDecorations(k,M);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let F=0,R=O.length;F<R;F++){let A=new S(L[F],O[F]);this.currentOccurrences[A.decorationId]=A}}_onEditorMouseMove(L,w){const k=this.editor.getOption(69)==="altKey";if(this.isEnabled(L,w)){this.cleanUpActiveLinkDecoration();const D=this.getLinkOccurrence(L.target.position);D&&this.editor.changeDecorations(M=>{D.activate(M,k),this.activeLinkDecorationId=D.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const L=this.editor.getOption(69)==="altKey";if(this.activeLinkDecorationId){const w=this.currentOccurrences[this.activeLinkDecorationId];w&&this.editor.changeDecorations(k=>{w.deactivate(k,L)}),this.activeLinkDecorationId=null}}onEditorMouseUp(L){if(!this.isEnabled(L))return;const w=this.getLinkOccurrence(L.target.position);!w||this.openLinkOccurrence(w,L.hasSideBySideModifier,!0)}openLinkOccurrence(L,w,k=!1){if(!this.openerService)return;const{link:D}=L;D.resolve(N.CancellationToken.None).then(M=>{if(typeof M=="string"&&this.editor.hasModel()){const O=this.editor.getModel().uri;if(O.scheme===C.Schemas.file&&M.startsWith(`${C.Schemas.file}:`)){const F=g.URI.parse(M);if(F.scheme===C.Schemas.file){const R=h.originalFSPath(F);let A=null;R.startsWith("/./")?A=`.${R.substr(1)}`:R.startsWith("//./")&&(A=`.${R.substr(2)}`),A&&(M=h.joinPath(O,A))}}}return this.openerService.open(M,{openToSide:w,fromUserGesture:k,allowContributedOpeners:!0,allowCommands:!0})},M=>{const O=M instanceof Error?M.message:M;O==="invalid"?this.notificationService.warn(a.localize(7,null,D.url.toString())):O==="missing"?this.notificationService.warn(a.localize(8,null)):(0,T.onUnexpectedError)(M)})}getLinkOccurrence(L){if(!this.editor.hasModel()||!L)return null;const w=this.editor.getModel().getDecorationsInRange({startLineNumber:L.lineNumber,startColumn:L.column,endLineNumber:L.lineNumber,endColumn:L.column},0,!0);for(const k of w){const D=this.currentOccurrences[k.id];if(D)return D}return null}isEnabled(L,w){return Boolean(L.target.type===6&&(L.hasTriggerModifier||w&&w.keyCodeIsTriggerKey))}stop(){var L;this.timeout.cancel(),this.activeLinksList&&((L=this.activeLinksList)===null||L===void 0||L.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};v.ID="editor.linkDetector",v.RECOMPUTE_TIME=1e3,v=Be([Ce(1,o.IOpenerService),Ce(2,s.INotificationService)],v),e.LinkDetector=v;class m extends i.EditorAction{constructor(){super({id:"editor.action.openLink",label:a.localize(9,null),alias:"Open Link",precondition:void 0})}run(L,w){let k=v.get(w);if(!k||!w.hasModel())return;let D=w.getSelections();for(let M of D){let O=k.getLinkOccurrence(M.getEndPosition());O&&k.openLinkOccurrence(O,!1)}}}(0,i.registerEditorContribution)(v.ID,v),(0,i.registerEditorAction)(m),(0,d.registerThemingParticipant)((_,L)=>{const w=_.getColor(n.editorActiveLinkForeground);w&&L.addRule(`.monaco-editor .detected-link-active { color: ${w} !important; }`)})}),define(ee[705],te([0,1,44,10,56,2,15,199,3,21,24,49,31,18,287,527,36,16,22,12]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function d(j,K){const Y=K.filter(J=>!j.find(Z=>Z.equals(J)));if(Y.length>=1){const J=Y.map(ie=>`line ${ie.viewState.position.lineNumber} column ${ie.viewState.position.column}`).join(", "),Z=Y.length===1?l.localize(0,null,J):l.localize(1,null,J);(0,y.status)(Z)}}class u extends b.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:l.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"3_multi",title:l.localize(3,null),order:2}})}run(K,Y,J){if(!Y.hasModel())return;let Z=!0;J&&J.logicalLine===!1&&(Z=!1);const ie=Y._getViewModel();if(ie.cursorConfig.readOnly)return;ie.pushStackElement();const ne=ie.getCursorStates();ie.setCursorStates(J.source,3,C.CursorMoveCommands.addCursorUp(ie,ne,Z)),ie.revealTopMostCursor(J.source),d(ne,ie.getCursorStates())}}e.InsertCursorAbove=u;class f extends b.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:l.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"3_multi",title:l.localize(5,null),order:3}})}run(K,Y,J){if(!Y.hasModel())return;let Z=!0;J&&J.logicalLine===!1&&(Z=!1);const ie=Y._getViewModel();if(ie.cursorConfig.readOnly)return;ie.pushStackElement();const ne=ie.getCursorStates();ie.setCursorStates(J.source,3,C.CursorMoveCommands.addCursorDown(ie,ne,Z)),ie.revealBottomMostCursor(J.source),d(ne,ie.getCursorStates())}}e.InsertCursorBelow=f;class S extends b.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:l.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"3_multi",title:l.localize(7,null),order:4}})}getCursorsForSelection(K,Y,J){if(!K.isEmpty()){for(let Z=K.startLineNumber;Z<K.endLineNumber;Z++){let ie=Y.getLineMaxColumn(Z);J.push(new h.Selection(Z,ie,Z,ie))}K.endColumn>1&&J.push(new h.Selection(K.endLineNumber,K.endColumn,K.endLineNumber,K.endColumn))}}run(K,Y){if(!Y.hasModel())return;const J=Y.getModel(),Z=Y.getSelections(),ie=Y._getViewModel(),ne=ie.getCursorStates();let G=[];Z.forEach(W=>this.getCursorsForSelection(W,J,G)),G.length>0&&Y.setSelections(G),d(ne,ie.getCursorStates())}}class v extends b.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:l.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(K,Y){if(!Y.hasModel())return;const J=Y.getSelections(),Z=Y.getModel().getLineCount();let ie=[];for(let W=J[0].startLineNumber;W<=Z;W++)ie.push(new h.Selection(W,J[0].startColumn,W,J[0].endColumn));const ne=Y._getViewModel(),G=ne.getCursorStates();ie.length>0&&Y.setSelections(ie),d(G,ne.getCursorStates())}}class m extends b.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:l.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(K,Y){if(!Y.hasModel())return;const J=Y.getSelections();let Z=[];for(let G=J[0].startLineNumber;G>=1;G--)Z.push(new h.Selection(G,J[0].startColumn,G,J[0].endColumn));const ie=Y._getViewModel(),ne=ie.getCursorStates();Z.length>0&&Y.setSelections(Z),d(ne,ie.getCursorStates())}}class _{constructor(K,Y,J){this.selections=K,this.revealRange=Y,this.revealScrollType=J}}e.MultiCursorSessionResult=_;class L{constructor(K,Y,J,Z,ie,ne,G){this._editor=K,this.findController=Y,this.isDisconnectedFromFindController=J,this.searchText=Z,this.wholeWord=ie,this.matchCase=ne,this.currentMatch=G}static create(K,Y){if(!K.hasModel())return null;const J=Y.getState();if(!K.hasTextFocus()&&J.isRevealed&&J.searchString.length>0)return new L(K,Y,!1,J.searchString,J.wholeWord,J.matchCase,null);let Z=!1,ie,ne;const G=K.getSelections();G.length===1&&G[0].isEmpty()?(Z=!0,ie=!0,ne=!0):(ie=J.wholeWord,ne=J.matchCase);const W=K.getSelection();let z,U=null;if(W.isEmpty()){const x=K.getConfiguredWordAtPosition(W.getStartPosition());if(!x)return null;z=x.word,U=new h.Selection(W.startLineNumber,x.startColumn,W.startLineNumber,x.endColumn)}else z=K.getModel().getValueInRange(W).replace(/\r\n/g,`
`);return new L(K,Y,Z,z,ie,ne,U)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const Y=this._editor.getSelections();return new _(Y.concat(K),K,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const Y=this._editor.getSelections();return new _(Y.slice(0,Y.length-1).concat(K),K,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const Z=this.currentMatch;return this.currentMatch=null,Z}this.findController.highlightFindOptions();const K=this._editor.getSelections(),Y=K[K.length-1],J=this._editor.getModel().findNextMatch(this.searchText,Y.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1);return J?new h.Selection(J.range.startLineNumber,J.range.startColumn,J.range.endLineNumber,J.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const Y=this._editor.getSelections();return new _(Y.concat(K),K,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const Y=this._editor.getSelections();return new _(Y.slice(0,Y.length-1).concat(K),K,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const Z=this.currentMatch;return this.currentMatch=null,Z}this.findController.highlightFindOptions();const K=this._editor.getSelections(),Y=K[K.length-1],J=this._editor.getModel().findPreviousMatch(this.searchText,Y.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1);return J?new h.Selection(J.range.startLineNumber,J.range.startColumn,J.range.endLineNumber,J.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1,1073741824)):[]}}e.MultiCursorSession=L;class w extends I.Disposable{constructor(K){super();this._sessionDispose=this._register(new I.DisposableStore),this._editor=K,this._ignoreSelectionChange=!1,this._session=null}static get(K){return K.getContribution(w.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(K){if(!this._session){const Y=L.create(this._editor,K);if(!Y)return;this._session=Y;const J={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(J.wholeWordOverride=1,J.matchCaseOverride=1,J.isRegexOverride=2),K.getState().change(J,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(Z=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(K.getState().onFindReplaceStateChange(Z=>{(Z.matchCase||Z.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const K={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(K,!1)}this._session=null}_setSelections(K){this._ignoreSelectionChange=!0,this._editor.setSelections(K),this._ignoreSelectionChange=!1}_expandEmptyToWord(K,Y){if(!Y.isEmpty())return Y;const J=this._editor.getConfiguredWordAtPosition(Y.getStartPosition());return J?new h.Selection(Y.startLineNumber,J.startColumn,Y.startLineNumber,J.endColumn):Y}_applySessionResult(K){!K||(this._setSelections(K.selections),K.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(K.revealRange,K.revealScrollType))}getSession(K){return this._session}addSelectionToNextFindMatch(K){if(!!this._editor.hasModel()){if(!this._session){const Y=this._editor.getSelections();if(Y.length>1){const Z=K.getState().matchCase;if(!B(this._editor.getModel(),Y,Z)){const ne=this._editor.getModel();let G=[];for(let W=0,z=Y.length;W<z;W++)G[W]=this._expandEmptyToWord(ne,Y[W]);this._editor.setSelections(G);return}}}this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(K){if(!this._editor.hasModel())return;let Y=null;const J=K.getState();if(J.isRevealed&&J.searchString.length>0&&J.isRegex)Y=this._editor.getModel().findMatches(J.searchString,!0,J.isRegex,J.matchCase,J.wholeWord?this._editor.getOption(116):null,!1,1073741824);else{if(this._beginSessionIfNeeded(K),!this._session)return;Y=this._session.selectAll()}if(J.searchScope){const Z=J.searchScope;let ie=[];Y.forEach(ne=>{Z.forEach(G=>{ne.range.endLineNumber<=G.endLineNumber&&ne.range.startLineNumber>=G.startLineNumber&&ie.push(ne)})}),Y=ie}if(Y.length>0){const Z=this._editor.getSelection();for(let ie=0,ne=Y.length;ie<ne;ie++){const G=Y[ie];if(G.range.intersectRanges(Z)){Y[ie]=Y[0],Y[0]=G;break}}this._setSelections(Y.map(ie=>new h.Selection(ie.range.startLineNumber,ie.range.startColumn,ie.range.endLineNumber,ie.range.endColumn)))}}}e.MultiCursorSelectionController=w,w.ID="editor.contrib.multiCursorController";class k extends b.EditorAction{run(K,Y){const J=w.get(Y);if(!J)return;const Z=c.CommonFindController.get(Y);if(!Z)return;const ie=Y._getViewModel();if(ie){const ne=ie.getCursorStates();this._run(J,Z),d(ne,ie.getCursorStates())}}}e.MultiCursorSelectionControllerAction=k;class D extends k{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:l.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"3_multi",title:l.localize(11,null),order:5}})}_run(K,Y){K.addSelectionToNextFindMatch(Y)}}e.AddSelectionToNextFindMatchAction=D;class M extends k{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:l.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"3_multi",title:l.localize(13,null),order:6}})}_run(K,Y){K.addSelectionToPreviousFindMatch(Y)}}e.AddSelectionToPreviousFindMatchAction=M;class O extends k{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:l.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:(0,T.KeyChord)(2048|41,2048|34),weight:100}})}_run(K,Y){K.moveSelectionToNextFindMatch(Y)}}e.MoveSelectionToNextFindMatchAction=O;class F extends k{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:l.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(K,Y){K.moveSelectionToPreviousFindMatch(Y)}}e.MoveSelectionToPreviousFindMatchAction=F;class R extends k{constructor(){super({id:"editor.action.selectHighlights",label:l.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"3_multi",title:l.localize(17,null),order:7}})}_run(K,Y){K.selectAll(Y)}}e.SelectHighlightsAction=R;class A extends k{constructor(){super({id:"editor.action.changeAll",label:l.localize(18,null),alias:"Change All Occurrences",precondition:s.ContextKeyExpr.and(g.EditorContextKeys.writable,g.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(K,Y){K.selectAll(Y)}}e.CompatChangeAll=A;class P{constructor(K,Y,J,Z,ie){this._model=K,this._searchText=Y,this._matchCase=J,this._wordSeparators=Z,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,ie&&this._model===ie._model&&this._searchText===ie._searchText&&this._matchCase===ie._matchCase&&this._wordSeparators===ie._wordSeparators&&this._modelVersionId===ie._modelVersionId&&(this._cachedFindMatches=ie._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(K=>K.range),this._cachedFindMatches.sort(p.Range.compareRangesUsingStarts)),this._cachedFindMatches}}class E extends I.Disposable{constructor(K){super();this.editor=K,this._isEnabled=K.getOption(96),this.decorations=[],this.updateSoon=this._register(new N.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(K.onDidChangeConfiguration(Y=>{this._isEnabled=K.getOption(96)})),this._register(K.onDidChangeCursorSelection(Y=>{!this._isEnabled||(Y.selection.isEmpty()?Y.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(K.onDidChangeModel(Y=>{this._setState(null)})),this._register(K.onDidChangeModelContent(Y=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(c.CommonFindController.get(K).getState().onFindReplaceStateChange(Y=>{this._update()}))}_update(){this._setState(E._createState(this.state,this._isEnabled,this.editor))}static _createState(K,Y,J){if(!Y||!J.hasModel())return null;const Z=J.getSelection();if(Z.startLineNumber!==Z.endLineNumber)return null;const ie=w.get(J);if(!ie)return null;const ne=c.CommonFindController.get(J);if(!ne)return null;let G=ie.getSession(ne);if(!G){const U=J.getSelections();if(U.length>1){const X=ne.getState().matchCase;if(!B(J.getModel(),U,X))return null}G=L.create(J,ne)}if(!G||G.currentMatch||/^[ \t]+$/.test(G.searchText)||G.searchText.length>200)return null;const W=ne.getState(),z=W.matchCase;if(W.isRevealed){let U=W.searchString;z||(U=U.toLowerCase());let x=G.searchText;if(z||(x=x.toLowerCase()),U===x&&G.matchCase===W.matchCase&&G.wholeWord===W.wholeWord&&!W.isRegex)return null}return new P(J.getModel(),G.searchText,G.matchCase,G.wholeWord?J.getOption(116):null,K)}_setState(K){if(this.state=K,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;const Y=this.editor.getModel();if(Y.isTooLargeForTokenization())return;const J=this.state.findMatches(),Z=this.editor.getSelections();Z.sort(p.Range.compareRangesUsingStarts);const ie=[];for(let W=0,z=0,U=J.length,x=Z.length;W<U;){const X=J[W];if(z>=x)ie.push(X),W++;else{const le=p.Range.compareRangesUsingStarts(X,Z[z]);le<0?((Z[z].isEmpty()||!p.Range.areIntersecting(X,Z[z]))&&ie.push(X),W++):(le>0||W++,z++)}}const ne=r.DocumentHighlightProviderRegistry.has(Y)&&this.editor.getOption(71),G=ie.map(W=>({range:W,options:ne?E._SELECTION_HIGHLIGHT:E._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,G)}dispose(){this._setState(null),super.dispose()}}e.SelectionHighlighter=E,E.ID="editor.contrib.selectionHighlighter",E._SELECTION_HIGHLIGHT_OVERVIEW=t.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,n.themeColorFromId)(o.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline},overviewRuler:{color:(0,n.themeColorFromId)(o.overviewRulerSelectionHighlightForeground),position:i.OverviewRulerLane.Center}}),E._SELECTION_HIGHLIGHT=t.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});function B(j,K,Y){const J=V(j,K[0],!Y);for(let Z=1,ie=K.length;Z<ie;Z++){const ne=K[Z];if(ne.isEmpty())return!1;const G=V(j,ne,!Y);if(J!==G)return!1}return!0}function V(j,K,Y){const J=j.getValueInRange(K);return Y?J.toLowerCase():J}(0,b.registerEditorContribution)(w.ID,w),(0,b.registerEditorContribution)(E.ID,E),(0,b.registerEditorAction)(u),(0,b.registerEditorAction)(f),(0,b.registerEditorAction)(S),(0,b.registerEditorAction)(D),(0,b.registerEditorAction)(M),(0,b.registerEditorAction)(O),(0,b.registerEditorAction)(F),(0,b.registerEditorAction)(R),(0,b.registerEditorAction)(A),(0,b.registerEditorAction)(v),(0,b.registerEditorAction)(m)}),define(ee[706],te([0,1,7,111,10,13,4,2,105,8,161,657,540,16,9,76,22,128,12,247,93,269,668,137,377,274]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetStatusForeground=e.editorSuggestWidgetHighlightFocusForeground=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetSelectedIconForeground=e.editorSuggestWidgetSelectedForeground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=(0,a.registerColor)("editorSuggestWidget.background",{dark:a.editorWidgetBackground,light:a.editorWidgetBackground,hc:a.editorWidgetBackground},t.localize(0,null)),e.editorSuggestWidgetBorder=(0,a.registerColor)("editorSuggestWidget.border",{dark:a.editorWidgetBorder,light:a.editorWidgetBorder,hc:a.editorWidgetBorder},t.localize(1,null)),e.editorSuggestWidgetForeground=(0,a.registerColor)("editorSuggestWidget.foreground",{dark:a.editorForeground,light:a.editorForeground,hc:a.editorForeground},t.localize(2,null)),e.editorSuggestWidgetSelectedForeground=(0,a.registerColor)("editorSuggestWidget.selectedForeground",{dark:a.quickInputListFocusForeground,light:a.quickInputListFocusForeground,hc:a.quickInputListFocusForeground},t.localize(3,null)),e.editorSuggestWidgetSelectedIconForeground=(0,a.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:a.quickInputListFocusIconForeground,light:a.quickInputListFocusIconForeground,hc:a.quickInputListFocusIconForeground},t.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,a.registerColor)("editorSuggestWidget.selectedBackground",{dark:a.quickInputListFocusBackground,light:a.quickInputListFocusBackground,hc:a.quickInputListFocusBackground},t.localize(5,null)),e.editorSuggestWidgetHighlightForeground=(0,a.registerColor)("editorSuggestWidget.highlightForeground",{dark:a.listHighlightForeground,light:a.listHighlightForeground,hc:a.listHighlightForeground},t.localize(6,null)),e.editorSuggestWidgetHighlightFocusForeground=(0,a.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:a.listFocusHighlightForeground,light:a.listFocusHighlightForeground,hc:a.listFocusHighlightForeground},t.localize(7,null)),e.editorSuggestWidgetStatusForeground=(0,a.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,a.transparent)(e.editorSuggestWidgetForeground,.5),light:(0,a.transparent)(e.editorSuggestWidgetForeground,.5),hc:(0,a.transparent)(e.editorSuggestWidgetForeground,.5)},t.localize(8,null));class S{constructor(L,w){this._service=L,this._key=`suggestWidget.size/${w.getEditorType()}/${w instanceof g.EmbeddedCodeEditorWidget}`}restore(){var L;const w=(L=this._service.get(this._key,0))!==null&&L!==void 0?L:"";try{const k=JSON.parse(w);if(y.Dimension.is(k))return y.Dimension.lift(k)}catch(k){}}store(L){this._service.store(this._key,JSON.stringify(L),0,1)}reset(){this._service.remove(this._key,0)}}let v=class Qt{constructor(L,w,k,D,M){this.editor=L,this._storageService=w,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new T.TimeoutTimer,this._disposables=new C.DisposableStore,this._onDidSelect=new b.Emitter,this._onDidFocus=new b.Emitter,this._onDidHide=new b.Emitter,this._onDidShow=new b.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new b.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new n.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new m(this,L),this._persistedSize=new S(w,L);class O{constructor(V,j,K=!1,Y=!1){this.persistedSize=V,this.currentSize=j,this.persistHeight=K,this.persistWidth=Y}}let F;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),F=new O(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(B=>{var V,j,K,Y;if(this._resize(B.dimension.width,B.dimension.height),F&&(F.persistHeight=F.persistHeight||!!B.north||!!B.south,F.persistWidth=F.persistWidth||!!B.east||!!B.west),!!B.done){if(F){const{itemHeight:J,defaultSize:Z}=this.getLayoutInfo(),ie=Math.round(J/2);let{width:ne,height:G}=this.element.size;(!F.persistHeight||Math.abs(F.currentSize.height-G)<=ie)&&(G=(j=(V=F.persistedSize)===null||V===void 0?void 0:V.height)!==null&&j!==void 0?j:Z.height),(!F.persistWidth||Math.abs(F.currentSize.width-ne)<=ie)&&(ne=(Y=(K=F.persistedSize)===null||K===void 0?void 0:K.width)!==null&&Y!==void 0?Y:Z.width),this._persistedSize.store(new y.Dimension(ne,G))}this._contentWidget.unlockPreference(),F=void 0}})),this._messageElement=y.append(this.element.domNode,y.$(".message")),this._listElement=y.append(this.element.domNode,y.$(".tree"));const R=M.createInstance(u.SuggestDetailsWidget,this.editor);R.onDidClose(this.toggleDetails,this,this._disposables),this._details=new u.SuggestDetailsOverlay(R,this.editor);const A=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(105).showIcons);A();const P=M.createInstance(f.ItemRenderer,this.editor);this._disposables.add(P),this._disposables.add(P.onDidToggleDetails(()=>this.toggleDetails())),this._list=new N.List("SuggestWidget",this._listElement,{getHeight:B=>this.getLayoutInfo().itemHeight,getTemplateId:B=>"suggestion"},[P],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:B=>{if(B.isResolved&&this._isDetailsVisible()){const{documentation:V,detail:j}=B.completion,K=h.format("{0}{1}",j||"",V?typeof V=="string"?V:V.value:"");return t.localize(11,null,B.textLabel,K)}else return B.textLabel},getWidgetAriaLabel:()=>t.localize(12,null),getWidgetRole:()=>"listbox"}}),this._status=M.createInstance(i.SuggestWidgetStatus,this.element.domNode);const E=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(105).showStatusBar);E(),this._disposables.add((0,s.attachListStyler)(this._list,D,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:a.activeContrastBorder})),this._disposables.add(D.onDidColorThemeChange(B=>this._onThemeChange(B))),this._onThemeChange(D.getColorTheme()),this._disposables.add(this._list.onMouseDown(B=>this._onListMouseDownOrTap(B))),this._disposables.add(this._list.onTap(B=>this._onListMouseDownOrTap(B))),this._disposables.add(this._list.onDidChangeSelection(B=>this._onListSelection(B))),this._disposables.add(this._list.onDidChangeFocus(B=>this._onListFocus(B))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(B=>{B.hasChanged(105)&&(E(),A())})),this._ctxSuggestWidgetVisible=d.Context.Visible.bindTo(k),this._ctxSuggestWidgetDetailsVisible=d.Context.DetailsVisible.bindTo(k),this._ctxSuggestWidgetMultipleSuggestions=d.Context.MultipleSuggestions.bindTo(k),this._disposables.add(y.addStandardDisposableListener(this._details.widget.domNode,"keydown",B=>{this._onDetailsKeydown.fire(B)})),this._disposables.add(this.editor.onMouseDown(B=>this._onEditorMouseDown(B)))}dispose(){var L;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(L=this._loadingTimeout)===null||L===void 0||L.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(L){this._details.widget.domNode.contains(L.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(L.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(L){typeof L.element=="undefined"||typeof L.index=="undefined"||(L.browserEvent.preventDefault(),L.browserEvent.stopPropagation(),this._select(L.element,L.index))}_onListSelection(L){L.elements.length&&this._select(L.elements[0],L.indexes[0])}_select(L,w){const k=this._completionModel;k&&(this._onDidSelect.fire({item:L,index:w,model:k}),this.editor.focus())}_onThemeChange(L){this._details.widget.borderWidth=L.type==="hc"?2:1}_onListFocus(L){var w;if(this._ignoreFocusEvents)return;if(!L.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const k=L.elements[0],D=L.indexes[0];k!==this._focusedItem&&((w=this._currentSuggestionDetails)===null||w===void 0||w.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=k,this._list.reveal(D),this._currentSuggestionDetails=(0,T.createCancelablePromise)(M=>Ae(this,void 0,void 0,function*(){const O=(0,T.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);M.onCancellationRequested(()=>O.dispose());const F=yield k.resolve(M);return O.dispose(),F})),this._currentSuggestionDetails.then(()=>{D>=this._list.length||k!==this._list.element(D)||(this._ignoreFocusEvents=!0,this._list.splice(D,1,[k]),this._list.setFocus([D]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,f.getAriaId)(D)}))}).catch(I.onUnexpectedError)),this._onDidFocus.fire({item:k,index:D,model:this._completionModel})}_setState(L){if(this._state!==L)switch(this._state=L,this.element.domNode.classList.toggle("frozen",L===4),this.element.domNode.classList.remove("message"),L){case 0:y.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Qt.LOADING_MESSAGE,y.hide(this._listElement,this._status.element),y.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Qt.NO_SUGGESTIONS_MESSAGE,y.hide(this._listElement,this._status.element),y.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._show();break;case 4:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._show();break;case 5:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(L,w){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!L,this._isAuto||(this._loadingTimeout=(0,T.disposableTimeout)(()=>this._setState(1),w)))}showSuggestions(L,w,k,D){var M,O;if(this._contentWidget.setPosition(this.editor.getPosition()),(M=this._loadingTimeout)===null||M===void 0||M.dispose(),(O=this._currentSuggestionDetails)===null||O===void 0||O.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==L&&(this._completionModel=L),k&&this._state!==2&&this._state!==0){this._setState(4);return}const F=this._completionModel.items.length,R=F===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(F>1),R){this._setState(D?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(k?4:3),this._list.reveal(w,0),this._list.setFocus([w]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,u.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(L){this._details.show(),L?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var L;(L=this._loadingTimeout)===null||L===void 0||L.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const w=this._persistedSize.restore(),k=Math.ceil(this.getLayoutInfo().itemHeight*4.3);w&&w.height<k&&this._persistedSize.store(w.with(void 0,k))}isFrozen(){return this._state===4}_afterRender(L){if(L===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(L){var w,k,D;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const M=y.getClientArea(document.body),O=this.getLayoutInfo();L||(L=O.defaultSize);let F=L.height,R=L.width;if(this._status.element.style.lineHeight=`${O.itemHeight}px`,this._state===2||this._state===1)F=O.itemHeight+O.borderHeight,R=O.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new y.Dimension(R,F),this._contentWidget.setPreference(2);else{const A=M.width-O.borderHeight-2*O.horizontalPadding;R>A&&(R=A);const P=this._completionModel?this._completionModel.stats.pLabelLen*O.typicalHalfwidthCharacterWidth:R,E=O.statusBarHeight+this._list.contentHeight+O.borderHeight,B=O.itemHeight+O.statusBarHeight,V=y.getDomNodePagePosition(this.editor.getDomNode()),j=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),K=V.top+j.top+j.height,Y=Math.min(M.height-K-O.verticalPadding,E),J=V.top+j.top-O.verticalPadding,Z=Math.min(J,E);let ie=Math.min(Math.max(Z,Y)+O.borderHeight,E);F===((w=this._cappedHeight)===null||w===void 0?void 0:w.capped)&&(F=this._cappedHeight.wanted),F<B&&(F=B),F>ie&&(F=ie);const ne=150;F>Y||this._forceRenderingAbove&&J>ne?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ie=Z):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ie=Y),this.element.preferredSize=new y.Dimension(P,O.defaultSize.height),this.element.maxSize=new y.Dimension(A,ie),this.element.minSize=new y.Dimension(220,B),this._cappedHeight=F===E?{wanted:(D=(k=this._cappedHeight)===null||k===void 0?void 0:k.wanted)!==null&&D!==void 0?D:L.height,capped:F}:void 0}this._resize(R,F)}_resize(L,w){const{width:k,height:D}=this.element.maxSize;L=Math.min(k,L),w=Math.min(D,w);const{statusBarHeight:M}=this.getLayoutInfo();this._list.layout(w-M,L),this._listElement.style.height=`${w-M}px`,this.element.layout(w,L),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var L;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((L=this._contentWidget.getPosition())===null||L===void 0?void 0:L.preference[0])===2)}getLayoutInfo(){const L=this.editor.getOption(43),w=(0,p.clamp)(this.editor.getOption(107)||L.lineHeight,8,1e3),k=!this.editor.getOption(105).showStatusBar||this._state===2||this._state===1?0:w,D=this._details.widget.borderWidth,M=2*D;return{itemHeight:w,statusBarHeight:k,borderWidth:D,borderHeight:M,typicalHalfwidthCharacterWidth:L.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new y.Dimension(430,k+12*w+M)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(L){this._storageService.store("expandSuggestionDocs",L,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};v.LOADING_MESSAGE=t.localize(9,null),v.NO_SUGGESTIONS_MESSAGE=t.localize(10,null),v=Be([Ce(1,l.IStorageService),Ce(2,r.IContextKeyService),Ce(3,o.IThemeService),Ce(4,c.IInstantiationService)],v),e.SuggestWidget=v;class m{constructor(L,w){this._widget=L,this._editor=w,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:L,width:w}=this._widget.element.size,{borderWidth:k,horizontalPadding:D}=this._widget.getLayoutInfo();return new y.Dimension(w+2*k+D,L+2*k)}afterRender(L){this._widget._afterRender(L)}setPreference(L){this._preferenceLocked||(this._preference=L)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(L){this._position=L}}e.SuggestContentWidget=m}),define(ee[707],te([0,1,10,2,15,18,261,43,283,271,35,12]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let t=class extends N.Disposable{constructor(c,l,a,s){super();this._modelService=l,this._themeService=a,this._configurationService=s,this._editor=c,this._tokenizeViewport=new y.RunOnceScheduler(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(o=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(I.DocumentRangeSemanticTokensProviderRegistry.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration(p.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(const c of this._outstandingRequests)c.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(c){for(let l=0,a=this._outstandingRequests.length;l<a;l++)if(this._outstandingRequests[l]===c){this._outstandingRequests.splice(l,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const c=this._editor.getModel();if(c.hasCompleteSemanticTokens())return;if(!(0,p.isSemanticColoringEnabled)(c,this._themeService,this._configurationService)){c.hasSomeSemanticTokens()&&c.setSemanticTokens(null,!1);return}if(!(0,b.hasDocumentRangeSemanticTokensProvider)(c)){c.hasSomeSemanticTokens()&&c.setSemanticTokens(null,!1);return}const l=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(l.map(a=>this._requestRange(c,a)))}_requestRange(c,l){const a=c.getVersionId(),s=(0,y.createCancelablePromise)(o=>Promise.resolve((0,b.getDocumentRangeSemanticTokens)(c,l,o)));return s.then(o=>{if(!o||!o.tokens||c.isDisposed()||c.getVersionId()!==a)return;const{provider:n,tokens:d}=o,u=this._modelService.getSemanticTokensProviderStyling(n);c.setPartialSemanticTokens(l,(0,h.toMultilineTokens2)(d,u,c.getLanguageId()))}).then(()=>this._removeOutstandingRequest(s),()=>this._removeOutstandingRequest(s)),s}};t.ID="editor.contrib.viewportSemanticTokens",t=Be([Ce(1,C.IModelService),Ce(2,i.IThemeService),Ce(3,g.IConfigurationService)],t),(0,T.registerEditorContribution)(t.ID,t)}),define(ee[708],te([0,1,44,19,10,23,13,2,15,3,24,49,31,18,549,16,22,12]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const o=(0,a.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},c.localize(0,null),!0),n=(0,a.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},c.localize(1,null),!0),d=(0,a.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hc:a.activeContrastBorder},c.localize(2,null)),u=(0,a.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:a.activeContrastBorder},c.localize(3,null)),f=(0,a.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},c.localize(4,null),!0),S=(0,a.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},c.localize(5,null),!0),v=new l.RawContextKey("hasWordHighlights",!1);function m(P,E,B){const V=r.DocumentHighlightProviderRegistry.ordered(P);return(0,T.first)(V.map(j=>()=>Promise.resolve(j.provideDocumentHighlights(P,E,B)).then(void 0,b.onUnexpectedExternalError)),N.isNonEmptyArray)}e.getOccurrencesAtPosition=m;class _{constructor(E,B,V){this._wordRange=this._getCurrentWordRange(E,B),this.result=(0,T.createCancelablePromise)(j=>this._compute(E,B,V,j))}_getCurrentWordRange(E,B){const V=E.getWordAtPosition(B.getPosition());return V?new h.Range(B.startLineNumber,V.startColumn,B.startLineNumber,V.endColumn):null}isValid(E,B,V){const j=B.startLineNumber,K=B.startColumn,Y=B.endColumn,J=this._getCurrentWordRange(E,B);let Z=Boolean(this._wordRange&&this._wordRange.equalsRange(J));for(let ie=0,ne=V.length;!Z&&ie<ne;ie++){let G=E.getDecorationRange(V[ie]);G&&G.startLineNumber===j&&G.startColumn<=K&&G.endColumn>=Y&&(Z=!0)}return Z}cancel(){this.result.cancel()}}class L extends _{_compute(E,B,V,j){return m(E,B.getPosition(),j).then(K=>K||[])}}class w extends _{constructor(E,B,V){super(E,B,V);this._selectionIsEmpty=B.isEmpty()}_compute(E,B,V,j){return(0,T.timeout)(250,j).then(()=>{if(!B.isEmpty())return[];const K=E.getWordAtPosition(B.getPosition());return!K||K.word.length>1e3?[]:E.findMatches(K.word,!0,!1,!0,V,!1).map(J=>({range:J.range,kind:r.DocumentHighlightKind.Text}))})}isValid(E,B,V){const j=B.isEmpty();return this._selectionIsEmpty!==j?!1:super.isValid(E,B,V)}}function k(P,E,B){return r.DocumentHighlightProviderRegistry.has(P)?new L(P,E,B):new w(P,E,B)}(0,p.registerModelAndPositionCommand)("_executeDocumentHighlights",(P,E)=>m(P,E,I.CancellationToken.None));class D{constructor(E,B){this.toUnhook=new C.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=E,this._hasWordHighlights=v.bindTo(B),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(71),this.model=this.editor.getModel(),this.toUnhook.add(E.onDidChangeCursorPosition(V=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(V)})),this.toUnhook.add(E.onDidChangeModelContent(V=>{this._stopAll()})),this.toUnhook.add(E.onDidChangeConfiguration(V=>{let j=this.editor.getOption(71);this.occurrencesHighlight!==j&&(this.occurrencesHighlight=j,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return N.coalesce(this._decorationIds.map(E=>this.model.getDecorationRange(E)).sort(h.Range.compareRangesUsingStarts))}moveNext(){let E=this._getSortedHighlights(),V=(E.findIndex(K=>K.containsPosition(this.editor.getPosition()))+1)%E.length,j=E[V];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(j.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(j);const K=this._getWord();if(K){const Y=this.editor.getModel().getLineContent(j.startLineNumber);(0,y.alert)(`${Y}, ${V+1} of ${E.length} for '${K.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let E=this._getSortedHighlights(),V=(E.findIndex(K=>K.containsPosition(this.editor.getPosition()))-1+E.length)%E.length,j=E[V];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(j.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(j);const K=this._getWord();if(K){const Y=this.editor.getModel().getLineContent(j.startLineNumber);(0,y.alert)(`${Y}, ${V+1} of ${E.length} for '${K.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(E){if(!this.occurrencesHighlight){this._stopAll();return}if(E.reason!==3){this._stopAll();return}this._run()}_getWord(){let E=this.editor.getSelection(),B=E.startLineNumber,V=E.startColumn;return this.model.getWordAtPosition({lineNumber:B,column:V})}_run(){let E=this.editor.getSelection();if(E.startLineNumber!==E.endLineNumber){this._stopAll();return}let B=E.startColumn,V=E.endColumn;const j=this._getWord();if(!j||j.startColumn>B||j.endColumn<V){this._stopAll();return}const K=this.workerRequest&&this.workerRequest.isValid(this.model,E,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),K)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let Y=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=k(this.model,this.editor.getSelection(),this.editor.getOption(116)),this.workerRequest.result.then(J=>{Y===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=J||[],this._beginRenderDecorations())},b.onUnexpectedError)}}_beginRenderDecorations(){let E=new Date().getTime(),B=this.lastCursorPositionChangeTime+250;E>=B?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},B-E)}renderDecorations(){this.renderDecorationsTimer=-1;let E=[];for(const B of this.workerRequestValue)B.range&&E.push({range:B.range,options:D._getDecorationOptions(B.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,E),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(E){return E===r.DocumentHighlightKind.Write?this._WRITE_OPTIONS:E===r.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}D._WRITE_OPTIONS=t.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,s.themeColorFromId)(S),position:i.OverviewRulerLane.Center},minimap:{color:(0,s.themeColorFromId)(a.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline}}),D._TEXT_OPTIONS=t.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,s.themeColorFromId)(a.overviewRulerSelectionHighlightForeground),position:i.OverviewRulerLane.Center},minimap:{color:(0,s.themeColorFromId)(a.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline}}),D._REGULAR_OPTIONS=t.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,s.themeColorFromId)(f),position:i.OverviewRulerLane.Center},minimap:{color:(0,s.themeColorFromId)(a.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline}});let M=class Pi extends C.Disposable{constructor(E,B){super();this.wordHighlighter=null;const V=()=>{E.hasModel()&&(this.wordHighlighter=new D(E,B))};this._register(E.onDidChangeModel(j=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),V()})),V()}static get(E){return E.getContribution(Pi.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(E){this.wordHighlighter&&E&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};M.ID="editor.contrib.wordHighlighter",M=Be([Ce(1,l.IContextKeyService)],M);class O extends p.EditorAction{constructor(E,B){super(B);this._isNext=E}run(E,B){const V=M.get(B);!V||(this._isNext?V.moveNext():V.moveBack())}}class F extends O{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:c.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:v,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class R extends O{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:c.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:v,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class A extends p.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:c.localize(8,null),alias:"Trigger Symbol Highlight",precondition:v.toNegated(),kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(E,B,V){const j=M.get(B);!j||j.restoreViewState(!0)}}(0,p.registerEditorContribution)(M.ID,M),(0,p.registerEditorAction)(F),(0,p.registerEditorAction)(R),(0,p.registerEditorAction)(A),(0,s.registerThemingParticipant)((P,E)=>{const B=P.getColor(a.editorSelectionHighlight);B&&(E.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${B}; }`),E.addRule(`.monaco-editor .selectionHighlight { background-color: ${B.transparent(.5)}; }`));const V=P.getColor(o);V&&E.addRule(`.monaco-editor .wordHighlight { background-color: ${V}; }`);const j=P.getColor(n);j&&E.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${j}; }`);const K=P.getColor(a.editorSelectionHighlightBorder);K&&E.addRule(`.monaco-editor .selectionHighlight { border: 1px ${P.type==="hc"?"dotted":"solid"} ${K}; box-sizing: border-box; }`);const Y=P.getColor(d);Y&&E.addRule(`.monaco-editor .wordHighlight { border: 1px ${P.type==="hc"?"dashed":"solid"} ${Y}; box-sizing: border-box; }`);const J=P.getColor(u);J&&E.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${P.type==="hc"?"dashed":"solid"} ${J}; box-sizing: border-box; }`)})}),define(ee[288],te([0,1,15,98,30,45,158,112,14,3,21,24,39,550,60,16,265]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class s extends y.EditorCommand{constructor(G){super(G);this._inSelectionMode=G.inSelectionMode,this._wordNavigationType=G.wordNavigationType}runEditorCommand(G,W,z){if(!W.hasModel())return;const U=(0,C.getMapForWordSeparators)(W.getOption(116)),x=W.getModel(),le=W.getSelections().map(fe=>{const $=new p.Position(fe.positionLineNumber,fe.positionColumn),H=this._move(U,x,$,this._wordNavigationType);return this._moveTo(fe,H,this._inSelectionMode)});if(x.pushStackElement(),W._getViewModel().setCursorStates("moveWordCommand",3,le.map(fe=>I.CursorState.fromModelSelection(fe))),le.length===1){const fe=new p.Position(le[0].positionLineNumber,le[0].positionColumn);W.revealPosition(fe,0)}}_moveTo(G,W,z){return z?new g.Selection(G.selectionStartLineNumber,G.selectionStartColumn,W.lineNumber,W.column):new g.Selection(W.lineNumber,W.column,W.lineNumber,W.column)}}e.MoveWordCommand=s;class o extends s{_move(G,W,z,U){return b.WordOperations.moveWordLeft(G,W,z,U)}}e.WordLeftCommand=o;class n extends s{_move(G,W,z,U){return b.WordOperations.moveWordRight(G,W,z,U)}}e.WordRightCommand=n;class d extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=d;class u extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=u;class f extends o{constructor(){var G;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(G=l.ContextKeyExpr.and(c.CONTEXT_ACCESSIBILITY_MODE_ENABLED,a.IsWindowsContext))===null||G===void 0?void 0:G.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=f;class S extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=S;class v extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=v;class m extends o{constructor(){var G;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(G=l.ContextKeyExpr.and(c.CONTEXT_ACCESSIBILITY_MODE_ENABLED,a.IsWindowsContext))===null||G===void 0?void 0:G.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=m;class _ extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(G,W,z,U){return super._move((0,C.getMapForWordSeparators)(T.EditorOptions.wordSeparators.defaultValue),W,z,U)}}e.CursorWordAccessibilityLeft=_;class L extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(G,W,z,U){return super._move((0,C.getMapForWordSeparators)(T.EditorOptions.wordSeparators.defaultValue),W,z,U)}}e.CursorWordAccessibilityLeftSelect=L;class w extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=w;class k extends n{constructor(){var G;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(G=l.ContextKeyExpr.and(c.CONTEXT_ACCESSIBILITY_MODE_ENABLED,a.IsWindowsContext))===null||G===void 0?void 0:G.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=k;class D extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=D;class M extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=M;class O extends n{constructor(){var G;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(G=l.ContextKeyExpr.and(c.CONTEXT_ACCESSIBILITY_MODE_ENABLED,a.IsWindowsContext))===null||G===void 0?void 0:G.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=O;class F extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=F;class R extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(G,W,z,U){return super._move((0,C.getMapForWordSeparators)(T.EditorOptions.wordSeparators.defaultValue),W,z,U)}}e.CursorWordAccessibilityRight=R;class A extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(G,W,z,U){return super._move((0,C.getMapForWordSeparators)(T.EditorOptions.wordSeparators.defaultValue),W,z,U)}}e.CursorWordAccessibilityRightSelect=A;class P extends y.EditorCommand{constructor(G){super(G);this._whitespaceHeuristics=G.whitespaceHeuristics,this._wordNavigationType=G.wordNavigationType}runEditorCommand(G,W,z){if(!W.hasModel())return;const U=(0,C.getMapForWordSeparators)(W.getOption(116)),x=W.getModel(),X=W.getSelections(),le=W.getOption(5),fe=W.getOption(8),$=t.LanguageConfigurationRegistry.getAutoClosingPairs(x.getLanguageId()),H=W._getViewModel(),Q=X.map(re=>{const ce=this._delete({wordSeparators:U,model:x,selection:re,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:W.getOption(6),autoClosingBrackets:le,autoClosingQuotes:fe,autoClosingPairs:$,autoClosedCharacters:H.getCursorAutoClosedCharacters()},this._wordNavigationType);return new N.ReplaceCommand(ce,"")});W.pushUndoStop(),W.executeCommands(this.id,Q),W.pushUndoStop()}}e.DeleteWordCommand=P;class E extends P{_delete(G,W){let z=b.WordOperations.deleteWordLeft(G,W);return z||new h.Range(1,1,1,1)}}e.DeleteWordLeftCommand=E;class B extends P{_delete(G,W){let z=b.WordOperations.deleteWordRight(G,W);if(z)return z;const U=G.model.getLineCount(),x=G.model.getLineMaxColumn(U);return new h.Range(U,x,U,x)}}e.DeleteWordRightCommand=B;class V extends E{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:i.EditorContextKeys.writable})}}e.DeleteWordStartLeft=V;class j extends E{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:i.EditorContextKeys.writable})}}e.DeleteWordEndLeft=j;class K extends E{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=K;class Y extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:i.EditorContextKeys.writable})}}e.DeleteWordStartRight=Y;class J extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:i.EditorContextKeys.writable})}}e.DeleteWordEndRight=J;class Z extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=Z;class ie extends y.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:i.EditorContextKeys.writable,label:r.localize(0,null),alias:"Delete Word"})}run(G,W,z){if(!W.hasModel())return;const U=(0,C.getMapForWordSeparators)(W.getOption(116)),x=W.getModel(),le=W.getSelections().map(fe=>{const $=b.WordOperations.deleteInsideWord(U,x,fe);return new N.ReplaceCommand($,"")});W.pushUndoStop(),W.executeCommands(this.id,le),W.pushUndoStop()}}e.DeleteInsideWord=ie,(0,y.registerEditorCommand)(new d),(0,y.registerEditorCommand)(new u),(0,y.registerEditorCommand)(new f),(0,y.registerEditorCommand)(new S),(0,y.registerEditorCommand)(new v),(0,y.registerEditorCommand)(new m),(0,y.registerEditorCommand)(new w),(0,y.registerEditorCommand)(new k),(0,y.registerEditorCommand)(new D),(0,y.registerEditorCommand)(new M),(0,y.registerEditorCommand)(new O),(0,y.registerEditorCommand)(new F),(0,y.registerEditorCommand)(new _),(0,y.registerEditorCommand)(new L),(0,y.registerEditorCommand)(new R),(0,y.registerEditorCommand)(new A),(0,y.registerEditorCommand)(new V),(0,y.registerEditorCommand)(new j),(0,y.registerEditorCommand)(new K),(0,y.registerEditorCommand)(new Y),(0,y.registerEditorCommand)(new J),(0,y.registerEditorCommand)(new Z),(0,y.registerEditorAction)(ie)}),define(ee[709],te([0,1,15,158,3,24,288,26]),function(q,e,y,N,T,I,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class p extends b.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(s,o){let n=N.WordPartOperations.deleteWordPartLeft(s);return n||new T.Range(1,1,1,1)}}e.DeleteWordPartLeft=p;class h extends b.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(s,o){let n=N.WordPartOperations.deleteWordPartRight(s);if(n)return n;const d=s.model.getLineCount(),u=s.model.getLineMaxColumn(d);return new T.Range(d,u,d,u)}}e.DeleteWordPartRight=h;class g extends b.MoveWordCommand{_move(s,o,n,d){return N.WordPartOperations.moveWordPartLeft(s,o,n)}}e.WordPartLeftCommand=g;class i extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=i,C.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class t extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=t,C.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class r extends b.MoveWordCommand{_move(s,o,n,d){return N.WordPartOperations.moveWordPartRight(s,o,n)}}e.WordPartRightCommand=r;class c extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=c;class l extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=l,(0,y.registerEditorCommand)(new p),(0,y.registerEditorCommand)(new h),(0,y.registerEditorCommand)(new i),(0,y.registerEditorCommand)(new t),(0,y.registerEditorCommand)(new c),(0,y.registerEditorCommand)(new l)}),define(ee[710],te([0,1,7,110,29,132,2,37,3,31,380]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const g=new T.Color(new T.RGBA(0,122,204)),i={showArrow:!0,showFrame:!0,className:"",frameColor:g,arrowColor:g,keepEditorSelection:!1},t="vs.editor.contrib.zoneWidget";class r{constructor(o,n,d,u,f,S){this.id="",this.domNode=o,this.afterLineNumber=n,this.afterColumn=d,this.heightInLines=u,this._onDomNodeTop=f,this._onComputedHeight=S}onDomNodeTop(o){this._onDomNodeTop(o)}onComputedHeight(o){this._onComputedHeight(o)}}e.ViewZoneDelegate=r;class c{constructor(o,n){this._id=o,this._domNode=n}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=c;class l{constructor(o){this._editor=o,this._ruleName=l._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),y.removeCSSRulesContainingSelector(this._ruleName)}set color(o){this._color!==o&&(this._color=o,this._updateStyle())}set height(o){this._height!==o&&(this._height=o,this._updateStyle())}_updateStyle(){y.removeCSSRulesContainingSelector(this._ruleName),y.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(o){o.column===1&&(o={lineNumber:o.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:p.Range.fromPositions(o),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}l._IdGenerator=new I.IdGenerator(".arrow-decoration-");class a{constructor(o,n={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new b.DisposableStore,this.container=null,this._isShowing=!1,this.editor=o,this.options=C.deepClone(n),C.mixin(this.options,i,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(d=>{const u=this._getWidth(d);this.domNode.style.width=u+"px",this.domNode.style.left=this._getLeft(d)+"px",this._onWidth(u)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(o=>{this._viewZone&&o.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new l(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(o){o.frameColor&&(this.options.frameColor=o.frameColor),o.arrowColor&&(this.options.arrowColor=o.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let o=this.options.frameColor.toString();this.container.style.borderTopColor=o,this.container.style.borderBottomColor=o}if(this._arrow&&this.options.arrowColor){let o=this.options.arrowColor.toString();this._arrow.color=o}}_getWidth(o){return o.width-o.minimap.minimapWidth-o.verticalScrollbarWidth}_getLeft(o){return o.minimap.minimapWidth>0&&o.minimap.minimapLeft===0?o.minimap.minimapWidth:0}_onViewZoneTop(o){this.domNode.style.top=o+"px"}_onViewZoneHeight(o){if(this.domNode.style.height=`${o}px`,this.container){let n=o-this._decoratingElementsHeight();this.container.style.height=`${n}px`;const d=this.editor.getLayoutInfo();this._doLayout(n,this._getWidth(d))}this._resizeSash&&this._resizeSash.layout()}get position(){const[o]=this._positionMarkerId;if(!o)return;const n=this.editor.getModel();if(!n)return;const d=n.getDecorationRange(o);if(!!d)return d.getStartPosition()}show(o,n){const d=p.Range.isIRange(o)?p.Range.lift(o):p.Range.fromPositions(o);this._isShowing=!0,this._showImpl(d,n),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:d,options:h.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(o=>{this._viewZone&&o.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let o=this.editor.getOption(58),n=0;if(this.options.showArrow){let d=Math.round(o/3);n+=2*d}if(this.options.showFrame){let d=Math.round(o/9);n+=2*d}return n}_showImpl(o,n){const d=o.getStartPosition(),u=this.editor.getLayoutInfo(),f=this._getWidth(u);this.domNode.style.width=`${f}px`,this.domNode.style.left=this._getLeft(u)+"px";const S=document.createElement("div");S.style.overflow="hidden";const v=this.editor.getOption(58),m=Math.max(12,this.editor.getLayoutInfo().height/v*.8);n=Math.min(n,m);let _=0,L=0;if(this._arrow&&this.options.showArrow&&(_=Math.round(v/3),this._arrow.height=_,this._arrow.show(d)),this.options.showFrame&&(L=Math.round(v/9)),this.editor.changeViewZones(D=>{this._viewZone&&D.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new r(S,d.lineNumber,d.column,n,M=>this._onViewZoneTop(M),M=>this._onViewZoneHeight(M)),this._viewZone.id=D.addZone(this._viewZone),this._overlayWidget=new c(t+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const D=this.options.frameWidth?this.options.frameWidth:L;this.container.style.borderTopWidth=D+"px",this.container.style.borderBottomWidth=D+"px"}let w=n*v-this._decoratingElementsHeight();this.container&&(this.container.style.top=_+"px",this.container.style.height=w+"px",this.container.style.overflow="hidden"),this._doLayout(w,f),this.options.keepEditorSelection||this.editor.setSelection(o);const k=this.editor.getModel();if(k){const D=o.endLineNumber+1;D<=k.getLineCount()?this.revealLine(D,!1):this.revealLine(k.getLineCount(),!0)}}revealLine(o,n){n?this.editor.revealLineInCenter(o,0):this.editor.revealLine(o,0)}setCssClass(o,n){!this.container||(n&&this.container.classList.remove(n),this.container.classList.add(o))}_onWidth(o){}_doLayout(o,n){}_relayout(o){this._viewZone&&this._viewZone.heightInLines!==o&&this.editor.changeViewZones(n=>{this._viewZone&&(this._viewZone.heightInLines=o,n.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new N.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let o;this._disposables.add(this._resizeSash.onDidStart(n=>{this._viewZone&&(o={startY:n.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{o=void 0})),this._disposables.add(this._resizeSash.onDidChange(n=>{if(o){let d=(n.currentY-o.startY)/this.editor.getOption(58),u=d<0?Math.ceil(d):Math.floor(d),f=o.heightInLines+u;f>5&&f<35&&this._relayout(f)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const o=this.editor.getLayoutInfo();return o.width-o.minimap.minimapWidth}}e.ZoneWidget=a}),define(ee[131],te([0,1,7,81,51,27,29,4,37,15,28,161,710,530,193,16,71,9,22,374]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,s.createDecorator)("IPeekViewService"),(0,a.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(v,m){const _=this._widgets.get(v);_&&(_.listener.dispose(),_.widget.dispose());const L=()=>{const w=this._widgets.get(v);w&&w.widget===m&&(w.listener.dispose(),this._widgets.delete(v))};this._widgets.set(v,{widget:m,listener:m.onDidClose(L)})}});var n;(function(v){v.inPeekEditor=new l.RawContextKey("inReferenceSearchEditor",!0,r.localize(0,null)),v.notInPeekEditor=v.inPeekEditor.toNegated()})(n=e.PeekContext||(e.PeekContext={}));let d=class{constructor(m,_){m instanceof i.EmbeddedCodeEditorWidget&&n.inPeekEditor.bindTo(_)}dispose(){}};d.ID="editor.contrib.referenceController",d=Be([Ce(1,l.IContextKeyService)],d),(0,h.registerEditorContribution)(d.ID,d);function u(v){let m=v.get(g.ICodeEditorService).getFocusedCodeEditor();return m instanceof i.EmbeddedCodeEditorWidget?m.getParentEditor():m}e.getOuterEditor=u;const f={headerBackgroundColor:b.Color.white,primaryHeadingColor:b.Color.fromHex("#333333"),secondaryHeadingColor:b.Color.fromHex("#6c6c6cb3")};let S=class extends t.ZoneWidget{constructor(m,_,L){super(m,_);this.instantiationService=L,this._onDidClose=new C.Emitter,this.onDidClose=this._onDidClose.event,p.mixin(this.options,f,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(m){let _=this.options;m.headerBackgroundColor&&(_.headerBackgroundColor=m.headerBackgroundColor),m.primaryHeadingColor&&(_.primaryHeadingColor=m.primaryHeadingColor),m.secondaryHeadingColor&&(_.secondaryHeadingColor=m.secondaryHeadingColor),super.style(m)}_applyStyles(){super._applyStyles();let m=this.options;this._headElement&&m.headerBackgroundColor&&(this._headElement.style.backgroundColor=m.headerBackgroundColor.toString()),this._primaryHeading&&m.primaryHeadingColor&&(this._primaryHeading.style.color=m.primaryHeadingColor.toString()),this._secondaryHeading&&m.secondaryHeadingColor&&(this._secondaryHeading.style.color=m.secondaryHeadingColor.toString()),this._bodyElement&&m.frameColor&&(this._bodyElement.style.borderColor=m.frameColor.toString())}_fillContainer(m){this.setCssClass("peekview-widget"),this._headElement=y.$(".head"),this._bodyElement=y.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),m.appendChild(this._headElement),m.appendChild(this._bodyElement)}_fillHead(m,_){const L=y.$(".peekview-title");this.options.supportOnTitleClick&&(L.classList.add("clickable"),y.addStandardDisposableListener(L,"click",D=>this._onTitleClick(D))),y.append(this._headElement,L),this._fillTitleIcon(L),this._primaryHeading=y.$("span.filename"),this._secondaryHeading=y.$("span.dirname"),this._metaHeading=y.$("span.meta"),y.append(L,this._primaryHeading,this._secondaryHeading,this._metaHeading);const w=y.$(".peekview-actions");y.append(this._headElement,w);const k=this._getActionBarOptions();this._actionbarWidget=new N.ActionBar(w,k),this._disposables.add(this._actionbarWidget),_||this._actionbarWidget.push(new T.Action("peekview.close",r.localize(1,null),I.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(m){}_getActionBarOptions(){return{actionViewItemProvider:c.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(m){}setTitle(m,_){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=m,this._primaryHeading.setAttribute("title",m),_?this._secondaryHeading.innerText=_:y.clearNode(this._secondaryHeading))}setMetaTitle(m){this._metaHeading&&(m?(this._metaHeading.innerText=m,y.show(this._metaHeading)):y.hide(this._metaHeading))}_doLayout(m,_){if(!this._isShowing&&m<0){this.dispose();return}const L=Math.ceil(this.editor.getOption(58)*1.2),w=Math.round(m-(L+2));this._doLayoutHead(L,_),this._doLayoutBody(w,_)}_doLayoutHead(m,_){this._headElement&&(this._headElement.style.height=`${m}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(m,_){this._bodyElement&&(this._bodyElement.style.height=`${m}px`)}};S=Be([Ce(2,s.IInstantiationService)],S),e.PeekViewWidget=S,e.peekViewTitleBackground=(0,o.registerColor)("peekViewTitle.background",{dark:(0,o.transparent)(o.editorInfoForeground,.1),light:(0,o.transparent)(o.editorInfoForeground,.1),hc:null},r.localize(2,null)),e.peekViewTitleForeground=(0,o.registerColor)("peekViewTitleLabel.foreground",{dark:b.Color.white,light:b.Color.black,hc:b.Color.white},r.localize(3,null)),e.peekViewTitleInfoForeground=(0,o.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},r.localize(4,null)),e.peekViewBorder=(0,o.registerColor)("peekView.border",{dark:o.editorInfoForeground,light:o.editorInfoForeground,hc:o.contrastBorder},r.localize(5,null)),e.peekViewResultsBackground=(0,o.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:b.Color.black},r.localize(6,null)),e.peekViewResultsMatchForeground=(0,o.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:b.Color.white},r.localize(7,null)),e.peekViewResultsFileForeground=(0,o.registerColor)("peekViewResult.fileForeground",{dark:b.Color.white,light:"#1E1E1E",hc:b.Color.white},r.localize(8,null)),e.peekViewResultsSelectionBackground=(0,o.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},r.localize(9,null)),e.peekViewResultsSelectionForeground=(0,o.registerColor)("peekViewResult.selectionForeground",{dark:b.Color.white,light:"#6C6C6C",hc:b.Color.white},r.localize(10,null)),e.peekViewEditorBackground=(0,o.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:b.Color.black},r.localize(11,null)),e.peekViewEditorGutterBackground=(0,o.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hc:e.peekViewEditorBackground},r.localize(12,null)),e.peekViewResultsMatchHighlight=(0,o.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},r.localize(13,null)),e.peekViewEditorMatchHighlight=(0,o.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},r.localize(14,null)),e.peekViewEditorMatchHighlightBorder=(0,o.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:o.activeContrastBorder},r.localize(15,null))}),define(ee[711],te([0,1,7,63,19,29,4,170,2,42,8,3,131,507,193,36,16,9,125,92,53,664,22,12,367]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfoHeader=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarningHeader=e.editorMarkerNavigationWarning=e.editorMarkerNavigationErrorHeader=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class v{constructor(D,M,O,F,R){this._openerService=F,this._labelService=R,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new p.DisposableStore,this._editor=M;const A=document.createElement("div");A.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),A.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),A.appendChild(this._relatedBlock),this._disposables.add(y.addStandardDisposableListener(this._relatedBlock,"click",P=>{P.preventDefault();const E=this._relatedDiagnostics.get(P.target);E&&O(E)})),this._scrollable=new N.ScrollableElement(A,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),D.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(P=>{A.style.left=`-${P.scrollLeft}px`,A.style.top=`-${P.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,p.dispose)(this._disposables)}update(D){const{source:M,message:O,relatedInformation:F,code:R}=D;let A=((M==null?void 0:M.length)||0)+"()".length;R&&(typeof R=="string"?A+=R.length:A+=R.value.length);const P=(0,g.splitLines)(O);this._lines=P.length,this._longestLineLength=0;for(const K of P)this._longestLineLength=Math.max(K.length+A,this._longestLineLength);y.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(D)),this._editor.applyFontInfo(this._messageBlock);let E=this._messageBlock;for(const K of P)E=document.createElement("div"),E.innerText=K,K===""&&(E.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(E);if(M||R){const K=document.createElement("span");if(K.classList.add("details"),E.appendChild(K),M){const Y=document.createElement("span");Y.innerText=M,Y.classList.add("source"),K.appendChild(Y)}if(R)if(typeof R=="string"){const Y=document.createElement("span");Y.innerText=`(${R})`,Y.classList.add("code"),K.appendChild(Y)}else{this._codeLink=y.$("a.code-link"),this._codeLink.setAttribute("href",`${R.target.toString()}`),this._codeLink.onclick=J=>{this._openerService.open(R.target,{allowCommands:!0}),J.preventDefault(),J.stopPropagation()};const Y=y.append(this._codeLink,y.$("span"));Y.innerText=R.value,K.appendChild(this._codeLink)}}if(y.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,T.isNonEmptyArray)(F)){const K=this._relatedBlock.appendChild(document.createElement("div"));K.style.paddingTop=`${Math.floor(this._editor.getOption(58)*.66)}px`,this._lines+=1;for(const Y of F){let J=document.createElement("div"),Z=document.createElement("a");Z.classList.add("filename"),Z.innerText=`${(0,C.getBaseLabel)(Y.resource)}(${Y.startLineNumber}, ${Y.startColumn}): `,Z.title=this._labelService.getUriLabel(Y.resource),this._relatedDiagnostics.set(Z,Y);let ie=document.createElement("span");ie.innerText=Y.message,J.appendChild(Z),J.appendChild(ie),this._lines+=1,K.appendChild(J)}}const B=this._editor.getOption(43),V=Math.ceil(B.typicalFullwidthCharacterWidth*this._longestLineLength*.75),j=B.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:V,scrollHeight:j})}layout(D,M){this._scrollable.getDomNode().style.height=`${D}px`,this._scrollable.getDomNode().style.width=`${M}px`,this._scrollable.setScrollDimensions({width:M,height:D})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(D){let M="";switch(D.severity){case n.MarkerSeverity.Error:M=r.localize(0,null);break;case n.MarkerSeverity.Warning:M=r.localize(1,null);break;case n.MarkerSeverity.Info:M=r.localize(2,null);break;case n.MarkerSeverity.Hint:M=r.localize(3,null);break}let O=r.localize(4,null,M,D.startLineNumber+":"+D.startColumn);const F=this._editor.getModel();return F&&D.startLineNumber<=F.getLineCount()&&D.startLineNumber>=1&&(O=`${F.getLineContent(D.startLineNumber)}, ${O}`),O}}let m=class Oi extends t.PeekViewWidget{constructor(D,M,O,F,R,A,P){super(D,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},R);this._themeService=M,this._openerService=O,this._menuService=F,this._contextKeyService=A,this._labelService=P,this._callOnDispose=new p.DisposableStore,this._onDidSelectRelatedInformation=new b.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=n.MarkerSeverity.Warning,this._backgroundColor=I.Color.white,this._applyTheme(M.getColorTheme()),this._callOnDispose.add(M.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(D){this._backgroundColor=D.getColor(e.editorMarkerNavigationBackground);let M=e.editorMarkerNavigationError,O=e.editorMarkerNavigationErrorHeader;this._severity===n.MarkerSeverity.Warning?(M=e.editorMarkerNavigationWarning,O=e.editorMarkerNavigationWarningHeader):this._severity===n.MarkerSeverity.Info&&(M=e.editorMarkerNavigationInfo,O=e.editorMarkerNavigationInfoHeader);const F=D.getColor(M),R=D.getColor(O);this.style({arrowColor:F,frameColor:F,headerBackgroundColor:R,primaryHeadingColor:D.getColor(t.peekViewTitleForeground),secondaryHeadingColor:D.getColor(t.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(D){super._fillHead(D),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(F=>this.editor.focus()));const M=[],O=this._menuService.createMenu(Oi.TitleMenu,this._contextKeyService);(0,c.createAndFillInActionBarActions)(O,void 0,M),this._actionbarWidget.push(M,{label:!1,icon:!0,index:0}),O.dispose()}_fillTitleIcon(D){this._icon=y.append(D,y.$(""))}_fillBody(D){this._parentContainer=D,D.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),D.appendChild(this._container),this._message=new v(this._container,this.editor,M=>this._onDidSelectRelatedInformation.fire(M),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(D,M,O){this._container.classList.remove("stale"),this._message.update(D),this._severity=D.severity,this._applyTheme(this._themeService.getColorTheme());let F=i.Range.lift(D);const R=this.editor.getPosition();let A=R&&F.containsPosition(R)?R:F.getStartPosition();super.show(A,this.computeRequiredHeight());const P=this.editor.getModel();if(P){const E=O>1?r.localize(5,null,M,O):r.localize(6,null,M,O);this.setTitle((0,h.basename)(P.uri),E)}this._icon.className=`codicon ${u.SeverityIcon.className(n.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(A,0),this.editor.focus()}updateMarker(D){this._container.classList.remove("stale"),this._message.update(D)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(D,M){super._doLayoutBody(D,M),this._heightInPixel=D,this._message.layout(D,M),this._container.style.height=`${D}px`}_onWidth(D){this._message.layout(this._heightInPixel,D)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};m.TitleMenu=new l.MenuId("gotoErrorTitleMenu"),m=Be([Ce(1,S.IThemeService),Ce(2,d.IOpenerService),Ce(3,l.IMenuService),Ce(4,s.IInstantiationService),Ce(5,a.IContextKeyService),Ce(6,o.ILabelService)],m),e.MarkerNavigationWidget=m;let _=(0,f.oneOf)(f.editorErrorForeground,f.editorErrorBorder),L=(0,f.oneOf)(f.editorWarningForeground,f.editorWarningBorder),w=(0,f.oneOf)(f.editorInfoForeground,f.editorInfoBorder);e.editorMarkerNavigationError=(0,f.registerColor)("editorMarkerNavigationError.background",{dark:_,light:_,hc:f.contrastBorder},r.localize(7,null)),e.editorMarkerNavigationErrorHeader=(0,f.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,f.transparent)(e.editorMarkerNavigationError,.1),light:(0,f.transparent)(e.editorMarkerNavigationError,.1),hc:null},r.localize(8,null)),e.editorMarkerNavigationWarning=(0,f.registerColor)("editorMarkerNavigationWarning.background",{dark:L,light:L,hc:f.contrastBorder},r.localize(9,null)),e.editorMarkerNavigationWarningHeader=(0,f.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,f.transparent)(e.editorMarkerNavigationWarning,.1),light:(0,f.transparent)(e.editorMarkerNavigationWarning,.1),hc:"#0C141F"},r.localize(10,null)),e.editorMarkerNavigationInfo=(0,f.registerColor)("editorMarkerNavigationInfo.background",{dark:w,light:w,hc:f.contrastBorder},r.localize(11,null)),e.editorMarkerNavigationInfoHeader=(0,f.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,f.transparent)(e.editorMarkerNavigationInfo,.1),light:(0,f.transparent)(e.editorMarkerNavigationInfo,.1),hc:null},r.localize(12,null)),e.editorMarkerNavigationBackground=(0,f.registerColor)("editorMarkerNavigation.background",{dark:f.editorBackground,light:f.editorBackground,hc:f.editorBackground},r.localize(13,null))}),define(ee[289],te([0,1,27,2,15,28,14,3,24,591,506,36,16,9,68,711]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let a=class Wt{constructor(m,_,L,w,k){this._markerNavigationService=_,this._contextKeyService=L,this._editorService=w,this._instantiationService=k,this._sessionDispoables=new N.DisposableStore,this._editor=m,this._widgetVisible=f.bindTo(this._contextKeyService)}static get(m){return m.getContribution(Wt.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(m){if(this._model&&this._model.matches(m))return this._model;let _=!1;return this._model&&(_=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(m),_&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(l.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(L=>{var w,k,D;(!((w=this._model)===null||w===void 0?void 0:w.selected)||!C.Range.containsPosition((k=this._model)===null||k===void 0?void 0:k.selected.marker,L.position))&&((D=this._model)===null||D===void 0||D.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const L=this._model.find(this._editor.getModel().uri,this._widget.position);L?this._widget.updateMarker(L.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(L=>{this._editorService.openCodeEditor({resource:L.resource,options:{pinned:!0,revealIfOpened:!0,selection:C.Range.lift(L).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(m=!0){this._cleanUp(),m&&this._editor.focus()}showAtMarker(m){if(this._editor.hasModel()){const _=this._getOrCreateModel(this._editor.getModel().uri);_.resetIndex(),_.move(!0,this._editor.getModel(),new b.Position(m.startLineNumber,m.startColumn)),_.selected&&this._widget.showAtMarker(_.selected.marker,_.selected.index,_.selected.total)}}nagivate(m,_){return Ae(this,void 0,void 0,function*(){if(this._editor.hasModel()){const L=this._getOrCreateModel(_?void 0:this._editor.getModel().uri);if(L.move(m,this._editor.getModel(),this._editor.getPosition()),!L.selected)return;if(L.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const w=yield this._editorService.openCodeEditor({resource:L.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:L.selected.marker}},this._editor);w&&(Wt.get(w).close(),Wt.get(w).nagivate(m,_))}else this._widget.showAtMarker(L.selected.marker,L.selected.index,L.selected.total)}})}};a.ID="editor.contrib.markerController",a=Be([Ce(1,h.IMarkerNavigationService),Ce(2,t.IContextKeyService),Ce(3,I.ICodeEditorService),Ce(4,r.IInstantiationService)],a),e.MarkerController=a;class s extends T.EditorAction{constructor(m,_,L){super(L);this._next=m,this._multiFile=_}run(m,_){return Ae(this,void 0,void 0,function*(){_.hasModel()&&a.get(_).nagivate(this._next,this._multiFile)})}}class o extends s{constructor(){super(!0,!1,{id:o.ID,label:o.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:l.MarkerNavigationWidget.TitleMenu,title:o.LABEL,icon:(0,c.registerIcon)("marker-navigation-next",y.Codicon.arrowDown,g.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=o,o.ID="editor.action.marker.next",o.LABEL=g.localize(0,null);class n extends s{constructor(){super(!1,!1,{id:n.ID,label:n.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:l.MarkerNavigationWidget.TitleMenu,title:o.LABEL,icon:(0,c.registerIcon)("marker-navigation-previous",y.Codicon.arrowUp,g.localize(3,null)),group:"navigation",order:2}})}}n.ID="editor.action.marker.prev",n.LABEL=g.localize(2,null);class d extends s{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:g.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:i.MenuId.MenubarGoMenu,title:g.localize(5,null),group:"6_problem_nav",order:1}})}}class u extends s{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:g.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:i.MenuId.MenubarGoMenu,title:g.localize(7,null),group:"6_problem_nav",order:2}})}}(0,T.registerEditorContribution)(a.ID,a),(0,T.registerEditorAction)(o),(0,T.registerEditorAction)(n),(0,T.registerEditorAction)(d),(0,T.registerEditorAction)(u);const f=new t.RawContextKey("markersNavigationVisible",!1),S=T.EditorCommand.bindToContribution(a.get);(0,T.registerEditorCommand)(new S({id:"closeMarkersNavigation",precondition:f,handler:v=>v.close(),kbOpts:{weight:100+50,kbExpr:p.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(ee[712],te([0,1,7,221,29,4,2,48,42,161,3,31,39,38,66,625,131,512,9,41,125,157,12,130,121,369]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class m{constructor(D,M){this._editor=D,this._model=M,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new b.DisposableStore,this._callOnModelChange=new b.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const D=this._editor.getModel();if(!!D){for(let M of this._model.references)if(M.uri.toString()===D.uri.toString()){this._addDecorations(M.parent);return}}}_addDecorations(D){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const M=[],O=[];for(let R=0,A=D.children.length;R<A;R++){let P=D.children[R];this._decorationIgnoreSet.has(P.id)||P.uri.toString()===this._editor.getModel().uri.toString()&&(M.push({range:P.range,options:m.DecorationOptions}),O.push(R))}const F=this._editor.deltaDecorations([],M);for(let R=0;R<F.length;R++)this._decorations.set(F[R],D.children[O[R]])}_onDecorationChanged(){const D=[],M=this._editor.getModel();if(!!M){for(let[O,F]of this._decorations){const R=M.getDecorationRange(O);if(!R)continue;let A=!1;if(!g.Range.equalsRange(R,F.range)){if(g.Range.spansMultipleLines(R))A=!0;else{const P=F.range.endColumn-F.range.startColumn,E=R.endColumn-R.startColumn;P!==E&&(A=!0)}A?(this._decorationIgnoreSet.add(F.id),D.push(O)):F.range=R}}for(let O=0,F=D.length;O<F;O++)this._decorations.delete(D[O]);this._editor.deltaDecorations(D,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}m.DecorationOptions=i.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class _{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(D){let M,O;try{const F=JSON.parse(D);M=F.ratio,O=F.heightInLines}catch(F){}return{ratio:M||.7,heightInLines:O||18}}}e.LayoutData=_;class L extends u.WorkbenchAsyncDataTree{}let w=class extends a.PeekViewWidget{constructor(D,M,O,F,R,A,P,E,B,V,j,K){super(D,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},A);this._defaultTreeKeyboardSupport=M,this.layoutData=O,this._textModelResolverService=R,this._instantiationService=A,this._peekViewService=P,this._uriLabel=E,this._undoRedoService=B,this._keybindingService=V,this._modeService=j,this._languageConfigurationService=K,this._disposeOnNewModel=new b.DisposableStore,this._callOnDispose=new b.DisposableStore,this._onDidSelectReference=new I.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new y.Dimension(0,0),this._applyTheme(F.getColorTheme()),this._callOnDispose.add(F.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(D,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,b.dispose)(this._preview),(0,b.dispose)(this._previewNotAvailableMessage),(0,b.dispose)(this._tree),(0,b.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(D){const M=D.getColor(a.peekViewBorder)||T.Color.transparent;this.style({arrowColor:M,frameColor:M,headerBackgroundColor:D.getColor(a.peekViewTitleBackground)||T.Color.transparent,primaryHeadingColor:D.getColor(a.peekViewTitleForeground),secondaryHeadingColor:D.getColor(a.peekViewTitleInfoForeground)})}show(D){this.editor.revealRangeInCenterIfOutsideViewport(D,0),super.show(D,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(D){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:D.ctrlKey||D.metaKey||D.altKey?"side":"open",source:"title"})}_fillBody(D){this.setCssClass("reference-zone-widget"),this._messageContainer=y.append(D,y.$("div.messages")),y.hide(this._messageContainer),this._splitView=new N.SplitView(D,{orientation:1}),this._previewContainer=y.append(D,y.$("div.preview.inline"));let M={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(h.EmbeddedCodeEditorWidget,this._previewContainer,M,this.editor),y.hide(this._previewContainer),this._previewNotAvailableMessage=new i.TextModel(s.localize(0,null),i.TextModel.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService,this._modeService,this._languageConfigurationService),this._treeContainer=y.append(D,y.$("div.ref-tree.inline"));const O={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new l.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(l.StringRepresentationProvider),identityProvider:new l.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:a.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(y.addStandardDisposableListener(this._treeContainer,"keydown",R=>{R.equals(9)&&(this._keybindingService.dispatchEvent(R,R.target),R.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(L,"ReferencesWidget",this._treeContainer,new l.Delegate,[this._instantiationService.createInstance(l.FileReferencesRenderer),this._instantiationService.createInstance(l.OneReferenceRenderer)],this._instantiationService.createInstance(l.DataSource),O),this._splitView.addView({onDidChange:I.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:R=>{this._preview.layout({height:this._dim.height,width:R})}},N.Sizing.Distribute),this._splitView.addView({onDidChange:I.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:R=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${R}px`,this._tree.layout(this._dim.height,R)}},N.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let F=(R,A)=>{R instanceof v.OneReference&&(A==="show"&&this._revealReference(R,!1),this._onDidSelectReference.fire({element:R,kind:A,source:"tree"}))};this._tree.onDidOpen(R=>{R.sideBySide?F(R.element,"side"):R.editorOptions.pinned?F(R.element,"goto"):F(R.element,"show")}),y.hide(this._treeContainer)}_onWidth(D){this._dim&&this._doLayoutBody(this._dim.height,D)}_doLayoutBody(D,M){super._doLayoutBody(D,M),this._dim=new y.Dimension(M,D),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(M),this._splitView.resizeView(0,M*this.layoutData.ratio)}setSelection(D){return this._revealReference(D,!0).then(()=>{!this._model||(this._tree.setSelection([D]),this._tree.setFocus([D]))})}setModel(D){return this._disposeOnNewModel.clear(),this._model=D,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=s.localize(1,null),y.show(this._messageContainer),Promise.resolve(void 0)):(y.hide(this._messageContainer),this._decorationsManager=new m(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(D=>this._tree.rerender(D))),this._disposeOnNewModel.add(this._preview.onMouseDown(D=>{const{event:M,target:O}=D;if(M.detail!==2)return;const F=this._getFocusedReference();!F||this._onDidSelectReference.fire({element:{uri:F.uri,range:O.range},kind:M.ctrlKey||M.metaKey||M.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),y.show(this._treeContainer),y.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[D]=this._tree.getFocus();if(D instanceof v.OneReference)return D;if(D instanceof v.FileReferences&&D.children.length>0)return D.children[0]}revealReference(D){return Ae(this,void 0,void 0,function*(){yield this._revealReference(D,!1),this._onDidSelectReference.fire({element:D,kind:"goto",source:"tree"})})}_revealReference(D,M){return Ae(this,void 0,void 0,function*(){if(this._revealedReference===D)return;this._revealedReference=D,D.uri.scheme!==C.Schemas.inMemory?this.setTitle((0,p.basenameOrAuthority)(D.uri),this._uriLabel.getUriLabel((0,p.dirname)(D.uri))):this.setTitle(s.localize(2,null));const O=this._textModelResolverService.createModelReference(D.uri);this._tree.getInput()===D.parent?this._tree.reveal(D):(M&&this._tree.reveal(D.parent),yield this._tree.expand(D.parent),this._tree.reveal(D));const F=yield O;if(!this._model){F.dispose();return}(0,b.dispose)(this._previewModelReference);const R=F.object;if(R){const A=this._preview.getModel()===R.textEditorModel?0:1,P=g.Range.lift(D.range).collapseToStart();this._previewModelReference=F,this._preview.setModel(R.textEditorModel),this._preview.setSelection(P),this._preview.revealRangeInCenter(P,A)}else this._preview.setModel(this._previewNotAvailableMessage),F.dispose()})}};w=Be([Ce(3,f.IThemeService),Ce(4,c.ITextModelService),Ce(5,o.IInstantiationService),Ce(6,a.IPeekViewService),Ce(7,d.ILabelService),Ce(8,S.IUndoRedoService),Ce(9,n.IKeybindingService),Ce(10,r.IModeService),Ce(11,t.ILanguageConfigurationService)],w),e.ReferenceWidget=w}),define(ee[290],te([0,1,10,13,56,2,28,14,3,131,510,26,35,16,9,82,157,40,76,121,712]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new r.RawContextKey("referenceSearchVisible",!1,g.localize(0,null));let u=class Jt{constructor(v,m,_,L,w,k,D,M){this._defaultTreeKeyboardSupport=v,this._editor=m,this._editorService=L,this._notificationService=w,this._instantiationService=k,this._storageService=D,this._configurationService=M,this._disposables=new I.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(_)}static get(v){return v.getContribution(Jt.ID)}dispose(){var v,m;this._referenceSearchVisible.reset(),this._disposables.dispose(),(v=this._widget)===null||v===void 0||v.dispose(),(m=this._model)===null||m===void 0||m.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(v,m,_){let L;if(this._widget&&(L=this._widget.position),this.closeWidget(),!!L&&v.containsPosition(L))return;this._peekMode=_,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const w="peekViewLayout",k=d.LayoutData.fromJSON(this._storageService.get(w,0,"{}"));this._widget=this._instantiationService.createInstance(d.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,k),this._widget.setTitle(g.localize(1,null)),this._widget.show(v),this._disposables.add(this._widget.onDidClose(()=>{m.cancel(),this._widget&&(this._storageService.store(w,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(M=>{let{element:O,kind:F}=M;if(!!O)switch(F){case"open":(M.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(O,!1,!1);break;case"side":this.openReference(O,!0,!1);break;case"goto":_?this._gotoReference(O):this.openReference(O,!1,!0);break}}));const D=++this._requestIdPool;m.then(M=>{var O;if(D!==this._requestIdPool||!this._widget){M.dispose();return}return(O=this._model)===null||O===void 0||O.dispose(),this._model=M,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(g.localize(2,null,this._model.title,this._model.references.length));let F=this._editor.getModel().uri,R=new C.Position(v.startLineNumber,v.startColumn),A=this._model.nearestReference(F,R);if(A)return this._widget.setSelection(A).then(()=>{this._widget&&this._editor.getOption(76)==="editor"&&this._widget.focusOnPreviewEditor()})}})},M=>{this._notificationService.error(M)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(v){return Ae(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const m=this._widget.position;if(!m)return;const _=this._model.nearestReference(this._editor.getModel().uri,m);if(!_)return;const L=this._model.nextOrPreviousReference(_,v),w=this._editor.hasTextFocus(),k=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(L),yield this._gotoReference(L),w?this._editor.focus():this._widget&&k&&this._widget.focusOnPreviewEditor()})}revealReference(v){return Ae(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(v))})}closeWidget(v=!0){var m,_;(m=this._widget)===null||m===void 0||m.dispose(),(_=this._model)===null||_===void 0||_.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,v&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(v){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const m=p.Range.lift(v.range).collapseToStart();return this._editorService.openCodeEditor({resource:v.uri,options:{selection:m}},this._editor).then(_=>{var L;if(this._ignoreModelChangeEvent=!1,!_||!this._widget){this.closeWidget();return}if(this._editor===_)this._widget.show(m),this._widget.focusOnReferenceTree();else{const w=Jt.get(_),k=this._model.clone();this.closeWidget(),_.focus(),w.toggleWidget(m,(0,y.createCancelablePromise)(D=>Promise.resolve(k)),(L=this._peekMode)!==null&&L!==void 0?L:!1)}},_=>{this._ignoreModelChangeEvent=!1,(0,N.onUnexpectedError)(_)})}openReference(v,m,_){m||this.closeWidget();const{uri:L,range:w}=v;this._editorService.openCodeEditor({resource:L,options:{selection:w,pinned:_}},this._editor,m)}};u.ID="editor.contrib.referencesController",u=Be([Ce(2,r.IContextKeyService),Ce(3,b.ICodeEditorService),Ce(4,s.INotificationService),Ce(5,c.IInstantiationService),Ce(6,o.IStorageService),Ce(7,t.IConfigurationService)],u),e.ReferencesController=u;function f(S,v){const m=(0,h.getOuterEditor)(S);if(!m)return;let _=u.get(m);_&&v(_)}l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,T.KeyChord)(2048|41,60),when:r.ContextKeyExpr.or(e.ctxReferenceSearchVisible,h.PeekContext.inPeekEditor),handler(S){f(S,v=>{v.changeFocusBetweenPreviewAndReferences()})}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:r.ContextKeyExpr.or(e.ctxReferenceSearchVisible,h.PeekContext.inPeekEditor),handler(S){f(S,v=>{v.goToNextOrPreviousReference(!0)})}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:r.ContextKeyExpr.or(e.ctxReferenceSearchVisible,h.PeekContext.inPeekEditor),handler(S){f(S,v=>{v.goToNextOrPreviousReference(!1)})}}),i.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),i.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),i.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),i.CommandsRegistry.registerCommand("closeReferenceSearch",S=>f(S,v=>v.closeWidget())),l.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:r.ContextKeyExpr.and(h.PeekContext.inPeekEditor,r.ContextKeyExpr.not("config.editor.stablePeek"))}),l.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:r.ContextKeyExpr.and(e.ctxReferenceSearchVisible,r.ContextKeyExpr.not("config.editor.stablePeek"))}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:r.ContextKeyExpr.and(e.ctxReferenceSearchVisible,a.WorkbenchListFocusContextKey),handler(S){var v;const _=(v=S.get(a.IListService).lastFocusedList)===null||v===void 0?void 0:v.getFocus();Array.isArray(_)&&_[0]instanceof n.OneReference&&f(S,L=>L.revealReference(_[0]))}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:r.ContextKeyExpr.and(e.ctxReferenceSearchVisible,a.WorkbenchListFocusContextKey),handler(S){var v;const _=(v=S.get(a.IListService).lastFocusedList)===null||v===void 0?void 0:v.getFocus();Array.isArray(_)&&_[0]instanceof n.OneReference&&f(S,L=>L.openReference(_[0],!0,!0))}}),i.CommandsRegistry.registerCommand("openReference",S=>{var v;const _=(v=S.get(a.IListService).lastFocusedList)===null||v===void 0?void 0:v.getFocus();Array.isArray(_)&&_[0]instanceof n.OneReference&&f(S,L=>L.openReference(_[0],!1,!0))})}),define(ee[291],te([0,1,34,44,10,56,17,20,25,67,113,15,28,161,14,3,24,18,290,121,643,156,131,508,36,26,16,9,40,61,277]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S,v,m,_,L,w,k,D){"use strict";var M,O,F,R,A,P,E,B;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=void 0,v.MenuRegistry.appendMenuItem(v.MenuId.EditorContext,{submenu:v.MenuId.EditorContextPeek,title:S.localize(0,null),group:"navigation",order:100});const V=new Set;function j(z){const U=new z;return(0,i.registerInstantiatedEditorAction)(U),V.add(U.id),U}class K extends i.EditorAction{constructor(U,x){super(x);this._configuration=U}run(U,x){if(!x.hasModel())return Promise.resolve(void 0);const X=U.get(w.INotificationService),le=U.get(t.ICodeEditorService),fe=U.get(k.IEditorProgressService),$=U.get(d.ISymbolNavigationService),H=x.getModel(),Q=x.getPosition(),re=new h.EditorStateCancellationTokenSource(x,1|4),ce=(0,T.raceCancellation)(this._getLocationModel(H,Q,re.token),re.token).then(oe=>Ae(this,void 0,void 0,function*(){if(!oe||re.token.isCancellationRequested)return;(0,N.alert)(oe.ariaMessage);let de;if(oe.referenceAt(H.uri,Q)){const _e=this._getAlternativeCommand(x);_e!==this.id&&V.has(_e)&&(de=x.getAction(_e))}const pe=oe.references.length;if(pe===0){if(!this._configuration.muteMessage){const _e=H.getWordAtPosition(Q);u.MessageController.get(x).showMessage(this._getNoResultFoundMessage(_e),Q)}}else if(pe===1&&de)de.run();else return this._onResult(le,$,x,oe)}),oe=>{X.error(oe)}).finally(()=>{re.dispose()});return fe.showWhile(ce,250),ce}_onResult(U,x,X,le){return Ae(this,void 0,void 0,function*(){const fe=this._getGoToPreference(X);if(!(X instanceof r.EmbeddedCodeEditorWidget)&&(this._configuration.openInPeek||fe==="peek"&&le.references.length>1))this._openInPeek(X,le);else{const $=le.firstReference(),H=le.references.length>1&&fe==="gotoAndPeek",Q=yield this._openReference(X,U,$,this._configuration.openToSide,!H);H&&Q?this._openInPeek(Q,le):le.dispose(),fe==="goto"&&x.put($)}})}_openReference(U,x,X,le,fe){return Ae(this,void 0,void 0,function*(){let $;if((0,s.isLocationLink)(X)&&($=X.targetSelectionRange),$||($=X.range),!$)return;const H=yield x.openCodeEditor({resource:X.uri,options:{selection:l.Range.collapseToStart($),selectionRevealType:3}},U,le);if(!!H){if(fe){const Q=H.getModel(),re=H.deltaDecorations([],[{range:$,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{H.getModel()===Q&&H.deltaDecorations(re,[])},350)}return H}})}_openInPeek(U,x){let X=o.ReferencesController.get(U);X&&U.hasModel()?X.toggleWidget(U.getSelection(),(0,T.createCancelablePromise)(le=>Promise.resolve(x)),this._configuration.openInPeek):x.dispose()}}class Y extends K{_getLocationModel(U,x,X){return Ae(this,void 0,void 0,function*(){return new n.ReferencesModel(yield(0,D.getDefinitionsAtPosition)(U,x,X),S.localize(1,null))})}_getNoResultFoundMessage(U){return U&&U.word?S.localize(2,null,U.word):S.localize(3,null)}_getAlternativeCommand(U){return U.getOption(50).alternativeDefinitionCommand}_getGoToPreference(U){return U.getOption(50).multipleDefinitions}}e.DefinitionAction=Y;const J=b.isWeb&&!y.isStandalone?2048|70:70;j((M=class ei extends Y{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ei.id,label:S.localize(4,null),alias:"Go to Definition",precondition:_.ContextKeyExpr.and(a.EditorContextKeys.hasDefinitionProvider,a.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:J,weight:100},contextMenuOpts:{group:"navigation",order:1.1}});m.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",ei.id)}},M.id="editor.action.revealDefinition",M)),j((O=class ti extends Y{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:ti.id,label:S.localize(5,null),alias:"Open Definition to the Side",precondition:_.ContextKeyExpr.and(a.EditorContextKeys.hasDefinitionProvider,a.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,J),weight:100}});m.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",ti.id)}},O.id="editor.action.revealDefinitionAside",O)),j((F=class ii extends Y{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ii.id,label:S.localize(6,null),alias:"Peek Definition",precondition:_.ContextKeyExpr.and(a.EditorContextKeys.hasDefinitionProvider,f.PeekContext.notInPeekEditor,a.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:v.MenuId.EditorContextPeek,group:"peek",order:2}});m.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",ii.id)}},F.id="editor.action.peekDefinition",F));class Z extends K{_getLocationModel(U,x,X){return Ae(this,void 0,void 0,function*(){return new n.ReferencesModel(yield(0,D.getDeclarationsAtPosition)(U,x,X),S.localize(7,null))})}_getNoResultFoundMessage(U){return U&&U.word?S.localize(8,null,U.word):S.localize(9,null)}_getAlternativeCommand(U){return U.getOption(50).alternativeDeclarationCommand}_getGoToPreference(U){return U.getOption(50).multipleDeclarations}}j((R=class Fi extends Z{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Fi.id,label:S.localize(10,null),alias:"Go to Declaration",precondition:_.ContextKeyExpr.and(a.EditorContextKeys.hasDeclarationProvider,a.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(U){return U&&U.word?S.localize(11,null,U.word):S.localize(12,null)}},R.id="editor.action.revealDeclaration",R)),j(class extends Z{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:S.localize(13,null),alias:"Peek Declaration",precondition:_.ContextKeyExpr.and(a.EditorContextKeys.hasDeclarationProvider,f.PeekContext.notInPeekEditor,a.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:v.MenuId.EditorContextPeek,group:"peek",order:3}})}});class ie extends K{_getLocationModel(U,x,X){return Ae(this,void 0,void 0,function*(){return new n.ReferencesModel(yield(0,D.getTypeDefinitionsAtPosition)(U,x,X),S.localize(14,null))})}_getNoResultFoundMessage(U){return U&&U.word?S.localize(15,null,U.word):S.localize(16,null)}_getAlternativeCommand(U){return U.getOption(50).alternativeTypeDefinitionCommand}_getGoToPreference(U){return U.getOption(50).multipleTypeDefinitions}}j((A=class Bi extends ie{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Bi.ID,label:S.localize(17,null),alias:"Go to Type Definition",precondition:_.ContextKeyExpr.and(a.EditorContextKeys.hasTypeDefinitionProvider,a.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},A.ID="editor.action.goToTypeDefinition",A)),j((P=class Wi extends ie{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Wi.ID,label:S.localize(18,null),alias:"Peek Type Definition",precondition:_.ContextKeyExpr.and(a.EditorContextKeys.hasTypeDefinitionProvider,f.PeekContext.notInPeekEditor,a.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:v.MenuId.EditorContextPeek,group:"peek",order:4}})}},P.ID="editor.action.peekTypeDefinition",P));class ne extends K{_getLocationModel(U,x,X){return Ae(this,void 0,void 0,function*(){return new n.ReferencesModel(yield(0,D.getImplementationsAtPosition)(U,x,X),S.localize(19,null))})}_getNoResultFoundMessage(U){return U&&U.word?S.localize(20,null,U.word):S.localize(21,null)}_getAlternativeCommand(U){return U.getOption(50).alternativeImplementationCommand}_getGoToPreference(U){return U.getOption(50).multipleImplementations}}j((E=class xi extends ne{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:xi.ID,label:S.localize(22,null),alias:"Go to Implementations",precondition:_.ContextKeyExpr.and(a.EditorContextKeys.hasImplementationProvider,a.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},E.ID="editor.action.goToImplementation",E)),j((B=class Vi extends ne{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Vi.ID,label:S.localize(23,null),alias:"Peek Implementations",precondition:_.ContextKeyExpr.and(a.EditorContextKeys.hasImplementationProvider,f.PeekContext.notInPeekEditor,a.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:v.MenuId.EditorContextPeek,group:"peek",order:5}})}},B.ID="editor.action.peekImplementation",B));class G extends K{_getNoResultFoundMessage(U){return U?S.localize(24,null,U.word):S.localize(25,null)}_getAlternativeCommand(U){return U.getOption(50).alternativeReferenceCommand}_getGoToPreference(U){return U.getOption(50).multipleReferences}}j(class extends G{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:S.localize(26,null),alias:"Go to References",precondition:_.ContextKeyExpr.and(a.EditorContextKeys.hasReferenceProvider,f.PeekContext.notInPeekEditor,a.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(U,x,X){return Ae(this,void 0,void 0,function*(){return new n.ReferencesModel(yield(0,D.getReferencesAtPosition)(U,x,!0,X),S.localize(27,null))})}}),j(class extends G{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:S.localize(28,null),alias:"Peek References",precondition:_.ContextKeyExpr.and(a.EditorContextKeys.hasReferenceProvider,f.PeekContext.notInPeekEditor,a.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:v.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(U,x,X){return Ae(this,void 0,void 0,function*(){return new n.ReferencesModel(yield(0,D.getReferencesAtPosition)(U,x,!1,X),S.localize(29,null))})}});class W extends K{constructor(U,x,X){super(U,{id:"editor.action.goToLocation",label:S.localize(30,null),alias:"Go to Any Symbol",precondition:_.ContextKeyExpr.and(f.PeekContext.notInPeekEditor,a.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=x,this._gotoMultipleBehaviour=X}_getLocationModel(U,x,X){return Ae(this,void 0,void 0,function*(){return new n.ReferencesModel(this._references,S.localize(31,null))})}_getNoResultFoundMessage(U){return U&&S.localize(32,null,U.word)||""}_getGoToPreference(U){var x;return(x=this._gotoMultipleBehaviour)!==null&&x!==void 0?x:U.getOption(50).multipleReferences}_getAlternativeCommand(){return""}}m.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:p.URI},{name:"position",description:"The position at which to start",constraint:c.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(z,U,x,X,le,fe,$)=>Ae(void 0,void 0,void 0,function*(){(0,C.assertType)(p.URI.isUri(U)),(0,C.assertType)(c.Position.isIPosition(x)),(0,C.assertType)(Array.isArray(X)),(0,C.assertType)(typeof le=="undefined"||typeof le=="string"),(0,C.assertType)(typeof $=="undefined"||typeof $=="boolean");const H=z.get(t.ICodeEditorService),Q=yield H.openCodeEditor({resource:U},H.getFocusedCodeEditor());if((0,g.isCodeEditor)(Q))return Q.setPosition(x),Q.revealPositionInCenterIfOutsideViewport(x,0),Q.invokeWithinContext(re=>{const ce=new class extends W{_getNoResultFoundMessage(oe){return fe||super._getNoResultFoundMessage(oe)}}({muteMessage:!Boolean(fe),openInPeek:Boolean($),openToSide:!1},X,le);re.get(L.IInstantiationService).invokeFunction(ce.run.bind(ce),Q)})})}),m.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:p.URI},{name:"position",description:"The position at which to start",constraint:c.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(z,U,x,X,le)=>Ae(void 0,void 0,void 0,function*(){z.get(m.ICommandService).executeCommand("editor.action.goToLocations",U,x,X,le,void 0,!0)})}),m.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(z,U,x)=>{(0,C.assertType)(p.URI.isUri(U)),(0,C.assertType)(c.Position.isIPosition(x));const X=z.get(t.ICodeEditorService);return X.openCodeEditor({resource:U},X.getFocusedCodeEditor()).then(le=>{if(!(0,g.isCodeEditor)(le)||!le.hasModel())return;const fe=o.ReferencesController.get(le);if(!fe)return;const $=(0,T.createCancelablePromise)(Q=>(0,D.getReferencesAtPosition)(le.getModel(),c.Position.lift(x),!1,Q).then(re=>new n.ReferencesModel(re,S.localize(33,null)))),H=new l.Range(x.lineNumber,x.column,x.lineNumber,x.column);return Promise.resolve(fe.toggleWidget(H,$,!1))})}}),m.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),v.MenuRegistry.appendMenuItems([{id:v.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:S.localize(34,null)},group:"4_symbol_nav",order:2}},{id:v.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:S.localize(35,null)},group:"4_symbol_nav",order:3}},{id:v.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:S.localize(36,null)},group:"4_symbol_nav",order:3}},{id:v.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:S.localize(37,null)},group:"4_symbol_nav",order:4}},{id:v.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:S.localize(38,null)},group:"4_symbol_nav",order:5}}])}),define(ee[292],te([0,1,10,13,70,2,20,67,15,14,3,18,38,66,240,131,509,16,22,12,291,277,368]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let f=class It{constructor(v,m,_){this.textModelResolverService=m,this.modeService=_,this.toUnhook=new I.DisposableStore,this.toUnhookForKeyboard=new I.DisposableStore,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=v;let L=new c.ClickLinkGesture(v);this.toUnhook.add(L),this.toUnhook.add(L.onMouseMoveOrRelevantKeyDown(([w,k])=>{this.startFindDefinitionFromMouse(w,(0,b.withNullAsUndefined)(k))})),this.toUnhook.add(L.onExecute(w=>{this.isEnabled(w)&&this.gotoDefinition(w.target.position,w.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},k=>{this.removeLinkDecorations(),(0,N.onUnexpectedError)(k)})})),this.toUnhook.add(L.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(v){return v.getContribution(It.ID)}startFindDefinitionFromCursor(v){return this.startFindDefinition(v).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(m=>{m&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(v,m){if(v.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(v,m)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const _=v.target.position;this.startFindDefinition(_)}startFindDefinition(v){var m;this.toUnhookForKeyboard.clear();const _=v?(m=this.editor.getModel())===null||m===void 0?void 0:m.getWordAtPosition(v):null;if(!_)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===_.startColumn&&this.currentWordAtPosition.endColumn===_.endColumn&&this.currentWordAtPosition.word===_.word)return Promise.resolve(0);this.currentWordAtPosition=_;let L=new C.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,y.createCancelablePromise)(w=>this.findDefinition(v,w)),this.previousPromise.then(w=>{if(!w||!w.length||!L.validate(this.editor)){this.removeLinkDecorations();return}if(w.length>1)this.addDecoration(new g.Range(v.lineNumber,_.startColumn,v.lineNumber,_.endColumn),new T.MarkdownString().appendText(a.localize(0,null,w.length)));else{let k=w[0];if(!k.uri)return;this.textModelResolverService.createModelReference(k.uri).then(D=>{if(!D.object||!D.object.textEditorModel){D.dispose();return}const{object:{textEditorModel:M}}=D,{startLineNumber:O}=k.range;if(O<1||O>M.getLineCount()){D.dispose();return}const F=this.getPreviewValue(M,O,k);let R;k.originSelectionRange?R=g.Range.lift(k.originSelectionRange):R=new g.Range(v.lineNumber,_.startColumn,v.lineNumber,_.endColumn);const A=this.modeService.getModeIdByFilepathOrFirstLine(M.uri);this.addDecoration(R,new T.MarkdownString().appendCodeblock(A||"",F)),D.dispose()})}}).then(void 0,N.onUnexpectedError)}getPreviewValue(v,m,_){let L=_.targetSelectionRange?_.range:this.getPreviewRangeBasedOnBrackets(v,m);return L.endLineNumber-L.startLineNumber>=It.MAX_SOURCE_PREVIEW_LINES&&(L=this.getPreviewRangeBasedOnIndentation(v,m)),this.stripIndentationFromPreviewRange(v,m,L)}stripIndentationFromPreviewRange(v,m,_){let w=v.getLineFirstNonWhitespaceColumn(m);for(let D=m+1;D<_.endLineNumber;D++){const M=v.getLineFirstNonWhitespaceColumn(D);w=Math.min(w,M)}return v.getValueInRange(_).replace(new RegExp(`^\\s{${w-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(v,m){const _=v.getLineFirstNonWhitespaceColumn(m),L=Math.min(v.getLineCount(),m+It.MAX_SOURCE_PREVIEW_LINES);let w=m+1;for(;w<L;w++){let k=v.getLineFirstNonWhitespaceColumn(w);if(_===k)break}return new g.Range(m,1,w+1,1)}getPreviewRangeBasedOnBrackets(v,m){const _=Math.min(v.getLineCount(),m+It.MAX_SOURCE_PREVIEW_LINES),L=[];let w=!0,k=v.bracketPairs.findNextBracket(new h.Position(m,1));for(;k!==null;){if(L.length===0)L.push(k);else{const F=L[L.length-1];if(F.open[0]===k.open[0]&&F.isOpen&&!k.isOpen?L.pop():L.push(k),L.length===0)if(w)w=!1;else return new g.Range(m,1,k.range.endLineNumber+1,1)}const D=v.getLineMaxColumn(m);let M=k.range.endLineNumber,O=k.range.endColumn;if(D===k.range.endColumn&&(M++,O=1),M>_)return new g.Range(m,1,_+1,1);k=v.bracketPairs.findNextBracket(new h.Position(M,O))}return new g.Range(m,1,_+1,1)}addDecoration(v,m){const _={range:v,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:m}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[_])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(v,m){return this.editor.hasModel()&&v.isNoneOrSingleMouseDown&&v.target.type===6&&(v.hasTriggerModifier||(m?m.keyCodeIsTriggerKey:!1))&&i.DefinitionProviderRegistry.has(this.editor.getModel())}findDefinition(v,m){const _=this.editor.getModel();return _?(0,u.getDefinitionsAtPosition)(_,v,m):Promise.resolve(null)}gotoDefinition(v,m){return this.editor.setPosition(v),this.editor.invokeWithinContext(_=>{const L=!m&&this.editor.getOption(77)&&!this.isInPeekEditor(_);return new d.DefinitionAction({openToSide:m,openInPeek:L,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(_,this.editor)})}isInPeekEditor(v){const m=v.get(s.IContextKeyService);return l.PeekContext.inPeekEditor.getValue(m)}dispose(){this.toUnhook.dispose()}};f.ID="editor.contrib.gotodefinitionatposition",f.MAX_SOURCE_PREVIEW_LINES=8,f=Be([Ce(1,r.ITextModelService),Ce(2,t.IModeService)],f),e.GotoDefinitionAtPositionEditorContribution=f,(0,p.registerEditorContribution)(f.ID,f),(0,n.registerThemingParticipant)((S,v)=>{const m=S.getColor(o.editorActiveLinkForeground);m&&v.addRule(`.monaco-editor .goto-definition-link { color: ${m} !important; }`)})}),define(ee[713],te([0,1,7,19,10,13,2,42,3,189,155,285,149,289,517,92,53,61,22,12]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const d=y.$;class u{constructor(m,_,L){this.owner=m,this.range=_,this.marker=L}isValidForHoverAnchor(m){return m.type===1&&this.range.startColumn<=m.range.startColumn&&this.range.endColumn>=m.range.endColumn}}e.MarkerHover=u;const f={type:1,filter:{include:t.CodeActionKind.QuickFix}};let S=class{constructor(m,_,L,w){this._editor=m,this._hover=_,this._markerDecorationsService=L,this._openerService=w,this.recentMarkerCodeActionsInfo=void 0}computeSync(m,_){if(!this._editor.hasModel()||m.type!==1)return[];const L=this._editor.getModel(),w=m.range.startLineNumber,k=L.getLineMaxColumn(w),D=[];for(const M of _){const O=M.range.startLineNumber===w?M.range.startColumn:1,F=M.range.endLineNumber===w?M.range.endColumn:k,R=this._markerDecorationsService.getMarker(L.uri,M);if(!R)continue;const A=new p.Range(m.range.startLineNumber,O,m.range.startLineNumber,F);D.push(new u(this,A,R))}return D}renderHoverParts(m,_,L){if(!m.length)return b.Disposable.None;const w=new b.DisposableStore;m.forEach(D=>_.appendChild(this.renderMarkerHover(D,w)));const k=m.length===1?m[0]:m.sort((D,M)=>l.MarkerSeverity.compare(D.marker.severity,M.marker.severity))[0];return this.renderMarkerStatusbar(k,L,w),w}renderMarkerHover(m,_){const L=d("div.hover-row"),w=y.append(L,d("div.marker.hover-contents")),{source:k,message:D,code:M,relatedInformation:O}=m.marker;this._editor.applyFontInfo(w);const F=y.append(w,d("span"));if(F.style.whiteSpace="pre-wrap",F.innerText=D,k||M)if(M&&typeof M!="string"){const R=d("span");if(k){const B=y.append(R,d("span"));B.innerText=k}const A=y.append(R,d("a.code-link"));A.setAttribute("href",M.target.toString()),_.add(y.addDisposableListener(A,"click",B=>{this._openerService.open(M.target,{allowCommands:!0}),B.preventDefault(),B.stopPropagation()}));const P=y.append(A,d("span"));P.innerText=M.value;const E=y.append(w,R);E.style.opacity="0.6",E.style.paddingLeft="6px"}else{const R=y.append(w,d("span"));R.style.opacity="0.6",R.style.paddingLeft="6px",R.innerText=k&&M?`${k}(${M})`:k||`(${M})`}if((0,N.isNonEmptyArray)(O))for(const{message:R,resource:A,startLineNumber:P,startColumn:E}of O){const B=y.append(w,d("div"));B.style.marginTop="8px";const V=y.append(B,d("a"));V.innerText=`${(0,C.basename)(A)}(${P}, ${E}): `,V.style.cursor="pointer",_.add(y.addDisposableListener(V,"click",K=>{K.stopPropagation(),K.preventDefault(),this._openerService&&this._openerService.open(A,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:P,startColumn:E}}}).catch(I.onUnexpectedError)}));const j=y.append(B,d("span"));j.innerText=R,this._editor.applyFontInfo(j)}return L}renderMarkerStatusbar(m,_,L){if((m.marker.severity===l.MarkerSeverity.Error||m.marker.severity===l.MarkerSeverity.Warning||m.marker.severity===l.MarkerSeverity.Info)&&_.addAction({label:c.localize(0,null),commandId:r.NextMarkerAction.ID,run:()=>{this._hover.hide(),r.MarkerController.get(this._editor).showAtMarker(m.marker),this._editor.focus()}}),!this._editor.getOption(80)){const w=_.append(d("div"));this.recentMarkerCodeActionsInfo&&(l.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===l.IMarkerData.makeKey(m.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(w.textContent=c.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const k=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?b.Disposable.None:L.add((0,T.disposableTimeout)(()=>w.textContent=c.localize(2,null),200));w.textContent||(w.textContent=String.fromCharCode(160));const D=this.getCodeActions(m.marker);L.add((0,b.toDisposable)(()=>D.cancel())),D.then(M=>{if(k.dispose(),this.recentMarkerCodeActionsInfo={marker:m.marker,hasCodeActions:M.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){M.dispose(),w.textContent=c.localize(3,null);return}w.style.display="none";let O=!1;L.add((0,b.toDisposable)(()=>{O||M.dispose()})),_.addAction({label:c.localize(4,null),commandId:i.QuickFixAction.Id,run:F=>{O=!0;const R=i.QuickFixController.get(this._editor),A=y.getDomNodePagePosition(F);this._hover.hide(),R.showCodeActions(f,M,{x:A.left+6,y:A.top+A.height+6})}})},I.onUnexpectedError)}}getCodeActions(m){return(0,T.createCancelablePromise)(_=>(0,g.getCodeActions)(this._editor.getModel(),new p.Range(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn),f,s.Progress.None,_))}};S=Be([Ce(2,h.IMarkerDecorationsService),Ce(3,a.IOpenerService)],S),e.MarkerHoverParticipant=S,(0,n.registerThemingParticipant)((v,m)=>{const _=v.getColor(o.textLinkForeground);_&&m.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${_}; }`);const L=v.getColor(o.textLinkActiveForeground);L&&m.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${L}; }`)})}),define(ee[714],te([0,1,15,28,290,35,16,9,40,76]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let g=class extends T.ReferencesController{constructor(t,r,c,l,a,s,o){super(!0,t,r,c,l,a,s,o)}};g=Be([Ce(1,b.IContextKeyService),Ce(2,N.ICodeEditorService),Ce(3,p.INotificationService),Ce(4,C.IInstantiationService),Ce(5,h.IStorageService),Ce(6,I.IConfigurationService)],g),e.StandaloneReferencesController=g,(0,y.registerEditorContribution)(T.ReferencesController.ID,g)}),define(ee[715],te([0,1,13,2,48,79,562,124,71,40,130]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const i=!1;function t(S){return S.scheme===T.Schemas.file?S.fsPath:S.path}let r=0;class c{constructor(v,m,_,L,w,k,D){this.id=++r,this.type=0,this.actual=v,this.label=v.label,this.confirmBeforeUndo=v.confirmBeforeUndo||!1,this.resourceLabel=m,this.strResource=_,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=L,this.groupOrder=w,this.sourceId=k,this.sourceOrder=D,this.isValid=!0}setValid(v){this.isValid=v}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class l{constructor(v,m){this.resourceLabel=v,this.reason=m}}class a{constructor(){this.elements=new Map}createMessage(){const v=[],m=[];for(const[,L]of this.elements)(L.reason===0?v:m).push(L.resourceLabel);let _=[];return v.length>0&&_.push(b.localize(0,null,v.join(", "))),m.length>0&&_.push(b.localize(1,null,m.join(", "))),_.join(`
`)}get size(){return this.elements.size}has(v){return this.elements.has(v)}set(v,m){this.elements.set(v,m)}delete(v){return this.elements.delete(v)}}class s{constructor(v,m,_,L,w,k,D){this.id=++r,this.type=1,this.actual=v,this.label=v.label,this.confirmBeforeUndo=v.confirmBeforeUndo||!1,this.resourceLabels=m,this.strResources=_,this.groupId=L,this.groupOrder=w,this.sourceId=k,this.sourceOrder=D,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(v,m,_){this.removedResources||(this.removedResources=new a),this.removedResources.has(m)||this.removedResources.set(m,new l(v,_))}setValid(v,m,_){_?this.invalidatedResources&&(this.invalidatedResources.delete(m),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new a),this.invalidatedResources.has(m)||this.invalidatedResources.set(m,new l(v,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class o{constructor(v,m){this.resourceLabel=v,this.strResource=m,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const v of this._past)v.type===1&&v.removeResource(this.resourceLabel,this.strResource,0);for(const v of this._future)v.type===1&&v.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let v=[];v.push(`* ${this.strResource}:`);for(let m=0;m<this._past.length;m++)v.push(`   * [UNDO] ${this._past[m]}`);for(let m=this._future.length-1;m>=0;m--)v.push(`   * [REDO] ${this._future[m]}`);return v.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(v,m){v.type===1?v.setValid(this.resourceLabel,this.strResource,m):v.setValid(m)}setElementsValidFlag(v,m){for(const _ of this._past)m(_.actual)&&this._setElementValidFlag(_,v);for(const _ of this._future)m(_.actual)&&this._setElementValidFlag(_,v)}pushElement(v){for(const m of this._future)m.type===1&&m.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(v),this.versionId++}createSnapshot(v){const m=[];for(let _=0,L=this._past.length;_<L;_++)m.push(this._past[_].id);for(let _=this._future.length-1;_>=0;_--)m.push(this._future[_].id);return new g.ResourceEditStackSnapshot(v,m)}restoreSnapshot(v){const m=v.elements.length;let _=!0,L=0,w=-1;for(let D=0,M=this._past.length;D<M;D++,L++){const O=this._past[D];_&&(L>=m||O.id!==v.elements[L])&&(_=!1,w=0),!_&&O.type===1&&O.removeResource(this.resourceLabel,this.strResource,0)}let k=-1;for(let D=this._future.length-1;D>=0;D--,L++){const M=this._future[D];_&&(L>=m||M.id!==v.elements[L])&&(_=!1,k=D),!_&&M.type===1&&M.removeResource(this.resourceLabel,this.strResource,0)}w!==-1&&(this._past=this._past.slice(0,w)),k!==-1&&(this._future=this._future.slice(k+1)),this.versionId++}getElements(){const v=[],m=[];for(const _ of this._past)v.push(_.actual);for(const _ of this._future)m.push(_.actual);return{past:v,future:m}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(v,m){for(let _=this._past.length-1;_>=0;_--)if(this._past[_]===v){m.has(this.strResource)?this._past[_]=m.get(this.strResource):this._past.splice(_,1);break}this.versionId++}splitFutureWorkspaceElement(v,m){for(let _=this._future.length-1;_>=0;_--)if(this._future[_]===v){m.has(this.strResource)?this._future[_]=m.get(this.strResource):this._future.splice(_,1);break}this.versionId++}moveBackward(v){this._past.pop(),this._future.push(v),this.versionId++}moveForward(v){this._future.pop(),this._past.push(v),this.versionId++}}class n{constructor(v){this.editStacks=v,this._versionIds=[];for(let m=0,_=this.editStacks.length;m<_;m++)this._versionIds[m]=this.editStacks[m].versionId}isValid(){for(let v=0,m=this.editStacks.length;v<m;v++)if(this._versionIds[v]!==this.editStacks[v].versionId)return!1;return!0}}const d=new o("","");d.locked=!0;let u=class{constructor(v,m){this._dialogService=v,this._notificationService=m,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(v){for(const m of this._uriComparisonKeyComputers)if(m[0]===v.scheme)return m[1].getComparisonKey(v);return v.toString()}_print(v){console.log("------------------------------------"),console.log(`AFTER ${v}: `);let m=[];for(const _ of this._editStacks)m.push(_[1].toString());console.log(m.join(`
`))}pushElement(v,m=g.UndoRedoGroup.None,_=g.UndoRedoSource.None){if(v.type===0){const L=t(v.resource),w=this.getUriComparisonKey(v.resource);this._pushElement(new c(v,L,w,m.id,m.nextOrder(),_.id,_.nextOrder()))}else{const L=new Set,w=[],k=[];for(const D of v.resources){const M=t(D),O=this.getUriComparisonKey(D);L.has(O)||(L.add(O),w.push(M),k.push(O))}w.length===1?this._pushElement(new c(v,w[0],k[0],m.id,m.nextOrder(),_.id,_.nextOrder())):this._pushElement(new s(v,w,k,m.id,m.nextOrder(),_.id,_.nextOrder()))}i&&this._print("pushElement")}_pushElement(v){for(let m=0,_=v.strResources.length;m<_;m++){const L=v.resourceLabels[m],w=v.strResources[m];let k;this._editStacks.has(w)?k=this._editStacks.get(w):(k=new o(L,w),this._editStacks.set(w,k)),k.pushElement(v)}}getLastElement(v){const m=this.getUriComparisonKey(v);if(this._editStacks.has(m)){const _=this._editStacks.get(m);if(_.hasFutureElements())return null;const L=_.getClosestPastElement();return L?L.actual:null}return null}_splitPastWorkspaceElement(v,m){const _=v.actual.split(),L=new Map;for(const w of _){const k=t(w.resource),D=this.getUriComparisonKey(w.resource),M=new c(w,k,D,0,0,0,0);L.set(M.strResource,M)}for(const w of v.strResources){if(m&&m.has(w))continue;this._editStacks.get(w).splitPastWorkspaceElement(v,L)}}_splitFutureWorkspaceElement(v,m){const _=v.actual.split(),L=new Map;for(const w of _){const k=t(w.resource),D=this.getUriComparisonKey(w.resource),M=new c(w,k,D,0,0,0,0);L.set(M.strResource,M)}for(const w of v.strResources){if(m&&m.has(w))continue;this._editStacks.get(w).splitFutureWorkspaceElement(v,L)}}removeElements(v){const m=typeof v=="string"?v:this.getUriComparisonKey(v);this._editStacks.has(m)&&(this._editStacks.get(m).dispose(),this._editStacks.delete(m)),i&&this._print("removeElements")}setElementsValidFlag(v,m,_){const L=this.getUriComparisonKey(v);this._editStacks.has(L)&&this._editStacks.get(L).setElementsValidFlag(m,_),i&&this._print("setElementsValidFlag")}createSnapshot(v){const m=this.getUriComparisonKey(v);return this._editStacks.has(m)?this._editStacks.get(m).createSnapshot(v):new g.ResourceEditStackSnapshot(v,[])}restoreSnapshot(v){const m=this.getUriComparisonKey(v.resource);if(this._editStacks.has(m)){const _=this._editStacks.get(m);_.restoreSnapshot(v),!_.hasPastElements()&&!_.hasFutureElements()&&(_.dispose(),this._editStacks.delete(m))}i&&this._print("restoreSnapshot")}getElements(v){const m=this.getUriComparisonKey(v);return this._editStacks.has(m)?this._editStacks.get(m).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(v){if(!v)return[null,null];let m=null,_=null;for(const[L,w]of this._editStacks){const k=w.getClosestPastElement();!k||k.sourceId===v&&(!m||k.sourceOrder>m.sourceOrder)&&(m=k,_=L)}return[m,_]}canUndo(v){if(v instanceof g.UndoRedoSource){const[,_]=this._findClosestUndoElementWithSource(v.id);return!!_}const m=this.getUriComparisonKey(v);return this._editStacks.has(m)?this._editStacks.get(m).hasPastElements():!1}_onError(v,m){(0,y.onUnexpectedError)(v);for(const _ of m.strResources)this.removeElements(_);this._notificationService.error(v)}_acquireLocks(v){for(const m of v.editStacks)if(m.locked)throw new Error("Cannot acquire edit stack lock");for(const m of v.editStacks)m.locked=!0;return()=>{for(const m of v.editStacks)m.locked=!1}}_safeInvokeWithLocks(v,m,_,L,w){const k=this._acquireLocks(_);let D;try{D=m()}catch(M){return k(),L.dispose(),this._onError(M,v)}return D?D.then(()=>(k(),L.dispose(),w()),M=>(k(),L.dispose(),this._onError(M,v))):(k(),L.dispose(),w())}_invokeWorkspacePrepare(v){return Ae(this,void 0,void 0,function*(){if(typeof v.actual.prepareUndoRedo=="undefined")return N.Disposable.None;const m=v.actual.prepareUndoRedo();return typeof m=="undefined"?N.Disposable.None:m})}_invokeResourcePrepare(v,m){if(v.actual.type!==1||typeof v.actual.prepareUndoRedo=="undefined")return m(N.Disposable.None);const _=v.actual.prepareUndoRedo();return _?(0,N.isDisposable)(_)?m(_):_.then(L=>m(L)):m(N.Disposable.None)}_getAffectedEditStacks(v){const m=[];for(const _ of v.strResources)m.push(this._editStacks.get(_)||d);return new n(m)}_tryToSplitAndUndo(v,m,_,L){if(m.canSplit())return this._splitPastWorkspaceElement(m,_),this._notificationService.warn(L),new f(this._undo(v,0,!0));for(const w of m.strResources)this.removeElements(w);return this._notificationService.warn(L),new f}_checkWorkspaceUndo(v,m,_,L){if(m.removedResources)return this._tryToSplitAndUndo(v,m,m.removedResources,b.localize(2,null,m.label,m.removedResources.createMessage()));if(L&&m.invalidatedResources)return this._tryToSplitAndUndo(v,m,m.invalidatedResources,b.localize(3,null,m.label,m.invalidatedResources.createMessage()));const w=[];for(const D of _.editStacks)D.getClosestPastElement()!==m&&w.push(D.resourceLabel);if(w.length>0)return this._tryToSplitAndUndo(v,m,null,b.localize(4,null,m.label,w.join(", ")));const k=[];for(const D of _.editStacks)D.locked&&k.push(D.resourceLabel);return k.length>0?this._tryToSplitAndUndo(v,m,null,b.localize(5,null,m.label,k.join(", "))):_.isValid()?null:this._tryToSplitAndUndo(v,m,null,b.localize(6,null,m.label))}_workspaceUndo(v,m,_){const L=this._getAffectedEditStacks(m),w=this._checkWorkspaceUndo(v,m,L,!1);return w?w.returnValue:this._confirmAndExecuteWorkspaceUndo(v,m,L,_)}_isPartOfUndoGroup(v){if(!v.groupId)return!1;for(const[,m]of this._editStacks){const _=m.getClosestPastElement();if(!!_){if(_===v){const L=m.getSecondClosestPastElement();if(L&&L.groupId===v.groupId)return!0}if(_.groupId===v.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(v,m,_,L){return Ae(this,void 0,void 0,function*(){if(m.canSplit()&&!this._isPartOfUndoGroup(m)){const D=yield this._dialogService.show(I.default.Info,b.localize(7,null,m.label),[b.localize(8,null,_.editStacks.length),b.localize(9,null),b.localize(10,null)],{cancelId:2});if(D.choice===2)return;if(D.choice===1)return this._splitPastWorkspaceElement(m,null),this._undo(v,0,!0);const M=this._checkWorkspaceUndo(v,m,_,!1);if(M)return M.returnValue;L=!0}let w;try{w=yield this._invokeWorkspacePrepare(m)}catch(D){return this._onError(D,m)}const k=this._checkWorkspaceUndo(v,m,_,!0);if(k)return w.dispose(),k.returnValue;for(const D of _.editStacks)D.moveBackward(m);return this._safeInvokeWithLocks(m,()=>m.actual.undo(),_,w,()=>this._continueUndoInGroup(m.groupId,L))})}_resourceUndo(v,m,_){if(!m.isValid){v.flushAllElements();return}if(v.locked){const L=b.localize(11,null,m.label);this._notificationService.warn(L);return}return this._invokeResourcePrepare(m,L=>(v.moveBackward(m),this._safeInvokeWithLocks(m,()=>m.actual.undo(),new n([v]),L,()=>this._continueUndoInGroup(m.groupId,_))))}_findClosestUndoElementInGroup(v){if(!v)return[null,null];let m=null,_=null;for(const[L,w]of this._editStacks){const k=w.getClosestPastElement();!k||k.groupId===v&&(!m||k.groupOrder>m.groupOrder)&&(m=k,_=L)}return[m,_]}_continueUndoInGroup(v,m){if(!v)return;const[,_]=this._findClosestUndoElementInGroup(v);if(_)return this._undo(_,0,m)}undo(v){if(v instanceof g.UndoRedoSource){const[,m]=this._findClosestUndoElementWithSource(v.id);return m?this._undo(m,v.id,!1):void 0}return typeof v=="string"?this._undo(v,0,!1):this._undo(this.getUriComparisonKey(v),0,!1)}_undo(v,m=0,_){if(!this._editStacks.has(v))return;const L=this._editStacks.get(v),w=L.getClosestPastElement();if(!w)return;if(w.groupId){const[D,M]=this._findClosestUndoElementInGroup(w.groupId);if(w!==D&&M)return this._undo(M,m,_)}if((w.sourceId!==m||w.confirmBeforeUndo)&&!_)return this._confirmAndContinueUndo(v,m,w);try{return w.type===1?this._workspaceUndo(v,w,_):this._resourceUndo(L,w,_)}finally{i&&this._print("undo")}}_confirmAndContinueUndo(v,m,_){return Ae(this,void 0,void 0,function*(){if((yield this._dialogService.show(I.default.Info,b.localize(12,null,_.label),[b.localize(13,null),b.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(v,m,!0)})}_findClosestRedoElementWithSource(v){if(!v)return[null,null];let m=null,_=null;for(const[L,w]of this._editStacks){const k=w.getClosestFutureElement();!k||k.sourceId===v&&(!m||k.sourceOrder<m.sourceOrder)&&(m=k,_=L)}return[m,_]}canRedo(v){if(v instanceof g.UndoRedoSource){const[,_]=this._findClosestRedoElementWithSource(v.id);return!!_}const m=this.getUriComparisonKey(v);return this._editStacks.has(m)?this._editStacks.get(m).hasFutureElements():!1}_tryToSplitAndRedo(v,m,_,L){if(m.canSplit())return this._splitFutureWorkspaceElement(m,_),this._notificationService.warn(L),new f(this._redo(v));for(const w of m.strResources)this.removeElements(w);return this._notificationService.warn(L),new f}_checkWorkspaceRedo(v,m,_,L){if(m.removedResources)return this._tryToSplitAndRedo(v,m,m.removedResources,b.localize(15,null,m.label,m.removedResources.createMessage()));if(L&&m.invalidatedResources)return this._tryToSplitAndRedo(v,m,m.invalidatedResources,b.localize(16,null,m.label,m.invalidatedResources.createMessage()));const w=[];for(const D of _.editStacks)D.getClosestFutureElement()!==m&&w.push(D.resourceLabel);if(w.length>0)return this._tryToSplitAndRedo(v,m,null,b.localize(17,null,m.label,w.join(", ")));const k=[];for(const D of _.editStacks)D.locked&&k.push(D.resourceLabel);return k.length>0?this._tryToSplitAndRedo(v,m,null,b.localize(18,null,m.label,k.join(", "))):_.isValid()?null:this._tryToSplitAndRedo(v,m,null,b.localize(19,null,m.label))}_workspaceRedo(v,m){const _=this._getAffectedEditStacks(m),L=this._checkWorkspaceRedo(v,m,_,!1);return L?L.returnValue:this._executeWorkspaceRedo(v,m,_)}_executeWorkspaceRedo(v,m,_){return Ae(this,void 0,void 0,function*(){let L;try{L=yield this._invokeWorkspacePrepare(m)}catch(k){return this._onError(k,m)}const w=this._checkWorkspaceRedo(v,m,_,!0);if(w)return L.dispose(),w.returnValue;for(const k of _.editStacks)k.moveForward(m);return this._safeInvokeWithLocks(m,()=>m.actual.redo(),_,L,()=>this._continueRedoInGroup(m.groupId))})}_resourceRedo(v,m){if(!m.isValid){v.flushAllElements();return}if(v.locked){const _=b.localize(20,null,m.label);this._notificationService.warn(_);return}return this._invokeResourcePrepare(m,_=>(v.moveForward(m),this._safeInvokeWithLocks(m,()=>m.actual.redo(),new n([v]),_,()=>this._continueRedoInGroup(m.groupId))))}_findClosestRedoElementInGroup(v){if(!v)return[null,null];let m=null,_=null;for(const[L,w]of this._editStacks){const k=w.getClosestFutureElement();!k||k.groupId===v&&(!m||k.groupOrder<m.groupOrder)&&(m=k,_=L)}return[m,_]}_continueRedoInGroup(v){if(!v)return;const[,m]=this._findClosestRedoElementInGroup(v);if(m)return this._redo(m)}redo(v){if(v instanceof g.UndoRedoSource){const[,m]=this._findClosestRedoElementWithSource(v.id);return m?this._redo(m):void 0}return typeof v=="string"?this._redo(v):this._redo(this.getUriComparisonKey(v))}_redo(v){if(!this._editStacks.has(v))return;const m=this._editStacks.get(v),_=m.getClosestFutureElement();if(!!_){if(_.groupId){const[L,w]=this._findClosestRedoElementInGroup(_.groupId);if(_!==L&&w)return this._redo(w)}try{return _.type===1?this._workspaceRedo(v,_):this._resourceRedo(m,_)}finally{i&&this._print("redo")}}}};u=Be([Ce(0,C.IDialogService),Ce(1,h.INotificationService)],u),e.UndoRedoService=u;class f{constructor(v){this.returnValue=v}}(0,p.registerSingleton)(g.IUndoRedoService,u)}),define(ee[201],te([0,1,47,9]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceFolder=e.Workspace=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,N.createDecorator)("contextService");class T{constructor(C,p,h,g,i){this._id=C,this._transient=h,this._configuration=g,this._ignorePathCasing=i,this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=p}get folders(){return this._folders}set folders(C){this._folders=C,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(C){this._configuration=C}getFolder(C){return C&&this._foldersMap.findSubstr(C.with({scheme:C.scheme,authority:C.authority,path:C.path}))||null}updateFoldersMap(){this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing);for(const C of this.folders)this._foldersMap.set(C.uri,C)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=T;class I{constructor(C,p){this.raw=p,this.uri=C.uri,this.index=C.index,this.name=C.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=I}),define(ee[202],te([0,1,8,7,46,4,95,2,17,79,25,113,150,192,59,14,3,43,26,35,602,585,266,82,267,588,40,201,65]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S,v,m,_,L,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleWorkspaceTrustManagementService=e.SimpleLayoutService=e.SimpleUriLabelService=e.SimpleBulkEditService=e.updateConfigurationService=e.SimpleWorkspaceContextService=e.StandaloneTelemetryService=e.SimpleResourcePropertiesService=e.SimpleResourceConfigurationService=e.SimpleConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.SimpleNotificationService=e.SimpleDialogService=e.SimpleEditorProgressService=e.SimpleEditorModelResolverService=e.SimpleModel=void 0;class k{constructor(z){this.disposed=!1,this.model=z,this._onWillDispose=new I.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}e.SimpleModel=k;function D(W,z,U){return(0,i.isCodeEditor)(W)?z(W):U(W)}let M=class{constructor(z){this.modelService=z}setEditor(z){this.editor=z}createModelReference(z){let U=null;return this.editor&&(U=D(this.editor,x=>this.findModel(x,z),x=>this.findModel(x.getOriginalEditor(),z)||this.findModel(x.getModifiedEditor(),z))),U?Promise.resolve(new C.ImmortalReference(new k(U))):Promise.reject(new Error("Model not found"))}findModel(z,U){let x=this.modelService.getModel(U);return x&&x.uri.toString()!==U.toString()?null:x}};M=Be([Ce(0,s.IModelService)],M),e.SimpleEditorModelResolverService=M;class O{show(){return O.NULL_PROGRESS_RUNNER}showWhile(z,U){return Ae(this,void 0,void 0,function*(){yield z})}}e.SimpleEditorProgressService=O,O.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class F{confirm(z){return this.doConfirm(z).then(U=>({confirmed:U,checkboxChecked:!1}))}doConfirm(z){let U=z.message;return z.detail&&(U=U+`

`+z.detail),Promise.resolve(window.confirm(U))}show(z,U,x,X){return Promise.resolve({choice:0})}}e.SimpleDialogService=F;class R{info(z){return this.notify({severity:h.default.Info,message:z})}warn(z){return this.notify({severity:h.default.Warning,message:z})}error(z){return this.notify({severity:h.default.Error,message:z})}notify(z){switch(z.severity){case h.default.Error:console.error(z.message);break;case h.default.Warning:console.warn(z.message);break;default:console.log(z.message);break}return R.NO_OP}status(z,U){return C.Disposable.None}}e.SimpleNotificationService=R,R.NO_OP=new _.NoOpNotification;class A{constructor(z){this._onWillExecuteCommand=new I.Emitter,this._onDidExecuteCommand=new I.Emitter,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=z}executeCommand(z,...U){const x=o.CommandsRegistry.getCommand(z);if(!x)return Promise.reject(new Error(`command '${z}' not found`));try{this._onWillExecuteCommand.fire({commandId:z,args:U});const X=this._instantiationService.invokeFunction.apply(this._instantiationService,[x.handler,...U]);return this._onDidExecuteCommand.fire({commandId:z,args:U}),Promise.resolve(X)}catch(X){return Promise.reject(X)}}}e.StandaloneCommandService=A;class P extends u.AbstractKeybindingService{constructor(z,U,x,X,le,fe){super(z,U,x,X,le);this._cachedResolver=null,this._dynamicKeybindings=[],this._register(N.addDisposableListener(fe,N.EventType.KEY_DOWN,$=>{const H=new T.StandardKeyboardEvent($);this._dispatch(H,H.target)&&(H.preventDefault(),H.stopPropagation())})),this._register(N.addDisposableListener(window,N.EventType.KEY_UP,$=>{const H=new T.StandardKeyboardEvent($);this._singleModifierDispatch(H,H.target)&&H.preventDefault()}))}addDynamicKeybinding(z,U,x,X){const le=(0,b.createKeybinding)(U,p.OS),fe=new C.DisposableStore;return le&&(this._dynamicKeybindings.push({keybinding:le.parts,command:z,when:X,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),fe.add((0,C.toDisposable)(()=>{for(let $=0;$<this._dynamicKeybindings.length;$++)if(this._dynamicKeybindings[$].command===z){this._dynamicKeybindings.splice($,1),this.updateResolver({source:1});return}}))),fe.add(o.CommandsRegistry.registerCommand(z,x)),this.updateResolver({source:1}),fe}updateResolver(z){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(z)}_getResolver(){if(!this._cachedResolver){const z=this._toNormalizedKeybindingItems(S.KeybindingsRegistry.getDefaultKeybindings(),!0),U=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new f.KeybindingResolver(z,U,x=>this._log(x))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(z,U){let x=[],X=0;for(const le of z){const fe=le.when||void 0,$=le.keybinding;if(!$)x[X++]=new v.ResolvedKeybindingItem(void 0,le.command,le.commandArgs,fe,U,null,!1);else{const H=m.USLayoutResolvedKeybinding.resolveUserBinding($,p.OS);for(const Q of H)x[X++]=new v.ResolvedKeybindingItem(Q,le.command,le.commandArgs,fe,U,null,!1)}}return x}resolveKeyboardEvent(z){let U=new b.SimpleKeybinding(z.ctrlKey,z.shiftKey,z.altKey,z.metaKey,z.keyCode).toChord();return new m.USLayoutResolvedKeybinding(U,p.OS)}}e.StandaloneKeybindingService=P;function E(W){return W&&typeof W=="object"&&(!W.overrideIdentifier||typeof W.overrideIdentifier=="string")&&(!W.resource||W.resource instanceof g.URI)}class B{constructor(){this._onDidChangeConfiguration=new I.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new d.Configuration(new d.DefaultConfigurationModel,new d.ConfigurationModel)}getValue(z,U){const x=typeof z=="string"?z:void 0,X=E(z)?z:E(U)?U:{};return this._configuration.getValue(x,X,void 0)}updateValues(z){const U={data:this._configuration.toData()};let x=[];for(const X of z){const[le,fe]=X;this.getValue(le)!==fe&&(this._configuration.updateValue(le,fe),x.push(le))}if(x.length>0){const X=new d.ConfigurationChangeEvent({keys:x,overrides:[]},U,this._configuration);X.source=7,X.sourceConfig=null,this._onDidChangeConfiguration.fire(X)}return Promise.resolve()}updateValue(z,U,x,X){return this.updateValues([[z,U]])}}e.SimpleConfigurationService=B;class V{constructor(z){this.configurationService=z,this._onDidChangeConfiguration=new I.Emitter,this.configurationService.onDidChangeConfiguration(U=>{this._onDidChangeConfiguration.fire({affectedKeys:U.affectedKeys,affectsConfiguration:(x,X)=>U.affectsConfiguration(X)})})}getValue(z,U,x){const le=(l.Position.isIPosition(U)?U:null)?typeof x=="string"?x:void 0:typeof U=="string"?U:void 0;return typeof le=="undefined"?this.configurationService.getValue():this.configurationService.getValue(le)}}e.SimpleResourceConfigurationService=V;let j=class{constructor(z){this.configurationService=z}getEOL(z,U){const x=this.configurationService.getValue("files.eol",{overrideIdentifier:U,resource:z});return x&&typeof x=="string"&&x!=="auto"?x:p.isLinux||p.isMacintosh?`
`:`\r
`}};j=Be([Ce(0,n.IConfigurationService)],j),e.SimpleResourcePropertiesService=j;class K{publicLog(z,U){return Promise.resolve(void 0)}publicLog2(z,U){return this.publicLog(z,U)}}e.StandaloneTelemetryService=K;class Y{constructor(){const z=g.URI.from({scheme:Y.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new L.WorkspaceFolder({uri:z,name:"",index:0})]}}getWorkspace(){return this.workspace}}e.SimpleWorkspaceContextService=Y,Y.SCHEME="inmemory";function J(W,z,U){if(!z||!(W instanceof B))return;let x=[];Object.keys(z).forEach(X=>{(0,r.isEditorConfigurationKey)(X)&&x.push([`editor.${X}`,z[X]]),U&&(0,r.isDiffEditorConfigurationKey)(X)&&x.push([`diffEditor.${X}`,z[X]])}),x.length>0&&W.updateValues(x)}e.updateConfigurationService=J;class Z{constructor(z){this._modelService=z}hasPreviewHandler(){return!1}apply(z,U){return Ae(this,void 0,void 0,function*(){const x=new Map;for(let fe of z){if(!(fe instanceof t.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const $=this._modelService.getModel(fe.resource);if(!$)throw new Error("bad edit - model not found");if(typeof fe.versionId=="number"&&$.getVersionId()!==fe.versionId)throw new Error("bad state - model changed in the meantime");let H=x.get($);H||(H=[],x.set($,H)),H.push(c.EditOperation.replaceMove(a.Range.lift(fe.textEdit.range),fe.textEdit.text))}let X=0,le=0;for(const[fe,$]of x)fe.pushStackElement(),fe.pushEditOperations([],$,()=>[]),fe.pushStackElement(),le+=1,X+=$.length;return{ariaSummary:y.format(w.SimpleServicesNLS.bulkEditServiceSummary,X,le)}})}}e.SimpleBulkEditService=Z;class ie{getUriLabel(z,U){return z.scheme==="file"?z.fsPath:z.path}}e.SimpleUriLabelService=ie;class ne{constructor(z,U){this._codeEditorService=z,this._container=U,this.onDidLayout=I.Event.None}get dimension(){return this._dimension||(this._dimension=N.getClientArea(window.document.body)),this._dimension}get container(){return this._container}focus(){var z;(z=this._codeEditorService.getFocusedCodeEditor())===null||z===void 0||z.focus()}}e.SimpleLayoutService=ne;class G{constructor(){this._neverEmitter=new I.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}e.SimpleWorkspaceTrustManagementService=G}),define(ee[716],te([0,1,44,2,28,160,284,228,72,202,123,36,26,35,16,73,9,41,40,12,60,65,91,61,43,38,275,109]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S,v,m,_,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let w=0,k=!1;function D(P){if(!P){if(k)return;k=!0}y.setARIAContainer(P||document.body)}let M=class extends I.CodeEditorWidget{constructor(E,B,V,j,K,Y,J,Z,ie,ne){const G=Object.assign({},B);G.ariaLabel=G.ariaLabel||u.StandaloneCodeEditorNLS.editorViewAccessibleLabel,G.ariaLabel=G.ariaLabel+";"+u.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(E,G,{},V,j,K,Y,Z,ie,ne),J instanceof h.StandaloneKeybindingService?this._standaloneKeybindingService=J:this._standaloneKeybindingService=null,D(G.ariaContainerElement)}addCommand(E,B,V){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let j="DYNAMIC_"+ ++w,K=c.ContextKeyExpr.deserialize(V);return this._standaloneKeybindingService.addDynamicKeybinding(j,E,B,K),j}createContextKey(E,B){return this._contextKeyService.createKey(E,B)}addAction(E){if(typeof E.id!="string"||typeof E.label!="string"||typeof E.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),N.Disposable.None;const B=E.id,V=E.label,j=c.ContextKeyExpr.and(c.ContextKeyExpr.equals("editorId",this.getId()),c.ContextKeyExpr.deserialize(E.precondition)),K=E.keybindings,Y=c.ContextKeyExpr.and(j,c.ContextKeyExpr.deserialize(E.keybindingContext)),J=E.contextMenuGroupId||null,Z=E.contextMenuOrder||0,ie=(z,...U)=>Promise.resolve(E.run(this,...U)),ne=new N.DisposableStore,G=this.getId()+":"+B;if(ne.add(t.CommandsRegistry.registerCommand(G,ie)),J){let z={command:{id:G,title:V},when:j,group:J,order:Z};ne.add(i.MenuRegistry.appendMenuItem(i.MenuId.EditorContext,z))}if(Array.isArray(K))for(const z of K)ne.add(this._standaloneKeybindingService.addDynamicKeybinding(G,z,ie,Y));let W=new C.InternalEditorAction(G,V,V,j,ie,this._contextKeyService);return this._actions[B]=W,ne.add((0,N.toDisposable)(()=>{delete this._actions[B]})),ne}_triggerCommand(E,B){if(this._codeEditorService instanceof _.StandaloneCodeEditorServiceImpl)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(E,B)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(E,B)}};M=Be([Ce(2,a.IInstantiationService),Ce(3,T.ICodeEditorService),Ce(4,t.ICommandService),Ce(5,c.IContextKeyService),Ce(6,s.IKeybindingService),Ce(7,n.IThemeService),Ce(8,o.INotificationService),Ce(9,d.IAccessibilityService)],M),e.StandaloneCodeEditor=M;let O=class extends M{constructor(E,B,V,j,K,Y,J,Z,ie,ne,G,W,z,U,x){const X=Object.assign({},B);(0,h.updateConfigurationService)(W,X,!1);const le=ne.registerEditorContainer(E);typeof X.theme=="string"&&ne.setTheme(X.theme),typeof X.autoDetectHighContrast!="undefined"&&ne.setAutoDetectHighContrast(Boolean(X.autoDetectHighContrast));let fe=X.model;delete X.model,super(E,X,j,K,Y,J,Z,ne,G,z),this._contextViewService=ie,this._configurationService=W,this._standaloneThemeService=ne,this._register(V),this._register(le);let $;if(typeof fe=="undefined"?($=R(U,x,X.value||"",X.language||L.Mimes.text,void 0),this._ownsModel=!0):($=fe,this._ownsModel=!1),this._attachModel($),$){let H={oldModelUrl:null,newModelUrl:$.uri};this._onDidChangeModel.fire(H)}}dispose(){super.dispose()}updateOptions(E){(0,h.updateConfigurationService)(this._configurationService,E,!1),typeof E.theme=="string"&&this._standaloneThemeService.setTheme(E.theme),typeof E.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(E.autoDetectHighContrast)),super.updateOptions(E)}_attachModel(E){super._attachModel(E),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(E){super._postDetachModelCleanup(E),E&&this._ownsModel&&(E.dispose(),this._ownsModel=!1)}};O=Be([Ce(3,a.IInstantiationService),Ce(4,T.ICodeEditorService),Ce(5,t.ICommandService),Ce(6,c.IContextKeyService),Ce(7,s.IKeybindingService),Ce(8,l.IContextViewService),Ce(9,g.IStandaloneThemeService),Ce(10,o.INotificationService),Ce(11,r.IConfigurationService),Ce(12,d.IAccessibilityService),Ce(13,v.IModelService),Ce(14,m.IModeService)],O),e.StandaloneEditor=O;let F=class extends b.DiffEditorWidget{constructor(E,B,V,j,K,Y,J,Z,ie,ne,G,W,z,U,x){const X=Object.assign({},B);(0,h.updateConfigurationService)(W,X,!0);const le=ne.registerEditorContainer(E);typeof X.theme=="string"&&ne.setTheme(X.theme),typeof X.autoDetectHighContrast!="undefined"&&ne.setAutoDetectHighContrast(Boolean(X.autoDetectHighContrast)),super(E,X,{},x,Z,K,j,ie,ne,G,z,U),this._contextViewService=J,this._configurationService=W,this._standaloneThemeService=ne,this._register(V),this._register(le),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(E){(0,h.updateConfigurationService)(this._configurationService,E,!0),typeof E.theme=="string"&&this._standaloneThemeService.setTheme(E.theme),typeof E.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(E.autoDetectHighContrast)),super.updateOptions(E)}_createInnerEditor(E,B,V){return E.createInstance(M,B,V)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(E,B,V){return this.getModifiedEditor().addCommand(E,B,V)}createContextKey(E,B){return this.getModifiedEditor().createContextKey(E,B)}addAction(E){return this.getModifiedEditor().addAction(E)}};F=Be([Ce(3,a.IInstantiationService),Ce(4,c.IContextKeyService),Ce(5,s.IKeybindingService),Ce(6,l.IContextViewService),Ce(7,p.IEditorWorkerService),Ce(8,T.ICodeEditorService),Ce(9,g.IStandaloneThemeService),Ce(10,o.INotificationService),Ce(11,r.IConfigurationService),Ce(12,l.IContextMenuService),Ce(13,S.IEditorProgressService),Ce(14,f.IClipboardService)],F),e.StandaloneDiffEditor=F;function R(P,E,B,V,j){if(B=B||"",!V){const K=B.indexOf(`
`);let Y=B;return K!==-1&&(Y=B.substring(0,K)),A(P,B,E.createByFilepathOrFirstLine(j||null,Y),j)}return A(P,B,E.create(V),j)}e.createTextModel=R;function A(P,E,B,V){return P.createModel(E,B,V)}}),define(ee[293],te([0,1,9]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,y.createDecorator)("workspaceTrustManagementService")}),define(ee[294],te([0,1,10,27,2,8,15,30,49,31,232,72,38,251,278,669,547,35,9,53,75,22,68,12,293,379]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,f.registerIcon)("extensions-warning-message",N.Codicon.warning,a.localize(0,null));let m=class extends T.Disposable{constructor(K,Y,J,Z){super();this._editor=K,this._editorWorkerService=Y,this._workspaceTrustService=J,this._highlighter=null,this._bannerClosed=!1,this._updateState=ie=>{if(ie&&ie.hasMore){if(this._bannerClosed)return;const ne=Math.max(ie.ambiguousCharacterCount,ie.nonBasicAsciiCharacterCount,ie.invisibleCharacterCount);let G;if(ie.nonBasicAsciiCharacterCount>=ne)G={message:a.localize(1,null),command:new P};else if(ie.ambiguousCharacterCount>=ne)G={message:a.localize(2,null),command:new R};else if(ie.invisibleCharacterCount>=ne)G={message:a.localize(3,null),command:new A};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:G.message,icon:e.warningIcon,actions:[{label:G.command.shortLabel,href:`command:${G.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(Z.createInstance(l.BannerController,K)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=K.getOption(112),this._register(J.onDidChangeTrust(ie=>{this._updateHighlighter()})),this._register(K.onDidChangeConfiguration(ie=>{ie.hasChanged(112)&&(this._options=K.getOption(112),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const K=_(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([K.nonBasicASCII,K.ambiguousCharacters,K.invisibleCharacters].every(J=>J===!1))return;const Y={nonBasicASCII:K.nonBasicASCII,ambiguousCharacters:K.ambiguousCharacters,invisibleCharacters:K.invisibleCharacters,includeComments:K.includeComments,allowedCodePoints:Object.keys(K.allowedCharacters).map(J=>J.codePointAt(0))};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new L(this._editor,Y,this._updateState,this._editorWorkerService):this._highlighter=new w(this._editor,Y,this._updateState)}getDecorationInfo(K){return this._highlighter?this._highlighter.getDecorationInfo(K):null}};m.ID="editor.contrib.unicodeHighlighter",m=Be([Ce(1,i.IEditorWorkerService),Ce(2,v.IWorkspaceTrustManagementService),Ce(3,o.IInstantiationService)],m),e.UnicodeHighlighter=m;function _(j,K){var Y;return{nonBasicASCII:K.nonBasicASCII===C.inUntrustedWorkspace?!j:K.nonBasicASCII,ambiguousCharacters:K.ambiguousCharacters,invisibleCharacters:K.invisibleCharacters,includeComments:K.includeComments===C.inUntrustedWorkspace?!j:K.includeComments,allowedCharacters:(Y=K.allowedCharacters)!==null&&Y!==void 0?Y:{}}}let L=class extends T.Disposable{constructor(K,Y,J,Z){super();this._editor=K,this._options=Y,this._updateState=J,this._editorWorkerService=Z,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new y.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const K=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(Y=>{if(this._model.getVersionId()!==K)return;this._updateState(Y);const J=[];if(!Y.hasMore)for(const Z of Y.ranges)J.push({range:Z,options:this._options.includeComments?F:O});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),J))})}getDecorationInfo(K){if(!this._decorationIds.has(K))return null;const Y=this._editor.getModel(),J=Y.getDecorationRange(K);if(!(0,r.isModelDecorationVisible)(Y,{range:J,options:this._options.includeComments?F:O,id:K,ownerId:0}))return null;const Z=Y.getValueInRange(J);return{reason:M(Z,this._options)}}};L=Be([Ce(3,i.IEditorWorkerService)],L);class w extends T.Disposable{constructor(K,Y,J){super();this._editor=K,this._options=Y,this._updateState=J,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new y.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const K=this._editor.getVisibleRanges(),Y=[],J={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const Z of K){const ie=g.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,Z);for(const ne of ie.ranges)J.ranges.push(ne);J.ambiguousCharacterCount+=J.ambiguousCharacterCount,J.invisibleCharacterCount+=J.invisibleCharacterCount,J.nonBasicAsciiCharacterCount+=J.nonBasicAsciiCharacterCount,J.hasMore=J.hasMore||ie.hasMore}if(!J.hasMore)for(const Z of J.ranges)Y.push({range:Z,options:this._options.includeComments?F:O});this._updateState(J),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),Y))}getDecorationInfo(K){if(!this._decorationIds.has(K))return null;const Y=this._editor.getModel(),J=Y.getDecorationRange(K),Z=Y.getValueInRange(J);return(0,r.isModelDecorationVisible)(Y,{range:J,options:this._options.includeComments?F:O,id:K,ownerId:0})?{reason:M(Z,this._options)}:null}}let k=class{constructor(K,Y,J,Z){this._editor=K,this._hover=Y,this._modeService=J,this._openerService=Z}computeSync(K,Y){if(!this._editor.hasModel()||K.type!==1)return[];const J=this._editor.getModel(),Z=this._editor.getContribution(m.ID),ie=[];let ne=300;for(const G of Y){let x=function(Q){let re=`\`U+${Q.toString(16).padStart(4,"0")}\``;return I.InvisibleCharacters.isInvisibleCharacter(Q)||(re+=` "${`${D(Q)}`}"`),re};const W=Z.getDecorationInfo(G.id);if(!W)continue;const U=J.getValueInRange(G.range).codePointAt(0),X=x(U);let le;switch(W.reason.kind){case 0:le=a.localize(4,null,X,x(W.reason.confusableWith.codePointAt(0)));break;case 1:le=a.localize(5,null,X);break;case 2:le=a.localize(6,null,X);break}const fe={codePoint:U,reason:W.reason.kind},$=a.localize(7,null),H=[{value:`${le} [${$}](command:${E.ID}?${encodeURIComponent(JSON.stringify(fe))})`,isTrusted:!0}];ie.push(new c.MarkdownHover(this,G.range,H,ne++))}return ie}renderHoverParts(K,Y,J){return(0,c.renderMarkdownHovers)(K,Y,this._editor,this._hover,this._modeService,this._openerService)}};k=Be([Ce(2,t.IModeService),Ce(3,n.IOpenerService)],k),e.UnicodeHighlighterHoverParticipant=k;function D(j){return j===96?"`` ` ``":"`"+String.fromCodePoint(j)+"`"}function M(j,K){return g.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(j,K)}const O=h.ModelDecorationOptions.register({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(u.overviewRulerUnicodeHighlightForeground),position:p.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(u.minimapUnicodeHighlight),position:p.MinimapPosition.Inline},hideInCommentTokens:!0}),F=h.ModelDecorationOptions.register({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(u.overviewRulerFindMatchForeground),position:p.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(u.minimapFindMatch),position:p.MinimapPosition.Inline}});class R extends b.EditorAction{constructor(){super({id:R.ID,label:a.localize(9,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0});this.shortLabel=a.localize(8,null)}run(K,Y,J){return Ae(this,void 0,void 0,function*(){let Z=K==null?void 0:K.get(s.IConfigurationService);Z&&this.runAction(Z)})}runAction(K){return Ae(this,void 0,void 0,function*(){yield K.updateValue(C.unicodeHighlightConfigKeys.ambiguousCharacters,!1,1)})}}e.DisableHighlightingOfAmbiguousCharactersAction=R,R.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class A extends b.EditorAction{constructor(){super({id:A.ID,label:a.localize(11,null),alias:"Disable highlighting of invisible characters",precondition:void 0});this.shortLabel=a.localize(10,null)}run(K,Y,J){return Ae(this,void 0,void 0,function*(){let Z=K==null?void 0:K.get(s.IConfigurationService);Z&&this.runAction(Z)})}runAction(K){return Ae(this,void 0,void 0,function*(){yield K.updateValue(C.unicodeHighlightConfigKeys.invisibleCharacters,!1,1)})}}e.DisableHighlightingOfInvisibleCharactersAction=A,A.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class P extends b.EditorAction{constructor(){super({id:P.ID,label:a.localize(13,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0});this.shortLabel=a.localize(12,null)}run(K,Y,J){return Ae(this,void 0,void 0,function*(){let Z=K==null?void 0:K.get(s.IConfigurationService);Z&&this.runAction(Z)})}runAction(K){return Ae(this,void 0,void 0,function*(){yield K.updateValue(C.unicodeHighlightConfigKeys.nonBasicASCII,!1,1)})}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=P,P.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class E extends b.EditorAction{constructor(){super({id:E.ID,label:a.localize(14,null),alias:"Show Exclude Options",precondition:void 0})}run(K,Y,J){return Ae(this,void 0,void 0,function*(){const{codePoint:Z,reason:ie}=J,ne=String.fromCodePoint(Z),G=K.get(d.IQuickInputService),W=K.get(s.IConfigurationService);function z(X){return I.InvisibleCharacters.isInvisibleCharacter(X)?a.localize(15,null,`U+${X.toString(16)}`):a.localize(16,null,`U+${X.toString(16)} "${ne}"`)}const U=[{label:z(Z),run:()=>B(W,[Z])}];if(ie===0){const X=new R;U.push({label:X.label,run:()=>Ae(this,void 0,void 0,function*(){return X.runAction(W)})})}else if(ie===1){const X=new A;U.push({label:X.label,run:()=>Ae(this,void 0,void 0,function*(){return X.runAction(W)})})}else if(ie===2){const X=new P;U.push({label:X.label,run:()=>Ae(this,void 0,void 0,function*(){return X.runAction(W)})})}else V(ie);const x=yield G.pick(U,{title:a.localize(17,null)});x&&(yield x.run())})}}e.ShowExcludeOptions=E,E.ID="editor.action.unicodeHighlight.showExcludeOptions";function B(j,K){return Ae(this,void 0,void 0,function*(){const Y=j.getValue(C.unicodeHighlightConfigKeys.allowedCharacters);let J;typeof Y=="object"&&Y?J=Y:J={};for(const Z of K)J[String.fromCodePoint(Z)]=!0;yield j.updateValue(C.unicodeHighlightConfigKeys.allowedCharacters,J,1)})}function V(j){throw new Error(`Unexpected value: ${j}`)}(0,b.registerEditorAction)(R),(0,b.registerEditorAction)(A),(0,b.registerEditorAction)(P),(0,b.registerEditorAction)(E),(0,b.registerEditorContribution)(m.ID,m)}),define(ee[295],te([0,1,2,150,28,72,268,38,600,43,283,152,202,275,671,123,36,26,35,587,16,660,73,589,124,9,584,153,41,125,157,74,592,92,40,61,76,83,12,201,658,189,623,60,154,71,583,91,565,130,715,663,75,39,293]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S,v,m,_,L,w,k,D,M,O,F,R,A,P,E,B,V,j,K,Y,J,Z,ie,ne,G,W,z,U,x,X,le,fe){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicStandaloneServices=e.StaticServices=void 0;var $;(function(Q){const re=new L.ServiceCollection;class ce{constructor(ue,be){this._serviceId=ue,this._factory=be,this._value=null}get id(){return this._serviceId}get(ue){if(!this._value){if(ue&&(this._value=ue[this._serviceId.toString()]),this._value||(this._value=this._factory(ue)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");re.set(this._serviceId,this._value)}return this._value}}Q.LazyStaticService=ce;let oe=[];function de(se,ue){let be=new ce(se,ue);return oe.push(be),be}function pe(se){let ue=new L.ServiceCollection;for(const[ge,Se]of(0,ie.getSingletonServiceDescriptors)())ue.set(ge,Se);for(let ge in se)se.hasOwnProperty(ge)&&ue.set((0,m.createDecorator)(ge),se[ge]);oe.forEach(ge=>ue.set(ge.id,ge.get(se)));let be=new _.InstantiationService(ue,!0);return ue.set(m.IInstantiationService,be),[ue,be]}Q.init=pe,Q.instantiationService=de(m.IInstantiationService,()=>new _.InstantiationService(re,!0));const _e=new t.SimpleConfigurationService;Q.configurationService=de(o.IConfigurationService,()=>_e),Q.resourceConfigurationService=de(i.ITextResourceConfigurationService,()=>new t.SimpleResourceConfigurationService(_e)),Q.resourcePropertiesService=de(i.ITextResourcePropertiesService,()=>new t.SimpleResourcePropertiesService(_e)),Q.contextService=de(V.IWorkspaceContextService,()=>new t.SimpleWorkspaceContextService),Q.labelService=de(k.ILabelService,()=>new t.SimpleUriLabelService),Q.telemetryService=de(E.ITelemetryService,()=>new t.StandaloneTelemetryService),Q.dialogService=de(v.IDialogService,()=>new t.SimpleDialogService),Q.notificationService=de(R.INotificationService,()=>new t.SimpleNotificationService),Q.markerService=de(F.IMarkerService,()=>new O.MarkerService),Q.modeService=de(C.IModeService,se=>new p.ModeServiceImpl),Q.standaloneThemeService=de(l.IStandaloneThemeService,()=>new c.StandaloneThemeServiceImpl),Q.logService=de(M.ILogService,()=>new M.LogService(new M.ConsoleLogger)),Q.undoRedoService=de(z.IUndoRedoService,se=>new U.UndoRedoService(Q.dialogService.get(se),Q.notificationService.get(se))),Q.languageConfigurationService=de(le.ILanguageConfigurationService,se=>new le.LanguageConfigurationService(Q.configurationService.get(se),Q.modeService.get(se))),Q.modelService=de(h.IModelService,se=>new g.ModelServiceImpl(Q.configurationService.get(se),Q.resourcePropertiesService.get(se),Q.standaloneThemeService.get(se),Q.logService.get(se),Q.undoRedoService.get(se),Q.modeService.get(se),Q.languageConfigurationService.get(se))),Q.markerDecorationsService=de(K.IMarkerDecorationsService,se=>new Y.MarkerDecorationsService(Q.modelService.get(se),Q.markerService.get(se))),Q.contextKeyService=de(d.IContextKeyService,se=>new n.ContextKeyService(Q.configurationService.get(se))),Q.codeEditorService=de(T.ICodeEditorService,se=>new r.StandaloneCodeEditorServiceImpl(null,Q.contextKeyService.get(se),Q.standaloneThemeService.get(se))),Q.editorProgressService=de(A.IEditorProgressService,()=>new t.SimpleEditorProgressService),Q.storageService=de(P.IStorageService,()=>new P.InMemoryStorageService),Q.editorWorkerService=de(I.IEditorWorkerService,se=>new b.EditorWorkerServiceImpl(Q.modelService.get(se),Q.resourceConfigurationService.get(se),Q.logService.get(se)))})($=e.StaticServices||(e.StaticServices={}));class H extends y.Disposable{constructor(re,ce){super();const[oe,de]=$.init(ce);this._serviceCollection=oe,this._instantiationService=de;const pe=this.get(o.IConfigurationService),_e=this.get(R.INotificationService),se=this.get(E.ITelemetryService),ue=this.get(B.IThemeService),be=this.get(M.ILogService),ge=this.get(d.IContextKeyService);let Se=(Ve,Fe)=>{let xe=null;return ce&&(xe=ce[Ve.toString()]),xe||(xe=Fe()),this._serviceCollection.set(Ve,xe),xe};Se(J.IAccessibilityService,()=>new ne.AccessibilityService(ge,pe)),Se(D.IListService,()=>new D.ListService(ue));let ae=Se(s.ICommandService,()=>new t.StandaloneCommandService(this._instantiationService)),he=Se(w.IKeybindingService,()=>this._register(new t.StandaloneKeybindingService(ge,ae,se,_e,be,re))),De=Se(Z.ILayoutService,()=>new t.SimpleLayoutService($.codeEditorService.get(T.ICodeEditorService),re));Se(X.IQuickInputService,()=>new x.StandaloneQuickInputServiceImpl(de,$.codeEditorService.get(T.ICodeEditorService)));let ke=Se(f.IContextViewService,()=>this._register(new S.ContextViewService(De)));Se(G.IClipboardService,()=>new W.BrowserClipboardService),Se(f.IContextMenuService,()=>{const Ve=new u.ContextMenuService(se,_e,ke,he,ue);return Ve.configure({blockMouse:!1}),this._register(Ve)}),Se(a.IMenuService,()=>new j.MenuService(ae)),Se(N.IBulkEditService,()=>new t.SimpleBulkEditService($.modelService.get(h.IModelService))),Se(fe.IWorkspaceTrustManagementService,()=>new t.SimpleWorkspaceTrustManagementService)}get(re){let ce=this._serviceCollection.get(re);if(!ce)throw new Error("Missing service "+re);return ce}set(re,ce){this._serviceCollection.set(re,ce)}has(re){return this._serviceCollection.has(re)}}e.DynamicStandaloneServices=H}),define(ee[717],te([0,1,28,593,226,30,174,143,49,18,80,72,38,66,590,178,576,202,716,295,123,26,35,16,73,9,41,40,53,60,62,61,91,8,43,385]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S,v,m,_,L,w,k,D,M,O,F,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.onDidCreateEditor=e.create=void 0;function A(de,pe,_e){let se=new n.DynamicStandaloneServices(de,pe),ue=null;se.has(r.ITextModelService)||(ue=new s.SimpleEditorModelResolverService(n.StaticServices.modelService.get()),se.set(r.ITextModelService,ue)),se.has(w.IOpenerService)||se.set(w.IOpenerService,new N.OpenerService(se.get(y.ICodeEditorService),se.get(u.ICommandService)));let be=_e(se);return ue&&ue.setEditor(be),be}function P(de,pe,_e){return A(de,_e||{},se=>new o.StandaloneEditor(de,pe,se,se.get(m.IInstantiationService),se.get(y.ICodeEditorService),se.get(u.ICommandService),se.get(S.IContextKeyService),se.get(_.IKeybindingService),se.get(v.IContextViewService),se.get(d.IStandaloneThemeService),se.get(L.INotificationService),se.get(f.IConfigurationService),se.get(k.IAccessibilityService),se.get(R.IModelService),se.get(t.IModeService)))}e.create=P;function E(de){return n.StaticServices.codeEditorService.get().onCodeEditorAdd(pe=>{de(pe)})}e.onDidCreateEditor=E;function B(de,pe,_e){return A(de,_e||{},se=>new o.StandaloneDiffEditor(de,pe,se,se.get(m.IInstantiationService),se.get(S.IContextKeyService),se.get(_.IKeybindingService),se.get(v.IContextViewService),se.get(i.IEditorWorkerService),se.get(y.ICodeEditorService),se.get(d.IStandaloneThemeService),se.get(L.INotificationService),se.get(f.IConfigurationService),se.get(v.IContextMenuService),se.get(M.IEditorProgressService),se.get(O.IClipboardService)))}e.createDiffEditor=B;function V(de,pe){return new T.DiffNavigator(de,pe)}e.createDiffNavigator=V;function j(de,pe,_e){return(0,o.createTextModel)(n.StaticServices.modelService.get(),n.StaticServices.modeService.get(),de,pe,_e)}e.createModel=j;function K(de,pe){n.StaticServices.modelService.get().setMode(de,n.StaticServices.modeService.get().create(pe))}e.setModelLanguage=K;function Y(de,pe,_e){de&&n.StaticServices.markerService.get().changeOne(pe,de.uri,_e)}e.setModelMarkers=Y;function J(de){return n.StaticServices.markerService.get().read(de)}e.getModelMarkers=J;function Z(de){return n.StaticServices.markerService.get().onMarkerChanged(de)}e.onDidChangeMarkers=Z;function ie(de){return n.StaticServices.modelService.get().getModel(de)}e.getModel=ie;function ne(){return n.StaticServices.modelService.get().getModels()}e.getModels=ne;function G(de){return n.StaticServices.modelService.get().onModelAdded(de)}e.onDidCreateModel=G;function W(de){return n.StaticServices.modelService.get().onModelRemoved(de)}e.onWillDisposeModel=W;function z(de){return n.StaticServices.modelService.get().onModelModeChanged(pe=>{de({model:pe.model,oldLanguage:pe.oldModeId})})}e.onDidChangeModelLanguage=z;function U(de){return(0,c.createWebWorker)(n.StaticServices.modelService.get(),de)}e.createWebWorker=U;function x(de,pe){const _e=n.StaticServices.standaloneThemeService.get();return _e.registerEditorContainer(de),a.Colorizer.colorizeElement(_e,n.StaticServices.modeService.get(),de,pe)}e.colorizeElement=x;function X(de,pe,_e){return n.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),a.Colorizer.colorize(n.StaticServices.modeService.get(),de,pe,_e)}e.colorize=X;function le(de,pe,_e=4){return n.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),a.Colorizer.colorizeModelLine(de,pe,_e)}e.colorizeModelLine=le;function fe(de){let pe=h.TokenizationRegistry.get(de);return pe||{getInitialState:()=>g.NULL_STATE,tokenize:(_e,se,ue,be)=>(0,g.nullTokenize)(de,_e,ue,be)}}function $(de,pe){n.StaticServices.modeService.get().triggerMode(pe);let se=fe(pe),ue=(0,F.splitLines)(de),be=[],ge=se.getInitialState();for(let Se=0,ae=ue.length;Se<ae;Se++){let he=ue[Se],De=se.tokenize(he,!0,ge,0);be[Se]=De.tokens,ge=De.endState}return be}e.tokenize=$;function H(de,pe){n.StaticServices.standaloneThemeService.get().defineTheme(de,pe)}e.defineTheme=H;function Q(de){n.StaticServices.standaloneThemeService.get().setTheme(de)}e.setTheme=Q;function re(){(0,D.clearAllFontInfos)()}e.remeasureFonts=re;function ce(de,pe){return u.CommandsRegistry.registerCommand({id:de,handler:pe})}e.registerCommand=ce;function oe(){return{create:P,onDidCreateEditor:E,createDiffEditor:B,createDiffNavigator:V,createModel:j,setModelLanguage:K,setModelMarkers:Y,getModelMarkers:J,onDidChangeMarkers:Z,getModels:ne,getModel:ie,onDidCreateModel:G,onWillDisposeModel:W,onDidChangeModelLanguage:z,createWebWorker:U,colorizeElement:x,colorize:X,colorizeModelLine:le,tokenize:$,defineTheme:H,setTheme:Q,remeasureFonts:re,registerCommand:ce,AccessibilitySupport:l.AccessibilitySupport,ContentWidgetPositionPreference:l.ContentWidgetPositionPreference,CursorChangeReason:l.CursorChangeReason,DefaultEndOfLine:l.DefaultEndOfLine,EditorAutoIndentStrategy:l.EditorAutoIndentStrategy,EditorOption:l.EditorOption,EndOfLinePreference:l.EndOfLinePreference,EndOfLineSequence:l.EndOfLineSequence,MinimapPosition:l.MinimapPosition,MouseTargetType:l.MouseTargetType,OverlayWidgetPositionPreference:l.OverlayWidgetPositionPreference,OverviewRulerLane:l.OverviewRulerLane,RenderLineNumbersType:l.RenderLineNumbersType,RenderMinimap:l.RenderMinimap,ScrollbarVisibility:l.ScrollbarVisibility,ScrollType:l.ScrollType,TextEditorCursorBlinkingStyle:l.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:l.TextEditorCursorStyle,TrackedRangeStickiness:l.TrackedRangeStickiness,WrappingIndent:l.WrappingIndent,ConfigurationChangedEvent:I.ConfigurationChangedEvent,BareFontInfo:b.BareFontInfo,FontInfo:b.FontInfo,TextModelResolvedOptions:p.TextModelResolvedOptions,FindMatch:p.FindMatch,ApplyUpdateResult:I.ApplyUpdateResult,EditorType:C.EditorType,EditorOptions:I.EditorOptions}}e.createMonacoEditorAPI=oe}),define(ee[718],te([0,1,29,3,142,18,39,126,178,295,442,260]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.setColorMap=e.TokenizationSupport2Adapter=e.EncodedTokenizationSupport2Adapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function t(U){C.ModesRegistry.registerLanguage(U)}e.register=t;function r(){let U=[];return U=U.concat(C.ModesRegistry.getLanguages()),U}e.getLanguages=r;function c(U){return h.StaticServices.modeService.get().languageIdCodec.encodeLanguageId(U)}e.getEncodedLanguageId=c;function l(U,x){let X=h.StaticServices.modeService.get().onDidEncounterLanguage(le=>{le===U&&(X.dispose(),x())});return X}e.onLanguage=l;function a(U,x){const X=h.StaticServices.modeService.get().validateLanguageId(U);if(!X)throw new Error(`Cannot set configuration for unknown language ${U}`);return b.LanguageConfigurationRegistry.register(X,x,100)}e.setLanguageConfiguration=a;class s{constructor(x,X){this._languageId=x,this._actual=X}getInitialState(){return this._actual.getInitialState()}tokenize(x,X,le,fe){if(typeof this._actual.tokenize=="function")return o.adaptTokenize(this._languageId,this._actual,x,le,fe);throw new Error("Not supported!")}tokenize2(x,X,le){let fe=this._actual.tokenizeEncoded(x,le);return new T.TokenizationResult2(fe.tokens,fe.endState)}}e.EncodedTokenizationSupport2Adapter=s;class o{constructor(x,X,le,fe){this._languageId=x,this._actual=X,this._modeService=le,this._standaloneThemeService=fe}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(x,X,le){let fe=[],$=0;for(let H=0,Q=x.length;H<Q;H++){const re=x[H];let ce=re.startIndex;H===0?ce=0:ce<$&&(ce=$),fe[H]=new T.Token(ce+le,re.scopes,X),$=ce}return fe}static adaptTokenize(x,X,le,fe,$){let H=X.tokenize(le,fe),Q=o._toClassicTokens(H.tokens,x,$),re;return H.endState.equals(fe)?re=fe:re=H.endState,new T.TokenizationResult(Q,re)}tokenize(x,X,le,fe){return o.adaptTokenize(this._languageId,this._actual,x,le,fe)}_toBinaryTokens(x,X,le){const fe=x.encodeLanguageId(this._languageId),$=this._standaloneThemeService.getColorTheme().tokenTheme;let H=[],Q=0,re=0;for(let oe=0,de=X.length;oe<de;oe++){const pe=X[oe],_e=$.match(fe,pe.scopes);if(Q>0&&H[Q-1]===_e)continue;let se=pe.startIndex;oe===0?se=0:se<re&&(se=re),H[Q++]=se+le,H[Q++]=_e,re=se}let ce=new Uint32Array(Q);for(let oe=0;oe<Q;oe++)ce[oe]=H[oe];return ce}tokenize2(x,X,le,fe){let $=this._actual.tokenize(x,le),H=this._toBinaryTokens(this._modeService.languageIdCodec,$.tokens,fe),Q;return $.endState.equals(le)?Q=le:Q=$.endState,new T.TokenizationResult2(H,Q)}}e.TokenizationSupport2Adapter=o;function n(U){return"tokenizeEncoded"in U}function d(U){return U&&typeof U.then=="function"}function u(U){if(U){const x=[null];for(let X=1,le=U.length;X<le;X++)x[X]=y.Color.fromHex(U[X]);h.StaticServices.standaloneThemeService.get().setColorMapOverride(x)}else h.StaticServices.standaloneThemeService.get().setColorMapOverride(null)}e.setColorMap=u;function f(U,x){const X=h.StaticServices.modeService.get().validateLanguageId(U);if(!X)throw new Error(`Cannot set tokens provider for unknown language ${U}`);const le=fe=>n(fe)?new s(X,fe):new o(X,fe,h.StaticServices.modeService.get(),h.StaticServices.standaloneThemeService.get());return d(x)?I.TokenizationRegistry.registerPromise(U,x.then(fe=>le(fe))):I.TokenizationRegistry.register(U,le(x))}e.setTokensProvider=f;function S(U,x){const X=le=>(0,i.createTokenizationSupport)(h.StaticServices.modeService.get(),h.StaticServices.standaloneThemeService.get(),U,(0,g.compile)(U,le));return d(x)?I.TokenizationRegistry.registerPromise(U,x.then(le=>X(le))):I.TokenizationRegistry.register(U,X(x))}e.setMonarchTokensProvider=S;function v(U,x){return I.ReferenceProviderRegistry.register(U,x)}e.registerReferenceProvider=v;function m(U,x){return I.RenameProviderRegistry.register(U,x)}e.registerRenameProvider=m;function _(U,x){return I.SignatureHelpProviderRegistry.register(U,x)}e.registerSignatureHelpProvider=_;function L(U,x){return I.HoverProviderRegistry.register(U,{provideHover:(X,le,fe)=>{let $=X.getWordAtPosition(le);return Promise.resolve(x.provideHover(X,le,fe)).then(H=>{if(!!H)return!H.range&&$&&(H.range=new N.Range(le.lineNumber,$.startColumn,le.lineNumber,$.endColumn)),H.range||(H.range=new N.Range(le.lineNumber,le.column,le.lineNumber,le.column)),H})}})}e.registerHoverProvider=L;function w(U,x){return I.DocumentSymbolProviderRegistry.register(U,x)}e.registerDocumentSymbolProvider=w;function k(U,x){return I.DocumentHighlightProviderRegistry.register(U,x)}e.registerDocumentHighlightProvider=k;function D(U,x){return I.LinkedEditingRangeProviderRegistry.register(U,x)}e.registerLinkedEditingRangeProvider=D;function M(U,x){return I.DefinitionProviderRegistry.register(U,x)}e.registerDefinitionProvider=M;function O(U,x){return I.ImplementationProviderRegistry.register(U,x)}e.registerImplementationProvider=O;function F(U,x){return I.TypeDefinitionProviderRegistry.register(U,x)}e.registerTypeDefinitionProvider=F;function R(U,x){return I.CodeLensProviderRegistry.register(U,x)}e.registerCodeLensProvider=R;function A(U,x,X){return I.CodeActionProviderRegistry.register(U,{providedCodeActionKinds:X==null?void 0:X.providedCodeActionKinds,provideCodeActions:(le,fe,$,H)=>{let Q=h.StaticServices.markerService.get().read({resource:le.uri}).filter(re=>N.Range.areIntersectingOrTouching(re,fe));return x.provideCodeActions(le,fe,{markers:Q,only:$.only},H)},resolveCodeAction:x.resolveCodeAction})}e.registerCodeActionProvider=A;function P(U,x){return I.DocumentFormattingEditProviderRegistry.register(U,x)}e.registerDocumentFormattingEditProvider=P;function E(U,x){return I.DocumentRangeFormattingEditProviderRegistry.register(U,x)}e.registerDocumentRangeFormattingEditProvider=E;function B(U,x){return I.OnTypeFormattingEditProviderRegistry.register(U,x)}e.registerOnTypeFormattingEditProvider=B;function V(U,x){return I.LinkProviderRegistry.register(U,x)}e.registerLinkProvider=V;function j(U,x){return I.CompletionProviderRegistry.register(U,x)}e.registerCompletionItemProvider=j;function K(U,x){return I.ColorProviderRegistry.register(U,x)}e.registerColorProvider=K;function Y(U,x){return I.FoldingRangeProviderRegistry.register(U,x)}e.registerFoldingRangeProvider=Y;function J(U,x){return I.DeclarationProviderRegistry.register(U,x)}e.registerDeclarationProvider=J;function Z(U,x){return I.SelectionRangeRegistry.register(U,x)}e.registerSelectionRangeProvider=Z;function ie(U,x){return I.DocumentSemanticTokensProviderRegistry.register(U,x)}e.registerDocumentSemanticTokensProvider=ie;function ne(U,x){return I.DocumentRangeSemanticTokensProviderRegistry.register(U,x)}e.registerDocumentRangeSemanticTokensProvider=ne;function G(U,x){return I.InlineCompletionsProviderRegistry.register(U,x)}e.registerInlineCompletionsProvider=G;function W(U,x){return I.InlayHintsProviderRegistry.register(U,x)}e.registerInlayHintsProvider=W;function z(){return{register:t,getLanguages:r,onLanguage:l,getEncodedLanguageId:c,setLanguageConfiguration:a,setColorMap:u,setTokensProvider:f,setMonarchTokensProvider:S,registerReferenceProvider:v,registerRenameProvider:m,registerCompletionItemProvider:j,registerSignatureHelpProvider:_,registerHoverProvider:L,registerDocumentSymbolProvider:w,registerDocumentHighlightProvider:k,registerLinkedEditingRangeProvider:D,registerDefinitionProvider:M,registerImplementationProvider:O,registerTypeDefinitionProvider:F,registerCodeLensProvider:R,registerCodeActionProvider:A,registerDocumentFormattingEditProvider:P,registerDocumentRangeFormattingEditProvider:E,registerOnTypeFormattingEditProvider:B,registerLinkProvider:V,registerColorProvider:K,registerFoldingRangeProvider:Y,registerDeclarationProvider:J,registerSelectionRangeProvider:Z,registerDocumentSemanticTokensProvider:ie,registerDocumentRangeSemanticTokensProvider:ne,registerInlineCompletionsProvider:G,registerInlayHintsProvider:W,DocumentHighlightKind:p.DocumentHighlightKind,CompletionItemKind:p.CompletionItemKind,CompletionItemTag:p.CompletionItemTag,CompletionItemInsertTextRule:p.CompletionItemInsertTextRule,SymbolKind:p.SymbolKind,SymbolTag:p.SymbolTag,IndentAction:p.IndentAction,CompletionTriggerKind:p.CompletionTriggerKind,SignatureHelpTriggerKind:p.SignatureHelpTriggerKind,InlayHintKind:p.InlayHintKind,InlineCompletionTriggerKind:p.InlineCompletionTriggerKind,FoldingRangeKind:I.FoldingRangeKind}}e.createMonacoLanguagesAPI=z}),define(ee[719],te([0,1,30,233,717,718,17,276]),function(q,e,y,N,T,I,b,C){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,y.EditorOptions.wrappingIndent.defaultValue=0,y.EditorOptions.glyphMargin.defaultValue=!1,y.EditorOptions.autoIndent.defaultValue=3,y.EditorOptions.overviewRulerLanes.defaultValue=2,C.FormattingConflicts.setFormatterSelector((g,i,t)=>Promise.resolve(g[0]));const h=(0,N.createMonacoBaseAPI)();h.editor=(0,T.createMonacoEditorAPI)(),h.languages=(0,I.createMonacoLanguagesAPI)(),e.CancellationTokenSource=h.CancellationTokenSource,e.Emitter=h.Emitter,e.KeyCode=h.KeyCode,e.KeyMod=h.KeyMod,e.Position=h.Position,e.Range=h.Range,e.Selection=h.Selection,e.SelectionDirection=h.SelectionDirection,e.MarkerSeverity=h.MarkerSeverity,e.MarkerTag=h.MarkerTag,e.Uri=h.Uri,e.Token=h.Token,e.editor=h.editor,e.languages=h.languages,(((p=b.globals.MonacoEnvironment)===null||p===void 0?void 0:p.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=h),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})}),define(ee[720],te([0,1,25,563]),function(q,e,y,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=void 0,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,N.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}];function T(b){const C=b;return typeof(C==null?void 0:C.id)=="string"&&y.URI.isUri(C.uri)}e.isSingleFolderWorkspaceIdentifier=T;function I(b){if(b.configuration)return{id:b.id,configPath:b.configuration};if(b.folders.length===1)return{id:b.id,uri:b.folders[0].uri}}e.toWorkspaceIdentifier=I}),define(ee[721],te([0,1,170,78,42,8,316,39,119,537,720]),function(q,e,y,N,T,I,b,C,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class i{constructor(d){this._delegates=d}resolve(d){for(const u of this._delegates){let f=u.resolve(d);if(f!==void 0)return f}}}e.CompositeSnippetVariableResolver=i;class t{constructor(d,u,f,S){this._model=d,this._selection=u,this._selectionIdx=f,this._overtypingCapturer=S}resolve(d){const{name:u}=d;if(u==="SELECTION"||u==="TM_SELECTED_TEXT"){let f=this._model.getValueInRange(this._selection)||void 0,S=this._selection.startLineNumber!==this._selection.endLineNumber;if(!f&&this._overtypingCapturer){const v=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);v&&(f=v.value,S=v.multiline)}if(f&&S&&d.snippet){const v=this._model.getLineContent(this._selection.startLineNumber),m=(0,I.getLeadingWhitespace)(v,0,this._selection.startColumn-1);let _=m;d.snippet.walk(w=>w===d?!1:(w instanceof p.Text&&(_=(0,I.getLeadingWhitespace)((0,I.splitLines)(w.value).pop())),!0));const L=(0,I.commonPrefixLength)(_,m);f=f.replace(/(\r\n|\r|\n)(.*)/g,(w,k,D)=>`${k}${_.substr(L)}${D}`)}return f}else{if(u==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(u==="TM_CURRENT_WORD"){const f=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return f&&f.word||void 0}else{if(u==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(u==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}e.SelectionBasedVariableResolver=t;class r{constructor(d,u){this._labelService=d,this._model=u}resolve(d){const{name:u}=d;if(u==="TM_FILENAME")return N.basename(this._model.uri.fsPath);if(u==="TM_FILENAME_BASE"){const f=N.basename(this._model.uri.fsPath),S=f.lastIndexOf(".");return S<=0?f:f.slice(0,S)}else{if(u==="TM_DIRECTORY")return N.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,T.dirname)(this._model.uri));if(u==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(u==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=r;class c{constructor(d,u,f,S){this._readClipboardText=d,this._selectionIdx=u,this._selectionCount=f,this._spread=S}resolve(d){if(d.name!=="CLIPBOARD")return;const u=this._readClipboardText();if(!!u){if(this._spread){const f=u.split(/\r\n|\n|\r/).filter(S=>!(0,I.isFalsyOrWhitespace)(S));if(f.length===this._selectionCount)return f[this._selectionIdx]}return u}}}e.ClipboardBasedVariableResolver=c;class l{constructor(d,u){this._model=d,this._selection=u}resolve(d){const{name:u}=d,f=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),S=C.LanguageConfigurationRegistry.getComments(f);if(!!S){if(u==="LINE_COMMENT")return S.lineCommentToken||void 0;if(u==="BLOCK_COMMENT_START")return S.blockCommentStartToken||void 0;if(u==="BLOCK_COMMENT_END")return S.blockCommentEndToken||void 0}}}e.CommentBasedVariableResolver=l;class a{constructor(){this._date=new Date}resolve(d){const{name:u}=d;if(u==="CURRENT_YEAR")return String(this._date.getFullYear());if(u==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(u==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(u==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(u==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(u==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(u==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(u==="CURRENT_DAY_NAME")return a.dayNames[this._date.getDay()];if(u==="CURRENT_DAY_NAME_SHORT")return a.dayNamesShort[this._date.getDay()];if(u==="CURRENT_MONTH_NAME")return a.monthNames[this._date.getMonth()];if(u==="CURRENT_MONTH_NAME_SHORT")return a.monthNamesShort[this._date.getMonth()];if(u==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}e.TimeBasedVariableResolver=a,a.dayNames=[h.localize(0,null),h.localize(1,null),h.localize(2,null),h.localize(3,null),h.localize(4,null),h.localize(5,null),h.localize(6,null)],a.dayNamesShort=[h.localize(7,null),h.localize(8,null),h.localize(9,null),h.localize(10,null),h.localize(11,null),h.localize(12,null),h.localize(13,null)],a.monthNames=[h.localize(14,null),h.localize(15,null),h.localize(16,null),h.localize(17,null),h.localize(18,null),h.localize(19,null),h.localize(20,null),h.localize(21,null),h.localize(22,null),h.localize(23,null),h.localize(24,null),h.localize(25,null)],a.monthNamesShort=[h.localize(26,null),h.localize(27,null),h.localize(28,null),h.localize(29,null),h.localize(30,null),h.localize(31,null),h.localize(32,null),h.localize(33,null),h.localize(34,null),h.localize(35,null),h.localize(36,null),h.localize(37,null)];class s{constructor(d){this._workspaceService=d}resolve(d){if(!this._workspaceService)return;const u=(0,g.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!!u){if(d.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(u);if(d.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(u)}}_resolveWorkspaceName(d){if((0,g.isSingleFolderWorkspaceIdentifier)(d))return N.basename(d.uri.path);let u=N.basename(d.configPath.path);return u.endsWith(g.WORKSPACE_EXTENSION)&&(u=u.substr(0,u.length-g.WORKSPACE_EXTENSION.length-1)),u}_resoveWorkspacePath(d){if((0,g.isSingleFolderWorkspaceIdentifier)(d))return(0,y.normalizeDriveLetter)(d.uri.fsPath);let u=N.basename(d.configPath.path),f=d.configPath.fsPath;return f.endsWith(u)&&(f=f.substr(0,f.length-u.length-1)),f?(0,y.normalizeDriveLetter)(f):"/"}}e.WorkspaceBasedVariableResolver=s;class o{resolve(d){const{name:u}=d;if(u==="RANDOM")return Math.random().toString().slice(-6);if(u==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(u==="UUID")return(0,b.generateUuid)()}}e.RandomBasedVariableResolver=o}),define(ee[296],te([0,1,19,2,8,59,3,21,31,125,201,119,721,376]),function(q,e,y,N,T,I,b,C,p,h,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class r{constructor(s,o,n,d){this._editor=s,this._snippet=o,this._offset=n,this._snippetLineLeadingWhitespace=d,this._nestingLevel=1,this._placeholderGroups=(0,y.groupBy)(o.placeholders,i.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const s=this._editor.getModel();this._editor.changeDecorations(o=>{for(const n of this._snippet.placeholders){const d=this._snippet.offset(n),u=this._snippet.fullLen(n),f=b.Range.fromPositions(s.getPositionAt(this._offset+d),s.getPositionAt(this._offset+d+u)),S=n.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive,v=o.addDecoration(f,S);this._placeholderDecorations.set(n,v)}})}move(s){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let d=[];for(const u of this._placeholderGroups[this._placeholderGroupsIdx])if(u.transform){const f=this._placeholderDecorations.get(u),S=this._editor.getModel().getDecorationRange(f),v=this._editor.getModel().getValueInRange(S),m=u.transform.resolve(v).split(/\r\n|\r|\n/);for(let _=1;_<m.length;_++)m[_]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+m[_]);d.push(I.EditOperation.replace(S,m.join(this._editor.getModel().getEOL())))}d.length>0&&this._editor.executeEdits("snippet.placeholderTransform",d)}let o=!1;s===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,o=!0):s===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,o=!0);const n=this._editor.getModel().changeDecorations(d=>{const u=new Set,f=[];for(const S of this._placeholderGroups[this._placeholderGroupsIdx]){const v=this._placeholderDecorations.get(S),m=this._editor.getModel().getDecorationRange(v);f.push(new C.Selection(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn)),o=o&&this._hasPlaceholderBeenCollapsed(S),d.changeDecorationOptions(v,S.isFinalTabstop?r._decor.activeFinal:r._decor.active),u.add(S);for(const _ of this._snippet.enclosingPlaceholders(S)){const L=this._placeholderDecorations.get(_);d.changeDecorationOptions(L,_.isFinalTabstop?r._decor.activeFinal:r._decor.active),u.add(_)}}for(const[S,v]of this._placeholderDecorations)u.has(S)||d.changeDecorationOptions(v,S.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive);return f});return o?this.move(s):n??[]}_hasPlaceholderBeenCollapsed(s){let o=s;for(;o;){if(o instanceof i.Placeholder){const n=this._placeholderDecorations.get(o);if(this._editor.getModel().getDecorationRange(n).isEmpty()&&o.toString().length>0)return!0}o=o.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const s=new Map;for(const o of this._placeholderGroups){let n;for(const d of o){if(d.isFinalTabstop)break;n||(n=[],s.set(d.index,n));const u=this._placeholderDecorations.get(d),f=this._editor.getModel().getDecorationRange(u);if(!f){s.delete(d.index);break}n.push(f)}}return s}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(s){const o=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(n=>{for(const d of this._placeholderGroups[this._placeholderGroupsIdx]){const u=s.shift();console.assert(!u._placeholderDecorations);const f=u._snippet.placeholderInfo.last.index;for(const v of u._snippet.placeholderInfo.all)v.isFinalTabstop?v.index=d.index+(f+1)/this._nestingLevel:v.index=d.index+v.index/this._nestingLevel;this._snippet.replace(d,u._snippet.children);const S=this._placeholderDecorations.get(d);n.removeDecoration(S),this._placeholderDecorations.delete(d);for(const v of u._snippet.placeholders){const m=u._snippet.offset(v),_=u._snippet.fullLen(v),L=b.Range.fromPositions(o.getPositionAt(u._offset+m),o.getPositionAt(u._offset+m+_)),w=n.addDecoration(L,r._decor.inactive);this._placeholderDecorations.set(v,w)}}this._placeholderGroups=(0,y.groupBy)(this._snippet.placeholders,i.Placeholder.compareByIndex)})}}e.OneSnippet=r,r._decor={active:p.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:p.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:p.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:p.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const c={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class l{constructor(s,o,n=c){this._templateMerges=[],this._snippets=[],this._editor=s,this._template=o,this._options=n}static adjustWhitespace(s,o,n,d,u){const f=s.getLineContent(o.lineNumber),S=(0,T.getLeadingWhitespace)(f,0,o.column-1);let v;return n.walk(m=>{if(!(m instanceof i.Text)||m.parent instanceof i.Choice)return!0;const _=m.value.split(/\r\n|\r|\n/);if(d){const w=n.offset(m);if(w===0)_[0]=s.normalizeIndentation(_[0]);else{v=v??n.toString();let k=v.charCodeAt(w-1);(k===10||k===13)&&(_[0]=s.normalizeIndentation(S+_[0]))}for(let k=1;k<_.length;k++)_[k]=s.normalizeIndentation(S+_[k])}const L=_.join(s.getEOL());return L!==m.value&&(m.parent.replace(m,[new i.Text(L)]),v=void 0),!0}),S}static adjustSelection(s,o,n,d){if(n!==0||d!==0){const{positionLineNumber:u,positionColumn:f}=o,S=f-n,v=f+d,m=s.validateRange({startLineNumber:u,startColumn:S,endLineNumber:u,endColumn:v});o=C.Selection.createWithDirection(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn,o.getDirection())}return o}static createEditsAndSnippets(s,o,n,d,u,f,S,v){const m=[],_=[];if(!s.hasModel())return{edits:m,snippets:_};const L=s.getModel(),w=s.invokeWithinContext(P=>P.get(g.IWorkspaceContextService)),k=s.invokeWithinContext(P=>new t.ModelBasedVariableResolver(P.get(h.ILabelService),L)),D=()=>S;let M=0,O=L.getValueInRange(l.adjustSelection(L,s.getSelection(),n,0)),F=L.getValueInRange(l.adjustSelection(L,s.getSelection(),0,d)),R=L.getLineFirstNonWhitespaceColumn(s.getSelection().positionLineNumber);const A=s.getSelections().map((P,E)=>({selection:P,idx:E})).sort((P,E)=>b.Range.compareRangesUsingStarts(P.selection,E.selection));for(const{selection:P,idx:E}of A){let B=l.adjustSelection(L,P,n,0),V=l.adjustSelection(L,P,0,d);O!==L.getValueInRange(B)&&(B=P),F!==L.getValueInRange(V)&&(V=P);const j=P.setStartPosition(B.startLineNumber,B.startColumn).setEndPosition(V.endLineNumber,V.endColumn),K=new i.SnippetParser().parse(o,!0,u),Y=j.getStartPosition(),J=l.adjustWhitespace(L,Y,K,f||E>0&&R!==L.getLineFirstNonWhitespaceColumn(P.positionLineNumber),!0);K.resolveVariables(new t.CompositeSnippetVariableResolver([k,new t.ClipboardBasedVariableResolver(D,E,A.length,s.getOption(70)==="spread"),new t.SelectionBasedVariableResolver(L,P,E,v),new t.CommentBasedVariableResolver(L,P),new t.TimeBasedVariableResolver,new t.WorkspaceBasedVariableResolver(w),new t.RandomBasedVariableResolver]));const Z=L.getOffsetAt(Y)+M;M+=K.toString().length-L.getValueLengthInRange(j),m[E]=I.EditOperation.replace(j,K.toString()),m[E].identifier={major:E,minor:0},_[E]=new r(s,K,Z,J)}return{edits:m,snippets:_}}dispose(){(0,N.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:s,snippets:o}=l.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=o,this._editor.executeEdits("snippet",s,n=>this._snippets[0].hasPlaceholder?this._move(!0):n.filter(d=>!!d.identifier).map(d=>C.Selection.fromPositions(d.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(s,o=c){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,s]);const{edits:n,snippets:d}=l.createEditsAndSnippets(this._editor,s,o.overwriteBefore,o.overwriteAfter,!0,o.adjustWhitespace,o.clipboardText,o.overtypingCapturer);this._editor.executeEdits("snippet",n,u=>{for(const f of this._snippets)f.merge(d);return console.assert(d.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):u.filter(f=>!!f.identifier).map(f=>C.Selection.fromPositions(f.range.getEndPosition()))})}next(){const s=this._move(!0);this._editor.setSelections(s),this._editor.revealPositionInCenterIfOutsideViewport(s[0].getPosition())}prev(){const s=this._move(!1);this._editor.setSelections(s),this._editor.revealPositionInCenterIfOutsideViewport(s[0].getPosition())}_move(s){const o=[];for(const n of this._snippets){const d=n.move(s);o.push(...d)}return o}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const s=this._editor.getSelections();if(s.length<this._snippets.length)return!1;let o=new Map;for(const n of this._snippets){const d=n.computePossibleSelections();if(o.size===0)for(const[u,f]of d){f.sort(b.Range.compareRangesUsingStarts);for(const S of s)if(f[0].containsRange(S)){o.set(u,[]);break}}if(o.size===0)return!1;o.forEach((u,f)=>{u.push(...d.get(f))})}s.sort(b.Range.compareRangesUsingStarts);for(let[n,d]of o){if(d.length!==s.length){o.delete(n);continue}d.sort(b.Range.compareRangesUsingStarts);for(let u=0;u<d.length;u++)if(!d[u].containsRange(s[u])){o.delete(n);continue}}return o.size>0}}e.SnippetSession=l}),define(ee[203],te([0,1,2,15,3,21,24,93,536,16,74,296]),function(q,e,y,N,T,I,b,C,p,h,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const t={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let r=class Dt{constructor(a,s,o){this._editor=a,this._logService=s,this._snippetListener=new y.DisposableStore,this._modelVersionId=-1,this._inSnippet=Dt.InSnippetMode.bindTo(o),this._hasNextTabstop=Dt.HasNextTabstop.bindTo(o),this._hasPrevTabstop=Dt.HasPrevTabstop.bindTo(o)}static get(a){return a.getContribution(Dt.ID)}dispose(){var a;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(a=this._session)===null||a===void 0||a.dispose(),this._snippetListener.dispose()}insert(a,s){try{this._doInsert(a,typeof s=="undefined"?t:Object.assign(Object.assign({},t),s))}catch(o){this.cancel(),this._logService.error(o),this._logService.error("snippet_error"),this._logService.error("insert_template=",a),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(a,s){!this._editor.hasModel()||(this._snippetListener.clear(),s.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(a,s):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new i.SnippetSession(this._editor,a,s),this._session.insert()),s.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(o=>o.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:a}=this._session;if(!a){this._currentChoice=void 0;return}if(this._currentChoice!==a){this._currentChoice=a,this._editor.setSelections(this._editor.getSelections().map(o=>I.Selection.fromPositions(o.getStartPosition())));const[s]=a.options;(0,C.showSimpleSuggestions)(this._editor,a.options.map((o,n)=>({kind:13,label:o.value,insertText:o.value,sortText:"a".repeat(n+1),range:T.Range.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,s.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(a=!1){var s;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(s=this._session)===null||s===void 0||s.dispose(),this._session=void 0,this._modelVersionId=-1,a&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};r.ID="snippetController2",r.InSnippetMode=new h.RawContextKey("inSnippetMode",!1,(0,p.localize)(0,null)),r.HasNextTabstop=new h.RawContextKey("hasNextTabstop",!1,(0,p.localize)(1,null)),r.HasPrevTabstop=new h.RawContextKey("hasPrevTabstop",!1,(0,p.localize)(2,null)),r=Be([Ce(1,g.ILogService),Ce(2,h.IContextKeyService)],r),e.SnippetController2=r,(0,N.registerEditorContribution)(r.ID,r);const c=N.EditorCommand.bindToContribution(r.get);(0,N.registerEditorCommand)(new c({id:"jumpToNextSnippetPlaceholder",precondition:h.ContextKeyExpr.and(r.InSnippetMode,r.HasNextTabstop),handler:l=>l.next(),kbOpts:{weight:100+30,kbExpr:b.EditorContextKeys.editorTextFocus,primary:2}})),(0,N.registerEditorCommand)(new c({id:"jumpToPrevSnippetPlaceholder",precondition:h.ContextKeyExpr.and(r.InSnippetMode,r.HasPrevTabstop),handler:l=>l.prev(),kbOpts:{weight:100+30,kbExpr:b.EditorContextKeys.editorTextFocus,primary:1024|2}})),(0,N.registerEditorCommand)(new c({id:"leaveSnippet",precondition:r.InSnippetMode,handler:l=>l.cancel(!0),kbOpts:{weight:100+30,kbExpr:b.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),(0,N.registerEditorCommand)(new c({id:"acceptSnippet",precondition:r.InSnippetMode,handler:l=>l.finish()}))}),define(ee[722],te([0,1,10,23,13,4,2,8,21,18,72,203,441,91,35,16,74,83,438,93]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class d{constructor(_,L,w,k){this.leadingLineContent=_.getLineContent(L.lineNumber).substr(0,L.column-1),this.leadingWord=_.getWordUntilPosition(L),this.lineNumber=L.lineNumber,this.column=L.column,this.auto=w,this.shy=k}static shouldAutoTrigger(_){if(!_.hasModel())return!1;const L=_.getModel(),w=_.getPosition();L.tokenizeIfCheap(w.lineNumber);const k=L.getWordAtPosition(w);return!(!k||k.endColumn!==w.column||!isNaN(Number(k.word)))}}e.LineContext=d;function u(m){return m.getOption(105).preview}function f(m,_,L){if(!Boolean(_.getContextKeyValue("inlineSuggestionVisible")))return!0;const w=L.getValue("editor.inlineSuggest.allowQuickSuggestions");return w!==void 0?Boolean(w):!1}function S(m,_,L){if(!Boolean(_.getContextKeyValue("inlineSuggestionVisible")))return!0;const w=L.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return w!==void 0?Boolean(w):!1}let v=class zi{constructor(_,L,w,k,D,M,O){this._editor=_,this._editorWorkerService=L,this._clipboardService=w,this._telemetryService=k,this._logService=D,this._contextKeyService=M,this._configurationService=O,this._toDispose=new b.DisposableStore,this._quickSuggestDelay=10,this._triggerCharacterListener=new b.DisposableStore,this._triggerQuickSuggest=new y.TimeoutTimer,this._state=0,this._completionDisposables=new b.DisposableStore,this._onDidCancel=new I.Emitter,this._onDidTrigger=new I.Emitter,this._onDidSuggest=new I.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new p.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(h.CompletionProviderRegistry.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(R=>{this._onCursorChange(R)}));let F=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{F=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{F=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{F||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,b.dispose)(this._triggerCharacterListener),(0,b.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(79),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(80)||!this._editor.hasModel()||!this._editor.getOption(108))return;const _=new Map;for(const w of h.CompletionProviderRegistry.all(this._editor.getModel()))for(const k of w.triggerCharacters||[]){let D=_.get(k);D||(D=new Set,D.add((0,n.getSnippetSuggestSupport)()),_.set(k,D)),D.add(w)}const L=w=>{if(!S(this._editor,this._contextKeyService,this._configurationService)||d.shouldAutoTrigger(this._editor))return;if(!w){const M=this._editor.getPosition();w=this._editor.getModel().getLineContent(M.lineNumber).substr(0,M.column-1)}let k="";(0,C.isLowSurrogate)(w.charCodeAt(w.length-1))?(0,C.isHighSurrogate)(w.charCodeAt(w.length-2))&&(k=w.substr(w.length-2)):k=w.charAt(w.length-1);const D=_.get(k);if(D){const M=this._completionModel?{items:this._completionModel.adopt(D),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:k},Boolean(this._completionModel),D,M)}};this._triggerCharacterListener.add(this._editor.onDidType(L)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(L))}get state(){return this._state}cancel(_=!1){var L;this._state!==0&&(this._triggerQuickSuggest.cancel(),(L=this._requestToken)===null||L===void 0||L.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:_}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!h.CompletionProviderRegistry.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(_){if(!this._editor.hasModel())return;const L=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!_.selection.isEmpty()||_.reason!==0&&_.reason!==3||_.source!=="keyboard"&&_.source!=="deleteLeft"){this.cancel();return}this._state===0&&_.reason===0?(L.containsRange(this._currentSelection)||L.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&_.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){this._editor.getOption(78)!==!1&&(this._editor.getOption(105).snippetsPreventQuickSuggestions&&i.SnippetController2.get(this._editor).isInSnippet()||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!d.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const _=this._editor.getModel(),L=this._editor.getPosition(),w=this._editor.getOption(78);if(w!==!1){if(w!==!0){_.tokenizeIfCheap(L.lineNumber);const k=_.getLineTokens(L.lineNumber),D=k.getStandardTokenType(k.findTokenIndexAtOffset(Math.max(L.column-1-1,0)));if(!(w.other&&D===0||w.comments&&D===1||w.strings&&D===2))return}!f(this._editor,this._contextKeyService,this._configurationService)||!h.CompletionProviderRegistry.has(_)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const _=this._editor.getModel(),L=this._editor.getPosition(),w=new d(_,L,this._state===2,!1);this._onNewContext(w)})}trigger(_,L=!1,w,k){var D;if(!this._editor.hasModel())return;const M=this._editor.getModel(),O=_.auto,F=new d(M,this._editor.getPosition(),O,_.shy);this.cancel(L),this._state=O?2:1,this._onDidTrigger.fire({auto:O,shy:_.shy,position:this._editor.getPosition()}),this._context=F;let R={triggerKind:(D=_.triggerKind)!==null&&D!==void 0?D:0};_.triggerCharacter&&(R={triggerKind:1,triggerCharacter:_.triggerCharacter}),this._requestToken=new N.CancellationTokenSource;const A=this._editor.getOption(100);let P=1;switch(A){case"top":P=0;break;case"bottom":P=2;break}const{itemKind:E,showDeprecated:B}=zi._createSuggestFilter(this._editor),V=t.WordDistance.create(this._editorWorkerService,this._editor),j=(0,n.provideSuggestionItems)(M,this._editor.getPosition(),new n.CompletionOptions(P,E,w,B),R,this._requestToken.token);Promise.all([j,V]).then(([K,Y])=>Ae(this,void 0,void 0,function*(){var J;if((J=this._requestToken)===null||J===void 0||J.dispose(),!this._editor.hasModel())return;let Z=k==null?void 0:k.clipboardText;if(!Z&&K.needsClipboard&&(Z=yield this._clipboardService.readText()),this._state===0)return;const ie=this._editor.getModel();let ne=K.items;if(k){const W=(0,n.getSuggestionComparator)(P);ne=ne.concat(k.items).sort(W)}const G=new d(ie,this._editor.getPosition(),O,_.shy);this._completionModel=new o.CompletionModel(ne,this._context.column,{leadingLineContent:G.leadingLineContent,characterCountDelta:G.column-this._context.column},Y,this._editor.getOption(105),this._editor.getOption(100),Z),this._completionDisposables.add(K.disposable),this._onNewContext(G),this._reportDurationsTelemetry(K.durations)})).catch(T.onUnexpectedError)}_reportDurationsTelemetry(_){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(_)}),this._logService.debug("suggest.durations.json",_)})}static _createSuggestFilter(_){const L=new Set;_.getOption(100)==="none"&&L.add(27);const k=_.getOption(105);return k.showMethods||L.add(0),k.showFunctions||L.add(1),k.showConstructors||L.add(2),k.showFields||L.add(3),k.showVariables||L.add(4),k.showClasses||L.add(5),k.showStructs||L.add(6),k.showInterfaces||L.add(7),k.showModules||L.add(8),k.showProperties||L.add(9),k.showEvents||L.add(10),k.showOperators||L.add(11),k.showUnits||L.add(12),k.showValues||L.add(13),k.showConstants||L.add(14),k.showEnums||L.add(15),k.showEnumMembers||L.add(16),k.showKeywords||L.add(17),k.showWords||L.add(18),k.showColors||L.add(19),k.showFiles||L.add(20),k.showReferences||L.add(21),k.showColors||L.add(22),k.showFolders||L.add(23),k.showTypeParameters||L.add(24),k.showSnippets||L.add(27),k.showUsers||L.add(25),k.showIssues||L.add(26),{itemKind:L,showDeprecated:k.showDeprecated}}_onNewContext(_){if(!!this._context){if(_.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,C.getLeadingWhitespace)(_.leadingLineContent)!==(0,C.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(_.column<this._context.column){_.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(_.leadingWord.word.length!==0&&_.leadingWord.startColumn>this._context.leadingWord.startColumn){const L=new Set(h.CompletionProviderRegistry.all(this._editor.getModel()));for(let k of this._completionModel.allProvider)L.delete(k);const w=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,L,{items:w,clipboardText:this._completionModel.clipboardText});return}if(_.column>this._context.column&&this._completionModel.incomplete.size>0&&_.leadingWord.word.length!==0){const{incomplete:L}=this._completionModel,w=this._completionModel.adopt(L);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,L,{items:w,clipboardText:this._completionModel.clipboardText})}else{let L=this._completionModel.lineContext,w=!1;if(this._completionModel.lineContext={leadingLineContent:_.leadingLineContent,characterCountDelta:_.column-this._context.column},this._completionModel.items.length===0){if(d.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<_.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=L,w=this._completionModel.items.length>0,w&&_.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:w})}}}}};v=Be([Ce(1,g.IEditorWorkerService),Ce(2,r.IClipboardService),Ce(3,s.ITelemetryService),Ce(4,a.ILogService),Ce(5,l.IContextKeyService),Ce(6,c.IConfigurationService)],v),e.SuggestModel=v}),define(ee[297],te([0,1,44,19,10,23,13,4,95,2,17,85,20,67,15,59,14,3,24,203,119,607,582,539,36,26,16,9,82,74,93,581,439,722,440,706,83,42,106]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f,S,v,m,_,L,w,k,D,M,O,F,R,A,P,E,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;let V=!1;class j{constructor(G,W){if(this._model=G,this._position=W,G.getLineMaxColumn(W.lineNumber)!==W.column){const U=G.getOffsetAt(W),x=G.getPositionAt(U+1);this._marker=G.deltaDecorations([],[{range:s.Range.fromPositions(W,x),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(G){if(this._model.isDisposed()||this._position.lineNumber!==G.lineNumber)return 0;if(this._marker){const W=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(W.getStartPosition())-this._model.getOffsetAt(G)}else return this._model.getLineMaxColumn(G.lineNumber)-G.column}}let K=class Hi{constructor(G,W,z,U,x,X,le){this._memoryService=W,this._commandService=z,this._contextKeyService=U,this._instantiationService=x,this._logService=X,this._telemetryService=le,this._lineSuffix=new h.MutableDisposable,this._toDispose=new h.DisposableStore,this._selectors=new Y(Q=>Q.priority),this._telemetryGate=0,this.editor=G,this.model=x.createInstance(F.SuggestModel,this.editor);const fe=D.Context.InsertMode.bindTo(U);fe.set(G.getOption(105).insertMode),this.model.onDidTrigger(()=>fe.set(G.getOption(105).insertMode)),this.widget=this._toDispose.add(new T.IdleValue(()=>{const Q=this._instantiationService.createInstance(A.SuggestWidget,this.editor);this._toDispose.add(Q),this._toDispose.add(Q.onDidSelect(pe=>this._insertSuggestion(pe,0),this));const re=new O.CommitCharacterController(this.editor,Q,pe=>this._insertSuggestion(pe,2));this._toDispose.add(re),this._toDispose.add(this.model.onDidSuggest(pe=>{pe.completionModel.items.length===0&&re.reset()}));const ce=D.Context.MakesTextEdit.bindTo(this._contextKeyService),oe=D.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),de=D.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,h.toDisposable)(()=>{ce.reset(),oe.reset(),de.reset()})),this._toDispose.add(Q.onDidFocus(({item:pe})=>{const _e=this.editor.getPosition(),se=pe.editStart.column,ue=_e.column;let be=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!pe.completion.additionalTextEdits&&!(pe.completion.insertTextRules&4)&&ue-se===pe.completion.insertText.length&&(be=this.editor.getModel().getValueInRange({startLineNumber:_e.lineNumber,startColumn:se,endLineNumber:_e.lineNumber,endColumn:ue})!==pe.completion.insertText),ce.set(be),oe.set(!a.Position.equals(pe.editInsertEnd,pe.editReplaceEnd)),de.set(Boolean(pe.provider.resolveCompletionItem)||Boolean(pe.completion.documentation)||pe.completion.detail!==pe.completion.label)})),this._toDispose.add(Q.onDetailsKeyDown(pe=>{if(pe.toKeybinding().equals(new p.SimpleKeybinding(!0,!1,!1,!1,33))||g.isMacintosh&&pe.toKeybinding().equals(new p.SimpleKeybinding(!1,!1,!1,!0,33))){pe.stopPropagation();return}pe.toKeybinding().isModifierKey()||this.editor.focus()})),Q})),this._overtypingCapturer=this._toDispose.add(new T.IdleValue(()=>this._toDispose.add(new R.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new T.IdleValue(()=>this._toDispose.add(new M.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(x.createInstance(f.WordContextKey,G)),this._toDispose.add(this.model.onDidTrigger(Q=>{this.widget.value.showTriggered(Q.auto,Q.shy?250:50),this._lineSuffix.value=new j(this.editor.getModel(),Q.position)})),this._toDispose.add(this.model.onDidSuggest(Q=>{if(!Q.shy){let re=-1;for(const ce of this._selectors.itemsOrderedByPriorityDesc)if(re=ce.select(this.editor.getModel(),this.editor.getPosition(),Q.completionModel.items),re!==-1)break;re===-1&&(re=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Q.completionModel.items)),this.widget.value.showSuggestions(Q.completionModel,re,Q.isFrozen,Q.auto)}})),this._toDispose.add(this.model.onDidCancel(Q=>{Q.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{V||(this.model.cancel(),this.model.clear())}));let $=D.Context.AcceptSuggestionsOnEnter.bindTo(U),H=()=>{const Q=this.editor.getOption(1);$.set(Q==="on"||Q==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>H())),H()}static get(G){return G.getContribution(Hi.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(G,W){if(!G||!G.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const z=this.editor.getModel(),U=z.getAlternativeVersionId(),{item:x}=G,X=[],le=new I.CancellationTokenSource;W&1||this.editor.pushUndoStop();const fe=this.getOverwriteInfo(x,Boolean(W&8));if(this._memoryService.memorize(z,this.editor.getPosition(),x),Array.isArray(x.completion.additionalTextEdits)){const H=r.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",x.completion.additionalTextEdits.map(Q=>l.EditOperation.replace(s.Range.lift(Q.range),Q.text))),H.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!x.isResolved){const H=new i.StopWatch(!0);let Q;const re=z.onDidChangeContent(pe=>{if(pe.isFlush){le.cancel(),re.dispose();return}for(let _e of pe.changes){const se=s.Range.getEndPosition(_e.range);(!Q||a.Position.isBefore(se,Q))&&(Q=se)}});let ce=W;W|=2;let oe=!1,de=this.editor.onWillType(()=>{de.dispose(),oe=!0,ce&2||this.editor.pushUndoStop()});X.push(x.resolve(le.token).then(()=>{if(!x.completion.additionalTextEdits||le.token.isCancellationRequested||Q&&x.completion.additionalTextEdits.some(_e=>a.Position.isBefore(Q,s.Range.getStartPosition(_e.range))))return!1;oe&&this.editor.pushUndoStop();const pe=r.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",x.completion.additionalTextEdits.map(_e=>l.EditOperation.replace(s.Range.lift(_e.range),_e.text))),pe.restoreRelativeVerticalPositionOfCursor(this.editor),(oe||!(ce&2))&&this.editor.pushUndoStop(),!0}).then(pe=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",H.elapsed(),pe),re.dispose(),de.dispose()}))}let{insertText:$}=x.completion;x.completion.insertTextRules&4||($=d.SnippetParser.escape($)),n.SnippetController2.get(this.editor).insert($,{overwriteBefore:fe.overwriteBefore,overwriteAfter:fe.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(x.completion.insertTextRules&1),clipboardText:G.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),W&2||this.editor.pushUndoStop(),x.completion.command?x.completion.command.id===J.id?this.model.trigger({auto:!0,shy:!1},!0):(X.push(this._commandService.executeCommand(x.completion.command.id,...x.completion.command.arguments?[...x.completion.command.arguments]:[]).catch(b.onUnexpectedError)),this.model.cancel()):this.model.cancel(),W&4&&this._alternatives.value.set(G,H=>{for(le.cancel();z.canUndo();){U!==z.getAlternativeVersionId()&&z.undo(),this._insertSuggestion(H,1|2|(W&8?8:0));break}}),this._alertCompletionItem(x),Promise.all(X).finally(()=>{this._reportSuggestionAcceptedTelemetry(z,G),this.model.clear(),le.dispose()})}_reportSuggestionAcceptedTelemetry(G,W){var z;if(this._telemetryGate++%100!=0)return;const U=((z=W.item.provider._debugDisplayName)!==null&&z!==void 0?z:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:U,basenameHash:(0,B.hash)((0,E.basename)(G.uri)).toString(16),languageId:G.getLanguageId(),fileExtension:(0,E.extname)(G.uri)})}getOverwriteInfo(G,W){(0,t.assertType)(this.editor.hasModel());let z=this.editor.getOption(105).insertMode==="replace";W&&(z=!z);const U=G.position.column-G.editStart.column,x=(z?G.editReplaceEnd.column:G.editInsertEnd.column)-G.position.column,X=this.editor.getPosition().column-G.position.column,le=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:U+X,overwriteAfter:x+le}}_alertCompletionItem(G){if((0,N.isNonEmptyArray)(G.completion.additionalTextEdits)){let W=S.localize(0,null,G.textLabel,G.completion.additionalTextEdits.length);(0,y.alert)(W)}}triggerSuggest(G,W){this.editor.hasModel()&&(this.model.trigger({auto:W??!1,shy:!1},!1,G),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(G){if(!this.editor.hasModel())return;const W=this.editor.getPosition(),z=()=>{W.equals(this.editor.getPosition())&&this._commandService.executeCommand(G.fallback)},U=x=>{if(x.completion.insertTextRules&4||x.completion.additionalTextEdits)return!0;const X=this.editor.getPosition(),le=x.editStart.column,fe=X.column;return fe-le!==x.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:X.lineNumber,startColumn:le,endLineNumber:X.lineNumber,endColumn:fe})!==x.completion.insertText};C.Event.once(this.model.onDidTrigger)(x=>{let X=[];C.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,h.dispose)(X),z()},void 0,X),this.model.onDidSuggest(({completionModel:le})=>{if((0,h.dispose)(X),le.items.length===0){z();return}const fe=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),le.items),$=le.items[fe];if(!U($)){z();return}this.editor.pushUndoStop(),this._insertSuggestion({index:fe,item:$,model:le},4|1|2)},void 0,X)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(W,0),this.editor.focus()}acceptSelectedSuggestion(G,W){const z=this.widget.value.getFocusedItem();let U=0;G&&(U|=4),W&&(U|=8),this._insertSuggestion(z,U)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(G){return this._selectors.register(G)}};K.ID="editor.contrib.suggestController",K=Be([Ce(1,u.ISuggestMemoryService),Ce(2,m.ICommandService),Ce(3,_.IContextKeyService),Ce(4,L.IInstantiationService),Ce(5,k.ILogService),Ce(6,P.ITelemetryService)],K),e.SuggestController=K;class Y{constructor(G){this.prioritySelector=G,this._items=new Array}register(G){if(this._items.indexOf(G)!==-1)throw new Error("Value is already registered");return this._items.push(G),this._items.sort((W,z)=>this.prioritySelector(z)-this.prioritySelector(W)),{dispose:()=>{const W=this._items.indexOf(G);W>=0&&this._items.splice(W,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class J extends c.EditorAction{constructor(){super({id:J.id,label:S.localize(1,null),alias:"Trigger Suggest",precondition:_.ContextKeyExpr.and(o.EditorContextKeys.writable,o.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(G,W,z){const U=K.get(W);if(!U)return;let x;z&&typeof z=="object"&&z.auto===!0&&(x=!0),U.triggerSuggest(void 0,x)}}e.TriggerSuggestAction=J,J.id="editor.action.triggerSuggest",(0,c.registerEditorContribution)(K.ID,K),(0,c.registerEditorAction)(J);const Z=100+90,ie=c.EditorCommand.bindToContribution(K.get);(0,c.registerEditorCommand)(new ie({id:"acceptSelectedSuggestion",precondition:D.Context.Visible,handler(ne){ne.acceptSelectedSuggestion(!0,!1)}})),w.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:_.ContextKeyExpr.and(D.Context.Visible,o.EditorContextKeys.textInputFocus),primary:2,weight:Z}),w.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:_.ContextKeyExpr.and(D.Context.Visible,o.EditorContextKeys.textInputFocus,D.Context.AcceptSuggestionsOnEnter,D.Context.MakesTextEdit),primary:3,weight:Z}),v.MenuRegistry.appendMenuItem(D.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:S.localize(2,null)},group:"left",order:1,when:D.Context.HasInsertAndReplaceRange.toNegated()}),v.MenuRegistry.appendMenuItem(D.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:S.localize(3,null)},group:"left",order:1,when:_.ContextKeyExpr.and(D.Context.HasInsertAndReplaceRange,D.Context.InsertMode.isEqualTo("insert"))}),v.MenuRegistry.appendMenuItem(D.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:S.localize(4,null)},group:"left",order:1,when:_.ContextKeyExpr.and(D.Context.HasInsertAndReplaceRange,D.Context.InsertMode.isEqualTo("replace"))}),(0,c.registerEditorCommand)(new ie({id:"acceptAlternativeSelectedSuggestion",precondition:_.ContextKeyExpr.and(D.Context.Visible,o.EditorContextKeys.textInputFocus),kbOpts:{weight:Z,kbExpr:o.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(ne){ne.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:D.suggestWidgetStatusbarMenu,group:"left",order:2,when:_.ContextKeyExpr.and(D.Context.HasInsertAndReplaceRange,D.Context.InsertMode.isEqualTo("insert")),title:S.localize(5,null)},{menuId:D.suggestWidgetStatusbarMenu,group:"left",order:2,when:_.ContextKeyExpr.and(D.Context.HasInsertAndReplaceRange,D.Context.InsertMode.isEqualTo("replace")),title:S.localize(6,null)}]})),m.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,c.registerEditorCommand)(new ie({id:"hideSuggestWidget",precondition:D.Context.Visible,handler:ne=>ne.cancelSuggestWidget(),kbOpts:{weight:Z,kbExpr:o.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),(0,c.registerEditorCommand)(new ie({id:"selectNextSuggestion",precondition:_.ContextKeyExpr.and(D.Context.Visible,D.Context.MultipleSuggestions),handler:ne=>ne.selectNextSuggestion(),kbOpts:{weight:Z,kbExpr:o.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),(0,c.registerEditorCommand)(new ie({id:"selectNextPageSuggestion",precondition:_.ContextKeyExpr.and(D.Context.Visible,D.Context.MultipleSuggestions),handler:ne=>ne.selectNextPageSuggestion(),kbOpts:{weight:Z,kbExpr:o.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),(0,c.registerEditorCommand)(new ie({id:"selectLastSuggestion",precondition:_.ContextKeyExpr.and(D.Context.Visible,D.Context.MultipleSuggestions),handler:ne=>ne.selectLastSuggestion()})),(0,c.registerEditorCommand)(new ie({id:"selectPrevSuggestion",precondition:_.ContextKeyExpr.and(D.Context.Visible,D.Context.MultipleSuggestions),handler:ne=>ne.selectPrevSuggestion(),kbOpts:{weight:Z,kbExpr:o.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),(0,c.registerEditorCommand)(new ie({id:"selectPrevPageSuggestion",precondition:_.ContextKeyExpr.and(D.Context.Visible,D.Context.MultipleSuggestions),handler:ne=>ne.selectPrevPageSuggestion(),kbOpts:{weight:Z,kbExpr:o.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),(0,c.registerEditorCommand)(new ie({id:"selectFirstSuggestion",precondition:_.ContextKeyExpr.and(D.Context.Visible,D.Context.MultipleSuggestions),handler:ne=>ne.selectFirstSuggestion()})),(0,c.registerEditorCommand)(new ie({id:"toggleSuggestionDetails",precondition:D.Context.Visible,handler:ne=>ne.toggleSuggestionDetails(),kbOpts:{weight:Z,kbExpr:o.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}},menuOpts:[{menuId:D.suggestWidgetStatusbarMenu,group:"right",order:1,when:_.ContextKeyExpr.and(D.Context.DetailsVisible,D.Context.CanResolve),title:S.localize(7,null)},{menuId:D.suggestWidgetStatusbarMenu,group:"right",order:1,when:_.ContextKeyExpr.and(D.Context.DetailsVisible.toNegated(),D.Context.CanResolve),title:S.localize(8,null)}]})),(0,c.registerEditorCommand)(new ie({id:"toggleExplainMode",precondition:D.Context.Visible,handler:ne=>ne.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),(0,c.registerEditorCommand)(new ie({id:"toggleSuggestionFocus",precondition:D.Context.Visible,handler:ne=>ne.toggleSuggestionFocus(),kbOpts:{weight:Z,kbExpr:o.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),(0,c.registerEditorCommand)(new ie({id:"insertBestCompletion",precondition:_.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,_.ContextKeyExpr.equals("config.editor.tabCompletion","on"),f.WordContextKey.AtEnd,D.Context.Visible.toNegated(),M.SuggestAlternatives.OtherSuggestions.toNegated(),n.SnippetController2.InSnippetMode.toNegated()),handler:(ne,G)=>{ne.triggerSuggestAndAcceptBest((0,t.isObject)(G)?Object.assign({fallback:"tab"},G):{fallback:"tab"})},kbOpts:{weight:Z,primary:2}})),(0,c.registerEditorCommand)(new ie({id:"insertNextSuggestion",precondition:_.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,_.ContextKeyExpr.equals("config.editor.tabCompletion","on"),M.SuggestAlternatives.OtherSuggestions,D.Context.Visible.toNegated(),n.SnippetController2.InSnippetMode.toNegated()),handler:ne=>ne.acceptNextSuggestion(),kbOpts:{weight:Z,kbExpr:o.EditorContextKeys.textInputFocus,primary:2}})),(0,c.registerEditorCommand)(new ie({id:"insertPrevSuggestion",precondition:_.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,_.ContextKeyExpr.equals("config.editor.tabCompletion","on"),M.SuggestAlternatives.OtherSuggestions,D.Context.Visible.toNegated(),n.SnippetController2.InSnippetMode.toNegated()),handler:ne=>ne.acceptPrevSuggestion(),kbOpts:{weight:Z,kbExpr:o.EditorContextKeys.textInputFocus,primary:1024|2}})),(0,c.registerEditorAction)(class extends c.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:S.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(ne,G){K.get(G).resetWidgetSize()}})}),define(ee[723],te([0,1,10,4,2,14,3,119,296,297,200,184,245]),function(q,e,y,N,T,I,b,C,p,h,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rangeStartsWith=e.SuggestWidgetInlineCompletionProvider=void 0;class r extends T.Disposable{constructor(o,n){super();this.editor=o,this.suggestControllerPreselector=n,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new N.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new y.RunOnceScheduler(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(o.onKeyDown(u=>{u.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(o.onKeyUp(u=>{u.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const d=h.SuggestController.get(this.editor);if(d){this._register(d.registerSelector({priority:100,select:(S,v,m)=>{const _=this.editor.getModel(),L=(0,g.minimizeInlineCompletion)(_,this.suggestControllerPreselector());if(!L)return-1;const w=I.Position.lift(v),k=m.map((M,O)=>{const F=a(d,w,M,this.isShiftKeyPressed),R=(0,g.minimizeInlineCompletion)(_,F==null?void 0:F.normalizedInlineCompletion);if(!R)return;const A=c(L.range,R.range)&&L.text.startsWith(R.text);return{index:O,valid:A,prefixLength:R.text.length,suggestItem:M}}).filter(M=>M&&M.valid),D=(0,t.findMaxBy)(k,(0,t.compareBy)(M=>M.prefixLength,(0,t.compareByNumber)()));return D?D.index:-1}}));let u=!1;const f=()=>{u||(u=!0,this._register(d.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(d.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(d.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(N.Event.once(d.model.onDidTrigger)(S=>{f()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(o){const n=this.getSuggestItemInfo();let d=!1;l(this._currentSuggestItemInfo,n)||(this._currentSuggestItemInfo=n,d=!0),this._isActive!==o&&(this._isActive=o,d=!0),d&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const o=h.SuggestController.get(this.editor);if(!o||!this.isSuggestWidgetVisible)return;const n=o.widget.value.getFocusedItem();if(!!n)return a(o,this.editor.getPosition(),n.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const o=h.SuggestController.get(this.editor);o&&o.stopForceRenderingAbove()}forceRenderingAbove(){const o=h.SuggestController.get(this.editor);o&&o.forceRenderingAbove()}}e.SuggestWidgetInlineCompletionProvider=r;function c(s,o){return o.startLineNumber===s.startLineNumber&&o.startColumn===s.startColumn&&(o.endLineNumber<s.endLineNumber||o.endLineNumber===s.endLineNumber&&o.endColumn<=s.endColumn)}e.rangeStartsWith=c;function l(s,o){return s===o?!0:!s||!o?!1:s.completionItemKind===o.completionItemKind&&s.isSnippetText===o.isSnippetText&&(0,i.normalizedInlineCompletionsEquals)(s.normalizedInlineCompletion,o.normalizedInlineCompletion)}function a(s,o,n,d){if(Array.isArray(n.completion.additionalTextEdits)&&n.completion.additionalTextEdits.length>0)return{completionItemKind:n.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:b.Range.fromPositions(o,o),text:""}};let{insertText:u}=n.completion,f=!1;if(n.completion.insertTextRules&4){const v=new C.SnippetParser().parse(u),m=s.editor.getModel();if(v.children.length>100)return;p.SnippetSession.adjustWhitespace(m,o,v,!0,!0),u=v.toString(),f=!0}const S=s.getOverwriteInfo(n,d);return{isSnippetText:f,completionItemKind:n.completion.kind,normalizedInlineCompletion:{text:u,range:b.Range.fromPositions(o.delta(0,-S.overwriteBefore),o.delta(0,Math.max(S.overwriteAfter,0)))}}}}),define(ee[724],te([0,1,10,13,2,18,183,200,184,723]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetPreviewModel=void 0;class g extends b.BaseGhostTextWidgetModel{constructor(r,c){super(r);this.cache=c,this.suggestionInlineCompletionSource=this._register(new h.SuggestWidgetInlineCompletionProvider(this.editor,()=>{var l,a;return(a=(l=this.cache.value)===null||l===void 0?void 0:l.completions[0])===null||a===void 0?void 0:a.toLiveInlineCompletion()})),this.updateOperation=this._register(new T.MutableDisposable),this.updateCacheSoon=this._register(new y.RunOnceScheduler(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const a=this.ghostText;a&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,i(a.parts.map(s=>s.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(l=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,T.toDisposable)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(105).preview}updateCache(){return Ae(this,void 0,void 0,function*(){const r=this.suggestionInlineCompletionSource.state;if(!r||!r.selectedItem)return;const c={text:r.selectedItem.normalizedInlineCompletion.text,range:r.selectedItem.normalizedInlineCompletion.range,isSnippetText:r.selectedItem.isSnippetText,completionKind:r.selectedItem.completionItemKind},l=this.editor.getPosition(),a=(0,y.createCancelablePromise)(o=>Ae(this,void 0,void 0,function*(){let n;try{n=yield(0,C.provideInlineCompletions)(l,this.editor.getModel(),{triggerKind:I.InlineCompletionTriggerKind.Automatic,selectedSuggestionInfo:c},o)}catch(d){(0,N.onUnexpectedError)(d);return}o.isCancellationRequested||(this.cache.setValue(this.editor,n,I.InlineCompletionTriggerKind.Automatic),this.onDidChangeEmitter.fire())})),s=new C.UpdateOperation(a,I.InlineCompletionTriggerKind.Automatic);this.updateOperation.value=s,yield a,this.updateOperation.value===s&&this.updateOperation.clear()})}get ghostText(){var r,c,l;const a=this.isSuggestionPreviewEnabled(),s=(0,C.minimizeInlineCompletion)(this.editor.getModel(),(c=(r=this.cache.value)===null||r===void 0?void 0:r.completions[0])===null||c===void 0?void 0:c.toLiveInlineCompletion()),o=this.suggestionInlineCompletionSource.state,n=(0,C.minimizeInlineCompletion)(this.editor.getModel(),(l=o==null?void 0:o.selectedItem)===null||l===void 0?void 0:l.normalizedInlineCompletion),d=s&&n&&s.text.startsWith(n.text)&&s.range.equalsRange(n.range);if(!a&&!d)return;const u=d?s:n||s,f=d?u.text.length-n.text.length:0;return this.toGhostText(u,f)}toGhostText(r,c){const l=this.editor.getOptions().get(105).previewMode;return r?(0,p.inlineCompletionToGhostText)(r,this.editor.getModel(),l,this.editor.getPosition(),c)||new b.GhostText(r.range.endLineNumber,[],this.minReservedLineCount):void 0}}e.SuggestWidgetPreviewModel=g;function i(t){return t.reduce((r,c)=>r+c,0)}}),define(ee[725],te([0,1,4,2,14,18,200,724,245,26]),function(q,e,y,N,T,I,b,C,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SharedInlineCompletionCache=e.GhostTextModel=e.DelegatingModel=void 0;class g extends N.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new N.MutableDisposable)}get targetModel(){var c;return(c=this.currentModelRef.value)===null||c===void 0?void 0:c.object}setTargetModel(c){var l;((l=this.currentModelRef.value)===null||l===void 0?void 0:l.object)!==c&&(this.currentModelRef.clear(),this.currentModelRef.value=c?(0,p.createDisposableRef)(c,c.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var c,l;return this.hasCachedGhostText||(this.cachedGhostText=(l=(c=this.currentModelRef.value)===null||c===void 0?void 0:c.object)===null||l===void 0?void 0:l.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(c){var l;(l=this.targetModel)===null||l===void 0||l.setExpanded(c)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}e.DelegatingModel=g;let i=class extends g{constructor(c,l){super();this.editor=c,this.commandService=l,this.sharedCache=this._register(new t),this.suggestWidgetAdapterModel=this._register(new C.SuggestWidgetPreviewModel(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new b.InlineCompletionsModel(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(c){var l;const a=(l=this.activeInlineCompletionsModel)===null||l===void 0?void 0:l.ghostText;return a?a.parts.some(s=>c.containsPosition(new T.Position(a.lineNumber,s.column))):!1}triggerInlineCompletion(){var c;(c=this.activeInlineCompletionsModel)===null||c===void 0||c.trigger(I.InlineCompletionTriggerKind.Explicit)}commitInlineCompletion(){var c;(c=this.activeInlineCompletionsModel)===null||c===void 0||c.commitCurrentSuggestion()}hideInlineCompletion(){var c;(c=this.activeInlineCompletionsModel)===null||c===void 0||c.hide()}showNextInlineCompletion(){var c;(c=this.activeInlineCompletionsModel)===null||c===void 0||c.showNext()}showPreviousInlineCompletion(){var c;(c=this.activeInlineCompletionsModel)===null||c===void 0||c.showPrevious()}hasMultipleInlineCompletions(){var c;return Ae(this,void 0,void 0,function*(){const l=yield(c=this.activeInlineCompletionsModel)===null||c===void 0?void 0:c.hasMultipleInlineCompletions();return l!==void 0?l:!1})}};i=Be([Ce(1,h.ICommandService)],i),e.GhostTextModel=i;class t extends N.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new N.MutableDisposable)}get value(){return this.cache.value}setValue(c,l,a){this.cache.value=new b.SynchronizedInlineCompletionsCache(c,l,()=>this.onDidChangeEmitter.fire(),a)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}e.SharedInlineCompletionCache=t}),define(ee[298],te([0,1,2,8,15,141,24,244,725,626,520,16,9,82]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=e.commitInlineSuggestionAction=e.ActiveGhostTextController=e.GhostTextController=void 0;let c=class Ui extends y.Disposable{constructor(f,S){super();this.editor=f,this.instantiationService=S,this.triggeredExplicitly=!1,this.activeController=this._register(new y.MutableDisposable),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(v=>{v.hasChanged(105)&&this.updateModelController(),v.hasChanged(54)&&this.updateModelController()})),this.updateModelController()}static get(f){return f.getContribution(Ui.ID)}get activeModel(){var f;return(f=this.activeController.value)===null||f===void 0?void 0:f.model}updateModelController(){const f=this.editor.getOption(105),S=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(f.preview||S.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(a,this.editor):void 0}shouldShowHoverAt(f){var S;return((S=this.activeModel)===null||S===void 0?void 0:S.shouldShowHoverAt(f))||!1}shouldShowHoverAtViewZone(f){var S,v;return((v=(S=this.activeController.value)===null||S===void 0?void 0:S.widget)===null||v===void 0?void 0:v.shouldShowHoverAtViewZone(f))||!1}trigger(){var f;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(f=this.activeModel)===null||f===void 0||f.triggerInlineCompletion()}commit(){var f;(f=this.activeModel)===null||f===void 0||f.commitInlineCompletion()}hide(){var f;(f=this.activeModel)===null||f===void 0||f.hideInlineCompletion()}showNextInlineCompletion(){var f;(f=this.activeModel)===null||f===void 0||f.showNextInlineCompletion()}showPreviousInlineCompletion(){var f;(f=this.activeModel)===null||f===void 0||f.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var f;return Ae(this,void 0,void 0,function*(){const S=yield(f=this.activeModel)===null||f===void 0?void 0:f.hasMultipleInlineCompletions();return S!==void 0?S:!1})}};c.inlineSuggestionVisible=new i.RawContextKey("inlineSuggestionVisible",!1,g.localize(0,null)),c.inlineSuggestionHasIndentation=new i.RawContextKey("inlineSuggestionHasIndentation",!1,g.localize(1,null)),c.inlineSuggestionHasIndentationLessThanTabSize=new i.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,g.localize(2,null)),c.ID="editor.contrib.ghostTextController",c=Be([Ce(1,t.IInstantiationService)],c),e.GhostTextController=c;class l{constructor(f){this.contextKeyService=f,this.inlineCompletionVisible=c.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=c.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=c.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let a=class extends y.Disposable{constructor(f,S,v){super();this.editor=f,this.instantiationService=S,this.contextKeyService=v,this.contextKeys=new l(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(p.GhostTextModel,this.editor)),this.widget=this._register(this.instantiationService.createInstance(h.GhostTextWidget,this.editor,this.model)),this._register((0,y.toDisposable)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var f;this.contextKeys.inlineCompletionVisible.set(((f=this.model.activeInlineCompletionsModel)===null||f===void 0?void 0:f.ghostText)!==void 0);let S=!1,v=!0;const m=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&m&&m.parts.length>0){const{column:_,lines:L}=m.parts[0],w=L[0],k=this.editor.getModel().getLineIndentColumn(m.lineNumber);if(_<=k){let M=(0,N.firstNonWhitespaceIndex)(w);M===-1&&(M=w.length-1),S=M>0;const O=this.editor.getModel().getOptions().tabSize;v=I.CursorColumns.visibleColumnFromColumn(w,M+1,O)<O}}this.contextKeys.inlineCompletionSuggestsIndentation.set(S),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(v)}};a=Be([Ce(1,t.IInstantiationService),Ce(2,i.IContextKeyService)],a),e.ActiveGhostTextController=a;const s=T.EditorCommand.bindToContribution(c.get);e.commitInlineSuggestionAction=new s({id:C.inlineSuggestCommitId,precondition:c.inlineSuggestionVisible,handler(u){u.commit(),u.editor.focus()}}),(0,T.registerEditorCommand)(e.commitInlineSuggestionAction),r.KeybindingsRegistry.registerKeybindingRule({primary:2,weight:200,id:e.commitInlineSuggestionAction.id,when:i.ContextKeyExpr.and(e.commitInlineSuggestionAction.precondition,b.EditorContextKeys.tabMovesFocus.toNegated(),c.inlineSuggestionHasIndentationLessThanTabSize)}),(0,T.registerEditorCommand)(new s({id:"editor.action.inlineSuggest.hide",precondition:c.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(u){u.hide()}}));class o extends T.EditorAction{constructor(){super({id:o.ID,label:g.localize(3,null),alias:"Show Next Inline Suggestion",precondition:i.ContextKeyExpr.and(b.EditorContextKeys.writable,c.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|89}})}run(f,S){return Ae(this,void 0,void 0,function*(){const v=c.get(S);v&&(v.showNextInlineCompletion(),S.focus())})}}e.ShowNextInlineSuggestionAction=o,o.ID="editor.action.inlineSuggest.showNext";class n extends T.EditorAction{constructor(){super({id:n.ID,label:g.localize(4,null),alias:"Show Previous Inline Suggestion",precondition:i.ContextKeyExpr.and(b.EditorContextKeys.writable,c.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|87}})}run(f,S){return Ae(this,void 0,void 0,function*(){const v=c.get(S);v&&(v.showPreviousInlineCompletion(),S.focus())})}}e.ShowPreviousInlineSuggestionAction=n,n.ID="editor.action.inlineSuggest.showPrevious";class d extends T.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:g.localize(5,null),alias:"Trigger Inline Suggestion",precondition:b.EditorContextKeys.writable})}run(f,S){return Ae(this,void 0,void 0,function*(){const v=c.get(S);v&&v.trigger()})}}e.TriggerInlineSuggestionAction=d,(0,T.registerEditorContribution)(c.ID,c),(0,T.registerEditorAction)(d),(0,T.registerEditorAction)(o),(0,T.registerEditorAction)(n)}),define(ee[726],te([0,1,7,70,2,101,3,38,242,298,521,60,36,26,16,53]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class a{constructor(n,d,u){this.owner=n,this.range=d,this.controller=u}isValidForHoverAnchor(n){return n.type===1&&this.range.startColumn<=n.range.startColumn&&this.range.endColumn>=n.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}e.InlineCompletionsHover=a;let s=class{constructor(n,d,u,f,S,v,m,_){this._editor=n,this._hover=d,this._commandService=u,this._menuService=f,this._contextKeyService=S,this._modeService=v,this._openerService=m,this.accessibilityService=_}suggestHoverAnchor(n){const d=h.GhostTextController.get(this._editor);if(!d)return null;if(n.target.type===8){const u=n.target.detail;if(d.shouldShowHoverAtViewZone(u.viewZoneId))return new p.HoverForeignElementAnchor(1e3,this,b.Range.fromPositions(u.positionBefore||u.position,u.positionBefore||u.position))}return n.target.type===7&&n.target.range&&d.shouldShowHoverAt(n.target.range)?new p.HoverForeignElementAnchor(1e3,this,n.target.range):n.target.type===6&&n.target.range&&n.target.detail&&n.target.detail.mightBeForeignElement&&d.shouldShowHoverAt(n.target.range)?new p.HoverForeignElementAnchor(1e3,this,n.target.range):null}computeSync(n,d){const u=h.GhostTextController.get(this._editor);return u&&u.shouldShowHoverAt(n.range)?[new a(this,n.range,u)]:[]}renderHoverParts(n,d,u){const f=new T.DisposableStore,S=n[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(S,d,f);const v=f.add(this._menuService.createMenu(t.MenuId.InlineCompletionsActions,this._contextKeyService)),m=u.addAction({label:g.localize(0,null),commandId:h.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(h.ShowNextInlineSuggestionAction.ID)}),_=u.addAction({label:g.localize(1,null),commandId:h.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(h.ShowPreviousInlineSuggestionAction.ID)});u.addAction({label:g.localize(2,null),commandId:h.commitInlineSuggestionAction.id,run:()=>this._commandService.executeCommand(h.commitInlineSuggestionAction.id)});const L=[m,_];for(const w of L)w.setEnabled(!1);S.hasMultipleSuggestions().then(w=>{for(const k of L)k.setEnabled(w)});for(const[w,k]of v.getActions())for(const D of k)D instanceof t.MenuItemAction&&u.addAction({label:D.label,commandId:D.item.id,run:()=>this._commandService.executeCommand(D.item.id)});return f}renderScreenReaderText(n,d,u){var f,S;const v=y.$,m=v("div.hover-row.markdown-hover"),_=y.append(m,v("div.hover-contents")),L=u.add(new I.MarkdownRenderer({editor:this._editor},this._modeService,this._openerService)),w=D=>{u.add(L.onDidRenderAsync(()=>{_.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const M=g.localize(3,null),O=u.add(L.render(new N.MarkdownString().appendText(M).appendCodeblock("text",D)));_.replaceChildren(O.element)},k=(S=(f=n.controller.activeModel)===null||f===void 0?void 0:f.inlineCompletionsModel)===null||S===void 0?void 0:S.ghostText;if(k){const D=this._editor.getModel().getLineContent(k.lineNumber);w(k.renderForScreenReader(D))}d.appendChild(m)}};s=Be([Ce(2,r.ICommandService),Ce(3,t.IMenuService),Ce(4,c.IContextKeyService),Ce(5,C.IModeService),Ce(6,l.IOpenerService),Ce(7,i.IAccessibilityService)],s),e.InlineCompletionsHoverParticipant=s}),define(ee[727],te([0,1,7,220,54,19,2,14,3,31,18,697,241,242,278,713,726,16,9,41,93,294,10]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a,s,o,n,d,u,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesContentHoverWidget=void 0;const S=y.$;let v=class extends b.Disposable{constructor(w){super();this._keybindingService=w,this._hasContent=!1,this.hoverElement=S("div.hover-row.status-bar"),this.actionsElement=y.append(this.hoverElement,S("div.actions"))}get hasContent(){return this._hasContent}addAction(w){const k=this._keybindingService.lookupKeybinding(w.commandId),D=k?k.getLabel():null;return this._hasContent=!0,this._register(N.HoverAction.render(this.actionsElement,w,D))}append(w){const k=y.append(this.actionsElement,w);return this._hasContent=!0,k}};v=Be([Ce(0,n.IKeybindingService)],v);class m{constructor(w,k){this._participants=k,this._editor=w,this._result=[],this._anchor=null}setAnchor(w){this._anchor=w,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(w,k){if(k.type!==1)return[];const D=w.getModel(),M=k.range.startLineNumber,O=D.getLineMaxColumn(M);return w.getLineDecorations(M).filter(F=>{if(F.options.isWholeLine)return!0;const R=F.range.startLineNumber===M?F.range.startColumn:1,A=F.range.endLineNumber===M?F.range.endColumn:O;if(F.options.showIfCollapsed){if(R>k.range.startColumn+1||k.range.endColumn-1>A)return!1}else if(R>k.range.startColumn||k.range.endColumn>A)return!1;return!0})}computeAsync(w){const k=this._anchor;if(!this._editor.hasModel()||!k)return f.AsyncIterableObject.EMPTY;const D=m._getLineDecorations(this._editor,k);return f.AsyncIterableObject.merge(this._participants.map(M=>this._computeAsync(M,D,k,w)))}_computeAsync(w,k,D,M){return w.computeAsync?w.computeAsync(D,k,M):f.AsyncIterableObject.EMPTY}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const w=m._getLineDecorations(this._editor,this._anchor);let k=[];for(const D of this._participants)k=k.concat(D.computeSync(this._anchor,w));return(0,I.coalesce)(k)}onResult(w,k){k?this._result=w.concat(this._result):this._result=this._result.concat(w)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor){for(const w of this._participants)if(w.createLoadingMessage){const k=w.createLoadingMessage(this._anchor);if(k)return this._result.slice(0).concat([k])}}return this._result.slice(0)}}let _=class ni extends T.Widget{constructor(w,k,D,M,O){super();this._hoverVisibleKey=k,this._keybindingService=M,this._contextKeyService=O,this.allowEditorOverflow=!0,this._participants=[D.createInstance(i.ColorHoverParticipant,w,this),D.createInstance(c.MarkdownHoverParticipant,w,this),D.createInstance(a.InlineCompletionsHoverParticipant,w,this),D.createInstance(u.UnicodeHighlighterHoverParticipant,w,this),D.createInstance(l.MarkerHoverParticipant,w,this)],this._editor=w,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this._hover=this._register(new N.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this.onkeydown(this._hover.containerDomNode,F=>{F.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(F=>{F.hasChanged(43)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._messagesAreComplete=!1,this._lastAnchor=null,this._computer=new m(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._preferAbove=this._editor.getOption(52).above,this._hoverOperation=new t.HoverOperation(this._computer,F=>this._withResult(F,!0),null,F=>this._withResult(F,!1),this._editor.getOption(52).delay),this._register(y.addStandardDisposableListener(this.getDomNode(),y.EventType.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(y.addStandardDisposableListener(this.getDomNode(),y.EventType.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(w.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(52).delay),this._preferAbove=this._editor.getOption(52).above})),this._register(g.TokenizationRegistry.onDidChange(()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return ni.ID}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(w){const k=w.target.type;if(k===6)return!0;if(k===7){const D=this._editor.getOption(43).typicalHalfwidthCharacterWidth/2,M=w.target.detail;if(M&&!M.isAfterLines&&typeof M.horizontalDistanceToText=="number"&&M.horizontalDistanceToText<D)return!0}return!1}maybeShowAt(w){var k;const D=[];for(const M of this._participants)if(typeof M.suggestHoverAnchor=="function"){const O=M.suggestHoverAnchor(w);O&&D.push(O)}if(this._shouldShowAt(w)&&w.target.range){const O=[...((k=w.target.element)===null||k===void 0?void 0:k.classList.values())||[]].find(F=>F.startsWith("ced-colorBox"))&&w.target.range.endColumn-w.target.range.startColumn==1?new p.Range(w.target.range.startLineNumber,w.target.range.startColumn+1,w.target.range.endLineNumber,w.target.range.endColumn+1):w.target.range;D.push(new r.HoverRangeAnchor(0,O))}return D.length===0?!1:(D.sort((M,O)=>O.priority-M.priority),this._startShowingAt(D[0],0,!1),!0)}_showAt(w,k,D){this._showAtPosition=w,this._showAtRange=k,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=D,D&&this._hover.containerDomNode.focus()}getPosition(){if(this._isVisible){let w=this._preferAbove;return!w&&this._contextKeyService.getContextKeyValue(d.Context.Visible.key)&&(w=!0),{position:this._showAtPosition,range:this._showAtRange,preference:w?[1,2]:[2,1]}}return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(k=>this._editor.applyFontInfo(k))}_updateContents(w){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(w),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const w=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:k,lineHeight:D}=this._editor.getOption(43);this._hover.contentsDomNode.style.fontSize=`${k}px`,this._hover.contentsDomNode.style.lineHeight=`${D/k}`,this._hover.contentsDomNode.style.maxHeight=`${w}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(w,k,D){this._startShowingAt(new r.HoverRangeAnchor(0,w),k,D)}_startShowingAt(w,k,D){if(!(this._lastAnchor&&this._lastAnchor.equals(w))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||!this._lastAnchor||!w.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition))this.hide();else{const M=this._messages.filter(O=>O.isValidForHoverAnchor(w));if(M.length===0)this.hide();else{if(M.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(w,M)}}this._lastAnchor=w,this._computer.setAnchor(w),this._shouldFocus=D,this._hoverOperation.start(k)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(w){this._colorPicker=w}onContentsChanged(){this._hover.onContentsChanged()}_withResult(w,k){this._messages=w,this._messagesAreComplete=k,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):k&&this.hide()}_renderMessages(w,k){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let D=1073741824,M=k[0].range,O=null,F=document.createDocumentFragment();const R=new b.DisposableStore,A=new Map;for(const E of k)D=Math.min(D,E.range.startColumn),M=p.Range.plusRange(M,E.range),E.forceShowAtRange&&(O=E.range),A.has(E.owner)||A.set(E.owner,[]),A.get(E.owner).push(E);const P=R.add(new v(this._keybindingService));for(const E of this._participants)if(A.has(E)){const B=A.get(E);R.add(E.renderHoverParts(B,F,P))}P.hasContent&&F.appendChild(P.hoverElement),this._renderDisposable=R,F.hasChildNodes()&&(O?this._showAt(O.getStartPosition(),O,this._shouldFocus):this._showAt(new C.Position(w.range.startLineNumber,D),M,this._shouldFocus),this._updateContents(F)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,M?[{range:M,options:ni._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};_.ID="editor.contrib.modesContentHoverWidget",_._DECORATION_OPTIONS=h.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),_=Be([Ce(2,o.IInstantiationService),Ce(3,n.IKeybindingService),Ce(4,s.IContextKeyService)],_),e.ModesContentHoverWidget=_}),define(ee[299],te([0,1,56,2,15,3,24,38,292,727,601,515,16,9,53,22,12]),function(q,e,y,N,T,I,b,C,p,h,g,i,t,r,c,l,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let s=class Ki{constructor(u,f,S,v,m){this._editor=u,this._instantiationService=f,this._openerService=S,this._modeService=v,this._toUnhook=new N.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(_=>{_.hasChanged(52)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=b.EditorContextKeys.hoverVisible.bindTo(m)}static get(u){return u.getContribution(Ki.ID)}_hookEvents(){const u=()=>this._hideWidgets(),f=this._editor.getOption(52);this._isHoverEnabled=f.enabled,this._isHoverSticky=f.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(S=>this._onEditorMouseDown(S))),this._toUnhook.add(this._editor.onMouseUp(S=>this._onEditorMouseUp(S))),this._toUnhook.add(this._editor.onMouseMove(S=>this._onEditorMouseMove(S))),this._toUnhook.add(this._editor.onKeyDown(S=>this._onKeyDown(S))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(S=>this._onEditorMouseMove(S))),this._toUnhook.add(this._editor.onKeyDown(S=>this._onKeyDown(S)))),this._toUnhook.add(this._editor.onMouseLeave(u)),this._toUnhook.add(this._editor.onDidChangeModel(u)),this._toUnhook.add(this._editor.onDidScrollChange(S=>this._onEditorScrollChanged(S)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var u,f;(u=this._contentWidget)===null||u===void 0||u.onModelDecorationsChanged(),(f=this._glyphWidget)===null||f===void 0||f.onModelDecorationsChanged()}_onEditorScrollChanged(u){(u.scrollTopChanged||u.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(u){this._isMouseDown=!0;const f=u.target.type;if(f===9&&u.target.detail===h.ModesContentHoverWidget.ID){this._hoverClicked=!0;return}f===12&&u.target.detail===g.ModesGlyphHoverWidget.ID||(f!==12&&u.target.detail!==g.ModesGlyphHoverWidget.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(u){this._isMouseDown=!1}_onEditorMouseMove(u){var f,S,v,m,_;let L=u.target.type;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&L===9&&u.target.detail===h.ModesContentHoverWidget.ID||this._isHoverSticky&&!((S=(f=u.event.browserEvent.view)===null||f===void 0?void 0:f.getSelection())===null||S===void 0?void 0:S.isCollapsed)||!this._isHoverSticky&&L===9&&u.target.detail===h.ModesContentHoverWidget.ID&&((v=this._contentWidget)===null||v===void 0?void 0:v.isColorPickerVisible())||this._isHoverSticky&&L===12&&u.target.detail===g.ModesGlyphHoverWidget.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(u)){(m=this._glyphWidget)===null||m===void 0||m.hide();return}if(L===2&&u.target.position){(_=this._contentWidget)===null||_===void 0||_.hide(),this._glyphWidget||(this._glyphWidget=new g.ModesGlyphHoverWidget(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(u.target.position.lineNumber);return}this._hideWidgets()}_onKeyDown(u){u.keyCode!==5&&u.keyCode!==6&&u.keyCode!==57&&u.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var u,f,S;this._isMouseDown&&this._hoverClicked&&((u=this._contentWidget)===null||u===void 0?void 0:u.isColorPickerVisible())||(this._hoverClicked=!1,(f=this._glyphWidget)===null||f===void 0||f.hide(),(S=this._contentWidget)===null||S===void 0||S.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(h.ModesContentHoverWidget,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var u;return((u=this._contentWidget)===null||u===void 0?void 0:u.isColorPickerVisible())||!1}showContentHover(u,f,S){this._getOrCreateContentWidget().startShowingAtRange(u,f,S)}dispose(){var u,f;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(u=this._glyphWidget)===null||u===void 0||u.dispose(),(f=this._contentWidget)===null||f===void 0||f.dispose()}};s.ID="editor.contrib.hover",s=Be([Ce(1,r.IInstantiationService),Ce(2,c.IOpenerService),Ce(3,C.IModeService),Ce(4,t.IContextKeyService)],s),e.ModesHoverController=s;class o extends T.EditorAction{constructor(){super({id:"editor.action.showHover",label:i.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|39),weight:100}})}run(u,f){if(!f.hasModel())return;let S=s.get(f);if(!S)return;const v=f.getPosition(),m=new I.Range(v.lineNumber,v.column,v.lineNumber,v.column),_=f.getOption(2)===2;S.showContentHover(m,1,_)}}class n extends T.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:i.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(u,f){let S=s.get(f);if(!S)return;const v=f.getPosition();if(!v)return;const m=new I.Range(v.lineNumber,v.column,v.lineNumber,v.column);p.GotoDefinitionAtPositionEditorContribution.get(f).startFindDefinitionFromCursor(v).then(()=>{S.showContentHover(m,1,!0)})}}(0,T.registerEditorContribution)(s.ID,s),(0,T.registerEditorAction)(o),(0,T.registerEditorAction)(n),(0,a.registerThemingParticipant)((d,u)=>{const f=d.getColor(l.editorHoverHighlight);f&&u.addRule(`.monaco-editor .hoverHighlight { background-color: ${f}; }`);const S=d.getColor(l.editorHoverBackground);S&&u.addRule(`.monaco-editor .monaco-hover { background-color: ${S}; }`);const v=d.getColor(l.editorHoverBorder);v&&(u.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${v}; }`),u.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${v.transparent(.5)}; }`),u.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${v.transparent(.5)}; }`),u.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${v.transparent(.5)}; }`));const m=d.getColor(l.textLinkForeground);m&&u.addRule(`.monaco-editor .monaco-hover a { color: ${m}; }`);const _=d.getColor(l.textLinkActiveForeground);_&&u.addRule(`.monaco-editor .monaco-hover a:hover { color: ${_}; }`);const L=d.getColor(l.editorHoverForeground);L&&u.addRule(`.monaco-editor .monaco-hover { color: ${L}; }`);const w=d.getColor(l.editorHoverStatusBarBackground);w&&u.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${w}; }`);const k=d.getColor(l.textCodeBlockBackground);k&&u.addRule(`.monaco-editor .monaco-hover code { background-color: ${k}; }`)})}),define(ee[728],te([0,1,2,15,3,299,286]),function(q,e,y,N,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class b extends y.Disposable{constructor(p){super();this._editor=p,this._register(p.onMouseDown(h=>this.onMouseDown(h)))}dispose(){super.dispose()}onMouseDown(p){var h;if(p.target.type!==6||![...((h=p.target.element)===null||h===void 0?void 0:h.classList.values())||[]].find(r=>r.startsWith("ced-colorBox"))||!p.target.range)return;const t=this._editor.getContribution(I.ModesHoverController.ID);if(!t.isColorPickerVisible()){const r=new T.Range(p.target.range.startLineNumber,p.target.range.startColumn+1,p.target.range.endLineNumber,p.target.range.endColumn+1);t.showContentHover(r,0,!1)}}}e.ColorContribution=b,b.ID="editor.contrib.colorContribution",(0,N.registerEditorContribution)(b.ID,b)}),define(ee[729],te([0,1,159,160,284,226,633,682,634,683,635,686,688,728,638,639,640,689,287,696,641,642,577,298,291,292,289,299,699,645,698,700,702,703,704,705,667,646,647,203,297,648,279,294,649,707,708,288,709,65,137]),function(q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})});var Kt=this&&this.__createBinding||(Object.create?function(q,e,y,N){N===void 0&&(N=y),Object.defineProperty(q,N,{enumerable:!0,get:function(){return e[y]}})}:function(q,e,y,N){N===void 0&&(N=y),q[N]=e[y]}),jt=this&&this.__exportStar||function(q,e){for(var y in q)y!=="default"&&!Object.prototype.hasOwnProperty.call(e,y)&&Kt(e,q,y)};define(ee[732],te([0,1,719,729,650,651,652,604,654,655,653,714,656]),function(q,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),jt(y,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(337587859b1c171314b40503171188b6cea6a32a)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution",["vs/editor/editor.api"],()=>{
var moduleExports=(()=>{var S=Object.create;var c=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var H=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty;var f=n=>c(n,"__esModule",{value:!0});var D=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),F=(n,e)=>{f(n);for(var t in e)c(n,t,{get:e[t],enumerable:!0})},h=(n,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of N(e))!R.call(n,i)&&i!=="default"&&c(n,i,{get:()=>e[i],enumerable:!(t=k(e,i))||t.enumerable});return n},M=n=>h(f(c(n!=null?S(H(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var C=w((U,E)=>{E.exports=self.monaco});var W={};F(W,{JsxEmit:()=>b,ModuleKind:()=>g,ModuleResolutionKind:()=>u,NewLineKind:()=>d,ScriptTarget:()=>p,getJavaScriptWorker:()=>P,getTypeScriptWorker:()=>_,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>I});var L="4.4.4";var a={};f(a);h(a,M(C()));var g;(function(s){s[s.None=0]="None",s[s.CommonJS=1]="CommonJS",s[s.AMD=2]="AMD",s[s.UMD=3]="UMD",s[s.System=4]="System",s[s.ES2015=5]="ES2015",s[s.ESNext=99]="ESNext"})(g||(g={}));var b;(function(r){r[r.None=0]="None",r[r.Preserve=1]="Preserve",r[r.React=2]="React",r[r.ReactNative=3]="ReactNative",r[r.ReactJSX=4]="ReactJSX",r[r.ReactJSXDev=5]="ReactJSXDev"})(b||(b={}));var d;(function(t){t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed"})(d||(d={}));var p;(function(o){o[o.ES3=0]="ES3",o[o.ES5=1]="ES5",o[o.ES2015=2]="ES2015",o[o.ES2016=3]="ES2016",o[o.ES2017=4]="ES2017",o[o.ES2018=5]="ES2018",o[o.ES2019=6]="ES2019",o[o.ES2020=7]="ES2020",o[o.ESNext=99]="ESNext",o[o.JSON=100]="JSON",o[o.Latest=99]="Latest"})(p||(p={}));var u;(function(t){t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs"})(u||(u={}));var O=class{constructor(e,t,i,l){this._onDidChange=new a.Emitter;this._onDidExtraLibsChange=new a.Emitter;this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(l),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let i;if(typeof t=="undefined"?i=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:i=t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:()=>{}};let l=1;return this._removedExtraLibs[i]&&(l=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(l=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:l},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let m=this._extraLibs[i];!m||m.version===l&&(delete this._extraLibs[i],this._removedExtraLibs[i]=l,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let i=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,l=t.content,m=1;this._removedExtraLibs[i]&&(m=this._removedExtraLibs[i]+1),this._extraLibs[i]={content:l,version:m}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}},I=L,x=new O({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),v=new O({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),_=()=>y().then(n=>n.getTypeScriptWorker()),P=()=>y().then(n=>n.getJavaScriptWorker());a.languages.typescript={ModuleKind:g,JsxEmit:b,NewLineKind:d,ScriptTarget:p,ModuleResolutionKind:u,typescriptVersion:I,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:_,getJavaScriptWorker:P};function y(){return new Promise((n,e)=>{D(["vs/language/typescript/tsMode"],n,e)})}a.languages.onLanguage("typescript",()=>y().then(n=>n.setupTypeScript(x)));a.languages.onLanguage("javascript",()=>y().then(n=>n.setupJavaScript(v)));return W;})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(337587859b1c171314b40503171188b6cea6a32a)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution",["vs/editor/editor.api"],()=>{
var moduleExports=(()=>{var v=Object.create;var i=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty;var s=e=>i(e,"__esModule",{value:!0});var y=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,o)=>(typeof require!="undefined"?require:n)[o]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var x=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),I=(e,n)=>{s(e);for(var o in n)i(e,o,{get:n[o],enumerable:!0})},g=(e,n,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of w(n))!S.call(e,t)&&t!=="default"&&i(e,t,{get:()=>n[t],enumerable:!(o=C(n,t))||o.enumerable});return e},M=e=>g(s(i(e!=null?v(h(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var D=x((P,m)=>{m.exports=self.monaco});var b={};I(b,{cssDefaults:()=>u,lessDefaults:()=>c,scssDefaults:()=>p});var r={};s(r);g(r,M(D()));var a=class{constructor(n,o,t){this._onDidChange=new r.Emitter;this._languageId=n,this.setOptions(o),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},l={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},u=new a("css",d,l),p=new a("scss",d,l),c=new a("less",d,l);r.languages.css={cssDefaults:u,lessDefaults:c,scssDefaults:p};function f(){return new Promise((e,n)=>{y(["vs/language/css/cssMode"],e,n)})}r.languages.onLanguage("less",()=>{f().then(e=>e.setupMode(c))});r.languages.onLanguage("scss",()=>{f().then(e=>e.setupMode(p))});r.languages.onLanguage("css",()=>{f().then(e=>e.setupMode(u))});return b;})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(337587859b1c171314b40503171188b6cea6a32a)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution",["vs/editor/editor.api"],()=>{
var moduleExports=(()=>{var m=Object.create;var a=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty;var s=e=>a(e,"__esModule",{value:!0});var l=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(o,t)=>(typeof require!="undefined"?require:o)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var h=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports),C=(e,o)=>{s(e);for(var t in o)a(e,t,{get:o[t],enumerable:!0})},r=(e,o,t)=>{if(o&&typeof o=="object"||typeof o=="function")for(let i of p(o))!v.call(e,i)&&i!=="default"&&a(e,i,{get:()=>o[i],enumerable:!(t=f(o,i))||t.enumerable});return e},D=e=>r(s(a(e!=null?m(y(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var c=h((_,d)=>{d.exports=self.monaco});var j={};C(j,{jsonDefaults:()=>g});var n={};s(n);r(n,D(c()));var u=class{constructor(o,t,i){this._onDidChange=new n.Emitter;this._languageId=o,this.setDiagnosticsOptions(t),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(o){this._diagnosticsOptions=o||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(o){this._modeConfiguration=o||Object.create(null),this._onDidChange.fire(this)}},b={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},M={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},g=new u("json",b,M);n.languages.json={jsonDefaults:g};function O(){return new Promise((e,o)=>{l(["vs/language/json/jsonMode"],e,o)})}n.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});n.languages.onLanguage("json",()=>{O().then(e=>e.setupMode(g))});return j;})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(337587859b1c171314b40503171188b6cea6a32a)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution",["vs/editor/editor.api"],()=>{
var moduleExports=(()=>{var S=Object.create;var s=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var H=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var g=e=>s(e,"__esModule",{value:!0});var y=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,t)=>(typeof require!="undefined"?require:n)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var _=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),k=(e,n)=>{g(e);for(var t in n)s(e,t,{get:n[t],enumerable:!0})},f=(e,n,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of R(n))!O.call(e,o)&&o!=="default"&&s(e,o,{get:()=>n[o],enumerable:!(t=w(n,o))||t.enumerable});return e},T=e=>f(g(s(e!=null?S(H(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var v=_((V,b)=>{b.exports=self.monaco});var F={};k(F,{handlebarDefaults:()=>M,handlebarLanguageService:()=>p,htmlDefaults:()=>L,htmlLanguageService:()=>c,razorDefaults:()=>x,razorLanguageService:()=>m,registerHTMLLanguageService:()=>i});var a={};g(a);f(a,T(v()));var h=class{constructor(n,t,o){this._onDidChange=new a.Emitter;this._languageId=n,this.setOptions(t),this.setModeConfiguration(o)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},A={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},d={format:A,suggest:{},data:{useDefaultDataProvider:!0}};function l(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===r,documentFormattingEdits:e===r,documentRangeFormattingEdits:e===r}}var r="html",D="handlebars",C="razor",c=i(r,d,l(r)),L=c.defaults,p=i(D,d,l(D)),M=p.defaults,m=i(C,d,l(C)),x=m.defaults;a.languages.html={htmlDefaults:L,razorDefaults:x,handlebarDefaults:M,htmlLanguageService:c,handlebarLanguageService:p,razorLanguageService:m,registerHTMLLanguageService:i};function E(){return new Promise((e,n)=>{y(["vs/language/html/htmlMode"],e,n)})}function i(e,n=d,t=l(e)){let o=new h(e,n,t),u,I=a.languages.onLanguage(e,async()=>{u=(await E()).setupMode(o)});return{defaults:o,dispose(){I.dispose(),u?.dispose(),u=void 0}}}return F;})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(337587859b1c171314b40503171188b6cea6a32a)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution",["vs/editor/editor.api"],()=>{
var moduleExports=(()=>{var b=Object.create;var l=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var f=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var m=r=>l(r,"__esModule",{value:!0});var i=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,s)=>(typeof require!="undefined"?require:e)[s]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var q=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var u=(r,e,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of y(e))!x.call(r,t)&&t!=="default"&&l(r,t,{get:()=>e[t],enumerable:!(s=v(e,t))||s.enumerable});return r},M=r=>u(m(l(r!=null?b(f(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var g=q((h,p)=>{p.exports=self.monaco});var n={};m(n);u(n,M(g()));var d={},c={},o=class{static getOrCreate(e){return c[e]||(c[e]=new o(e)),c[e]}constructor(e){this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((s,t)=>{this._lazyLoadPromiseResolve=s,this._lazyLoadPromiseReject=t})}whenLoaded(){return this._lazyLoadPromise}load(){return this._loadingTriggered||(this._loadingTriggered=!0,d[this._languageId].loader().then(e=>this._lazyLoadPromiseResolve(e),e=>this._lazyLoadPromiseReject(e))),this._lazyLoadPromise}};function a(r){let e=r.id;d[e]=r,n.languages.register(r);let s=o.getOrCreate(e);n.languages.setMonarchTokensProvider(e,s.whenLoaded().then(t=>t.language)),n.languages.onLanguage(e,()=>{s.load().then(t=>{n.languages.setLanguageConfiguration(e,t.conf)})})}a({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/abap/abap"],r,e)})});a({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/apex/apex"],r,e)})});a({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/azcli/azcli"],r,e)})});a({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/bat/bat"],r,e)})});a({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/bicep/bicep"],r,e)})});a({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/cameligo/cameligo"],r,e)})});a({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/clojure/clojure"],r,e)})});a({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/coffee/coffee"],r,e)})});a({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/cpp/cpp"],r,e)})});a({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/cpp/cpp"],r,e)})});a({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/csharp/csharp"],r,e)})});a({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/csp/csp"],r,e)})});a({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/css/css"],r,e)})});a({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/dart/dart"],r,e)})});a({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/dockerfile/dockerfile"],r,e)})});a({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/ecl/ecl"],r,e)})});a({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/elixir/elixir"],r,e)})});a({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/flow9/flow9"],r,e)})});a({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/fsharp/fsharp"],r,e)})});a({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/go/go"],r,e)})});a({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/graphql/graphql"],r,e)})});a({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/handlebars/handlebars"],r,e)})});a({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/hcl/hcl"],r,e)})});a({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/html/html"],r,e)})});a({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/ini/ini"],r,e)})});a({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/java/java"],r,e)})});a({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/javascript/javascript"],r,e)})});a({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/julia/julia"],r,e)})});a({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/kotlin/kotlin"],r,e)})});a({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/less/less"],r,e)})});a({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/lexon/lexon"],r,e)})});a({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/lua/lua"],r,e)})});a({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/liquid/liquid"],r,e)})});a({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/m3/m3"],r,e)})});a({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/markdown/markdown"],r,e)})});a({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/mips/mips"],r,e)})});a({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/msdax/msdax"],r,e)})});a({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/mysql/mysql"],r,e)})});a({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/objective-c/objective-c"],r,e)})});a({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/pascal/pascal"],r,e)})});a({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/pascaligo/pascaligo"],r,e)})});a({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/perl/perl"],r,e)})});a({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/pgsql/pgsql"],r,e)})});a({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/php/php"],r,e)})});a({id:"pla",extensions:[".pla"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/pla/pla"],r,e)})});a({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/postiats/postiats"],r,e)})});a({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/powerquery/powerquery"],r,e)})});a({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/powershell/powershell"],r,e)})});a({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/protobuf/protobuf"],r,e)})});a({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/pug/pug"],r,e)})});a({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/python/python"],r,e)})});a({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/qsharp/qsharp"],r,e)})});a({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/r/r"],r,e)})});a({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/razor/razor"],r,e)})});a({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/redis/redis"],r,e)})});a({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/redshift/redshift"],r,e)})});a({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/restructuredtext/restructuredtext"],r,e)})});a({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/ruby/ruby"],r,e)})});a({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/rust/rust"],r,e)})});a({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/sb/sb"],r,e)})});a({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/scala/scala"],r,e)})});a({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/scheme/scheme"],r,e)})});a({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/scss/scss"],r,e)})});a({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/shell/shell"],r,e)})});a({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/solidity/solidity"],r,e)})});a({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/sophia/sophia"],r,e)})});a({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/sparql/sparql"],r,e)})});a({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/sql/sql"],r,e)})});a({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/st/st"],r,e)})});a({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/swift/swift"],r,e)})});a({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/systemverilog/systemverilog"],r,e)})});a({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/systemverilog/systemverilog"],r,e)})});a({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/tcl/tcl"],r,e)})});a({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/twig/twig"],r,e)})});a({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/typescript/typescript"],r,e)})});a({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/vb/vb"],r,e)})});a({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/xml/xml"],r,e)})});a({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((r,e)=>{i(["vs/basic-languages/yaml/yaml"],r,e)})});})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/language/typescript/monaco.contribution","vs/language/css/monaco.contribution","vs/language/json/monaco.contribution","vs/language/html/monaco.contribution","vs/basic-languages/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map